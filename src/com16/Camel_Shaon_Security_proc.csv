issue_id,reporter,component,keywords,pre_sum,summary,pre_des,description,des-1,des-2,des-3,des-4,des-5,files,Security
72,Willem Jiang,camel-core,0,FileConfigureTest can't pass in Windows box, FileConfigureTest file configur test pass window box,Because of the File.separator is different between the unix and windows system. So the test can't pass in windows box.I just attached a patch for it. Please have a look at it  I tested it in windows box., file separ file separ differ unix window system system test pass window box box attach patch pleas look test window box box,0,1,0,0,0,camel-core/src/test/java/org/apache/camel/component/file/FileConfigureTest.java;,0
84,Brian McCallister,camel-core,0,Throw Useful Exception on No TypeConverter Available, throw use except No TypeConverter type convert avail,When there is no type converter available an NPE is thrown that requires tracing through sources to find root of problem, no type convert avail NPE thrown requir trace sourc find root problem,0,1,0,0,1,camel-core/src/main/java/org/apache/camel/NoTypeConversionAvailableException.java;camel-core/src/main/java/org/apache/camel/processor/ConvertBodyProcessor.java;,0
100,Aaron Crickenberger,camel-activemq,0,Most recent snapshot requires ActiveMQ, recent snapshot requir ActiveMQ activ MQ,This may be moot given the projects' relationship  but it's a recently introduced side effect. Before the most recent snapshot  I was able to use Camel without any ActiveMQ jar's floating around so long as I never tried to use any 'activemq:queue:foo' URI's. Now with the most recent snapshot  the first time I do something that uses AnnotationTypeCoverterLoader  ActiveMQConverter gets loaded  and then causes a NoClassDefFoundError for ActiveMQDestination., may moot given project project relationship recent introduc side effect effect recent snapshot abl use camel without ActiveMQ activ MQ jar jar float around long never tri use activemq queue foo activemq queue foo URI URI recent snapshot first time someth use AnnotationTypeCoverterLoader annot type covert loader ActiveMQConverter activ MQ convert get load caus NoClassDefFoundError No class def found error ActiveMQDestination activ MQ destin,0,0,0,0,0,tests/camel-partial-classpath-test/pom.xml;tests/camel-partial-classpath-test/src/test/java/org/apache/camel/tests/partialclasspath/RouteTest.java;tests/camel-partial-classpath-test/src/test/resources/log4j.properties;tests/pom.xml;tests/camel-partial-classpath-test/src/test/java/org/apache/camel/tests/partialclasspath/MyBean.java;tests/camel-partial-classpath-test/src/test/java/org/apache/camel/tests/partialclasspath/MyConverter.java;tests/camel-partial-classpath-test/src/test/java/org/apache/camel/tests/partialclasspath/RouteTest.java;tests/camel-partial-classpath-test/src/test/resources/META-INF/services/org/apache/camel/TypeConverter;camel-core/src/main/java/org/apache/camel/impl/DefaultComponentResolver.java;camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;tests/camel-partial-classpath-test/src/test/resources/log4j.properties;,0
112,james strachan,camel-activemq,0,JMSXGroupID is not copied across ActiveMQ endpoints, JMSXGroupID JMSX group ID not copi across ActiveMQ activ MQ endpoint,See thread: http://www.nabble.com/MethodName-in-header-is-ignored-by-beanRef%28%29-tf4285009s22882.html#a12198390, see thread thread,0,0,0,1,0,components/camel-activemq/src/test/java/org/apache/camel/component/activemq/ActiveMQReplyToHeaderUsingConverterTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessage.java;,0
132,james strachan,camel-http,0,enable polling via the http component, enabl poll via http compon,,,0,0,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpPollingConsumer.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpPollingGetTest.java;,0
143,Dejan Predovic,camel-core,0,XPath namespaces configuration not possible through xml, XPath path namespac configur not possibl xml,Xpath xml element offers no way to define namespace mappings., xpath xml element offer no way defin namespac map map,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/xml/XPathBuilder.java;camel-core/src/main/java/org/apache/camel/model/language/ElementAwareExpression.java;camel-core/src/main/java/org/apache/camel/model/language/XPathExpression.java;camel-core/src/main/java/org/apache/camel/spi/ElementAware.java;camel-core/src/test/java/org/apache/camel/builder/xml/XPathWithNamespacesFromDomTest.java;components/camel-spring/src/main/java/org/apache/camel/spring/handler/CamelNamespaceHandler.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringXPathFilterWithNamespaceTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/xpathFilterWithNamespace.xml;camel-core/src/main/java/org/apache/camel/model/language/ExpressionType.java;camel-core/src/main/java/org/apache/camel/model/language/XPathExpression.java;camel-core/src/test/java/org/apache/camel/processor/XPathFilterTest.java;components/camel-spring/src/main/java/org/apache/camel/spring/handler/CamelNamespaceHandler.java;,0
161,Bozhong Lin,null,0,URL link broken in org.apache.camel.Processor API doc, URL link broken org apach camel processor org apach camel processor API doc,'Message Transformer' link is broken., messag messag transform transform link broken broken,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/Processor.java;,0
166,Bozhong Lin,camel-core,0,org.apache.camel.processor.UnitOfWorkWithAsyncFlowTest failure, org apach camel processor UnitOfWorkWithAsyncFlowTest org apach camel processor unit work async flow test failur,Running org.apache.camel.processor.UnitOfWorkWithAsyncFlowTestTests run: 3  Failures: 1  Errors: 0  Skipped: 0  Time elapsed: 20.345 sec &lt;&lt;&lt; FAILURE!This prevents developer from building camel under Linux platform. Thanks!, run org apach camel processor UnitOfWorkWithAsyncFlowTestTests org apach camel processor unit work async flow test test run run failur failur error error skip skip time elaps elaps sec lt lt lt lt lt lt FAILURE FAILURE prevent develop build camel linux platform platform thank thank,0,0,0,0,0,camel-core/pom.xml;camel-core/pom.xml;camel-core/src/test/java/org/apache/camel/processor/UnitOfWorkTest.java;,0
199,Gert Vanthienen,camel-core,0,New converter : Node -> Source, new convert node sourc,Currently  there is no converter from Node -&gt; Source.It is required when using Camel's splitter() functionality inside ServiceMix:from('jbi:service:urn:eu:java:smx:fleetintegrator:camel') .splitter(xpath('/traces/trace')) .to('jbi:endpoint:urn:eu:java:smx:fleetintegrator:jms:mq');, current no convert node gt gt sourc sourc requir use camel camel splitter splitter function insid ServiceMix jbi servic urn eu java smx fleetintegr camel servic mix jbi servic urn eu java smx fleetintegr camel splitter xpath trace trace splitter xpath trace trace jbi endpoint urn eu java smx fleetintegr jm mq jbi endpoint urn eu java smx fleetintegr jm mq,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/test/java/org/apache/camel/converter/JaxpTest.java;,0
210,Roman Kalukiewicz,camel-core,0,exception clause doesn't proceed with pipeline, except claus proceed pipelin,Problem is very similar to CAMEL-191 but this time with exception clause.As exceptions are not cleared pipeline doesn't proceed., problem similar CAMEL CAMEL time except claus claus except not clear pipelin proceed proceed,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/processor/Pipeline.java;camel-core/src/test/java/org/apache/camel/processor/PipelineTest.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java;camel-core/src/test/java/org/apache/camel/issues/ExceptionTest.java;,0
214,james strachan,null,0,the 1.2.0 release didnt' seem to include the javadocs or doc directory (or manual)!, releas didnt didnt seem includ javadoc doc directori manual manual,I wondered if this was due to your machine Hiram having some dodgy maven plugin around or something?, wonder due machin hiram dodgi maven plugin around someth someth,0,0,0,0,0,0,0
224,Arjan Moraal,camel-core,0,Headers lost after XSLT processing, header lost XSLT process,After xslt processing the message headers are lost. See attached unit test  this test fails since revision 590680.http://svn.apache.org/viewvc?view=rev&amp;revision=590680, xslt process messag header lost lost see attach unit test test fail sinc revis http svn apach org viewvc view rev amp revis http svn apach org viewvc view rev amp revis,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/builder/xml/XsltBuilder.java;camel-core/src/main/java/org/apache/camel/builder/xml/XsltBuilder.java;components/camel-juel/src/test/java/org/apache/camel/language/juel/issues/XsltLosesHeaderTest.java;,0
232,Hadrian Zbarcea,camel-core,0,Fix performance counters, fix perform counter,,,0,1,0,0,0,components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiComponentResolver.java;camel-core/src/main/java/org/apache/camel/Route.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/impl/RouteContext.java;camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/ManagedEndpoint.java;camel-core/src/main/java/org/apache/camel/management/ManagedRoute.java;camel-core/src/main/java/org/apache/camel/management/ObjectNameEncoder.java;camel-core/src/main/java/org/apache/camel/model/FromType.java;camel-core/src/main/java/org/apache/camel/model/ResequencerType.java;camel-core/src/main/java/org/apache/camel/model/RouteType.java;camel-core/src/main/java/org/apache/camel/model/RoutesType.java;camel-core/src/main/java/org/apache/camel/spi/LifecycleStrategy.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingDefaultsTest.java;examples/camel-example-spring/src/main/resources/META-INF/spring/camel-context.xml;,0
237,Hadrian Zbarcea,camel-core,0,Upgrade geronimo-specs version to 1.1, upgrad geronimo spec geronimo spec version,from 1.0,,0,1,0,0,0,pom.xml;,0
269,Donatello Santoro,camel-core,0,Add getter method for routeCollection property in RouteBuilder class, add getter method routeCollection rout collect properti RouteBuilder rout builder class,I need to stop a RouteBuilder. A solution for this issue could be access to routeCollection property in RouteBuilder class., need stop RouteBuilder rout builder solut issu could access routeCollection rout collect properti RouteBuilder rout builder class class,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/RouteBuilder.java;,0
275,Freeman Fang,camel-cxf,0,cxf camel transport should support to register itself to the cxf bus automatically, cxf camel transport support regist cxf bu automat,when cxf bus init  all tranports module on the classpath should register itself to the bus automatically.cxf machenism for this is just add a spring bean to describe the transport id and transport factory class mapping per as below&lt;beans xmlns='http://www.springframework.org/schema/beans' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:foo='http://cxf.apache.org/configuration/foo' xsi:schemaLocation=' http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd'&gt; &lt;bean class='org.apache.camel.component.cxf.transport.CamelTransportFactory' lazy-init='true'&gt; &lt;property name='bus' ref='cxf'/&gt; &lt;property name='transportIds'&gt; &lt;list&gt; &lt;value&gt;http://cxf.apache.org/transports/camel&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt;, cxf bu init tranport modul classpath regist bu automat cxf automat cxf machen add spring bean describ transport id transport factori class map per lt bean lt bean xmln http www springframework org schema bean xmln http www springframework org schema bean xmln xsi http www org XMLSchema instanc xmln xsi http www org XML schema instanc xmln foo http cxf apach org configur foo xmln foo http cxf apach org configur foo xsi schemaLocation xsi schema locat lt bean lt bean class org apach camel compon cxf transport CamelTransportFactory class org apach camel compon cxf transport camel transport factori lazi init true gt lazi init true gt lt properti lt properti name bu name bu ref cxf gt ref cxf gt lt properti lt properti name transportIds gt name transport id gt lt list gt lt list gt lt valu gt http cxf apach org transport camel lt valu gt lt valu gt http cxf apach org transport camel lt valu gt lt list gt lt list gt lt properti gt lt properti gt lt bean gt lt bean gt lt bean gt lt bean gt,0,1,1,0,1,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelTransportFactory.java;components/camel-cxf/src/main/resources/META-INF/cxf/cxf-extension-camel.xml;components/camel-cxf/src/main/resources/META-INF/cxf/cxf.extension;components/camel-cxf/src/main/resources/bus-extensions.xml;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/transport/CamelDestinationTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/transport/CamelTestSupport.java;,0
277,Jérôme Delagnes,camel-core,0,[Spring integration] TheadType is missing in org/apache/camel/model/jaxb.index, spring spring integr integr TheadType thead type miss org apach camel model jaxb index org apach camel model jaxb index,TheadType is missing in org/apache/camel/model/jaxb.index =&gt; JAXB don't know how to unmarshall thread.Bug description found in Camel Users forum : http://www.nabble.com/Processor-thread-pool-td13212513s22882.html, TheadType thead type miss org apach camel model jaxb index org apach camel model jaxb index gt gt JAXB know unmarshal thread bug thread bug descript found camel user forum,0,1,0,1,0,camel-core/src/main/resources/org/apache/camel/model/jaxb.index;,0
278,Jérôme Delagnes,camel-spring,0,[Spring integration] Bad urls in META-INF/spring.schemas, spring spring integr integr bad url META INF spring schema META INF spring schema,http/://activemq.apache.org/camel/schema/spring/camel-spring-1.1.xsd becomes http/://activemq.apache.org/camel/schema/spring/camel-spring-1.1.0.xsdhttp/://activemq.apache.org/camel/schema/spring/camel-spring-1.2.xsd becomes http/://activemq.apache.org/camel/schema/spring/camel-spring-1.2.0.xsdThere's no camel-spring-1.1.xsd and camel-spring-1.2.xsd under http://activemq.apache.org/camel/schema/spring/, http activemq apach org camel schema spring camel spring xsd http activemq apach org camel schema spring camel spring xsd becom http activemq apach org camel schema spring camel spring xsdhttp activemq apach org camel schema spring camel spring xsd http activemq apach org camel schema spring camel spring xsdhttp activemq apach org camel schema spring camel spring xsd becom http activemq apach org camel schema spring camel spring xsdThere http activemq apach org camel schema spring camel spring xsd no camel spring xsd camel spring xsd camel spring xsd camel spring xsd,1,1,0,1,0,components/camel-spring/src/main/resources/META-INF/spring.schemas;,0
283,Claus Ibsen,camel-core,0,DeadLetterChannel - logging improvements when exchange handled by dead letter, DeadLetterChannel dead letter channel log improv exchang handl dead letter,The submitted patch have these improvements to the logger in deadletterchannel for delivery attempts outputs exchange id so we can correlate the lines in the log files. now also logs when the exchange could not be delivered and was handled by the failure processer (usually a deadletterchannel) minor issues with existing debug logging when sleeping (now also output millis) to be in line with other similar log lines in CamelI have not outputted the exchange itself (exchange.toString()) when the delivery could not be delivered successfully since there could be sensitive data in the exchange (e.g. an invoice input message) that we do not want to be logged in our log.But I think the logging of the exchange id is a good improvement and that they are aligned in the same position in the logline so it's easier to grep/find in the logs when you investigate and incident., submit patch improv logger deadletterchannel deliveri attempt output exchang id correl line log file file also log exchang could not deliv handl failur process usual deadletterchannel deadletterchannel minor issu exist debug log sleep also output milli milli line similar log line CamelI camel not output exchang exchang toString exchang string deliveri could not deliv success sinc could sensit data exchang invoic input messag messag not want log log log think log exchang id good improv align posit loglin easier grep find grep find log investig incid incid,0,1,0,0,1,camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;,0
286,Wilson Freitas,camel-cxf,0,NullPointerException in CXF routes when there is an endpoint between router and service CXF endpoints, NullPointerException null pointer except CXF rout endpoint router servic CXF endpoint,When an endpoint is added between a cxf router and a cxf service endpoint the message exchange is interrupted by a NullPointerException.Example code:----JAVA-BEGIN---------------------------------------------------------//This code worksfrom(StringUtils.join(cxfRouterURI)).to(StringUtils.join(cxfServiceURI)); // This code crashes (same problem with seda and log endpoints)String anyEndpoint = 'activemq:someQueue';----JAVA-END---------------------------------------------------------from(StringUtils.join(cxfRouterURI)).to(anyEndpoint).to(StringUtils.join(cxfServiceURI)); ----EXCEPTION-BEGIN-----------------------------------09/01/2008 18:32:40 org.apache.cxf.phase.PhaseInterceptorChain doInterceptINFO: Interceptor has thrown exception  unwinding noworg.apache.cxf.interceptor.Fault at org.apache.camel.component.cxf.interceptors.RawMessageContentRedirectInterceptor.handleMessage(RawMessageContentRedirectInterceptor.java:43) at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:207) at org.apache.camel.component.cxf.invoker.CxfClient.invokeWithMessageStream(CxfClient.java:137) at org.apache.camel.component.cxf.invoker.CxfClient.dispatch(CxfClient.java:89) at org.apache.camel.component.cxf.CxfProducer.process(CxfProducer.java:202) at org.apache.camel.component.cxf.CxfProducer.process(CxfProducer.java:152) at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsynProcessorBridge.process(AsyncProcessorTypeConverter.java:44) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:73) at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:143) at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:87) at org.apache.camel.processor.Pipeline.process(Pipeline.java:101) at org.apache.camel.processor.Pipeline.process(Pipeline.java:85) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:40) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:44) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:68) at org.apache.camel.component.cxf.CamelInvoker.invoke(CamelInvoker.java:71) at org.apache.camel.component.cxf.interceptors.AbstractInvokerInterceptor.handleMessage(AbstractInvokerInterceptor.java:65) at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:207) at org.apache.camel.component.cxf.CxfMessageObserver.onMessage(CxfMessageObserver.java:83) at org.apache.cxf.transport.http_jetty.JettyHTTPDestination.serviceRequest(JettyHTTPDestination.java:284) at org.apache.cxf.transport.http_jetty.JettyHTTPDestination.doService(JettyHTTPDestination.java:240) at org.apache.cxf.transport.http_jetty.JettyHTTPHandler.handle(JettyHTTPHandler.java:54) at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:712) at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:211) at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139) at org.mortbay.jetty.Server.handle(Server.java:313) at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:506) at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:844) at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:726) at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211) at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:381) at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:396) at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:442)Caused by: java.lang.NullPointerException at org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:1025) at org.apache.commons.io.IOUtils.copy(IOUtils.java:999) at org.apache.camel.component.cxf.interceptors.RawMessageContentRedirectInterceptor.handleMessage(RawMessageContentRedirectInterceptor.java:39) ... 32 more ----EXCEPTION-END-----------------------------------Known workaround:Change the code like this:----JAVA-BEGIN--------------------------------------------------------- String anyEndpoint = 'activemq:someQueue'; from(StringUtils.join(cxfRouterURI)).process(new Processor(){ public void process(Exchange exchange) throws Exception { exchange.setOut(exchange.getIn()); } }).to(anyEndpoint).to(StringUtils.join(cxfServiceURI));----JAVA-END---------------------------------------------------------, endpoint ad cxf router cxf servic endpoint messag exchang interrupt NullPointerException exampl null pointer except exampl code JAVA BEGIN code JAVA BEGIN code worksfrom StringUtils join cxfRouterURI StringUtils join cxfServiceURI worksfrom string util join cxf router URI string util join cxf servic URI code crash problem seda log endpoint string endpoint string anyEndpoint endpoint activemq someQueue JAVA END StringUtils join cxfRouterURI anyEndpoint StringUtils join cxfServiceURI activemq queue JAVA END string util join cxf router URI endpoint string util join cxf servic URI EXCEPTION BEGIN EXCEPTION BEGIN org apach cxf phase PhaseInterceptorChain org apach cxf phase phase interceptor chain doInterceptINFO intercept INFO interceptor thrown except unwind noworg apach cxf interceptor fault noworg apach cxf interceptor fault org apach camel compon cxf interceptor RawMessageContentRedirectInterceptor handleMessage RawMessageContentRedirectInterceptor java org apach camel compon cxf interceptor raw messag content redirect interceptor handl messag raw messag content redirect interceptor java org apach cxf phase PhaseInterceptorChain doIntercept PhaseInterceptorChain java org apach cxf phase phase interceptor chain intercept phase interceptor chain java org apach camel compon cxf invok CxfClient invokeWithMessageStream CxfClient java org apach camel compon cxf invok cxf client invok messag stream cxf client java org apach camel compon cxf invok CxfClient dispatch CxfClient java org apach camel compon cxf invok cxf client dispatch cxf client java org apach camel compon cxf CxfProducer process CxfProducer java org apach camel compon cxf cxf produc process cxf produc java org apach camel compon cxf CxfProducer process CxfProducer java org apach camel compon cxf cxf produc process cxf produc java org apach camel impl convert AsyncProcessorTypeConverter ProcessorToAsynProcessorBridge process AsyncProcessorTypeConverter java org apach camel impl convert async processor type convert processor asyn processor bridg process async processor type convert java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel processor DeadLetterChannel process DeadLetterChannel java org apach camel processor dead letter channel process dead letter channel java org apach camel processor DeadLetterChannel process DeadLetterChannel java org apach camel processor dead letter channel process dead letter channel java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel compon cxf CamelInvoker invok CamelInvoker java org apach camel compon cxf camel invok invok camel invok java org apach camel compon cxf interceptor AbstractInvokerInterceptor handleMessage AbstractInvokerInterceptor java org apach camel compon cxf interceptor abstract invok interceptor handl messag abstract invok interceptor java org apach cxf phase PhaseInterceptorChain doIntercept PhaseInterceptorChain java org apach cxf phase phase interceptor chain intercept phase interceptor chain java org apach camel compon cxf CxfMessageObserver onMessage CxfMessageObserver java org apach camel compon cxf cxf messag observ messag cxf messag observ java org apach cxf transport http_jetty JettyHTTPDestination serviceRequest JettyHTTPDestination java org apach cxf transport http_jetty jetti HTTP destin servic request jetti HTTP destin java org apach cxf transport http_jetty JettyHTTPDestination doService JettyHTTPDestination java org apach cxf transport http_jetty jetti HTTP destin servic jetti HTTP destin java org apach cxf transport http_jetty JettyHTTPHandler handl JettyHTTPHandler java org apach cxf transport http_jetty jetti HTTP handler handl jetti HTTP handler java org mortbay jetti handler ContextHandler handl ContextHandler java org mortbay jetti handler context handler handl context handler java org mortbay jetti handler ContextHandlerCollection handl ContextHandlerCollection java org mortbay jetti handler context handler collect handl context handler collect java org mortbay jetti handler HandlerWrapper handl HandlerWrapper java org mortbay jetti handler handler wrapper handl handler wrapper java org mortbay jetti server handl server java org mortbay jetti server handl server java org mortbay jetti HttpConnection handleRequest HttpConnection java org mortbay jetti http connect handl request http connect java org mortbay jetti HttpConnection RequestHandler content HttpConnection java org mortbay jetti http connect request handler content http connect java org mortbay jetti HttpParser parseNext HttpParser java org mortbay jetti http parser pars next http parser java org mortbay jetti HttpParser parseAvailable HttpParser java org mortbay jetti http parser pars avail http parser java org mortbay jetti HttpConnection handl HttpConnection java org mortbay jetti http connect handl http connect java org mortbay io nio SelectChannelEndPoint run SelectChannelEndPoint java org mortbay io nio select channel end point run select channel end point java org mortbay thread BoundedThreadPool PoolThread run BoundedThreadPool java caus org mortbay thread bound thread pool pool thread run bound thread pool java caus java lang NullPointerException java lang null pointer except org apach common io IOUtils copyLarge IOUtils java org apach common io IO util copi larg IO util java org apach common io IOUtils copi IOUtils java org apach common io IO util copi IO util java org apach camel compon cxf interceptor RawMessageContentRedirectInterceptor handleMessage RawMessageContentRedirectInterceptor java org apach camel compon cxf interceptor raw messag content redirect interceptor handl messag raw messag content redirect interceptor java EXCEPTION END known EXCEPTION END known workaround chang workaround chang code like JAVA BEGIN JAVA BEGIN string anyEndpoint endpoint activemq someQueue activemq queue StringUtils join cxfRouterURI process new string util join cxf router URI process new processor processor public void process exchang process exchang exchang exchang throw except exchang setOut exchang getIn exchang set exchang get anyEndpoint StringUtils join cxfServiceURI JAVA END endpoint string util join cxf servic URI JAVA END,1,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfExchange.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfMessage.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfPayLoadMessageRouterTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfRawMessageRouterTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfRouterTest.java;,0
288,Willem Jiang,camel-core,0,support to set the aggregation stragey of multicastProcessor, support set aggreg stragey multicastProcessor multicast processor,I have a use case   the router configuration could like this from('direct:a').multicast().to('direct:x'  'direct:y'  'direct:z');  from('direct:x').process(new AppendingProcessor('x')).to('direct:aggregater'); from('direct:y').process(new AppendingProcessor('y')).to('direct:aggregater'); from('direct:z').process(new AppendingProcessor('z')).to('direct:aggregater'); from('direct:aggregater').aggregator(header('cheese')  new BodyAggregatingStrategy()). completedPredicate(header('aggregated').isEqualTo(3)).to('mock:result');Now I send the message to endpoint 'direct:a' and I want to get the final result of the processors.And this requirement is much like the CAMEL-260., use case router configur could like direct multicast direct direct multicast direct direct direct direct direct direct process new direct process new AppendingProcessor direct aggregat append processor direct aggregat direct process new direct process new AppendingProcessor direct aggregat append processor direct aggregat direct process new direct process new AppendingProcessor direct aggregat append processor direct aggregat direct aggregat aggreg header chees direct aggregat aggreg header chees new BodyAggregatingStrategy bodi aggreg strategi completedPredicate header aggreg isEqualTo mock result complet predic header aggreg equal mock result send messag endpoint direct direct want get final result processor processor requir much like CAMEL CAMEL,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/MulticastType.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/model/SplitterType.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/Splitter.java;camel-core/src/test/java/org/apache/camel/processor/MultiCastAggregatorTest.java;camel-core/src/test/java/org/apache/camel/processor/SplitterTest.java;,0
291,Przemyslaw Budzik,camel-core,0,MulticastRecipientList - recipient list that uses multicast processor, MulticastRecipientList multicast recipi list recipi list use multicast processor,Probably it would be useful to have recipientList that in InOut mode doesn't work as a pipeline. I faced that problem  however InOnly is ok. It seems in InOut it reminds of RoutingSlip. Optionally we could use MulticastProcessor to process 'recipients'. If you think it makes sense  attached patch enhances camel-core with such feature., probabl would use recipientList recipi list InOut mode work pipelin pipelin face problem howev InOnly ok ok seem InOut remind RoutingSlip rout slip option could use MulticastProcessor multicast processor process recipi recipi think make sens attach patch enhanc camel core camel core featur featur,0,1,0,0,0,0,0
298,Christian Schneider,camel-core,0,Remove tangle between impl and impl.converter, remov tangl impl impl convert impl convert,Currently impl and impl.converter reference each other. If possible such cycles should be avoided.When I looked into it I found that impl.converter references only a single class CachingInjector. No other class in camel-core seems to use this class. So my suggestion is to move CachingInjector to impl.converter. So the cycle i removed. As far as I can see this should cause no ther issues., current impl impl convert impl convert refer possibl cycl avoid avoid look found impl convert impl convert refer singl class CachingInjector cach injector No class camel core camel core seem use class class suggest move CachingInjector cach injector impl convert impl convert cycl remov remov far see caus no ther issu issu,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/CachingInjector.java;camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/converter/CachingInjector.java;camel-core/src/main/java/org/apache/camel/impl/converter/InstanceMethodTypeConverter.java;,0
304,Roman Kalukiewicz,camel-http,0,Multithreaded HTTP invocations doesn't work, multithread HTTP invoc work,Description of the bug:http://www.nabble.com/Multithreaded-http-endpoint-to13646722s22882.html#a13646722, descript bug http www nabbl com multithread http endpoint html bug http www nabbl com multithread http endpoint html,0,0,0,1,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/test/java/org/apache/camel/component/http/MultiThreadedHttpGetTest.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpEndpoint.java;,0
320,Aaron Crickenberger,camel-core,0,DefaultParameterMappingStrategy doesn't load its defaults, DefaultParameterMappingStrategy default paramet map strategi load default,This is preventing BeanProcessor from using bean methods with a Message parameter  or bean methods not named 'process' that have an Exchange as their parameter. For example  to map to a Message the it tries using the ParameterExpression bodyAs(Message.class) instead of inmessageExpression()., prevent BeanProcessor bean processor use bean method messag paramet bean method not name process process exchang paramet paramet exampl map messag tri use ParameterExpression paramet express bodyAs messag class bodi messag class instead inmessageExpression inmessag express,0,1,0,0,0,0,0
323,Claus Ibsen,null,0,spring-2.5.1.jar is twice in the camel distro, spring jar spring jar twice camel distro,I downloaded the latest snapshot apache-camel-1.3-20080210.022044-67.zip fromhttp://people.apache.org/repo/m2-snapshot-repository/org/apache/camel/apache-camel/1.3-SNAPSHOT/The .zip file contains spring-2.5.1.jar twice/camel/lib/camel/lib/optionalIs Spring both mandatory and optional?And btw it includes an old version of commons-logging-1.0.4.jar. v1.1 of commons logging is out., download latest snapshot apach camel zip apach camel zip fromhttp peopl apach org repo snapshot repositori org apach camel apach camel SNAPSHOT fromhttp peopl apach org repo snapshot repositori org apach camel apach camel SNAPSHOT zip file contain spring jar spring jar twice camel lib camel lib optionalIs twice camel lib camel lib option spring mandatori option option btw includ old version common log jar common log jar common log,0,1,0,0,0,0,0
324,Alex Cichowski,camel-http,0,bad content length header value in http response, bad content length header valu http respons,By default HttpBinding class copies all request header attributes from the request to the response including 'Content-Length'. So the consequence is that the response is declaring the same size as the request which can lead to serious truncation problems! the workaround is simply to add the line:out.removeHeader('Content-Length'); in the writeResponse method of the httpbinding class allowing jetty to set the right value., default HttpBinding http bind class copi request header attribut request respons includ content length content length consequ respons declar size request lead seriou truncat problem problem workaround simpli add line removeHeader content length line remov header content length writeResponse write respons method httpbind class allow jetti set right valu valu,0,1,0,1,0,0,0
335,Lars Heinemann,camel-mail,0,Mail component is missing some configuration possibilities, mail compon miss configur possibl,It should be possible to configure the behaviour of the mail component. see thread: http://www.nabble.com/Problem-with-Camel-Mail-Component-in-Route-td15497818s12049.html#a15497818, possibl configur behaviour mail compon compon see thread thread,0,0,0,0,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailEndpoint.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailUtils.java;components/camel-mail/src/main/resources/META-INF/services/org/apache/camel/component/imaps;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailComponentTest.java;components/camel-mail/pom.xml;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailUtils.java;components/camel-mail/pom.xml;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailComponentTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailMessageTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailRouteTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMessageConsumeTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MultipleDestinationConsumeTest.java;components/camel-mail/src/test/resources/log4j.properties;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailSubjectTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/JavaMailConnection.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailEndpoint.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailMessage.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailProducer.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailUtils.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MessageHeaderAccessException.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MessageHeaderNamesAccessException.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/RuntimeMailException.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/InvalidConfigurationTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailProcessOnlyUnseenMessagesTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailRouteTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailSubjectTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMessageConsumeTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MultipleDestinationConsumeTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailComponentTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailFetchSizeTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailFetchSizeZeroTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConverters.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailProcessOnlyUnseenMessagesTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailMessage.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailUtils.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailProcessOnlyUnseenMessagesTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMessageConsumeTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailMessage.java;components/camel-mail/src/test/data/logo.jpeg;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailAttachmentTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailEndpoint.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailProducer.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailComponentTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailSubjectTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/JavaMailConnection.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MessageHeaderAccessException.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MessageHeaderNamesAccessException.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/RuntimeMailException.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/InvalidConfigurationTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailComponentTest.java;,0
340,Claus Ibsen,camel-mina,0,Mina TCP does not support InOut pattern, mina TCP not support InOut pattern,See this thread:http://www.nabble.com/camel-mina-TCP-InOut-exchange-td15530602s22882.htmlThis builder does not support InOut when a client send a textline to localhost:8888.The client never receives a response.url = 'mina:tcp://localhost:8888?textline=true';from(uri).process(new Processor() { public void process(Exchange e) { String in = e.getIn().getBody(String.class); // append newline at end to denote end of data for textline codec e.getOut().setBody('Hello ' + in + '/n'); } });Attached is a patch that fixes this by introducing a new parameter to the URL for fluent builder sync=true (ie is there a better name?)Using this url instead and the patch then Camel will send a response back to the client:mina:tcp://localhost:8888?textline=true&amp;sync=true, see thread http www nabbl com camel mina TCP InOut exchang td htmlThis thread http www nabbl com camel mina TCP exchang td html builder not support InOut client send textlin localhost localhost client never receiv respons url respons url mina tcp localhost textlin true uri process new mina tcp localhost textlin true uri process new processor processor public void process exchang process exchang string getIn getBody string class get get bodi string class append newlin end denot end data textlin codec getOut setBody hello get set bodi hello attach attach patch fix introduc new paramet URL fluent builder sync true sync true ie better name use name use url instead patch camel send respons back client mina tcp localhost textlin true amp sync true client mina tcp localhost textlin true amp sync true,0,1,1,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithInOutUsingPlainSocketTest.java;,0
356,Claus Ibsen,camel-mina,0,Synchronous mode should handle exceptions being thrown from MINA, synchron mode handl except thrown MINA,Camel MINA in synchronous mode (InOut exchange pattern) does not handle exception thrown from MINA. Currently MINA intercepts this and logs the exception at WARN level.We should override the proper method in Mina and handle it so the end user can deal with it.Also it has been raisen on the forum that it does not propogate header and other properties. This should be raised in another ticket.In the weekend I will work on a patch for Camel to fix this problem., camel MINA synchron mode InOut exchang pattern pattern not handl except thrown MINA MINA current MINA intercept log except WARN level level overrid proper method mina handl end user deal also also raisen forum not propog header properti properti rais anoth ticket ticket weekend work patch camel fix problem problem,0,1,0,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithInOutUsingPlainSocketTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithInOutUsingPlainSocketTest.java;components/camel-mina/pom.xml;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaEndpoint.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaConverterTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaMulticastTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithInOutUsingPlainSocketTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaUdpTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaUdpUsingTemplateTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaUdpWithInOutUsingPlainSocketTest.java;components/camel-mina/src/test/resources/log4j.properties;,0
362,Hadrian Zbarcea,camel-mina,0,camel-mina: allowing the lazy creation of a connection, camel mina camel mina allow lazi creation connect,In the current implementation with a mina component producer if the server is not up when we start Camel it fails. This is because the mina session creation is in the doStart method which is called when Camel starts.A simple solution is to optionally allow to lazily create the session just before sending the exchange in the Producer's process method., current implement mina compon produc server not start camel fail fail mina session creation doStart start method call camel start start simpl solut option allow lazili creat session send exchang produc produc process method method,0,0,0,0,0,0,0
363,Marc Giger,camel-cxf,0,camel-cxf component can't deal with the exception message in MESSAGE dataFormat, camel cxf camel cxf compon deal except messag MESSAGE dataFormat data format,From: Willem JiangTo: camel-user@activemq.apache.orgSubject: Re: camel-cxf throwing a faultDate: Wed  05 Mar 2008 16:26:41 +0800Reply-To: camel-user@activemq.apache.orgHi Marc It looks like camel-cxf component's issue which can't deal with the exception message in MESSAGE dataFormat.Could you fill a JIRA for it ? I will fix it later this week.As usual  you just need throw the exception from the processor   CXF will try to marshal it into a soap fault.Regards WillemMarc Giger wrote:&gt; Hi &gt;&gt; I'm trying to get the following camel route working where the&gt; dataformat is MESSAGE.&gt;&gt; &lt;from uri='cxf:bean:routerEndpoint?dataFormat=MESSAGE'/&gt; &gt; &lt;process ref='decryptProcessor'/&gt; &gt; &lt;choice&gt;&gt; &lt;when&gt; &gt; &lt;methodCall bean='endpointSelector' method='matches'/&gt;&gt; &lt;to uri='cxf:bean:serviceEndpoint?dataFormat=MESSAGE'/&gt; &gt; &lt;/when&gt;&gt; &lt;otherwise&gt; &gt; &lt;to uri='cxf:bean:localEndpoint?dataFormat=MESSAGE'/&gt; &gt; &lt;/otherwise&gt;&gt; &lt;/choice&gt; &gt;&gt; if the endpointSelector bean returns true the request is redirected to&gt; a remote webservice.&gt; otherwise the request is forwarded to a local cxf service (with&gt; local-transport)&gt;&gt; Now  if I invoke the routerEndpoint and somewhere in the pipeline&gt; happens an exception (in my case in the decryptProcessor)  I get the&gt; following Exception in the outFault chain:&gt;&gt; Mar 4  2008 10:48:35 PM org.apache.cxf.phase.PhaseInterceptorChain&gt; doIntercept INFO: Interceptor has thrown exception  unwinding now&gt; org.apache.cxf.interceptor.Fault&gt; at&gt; org.apache.camel.component.cxf.interceptors.RawMessageContentRedirectInterceptor.handleMessage(RawMessageContentRedirectInterceptor.java:43)&gt; at&gt; org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:208)&gt; at&gt; org.apache.cxf.interceptor.OutgoingChainInterceptor.handleMessage(OutgoingChainInterceptor.java:74)&gt; at&gt; org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:208)&gt; at&gt; org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:77)&gt; at&gt; org.apache.cxf.transport.servlet.ServletDestination.doMessage(ServletDestination.java:79)&gt; at&gt; org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:264)&gt; at&gt; org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:160)&gt; at&gt; org.apache.cxf.transport.servlet.AbstractCXFServlet.invoke(AbstractCXFServlet.java:170)&gt; at&gt; org.apache.cxf.transport.servlet.AbstractCXFServlet.doPost(AbstractCXFServlet.java:148)&gt; at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) at&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:820) at&gt; org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)&gt; at&gt; org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)&gt; at&gt; org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)&gt; at&gt; org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)&gt; at&gt; org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:712)&gt; at&gt; org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)&gt; at&gt; org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:211)&gt; at&gt; org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)&gt; at&gt; org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)&gt; at org.mortbay.jetty.Server.handle(Server.java:313) at&gt; org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:506)&gt; at&gt; org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:844)&gt; at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:644) at&gt; org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211) at&gt; org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:381) at&gt; org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:396)&gt; at&gt; org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:442)&gt; Caused by: java.lang.NullPointerException at&gt; org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:1025) at&gt; org.apache.commons.io.IOUtils.copy(IOUtils.java:999) at&gt; org.apache.camel.component.cxf.interceptors.RawMessageContentRedirectInterceptor.handleMessage(RawMessageContentRedirectInterceptor.java:39) ...&gt; 28 more&gt;&gt; This is because the InputStream is null in&gt; RawMessageContentRedirectInterceptor:&gt;&gt; public void handleMessage(Message message) throws Fault {&gt;&gt; InputStream is = message.getContent(InputStream.class);&gt; OutputStream os = message.getContent(OutputStream.class);&gt; &gt; try { &gt; IOUtils.copy(is  os);&gt; is.close();&gt; os.flush();&gt; } catch (Exception e) {&gt; throw new Fault(e);&gt; }&gt; }&gt;&gt; How can I return a custom soap-fault in a processor/filter?&gt;&gt; Thanks &gt;&gt; Marc&gt;&gt;, willem JiangTo jiang camel user activemq apach orgSubject camel user activemq apach org subject camel cxf camel cxf throw faultDate fault date wed mar repli repli camel user activemq apach orgHi camel user activemq apach org Hi marc look like camel cxf camel cxf compon compon issu deal except messag MESSAGE dataFormat could data format could fill JIRA fix later week week usual need throw except processor CXF tri marshal soap fault regard fault regard WillemMarc willem marc giger wrote gt wrote gt Hi gt gt gt gt tri get follow camel rout work gt gt dataformat MESSAGE gt gt MESSAGE gt gt lt lt uri cxf bean routerEndpoint dataFormat MESSAGE gt uri cxf bean router endpoint data format MESSAGE gt gt gt lt process lt process ref decryptProcessor gt ref decrypt processor gt gt gt lt choic gt gt lt choic gt gt lt gt lt gt gt gt lt methodCall lt method call bean endpointSelector bean endpoint selector method match gt gt method match gt gt lt lt uri cxf bean serviceEndpoint dataFormat MESSAGE gt uri cxf bean servic endpoint data format MESSAGE gt gt gt lt gt gt lt gt gt lt otherwis gt lt otherwis gt gt gt lt lt uri cxf bean localEndpoint dataFormat MESSAGE gt uri cxf bean local endpoint data format MESSAGE gt gt gt lt otherwis gt gt lt otherwis gt gt lt choic gt lt choic gt gt gt gt gt endpointSelector endpoint selector bean return true request redirect gt gt remot webservic gt webservic gt otherwis request forward local cxf servic gt gt local transport gt gt local transport gt gt invok routerEndpoint router endpoint somewher pipelin gt pipelin gt happen except case decryptProcessor decrypt processor get gt gt follow except outFault fault chain gt gt chain gt gt mar PM org apach cxf phase PhaseInterceptorChain gt org apach cxf phase phase interceptor chain gt doIntercept intercept INFO INFO interceptor thrown except unwind gt gt org apach cxf interceptor fault gt org apach cxf interceptor fault gt gt gt org apach camel compon cxf interceptor RawMessageContentRedirectInterceptor handleMessage RawMessageContentRedirectInterceptor java gt org apach camel compon cxf interceptor raw messag content redirect interceptor handl messag raw messag content redirect interceptor java gt gt gt org apach cxf phase PhaseInterceptorChain doIntercept PhaseInterceptorChain java gt org apach cxf phase phase interceptor chain intercept phase interceptor chain java gt gt gt org apach cxf interceptor OutgoingChainInterceptor handleMessage OutgoingChainInterceptor java gt org apach cxf interceptor outgo chain interceptor handl messag outgo chain interceptor java gt gt gt org apach cxf phase PhaseInterceptorChain doIntercept PhaseInterceptorChain java gt org apach cxf phase phase interceptor chain intercept phase interceptor chain java gt gt gt org apach cxf transport ChainInitiationObserver onMessage ChainInitiationObserver java gt org apach cxf transport chain initi observ messag chain initi observ java gt gt gt org apach cxf transport servlet ServletDestination doMessage ServletDestination java gt org apach cxf transport servlet servlet destin messag servlet destin java gt gt gt org apach cxf transport servlet ServletController invokeDestination ServletController java gt org apach cxf transport servlet servlet control invok destin servlet control java gt gt gt org apach cxf transport servlet ServletController invok ServletController java gt org apach cxf transport servlet servlet control invok servlet control java gt gt gt org apach cxf transport servlet AbstractCXFServlet invok AbstractCXFServlet java gt org apach cxf transport servlet abstract CXF servlet invok abstract CXF servlet java gt gt gt org apach cxf transport servlet AbstractCXFServlet doPost AbstractCXFServlet java gt org apach cxf transport servlet abstract CXF servlet post abstract CXF servlet java gt javax servlet http HttpServlet servic HttpServlet java javax servlet http http servlet servic http servlet java gt gt javax servlet http HttpServlet servic HttpServlet java javax servlet http http servlet servic http servlet java gt gt org mortbay jetti servlet ServletHolder handl ServletHolder java gt org mortbay jetti servlet servlet holder handl servlet holder java gt gt gt org mortbay jetti servlet ServletHandler handl ServletHandler java gt org mortbay jetti servlet servlet handler handl servlet handler java gt gt gt org mortbay jetti secur SecurityHandler handl SecurityHandler java gt org mortbay jetti secur secur handler handl secur handler java gt gt gt org mortbay jetti servlet SessionHandler handl SessionHandler java gt org mortbay jetti servlet session handler handl session handler java gt gt gt org mortbay jetti handler ContextHandler handl ContextHandler java gt org mortbay jetti handler context handler handl context handler java gt gt gt org mortbay jetti webapp WebAppContext handl WebAppContext java gt org mortbay jetti webapp web app context handl web app context java gt gt gt org mortbay jetti handler ContextHandlerCollection handl ContextHandlerCollection java gt org mortbay jetti handler context handler collect handl context handler collect java gt gt gt org mortbay jetti handler HandlerCollection handl HandlerCollection java gt org mortbay jetti handler handler collect handl handler collect java gt gt gt org mortbay jetti handler HandlerWrapper handl HandlerWrapper java gt org mortbay jetti handler handler wrapper handl handler wrapper java gt org mortbay jetti server handl server java org mortbay jetti server handl server java gt gt org mortbay jetti HttpConnection handleRequest HttpConnection java gt org mortbay jetti http connect handl request http connect java gt gt gt org mortbay jetti HttpConnection RequestHandler content HttpConnection java gt org mortbay jetti http connect request handler content http connect java gt org mortbay jetti HttpParser parseNext HttpParser java org mortbay jetti http parser pars next http parser java gt gt org mortbay jetti HttpParser parseAvailable HttpParser java org mortbay jetti http parser pars avail http parser java gt gt org mortbay jetti HttpConnection handl HttpConnection java org mortbay jetti http connect handl http connect java gt gt org mortbay io nio SelectChannelEndPoint run SelectChannelEndPoint java gt org mortbay io nio select channel end point run select channel end point java gt gt gt org mortbay thread BoundedThreadPool PoolThread run BoundedThreadPool java gt org mortbay thread bound thread pool pool thread run bound thread pool java gt caus java lang NullPointerException java lang null pointer except gt gt org apach common io IOUtils copyLarge IOUtils java org apach common io IO util copi larg IO util java gt gt org apach common io IOUtils copi IOUtils java org apach common io IO util copi IO util java gt gt org apach camel compon cxf interceptor RawMessageContentRedirectInterceptor handleMessage RawMessageContentRedirectInterceptor java org apach camel compon cxf interceptor raw messag content redirect interceptor handl messag raw messag content redirect interceptor java gt gt gt gt gt gt InputStream input stream null gt gt RawMessageContentRedirectInterceptor gt gt raw messag content redirect interceptor gt gt public void handleMessage messag handl messag messag messag messag throw fault gt gt gt gt InputStream input stream messag getContent InputStream class gt messag get content input stream class gt OutputStream output stream os messag getContent OutputStream class gt messag get content output stream class gt gt gt tri gt gt IOUtils copi IO util copi os gt os gt close gt close gt os flush gt os flush gt catch except except gt gt throw new fault gt fault gt gt gt gt gt gt gt return custom soap fault soap fault processor filter gt gt processor filter gt gt thank gt gt gt gt marc gt gt marc gt gt,1,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/feature/MessageDataFormatFeature.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/FakeBindingOperationInfo.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/FaultOutInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/RawMessageContentRedirectInterceptor.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfCustmerizedExceptionTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfMessageCustomizedExceptionTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfPayLoadCustomizedExceptionTest.java;,0
370,Chris Custine,camel-ftp,0,SftpConsumer is not connecting and retrieving remote files, SftpConsumer sftp consum not connect retriev remot file,SftpConsumer does not connect to server due to patch for CAMEL-251. The SftpConsumer also checks remote file modification timestamp against last poll timestamp but incorrectly converts seconds to milliseconds using integer math so the resulting conversion is always negative and will never retrieve file. I will attach the fixes to this issue., SftpConsumer sftp consum not connect server due patch CAMEL CAMEL SftpConsumer sftp consum also check remot file modif timestamp last poll timestamp incorrectli convert second millisecond use integ math result convers alway neg never retriev file file attach fix issu issu,0,1,0,0,0,0,0
371,Claus Ibsen,camel-mina,0,Mina Producer should have configurable timeout, mina produc configur timeout,Currently the camel mina producer (MinaProducer) defaults to have a 10 sec timeout.This is currently not possible to configured eg from the URL parameters etc.Also we should documented on the wiki that 10 sec. is default., current camel mina produc MinaProducer mina produc default sec timeout timeout current not possibl configur eg URL paramet etc also etc also document wiki sec sec default default,0,1,0,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaEndpoint.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaComponentTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaExchangeTimeOutTest.java;,0
374,David White,camel-http; camel-jetty,0,HttpBinding.writeResponse doesn't set the response status code (i.e. it's always 200), HttpBinding writeResponse http bind write respons set respons statu code alway,When writing out an Http response  the HttpBinding should check for the existing of the header HttpProducer.HTTP_RESPONSE_CODE and set it in the response if it's there. This allows requests made via the http component to be output with the correct status code info. If also allows processors in the flow to control the status code by setting the header themselves., write http respons HttpBinding http bind check exist header HttpProducer HTTP_RESPONSE_CODE http produc HTTP RESPONSE CODE set respons allow request made via http compon output correct statu code info info also allow processor flow control statu code set header,0,1,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpBinding.java;,0
375,Claus Ibsen,camel-mina,0,camel-mina improvements, camel mina camel mina improv,This ticket holds reference to the various camel-mina improvments and bugfixes lately., ticket hold refer variou camel mina camel mina improv bugfix late late,0,1,0,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaEndpoint.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaExchange.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaExchangeTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithIoOutProcessorExceptionTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaUdpWithInOutUsingPlainSocketTest.java;,0
384,Marc Giger,camel-cxf,0,Support for a full customized soap-fault incl. fault-code and detail, support full custom soap fault soap fault incl incl fault code fault code detail,Don't wrap a Fault in a Fault., wrap fault fault fault,0,1,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CamelInvoker.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/PayloadContentRedirectInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/RawMessageContentRedirectInterceptor.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfCustmerizedExceptionTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfPayLoadCustomizedExceptionTest.java;,0
389,Willem Jiang,camel-core,0,Parallel processing route, parallel process rout,Adding the support of this user story CXF Consumer -&gt; Route ---&gt; parallelly send messages and recieve responses---&gt; aggregate response --&gt; further process ----&gt; returnHere is more information about this story &#91;1&#93;http://www.nabble.com/Parallel-processing-route-td15642110.html#a15642110, ad support user stori CXF consum gt gt rout gt gt parallelli send messag reciev respons gt respons gt aggreg respons gt gt process gt gt returnHere return inform stori http www nabbl com parallel process rout td html http www nabbl com parallel process rout td html,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/MulticastType.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/ThreadProcessor.java;camel-core/src/test/java/org/apache/camel/processor/MultiCastAggregatorTest.java;,0
394,Claus Ibsen,camel-mina,0,Improve logging for camel-mina, improv log camel mina camel mina,Currently camel-mina does not log using similar log classnames for a MinaProducer and MinaConsumer. This can be a bit misleading in the log files.MinaConsumer uses an anonymous inner class to do the IoHandler where as MinaProducer does not. This renders the loglines such asMinaConsumer$1 - XXXMinaProducer$RecieveHandler - XXXMinaConsumer should use a non anonymous inner classes so logging is the same:MinaConsumer$RecieveHandler - XXXMinaProducer$ResponseHandler - XXX, current camel mina camel mina not log use similar log classnam MinaProducer mina produc MinaConsumer mina consum bit mislead log file MinaConsumer file mina consum use anonym inner class IoHandler Io handler MinaProducer mina produc not not render loglin asMinaConsumer mina consum XXXMinaProducer RecieveHandler XXX mina produc reciev handler XXXMinaConsumer XXX mina consum use non anonym inner class log MinaConsumer RecieveHandler mina consum reciev handler XXXMinaProducer ResponseHandler XXX mina produc respons handler XXX,0,0,0,0,0,components/camel-mina/pom.xml;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaEndpoint.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaHelper.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaLoggerOptionTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaProducerShutdownMockTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaProducerShutdownTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithInOutTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithInOutUsingPlainSocketTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTransferExchangeOptionTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/ReverseProtocolHandler.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/ReverserServer.java;,0
395,Claus Ibsen,camel-mina,0,MinaProducer waits for MINA worker thread to timeout when stopping JVM from standalone client, MinaProducer mina produc wait MINA worker thread timeout stop JVM standalon client,I was working on a camel-mina-example sample that starts a MinaProducer to send data to a TCP server. When my sample terminates the JVM it waits 60 seconds until the MINA worker threads times out (default 60 sec).As a workaround using System.exit(0) will terminate my client JVM immediately. And running my client as a JUnit tests will also in fact terminate the JVM immediately.The code below demonstrates this: Running as JUnit runs within a few seconds. Run it as a standard java main app and it terminates after 60+ secondsThe code is a test I am working on for the patch to fix it. (I got it fixed but I want a better unit test)public class MinaProducerTest extends ContextTestSupport { public static void main(String[] args) throws Exception { MinaProducerTest test = new MinaProducerTest(); test.producerRunningFromMain(); } private void producerRunningFromMain() throws Exception { long start = System.currentTimeMillis(); System.out.println('+++ start +++'); context = new DefaultCamelContext(); context.addRoutes(createRouteBuilder()); context.start(); testProducer(); context.stop(); System.out.println('+++ stop +++'); long end = System.currentTimeMillis(); assertTrue('Should stop within 5 seconds'  end - start &lt; 5000); // TODO: add shutdown hook to verify that its stopped before 5 seconds  or mocks  } private static final String uri = 'mina:tcp://localhost:6321?textline=true'; protected RouteBuilder createRouteBuilder() { return new RouteBuilder() { public void configure() { from(uri).to('mock:result'); } }; } public void testProducer() throws Exception { MockEndpoint mock = getMockEndpoint('mock:result'); mock.expectedBodiesReceived('Hello World'); Endpoint endpoint = context.getEndpoint(uri); Producer producer = endpoint.createProducer(); Exchange exchange = endpoint.createExchange(); exchange.getIn().setBody('Hello World'); producer.start(); producer.process(exchange); producer.stop(); assertMockEndpointsSatisifed(); } // TODO: Test using mocks requires many codelines to mock all the producer  endpoints etc.}, work camel mina exampl camel mina exampl sampl start MinaProducer mina produc send data TCP server server sampl termin JVM wait second MINA worker thread time default sec sec workaround use system exit system exit termin client JVM immedi immedi run client JUnit unit test also fact termin JVM immedi immedi code demonstr run JUnit unit run within second second run standard java main app termin secondsThe second code test work patch fix got fix want better unit test public test public class MinaProducerTest mina produc test extend ContextTestSupport context test support public static void main string main string arg arg throw except MinaProducerTest mina produc test test new MinaProducerTest mina produc test test producerRunningFromMain test produc run main privat void producerRunningFromMain produc run main throw except long start system currentTimeMillis system current time milli system println system println start context new DefaultCamelContext default camel context context addRoutes createRouteBuilder context add rout creat rout builder context start context start testProducer test produc context stop context stop system println system println stop long end system currentTimeMillis system current time milli assertTrue assert true stop within second second end start lt lt TODO TODO add shutdown hook verifi stop second mock privat static final string uri mina tcp localhost textlin true mina tcp localhost textlin true protect RouteBuilder rout builder createRouteBuilder creat rout builder return new RouteBuilder rout builder public void configur configur uri mock result uri mock result public void testProducer test produc throw except MockEndpoint mock endpoint mock getMockEndpoint mock result get mock endpoint mock result mock expectedBodiesReceived hello mock expect bodi receiv hello world world endpoint endpoint context getEndpoint uri context get endpoint uri produc produc endpoint createProducer endpoint creat produc exchang exchang endpoint createExchange endpoint creat exchang exchang getIn setBody hello exchang get set bodi hello world world produc start produc start produc process exchang produc process exchang produc stop produc stop assertMockEndpointsSatisifed assert mock endpoint satisif TODO TODO test use mock requir mani codelin mock produc endpoint etc etc,0,0,0,0,0,components/camel-mina/pom.xml;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaEndpoint.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaHelper.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaLoggerOptionTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaProducerShutdownMockTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaProducerShutdownTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithInOutTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithInOutUsingPlainSocketTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTransferExchangeOptionTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/ReverseProtocolHandler.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/ReverserServer.java;,0
404,Claus Ibsen,null,0,Javadoc warnings, javadoc warn,Get the javadoc warnings reported by the javadoc generator fixed., get javadoc warn report javadoc gener fix fix,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsExchange.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/FailedToProcessResponse.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailExchange.java;components/camel-rmi/src/main/java/org/apache/camel/component/rmi/RmiConsumer.java;components/camel-script/src/main/java/org/apache/camel/builder/script/ScriptBuilder.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelBeanPostProcessor.java;components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppBinding.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppExchange.java;camel-core/src/main/java/org/apache/camel/AsyncCallback.java;camel-core/src/main/java/org/apache/camel/AsyncProcessor.java;camel-core/src/main/java/org/apache/camel/CamelContext.java;camel-core/src/main/java/org/apache/camel/CamelExchangeException.java;camel-core/src/main/java/org/apache/camel/CamelTemplate.java;camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/Message.java;camel-core/src/main/java/org/apache/camel/NoSuchEndpointException.java;camel-core/src/main/java/org/apache/camel/ProducerTemplate.java;camel-core/src/main/java/org/apache/camel/Route.java;camel-core/src/main/java/org/apache/camel/RuntimeExchangeException.java;camel-core/src/main/java/org/apache/camel/builder/RouteBuilder.java;camel-core/src/main/java/org/apache/camel/component/jmx/JMXMessage.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/BytesSource.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/StringSource.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultConsumer.java;camel-core/src/main/java/org/apache/camel/impl/LoggingExceptionHandler.java;camel-core/src/main/java/org/apache/camel/impl/MessageSupport.java;camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/model/RouteContainer.java;camel-core/src/main/java/org/apache/camel/model/config/StreamResequencerConfig.java;camel-core/src/main/java/org/apache/camel/model/language/ExpressionType.java;camel-core/src/main/java/org/apache/camel/processor/Aggregator.java;camel-core/src/main/java/org/apache/camel/processor/ErrorHandlerSupport.java;camel-core/src/main/java/org/apache/camel/processor/loadbalancer/TopicLoadBalancer.java;camel-core/src/main/java/org/apache/camel/spi/LifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/spi/TypeConverterAware.java;camel-core/src/main/java/org/apache/camel/util/CamelContextHelper.java;camel-core/src/main/java/org/apache/camel/util/DefaultTimeoutMap.java;camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/main/java/org/apache/camel/util/ProducerCache.java;camel-core/src/main/java/org/apache/camel/util/jndi/JndiContext.java;camel-core/src/main/java/org/apache/camel/view/NodeData.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CamelInvoker.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/MessageInvoker.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/AbstractMessageInInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/InvokingContext.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelDestination.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/transport/CamelDestinationTest.java;,0
410,Dan Dudley,camel-core,0,Exception handling of the ErrorHandlerSupport class, except handl ErrorHandlerSupport error handler support class,When you configure your route builder and say you want to configure two exceptions lets say: NullPointer and Exception. Now say the bean you call as your end point throws a NullPointer  wouldn't you think the NullPointer policy would handle that exception? Well I'm seeing sometimes it does and sometimes it doesn't due to the map not keeping the exceptions in any particular order. Is there anyway this could be changed to a LinkedHashMap or a List?Issue with class: org.apache.camel.processor.ErrorHandlerSupport, configur rout builder say want configur two except let say say NullPointer null pointer except except say bean call end point throw NullPointer null pointer think NullPointer null pointer polici would handl except except well see sometim sometim due map not keep except particular order order anyway could chang LinkedHashMap link hash map list issu list issu class class org apach camel processor ErrorHandlerSupport org apach camel processor error handler support,0,1,1,1,0,camel-core/src/main/java/org/apache/camel/processor/exceptionpolicy/DefaultExceptionPolicyStrategy.java;camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/main/java/org/apache/camel/processor/ErrorHandlerSupport.java;camel-core/src/main/java/org/apache/camel/processor/exceptionpolicy/DefaultExceptionPolicyStrategy.java;camel-core/src/main/java/org/apache/camel/processor/exceptionpolicy/ExceptionPolicyStrategy.java;camel-core/src/test/java/org/apache/camel/builder/ErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/builder/ExceptionBuilderTest.java;camel-core/src/test/java/org/apache/camel/processor/DeadLetterChannelTest.java;camel-core/src/test/java/org/apache/camel/processor/ErrorHandlerSupportTest.java;camel-core/src/test/java/org/apache/camel/processor/exceptionpolicy/CustomExceptionPolicyStrategyTest.java;camel-core/src/test/java/org/apache/camel/processor/exceptionpolicy/DefaultExceptionPolicyStrategyTest.java;,0
424,Claus Ibsen,documentation,0,Improve FTP component wiki documentation, improv FTP compon wiki document,The wiki documentation for FTP usage could be improved with: java code examples (snippets in unit test classes) that you need the convertTo(String.class) for ASCII file transfer The FTP component is an extension of the File component so it inherits behaviour  features and options from file. State precise witch options a FTPProducer and FTPConsuer can use. Consuming using FTP there are special header key/values for the remote filename etc. that could be of interest for the end users (Maybe for the producer as well), wiki document FTP usag could improv java code exampl snippet unit test class class need convertTo string class convert string class ASCII file transfer FTP compon extens file compon inherit behaviour featur option file file state precis witch option FTPProducer FTP produc FTPConsuer FTP consuer use use consum use FTP special header key valu key valu remot filenam etc etc could interest end user mayb mayb produc well well,0,0,0,0,0,components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpToBinarySampleTest.java;,0
426,Roman Kalukiewicz,camel-core,0,splitter() should have the same parallel processing functionality that multicast() has, splitter splitter parallel process function multicast multicast,Ability to havefrom('direct:parallel').splitter(body().tokenize(' ')  true).to('mock:result');where true parameter to splitter should behave like in multicast() &#8212; processing is done in separate threads for each 'part'., abil havefrom direct parallel splitter bodi token havefrom direct parallel splitter bodi token true mock result true mock result true paramet splitter behav like multicast multicast process done separ thread part part,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/model/SplitterType.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/Splitter.java;camel-core/src/test/java/org/apache/camel/processor/SplitterTest.java;,0
443,Claus Ibsen,documentation,0,Improve File component wiki, improv file compon wiki,I have added two missings options and then I discovered a few more missing so I am created this ticket so we get this done.The File Component has several options we haven't documented on the wiki yet.Also its javadoc should be improved.And we should provide some better java samples on the wiki., ad two miss option discov miss creat ticket get done done file compon sever option document wiki yet also yet also javadoc improv improv provid better java sampl wiki wiki,0,0,0,0,0,camel-core/src/test/java/org/apache/camel/component/file/ToFileRouteTest.java;camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/FileExchange.java;camel-core/src/main/java/org/apache/camel/component/file/FileProcessStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/FileProducer.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/DefaultFileRenamer.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileProcessStrategyFactory.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileProcessStrategySupport.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileRenamer.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/package.html;,0
448,Claus Ibsen,camel-jpa,0,Upgraded to OpenJPA 1.0.2, upgrad OpenJPA open JPA,OpenJPA in release 1.0 and onwards requires a change in the ant build in the pom.xmlIt now requires a persistance.xml file to use., OpenJPA open JPA releas onward requir chang ant build pom xmlIt pom xml requir persist xml persist xml file use use,0,0,1,0,0,components/camel-jpa/pom.xml;components/camel-jpa/src/main/resources/META-INF/persistence.xml;pom.xml;,0
456,Hadrian Zbarcea,null,0,Invalid jar in binary distribution, invalid jar binari distribut,The apache-camel jar in the binary distribution misses a lot of files  including class and schema files (12k in size compared to the 1.9M released jar)., apach camel apach camel jar binari distribut miss lot file includ class schema file size compar releas jar jar,0,1,0,0,0,0,0
457,Torsten Mielke,camel-core,0,Camel should raise an exception if parsing of xslt file fails, camel rais except pars xslt file fail,Consider a Camel route that involves an xslt component. When Camel sets up the route  the XsltBuilder ignores any errors coming from the xerces xml parser and continues constructing the route even though the xslt transformer is not initialized. Later when the route is executed Camel correctly checks if the transformer is initialized and raises an error if not:java.lang.IllegalArgumentException: No transformer configured!However in case of a parse error in the xslt file  the whole route becomes unusable and the setup routine that constructs the route should fail with an appropriate error message. A sanity check needs to be added in methodorg.apache.camel.builder.xml.XsltBuilder.setTransformerSource(javax.xml.transform.Source)., consid camel rout involv xslt compon compon camel set rout XsltBuilder xslt builder ignor error come xerc xml parser continu construct rout even though xslt transform not initi initi later rout execut camel correctli check transform initi rais error not java lang IllegalArgumentException not java lang illeg argument except No transform configur howev configur howev case pars error xslt file whole rout becom unus setup routin construct rout fail appropri error messag messag saniti check need ad methodorg apach camel builder xml XsltBuilder setTransformerSource javax xml transform sourc methodorg apach camel builder xml xslt builder set transform sourc javax xml transform sourc,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/builder/xml/XsltBuilder.java;components/camel-spring/src/test/java/org/apache/camel/component/xslt/InvalidXsltFileTest.java;components/camel-spring/src/test/resources/org/apache/camel/component/xslt/invalid.xsl;,0
498,james strachan,null,0,file endpoint with noop=true does not detect old files moved into a directory, file endpoint noop true noop true not detect old file move directori,,,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/test/java/org/apache/camel/component/file/MoveFilesToDirectoryTest.java;camel-core/src/test/java/org/apache/camel/component/file/MoveFilesToDirectoryWithNoopTest.java;camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/test/java/org/apache/camel/component/file/MoveFilesToDirectoryTest.java;,0
499,Jonathan Anstey,camel-core,0,camel-core does not compile on HP-UX, camel core camel core not compil HP UX HP UX,camel-core/src/main/java/org/apache/camel/model/ProcessorType.java:&#91;871 12&#93; inconvertible types found : org.apache.camel.model.ProcessorType&lt;Type&gt; required: org.apache.camel.model.InterceptTypecamel-core/src/main/java/org/apache/camel/model/ProcessorType.java:&#91;872 39&#93; inconvertible types found : org.apache.camel.model.ProcessorType&lt;Type&gt; required: org.apache.camel.model.InterceptTypecamel-core/src/main/java/org/apache/camel/model/ProcessorType.java:&#91;884 12&#93; inconvertible types found : org.apache.camel.model.ProcessorType&lt;Type&gt; required: org.apache.camel.model.InterceptTypecamel-core/src/main/java/org/apache/camel/model/ProcessorType.java:&#91;885 38&#93; inconvertible types found : org.apache.camel.model.ProcessorType&lt;Type&gt; required: org.apache.camel.model.InterceptType, camel core src main java org apach camel model ProcessorType java camel core src main java org apach camel model processor type java inconvert type found org apach camel model ProcessorType lt type gt org apach camel model processor type lt type gt requir requir org apach camel model InterceptTypecamel core src main java org apach camel model ProcessorType java org apach camel model intercept typecamel core src main java org apach camel model processor type java inconvert type found org apach camel model ProcessorType lt type gt org apach camel model processor type lt type gt requir requir org apach camel model InterceptTypecamel core src main java org apach camel model ProcessorType java org apach camel model intercept typecamel core src main java org apach camel model processor type java inconvert type found org apach camel model ProcessorType lt type gt org apach camel model processor type lt type gt requir requir org apach camel model InterceptTypecamel core src main java org apach camel model ProcessorType java org apach camel model intercept typecamel core src main java org apach camel model processor type java inconvert type found org apach camel model ProcessorType lt type gt org apach camel model processor type lt type gt requir requir org apach camel model InterceptType org apach camel model intercept type,1,1,0,0,0,camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;,0
505,james strachan,null,0,make it easier to create Endpoint instances nicely via Spring XML, make easier creat endpoint instanc nice via spring XML,right now its a bit tricky creating Endpoint instances in a spring XML using the &lt;bean&gt;&lt;property&gt; mechanism.It'd be nice to be able to configure them more easily as...&lt;bean id='foo' class='org.apache.camel.component.file.FileEndpoint'&gt; &lt;property name='foo' value='bar'/&gt; ...type stuff and have folks Spring IDE's smart complete stuff etc, right bit tricki creat endpoint instanc spring XML use lt bean gt lt properti gt lt bean gt lt properti gt mechan mechan nice abl configur easili lt bean lt bean id foo id foo class org apach camel compon file FileEndpoint gt class org apach camel compon file file endpoint gt lt properti lt properti name foo name foo valu bar gt valu bar gt type stuff folk spring IDE IDE smart complet stuff etc,0,1,1,0,0,components/camel-atom/src/main/java/org/apache/camel/component/atom/AtomEndpoint.java;components/camel-atom/src/main/java/org/apache/camel/component/feed/FeedEndpoint.java;components/camel-atom/src/test/java/org/apache/camel/component/atom/AtomEndpointTest.java;components/camel-rss/src/main/java/org/apache/camel/component/rss/AggregateRssFeedCollection.java;components/camel-rss/src/main/java/org/apache/camel/component/rss/AggregateRssFeedStrategy.java;components/camel-rss/src/main/java/org/apache/camel/component/rss/RssComponent.java;components/camel-rss/src/main/java/org/apache/camel/component/rss/RssDateComparator.java;components/camel-rss/src/main/java/org/apache/camel/component/rss/RssEndpoint.java;components/camel-rss/src/main/java/org/apache/camel/component/rss/RssEntryPollingConsumer.java;components/camel-rss/src/main/java/org/apache/camel/component/rss/RssPollingConsumer.java;components/camel-rss/src/main/java/org/apache/camel/component/rss/UpdatedDateFilter.java;components/camel-rss/src/main/java/org/apache/camel/dataformat/rss/RssDataFormat.java;components/camel-rss/src/test/java/org/apache/camel/component/rss/RssEndpointTest.java;components/camel-mina/pom.xml;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConfiguration.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaEndpoint.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaPayloadHelper.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaUdpUsingTemplateTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/SpringMinaEndpointTest.java;components/camel-mina/src/test/resources/org/apache/camel/component/mina/SpringMinaEndpointTest-context.xml;components/camel-freemarker/src/main/java/org/apache/camel/component/freemarker/FreemarkerComponent.java;components/camel-freemarker/src/main/java/org/apache/camel/component/freemarker/FreemarkerEndpoint.java;components/camel-freemarker/src/test/java/org/apache/camel/component/freemarker/FreemarkerEndpointTest.java;components/camel-spring/src/main/java/org/apache/camel/component/ResourceBasedComponent.java;components/camel-spring/src/main/java/org/apache/camel/component/ResourceBasedEndpoint.java;components/camel-velocity/src/main/java/org/apache/camel/component/velocity/VelocityComponent.java;components/camel-velocity/src/main/java/org/apache/camel/component/velocity/VelocityEndpoint.java;components/camel-velocity/src/test/java/org/apache/camel/component/velocity/VelocityEndpointTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileEndpoint.java;tests/camel-itest/src/test/java/org/apache/camel/itest/ftp/SpringFtpEndpointTest.java;tests/camel-itest/src/test/resources/org/apache/camel/itest/ftp/SpringFtpEndpointTest-context.xml;camel-core/src/main/java/org/apache/camel/Endpoint.java;camel-core/src/main/java/org/apache/camel/component/bean/CamelInvocationHandler.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetEndpoint.java;camel-core/src/main/java/org/apache/camel/component/direct/DirectEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/jmx/JMXEndpoint.java;camel-core/src/main/java/org/apache/camel/component/list/ListEndpoint.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaEndpoint.java;camel-core/src/main/java/org/apache/camel/component/timer/TimerEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultPollingEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/ProcessorEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/ScheduledPollEndpoint.java;camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;camel-core/src/test/java/org/apache/camel/impl/ProducerTest.java;components/camel-atom/src/main/java/org/apache/camel/component/atom/AtomEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapEndpoint.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpEndpoint.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileEndpoint.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpEndpoint.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpExchange.java;components/camel-ibatis/src/main/java/org/apache/camel/component/ibatis/IBatisEndpoint.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcEndpoint.java;components/camel-jcr/src/main/java/org/apache/camel/component/jcr/JcrEndpoint.java;components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcEndpoint.java;components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcProducer.java;components/camel-jhc/src/main/java/org/apache/camel/component/jhc/JhcEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsQueueEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsTemporaryQueueEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsTemporaryTopicEndpoint.java;components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaEndpoint.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailEndpoint.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaEndpoint.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzEndpoint.java;components/camel-rmi/src/main/java/org/apache/camel/component/rmi/RmiEndpoint.java;components/camel-rmi/src/main/java/org/apache/camel/component/rmi/RmiProducer.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationConsumer.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationEndpoint.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationProducer.java;components/camel-spring/src/main/java/org/apache/camel/component/ResourceBasedEndpoint.java;components/camel-spring/src/main/java/org/apache/camel/component/event/EventEndpoint.java;components/camel-spring/src/main/java/org/apache/camel/component/test/TestEndpoint.java;components/camel-spring/src/main/java/org/apache/camel/spring/SpringCamelContext.java;components/camel-sql/src/main/java/org/apache/camel/component/sql/SqlEndpoint.java;components/camel-stream/src/main/java/org/apache/camel/component/stream/StreamEndpoint.java;components/camel-stringtemplate/src/main/java/org/apache/camel/component/stringtemplate/StringTemplateEndpoint.java;components/camel-uface/src/main/java/org/apache/camel/component/uface/UFaceEndpoint.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;tests/camel-itest/src/test/java/org/apache/camel/itest/http/HttpEndpointTest.java;tests/camel-itest/src/test/resources/org/apache/camel/itest/http/HttpEndpointTest-context.xml;components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaEndpoint.java;components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaWithNamedQueryTest.java;components/camel-jpa/src/test/java/org/apache/camel/processor/jpa/JpaRouteEndpointTest.java;components/camel-jpa/src/test/java/org/apache/camel/processor/jpa/JpaRouteTest.java;components/camel-jpa/src/test/resources/org/apache/camel/processor/jpa/springJpaRouteTest.xml;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsQueueEndpoint.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/config/JmsEndpointWithCustomDestinationTest.java;components/camel-jms/src/test/resources/org/apache/camel/component/jms/config/JmsEndpointWithCustomDestinationTest-context.xml;components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcEndpoint.java;components/camel-jdbc/src/test/java/org/apache/camel/component/jdbc/JdbcEndpointTest.java;components/camel-jdbc/src/test/java/org/apache/camel/component/jdbc/JdbcRouteTest.java;components/camel-sql/src/main/java/org/apache/camel/component/sql/SqlComponent.java;components/camel-sql/src/main/java/org/apache/camel/component/sql/SqlEndpoint.java;components/camel-sql/src/test/java/org/apache/camel/component/sql/SqlEndpointTest.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/RuntimeXmppException.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppBinding.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppComponent.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppEndpoint.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/GoogleTalkEndpointTest.java;camel-core/src/main/java/org/apache/camel/processor/Logger.java;components/camel-spring/src/test/java/org/apache/camel/component/log/SpringLogTest.java;components/camel-spring/src/test/resources/org/apache/camel/component/log/SpringLogTest-context.xml;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailEndpoint.java;tests/camel-itest/pom.xml;tests/camel-itest/src/test/java/org/apache/camel/itest/mail/SpringMailEndpointTest.java;tests/camel-itest/src/test/resources/org/apache/camel/itest/mail/SpringMailEndpointTest-context.xml;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteEndpointTest.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanComponent.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanEndpoint.java;camel-core/src/main/java/org/apache/camel/component/bean/RegistryBean.java;camel-core/src/main/java/org/apache/camel/impl/DefaultPollingEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/ProcessorEndpoint.java;components/camel-spring/src/main/java/org/apache/camel/spring/factory/BeanEndpointFactory.java;components/camel-spring/src/test/java/org/apache/camel/component/bean/BeanRouteUsingSpringEndpointTest.java;components/camel-spring/src/test/resources/org/apache/camel/component/bean/BeanRouteUsingSpringEndpointTest-context.xml;components/camel-spring/src/test/java/org/apache/camel/component/file/SpringFileRouteTest.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/CamelJob.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzComponent.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzEndpoint.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/StatefulCamelJob.java;components/camel-quartz/src/test/java/org/apache/camel/component/quartz/QuartzEndpointTest.java;components/camel-quartz/src/test/java/org/apache/camel/component/quartz/QuartzRouteTest.java;components/camel-quartz/src/test/java/org/apache/camel/component/quartz/StatefulQuartzRouteTest.java;components/camel-rmi/src/main/java/org/apache/camel/component/rmi/RmiConsumer.java;components/camel-rmi/src/main/java/org/apache/camel/component/rmi/RmiEndpoint.java;components/camel-rmi/src/test/java/org/apache/camel/component/rmi/RmiRouteEndpointTest.java;components/camel-rmi/src/test/java/org/apache/camel/component/rmi/RmiRouteTest.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/ScheduledPollEndpoint.java;components/camel-spring/pom.xml;components/camel-spring/src/test/java/org/apache/camel/component/file/SpringFileRouteTest.java;components/camel-spring/src/test/resources/org/apache/camel/component/file/SpringFileRouteTest-context.xml;,0
509,William Tam,camel-core,0,JMX Connector is not closed by InstrumentationAgentImpl.doStop(), JMX connector not close InstrumentationAgentImpl doStop instrument agent impl stop,,,0,1,0,0,0,0,0
514,Claus Ibsen,camel-core,0,Document - File component when its using file or directory names, document file compon use file directori name,Yes I think we need to document it much better how Camel handles this file/folder stuff when its consuming files producing filesIt's a bit confusing when Camel uses the unique message id for filename instead of the path from the URI., ye think need document much better camel handl file folder file folder stuff consum file produc filesIt file bit confus camel use uniqu messag id filenam instead path URI URI,0,0,0,0,0,camel-core/src/test/java/org/apache/camel/component/file/FilerProducerFileNamesTest.java;,0
517,Claus Ibsen,documentation,0,Javadoc - improve summaries etc, javadoc improv summari etc,The javadoc could use to be polished for eg. summaries statis the Apache license instead of a short brief summary what the class/package does etc.It's all the javadoc also for the components., javadoc could use polish eg eg summari stati apach licens instead short brief summari class packag class packag etc etc javadoc also compon compon,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/util/ValueHolder.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanEndpoint.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanExchange.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanHolder.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInvocation.java;camel-core/src/main/java/org/apache/camel/component/bean/DefaultAnnotationExpressionFactory.java;camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/MethodInvocation.java;camel-core/src/main/java/org/apache/camel/component/bean/NoBeanAvailableException.java;camel-core/src/main/java/org/apache/camel/component/bean/ParameterInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/XPathAnnotationExpressionFactory.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetComponent.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetConsumer.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetEndpoint.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetSupport.java;camel-core/src/main/java/org/apache/camel/component/direct/DirectProducer.java;camel-core/src/main/java/org/apache/camel/component/file/FileMessage.java;camel-core/src/main/java/org/apache/camel/component/file/FileProducer.java;camel-core/src/main/java/org/apache/camel/component/jmx/JMXComponent.java;camel-core/src/main/java/org/apache/camel/component/jmx/JMXConsumer.java;camel-core/src/main/java/org/apache/camel/component/jmx/JMXEndpoint.java;camel-core/src/main/java/org/apache/camel/component/jmx/JMXExchange.java;camel-core/src/main/java/org/apache/camel/component/list/ListComponent.java;camel-core/src/main/java/org/apache/camel/component/list/ListEndpoint.java;camel-core/src/main/java/org/apache/camel/component/log/LogComponent.java;camel-core/src/main/java/org/apache/camel/component/seda/ListPollingConsumer.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaConsumer.java;camel-core/src/main/java/org/apache/camel/component/timer/TimerConsumer.java;camel-core/src/main/java/org/apache/camel/impl/DefaultConsumer.java;camel-core/src/main/java/org/apache/camel/processor/loadbalancer/TopicLoadBalancer.java;camel-core/src/main/java/org/apache/camel/AlreadyStoppedException.java;camel-core/src/main/java/org/apache/camel/CamelException.java;camel-core/src/main/java/org/apache/camel/CamelTemplate.java;camel-core/src/main/java/org/apache/camel/FailedToCreateProducerException.java;camel-core/src/main/java/org/apache/camel/InvalidHeaderTypeException.java;camel-core/src/main/java/org/apache/camel/InvalidPayloadException.java;camel-core/src/main/java/org/apache/camel/InvalidPayloadRuntimeException.java;camel-core/src/main/java/org/apache/camel/InvalidTypeException.java;camel-core/src/main/java/org/apache/camel/ProducerTemplate.java;camel-core/src/main/java/org/apache/camel/RuntimeCamelException.java;camel-core/src/main/java/org/apache/camel/impl/ServiceSupport.java;camel-core/src/main/java/org/apache/camel/impl/ReportingTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/ReportingTypeConverterRegistry.java;components/camel-spring/src/main/java/org/apache/camel/spring/SpringInstrumentationAgent.java;camel-core/src/main/java/org/apache/camel/ProducerTemplate.java;camel-core/src/main/java/org/apache/camel/component/ref/package.html;camel-core/src/main/java/org/apache/camel/converter/stream/StreamCacheConverter.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguage.java;camel-core/src/main/java/org/apache/camel/model/language/MethodCallExpression.java;camel-core/src/main/java/org/apache/camel/builder/BuilderSupport.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/component/vm/VmComponent.java;camel-core/src/main/java/org/apache/camel/converter/CollectionConverter.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchange.java;camel-core/src/main/java/org/apache/camel/impl/converter/AsyncProcessorTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/MemoryMessageIdRepository.java;camel-core/src/main/java/org/apache/camel/processor/loadbalancer/StickyLoadBalancer.java;camel-core/src/main/java/org/apache/camel/spi/ComponentResolver.java;camel-core/src/main/java/org/apache/camel/util/AsyncProcessorHelper.java;camel-core/src/main/java/org/apache/camel/util/DefaultTimeoutMap.java;camel-core/src/test/java/org/apache/camel/builder/BuilderWithScopesTest.java;camel-core/src/test/java/org/apache/camel/processor/LoadBalanceTest.java;camel-core/src/main/java/org/apache/camel/builder/NoErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanComponent.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetComponent.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultConsumer.java;camel-core/src/main/java/org/apache/camel/model/ConvertBodyType.java;camel-core/src/main/java/org/apache/camel/model/dataformat/CsvDataFormat.java;camel-core/src/main/java/org/apache/camel/model/loadbalancer/StickyLoadBalanceStrategy.java;camel-core/src/main/java/org/apache/camel/processor/DelegateAsyncProcessor.java;camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/UnitOfWorkProcessor.java;camel-core/src/main/java/org/apache/camel/util/IntrospectionSupport.java;camel-core/src/test/java/org/apache/camel/LanguageTestSupport.java;camel-core/src/test/java/org/apache/camel/builder/xml/XPathTest.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanMethodWithMultipleParametersTest.java;camel-core/src/test/java/org/apache/camel/component/dataset/DataSetConsumeTest.java;camel-core/src/test/java/org/apache/camel/component/file/DirectoryCreateIssueTest.java;camel-core/src/test/java/org/apache/camel/converter/stream/StreamCacheConverterTest.java;camel-core/src/test/java/org/apache/camel/processor/ChoiceTest.java;camel-core/src/test/java/org/apache/camel/processor/DataFormatTest.java;camel-core/src/test/java/org/apache/camel/processor/InterceptWithPredicateAndProceedRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/InterceptWithPredicateRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/InterceptWithoutProceedRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/MultiCastAggregatorTest.java;camel-core/src/test/java/org/apache/camel/processor/MulticastTest.java;camel-core/src/test/java/org/apache/camel/processor/RecipientListTest.java;camel-core/src/test/java/org/apache/camel/processor/StaticRecipientListTest.java;camel-core/src/test/java/org/apache/camel/processor/ThreadTest.java;camel-core/src/test/java/org/apache/camel/processor/ValidationTest.java;camel-core/src/test/java/org/apache/camel/processor/XPathChoiceTest.java;camel-core/src/test/java/org/apache/camel/view/DotViewTest.java;camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java;camel-core/src/main/java/org/apache/camel/impl/ReportingTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/ReportingTypeConverterRegistry.java;camel-core/src/main/java/org/apache/camel/util/IOHelper.java;camel-core/src/main/java/org/apache/camel/util/IntrospectionSupport.java;camel-core/src/main/java/org/apache/camel/util/Out.java;camel-core/src/main/java/org/apache/camel/util/URISupport.java;camel-core/src/main/java/org/apache/camel/util/UnsafeUriCharactersEncoder.java;camel-core/src/main/java/org/apache/camel/converter/stream/StreamCacheConverter.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchangeConverter.java;camel-core/src/main/java/org/apache/camel/impl/DefaultLanguageResolver.java;camel-core/src/main/java/org/apache/camel/impl/DefaultLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/impl/converter/AsyncProcessorTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/PropertyEditorTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/TypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/converter/TypeConverterRegistry.java;camel-core/src/main/java/org/apache/camel/spi/Injector.java;camel-core/src/main/java/org/apache/camel/util/DefaultTimeoutMap.java;camel-core/src/main/java/org/apache/camel/util/FactoryFinder.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/main/java/org/apache/camel/util/TimeoutMap.java;camel-core/src/main/java/org/apache/camel/model/AggregatorType.java;camel-core/src/main/java/org/apache/camel/model/BeanRef.java;camel-core/src/main/java/org/apache/camel/model/Block.java;camel-core/src/main/java/org/apache/camel/model/CatchType.java;camel-core/src/main/java/org/apache/camel/model/ChoiceType.java;camel-core/src/main/java/org/apache/camel/model/CompletedPredicate.java;camel-core/src/main/java/org/apache/camel/model/ConvertBodyType.java;camel-core/src/main/java/org/apache/camel/model/DelayerType.java;camel-core/src/main/java/org/apache/camel/model/ExceptionType.java;camel-core/src/main/java/org/apache/camel/model/FilterType.java;camel-core/src/main/java/org/apache/camel/model/FinallyType.java;camel-core/src/main/java/org/apache/camel/model/HandleFaultType.java;camel-core/src/main/java/org/apache/camel/model/IdempotentConsumerType.java;camel-core/src/main/java/org/apache/camel/model/IdentifiedType.java;camel-core/src/main/java/org/apache/camel/model/InterceptType.java;camel-core/src/main/java/org/apache/camel/model/InterceptorRef.java;camel-core/src/main/java/org/apache/camel/model/InterceptorType.java;camel-core/src/main/java/org/apache/camel/model/LoadBalanceType.java;camel-core/src/main/java/org/apache/camel/model/MulticastType.java;camel-core/src/main/java/org/apache/camel/model/OtherwiseType.java;camel-core/src/main/java/org/apache/camel/model/PolicyRef.java;camel-core/src/main/java/org/apache/camel/model/ProceedType.java;camel-core/src/main/java/org/apache/camel/model/ProcessorRef.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/model/RecipientListType.java;camel-core/src/main/java/org/apache/camel/model/RedeliveryPolicyType.java;camel-core/src/main/java/org/apache/camel/model/ResequencerType.java;camel-core/src/main/java/org/apache/camel/model/RouteBuilderRef.java;camel-core/src/main/java/org/apache/camel/model/RouteContainer.java;camel-core/src/main/java/org/apache/camel/model/RoutingSlipType.java;camel-core/src/main/java/org/apache/camel/model/ServiceActivationType.java;camel-core/src/main/java/org/apache/camel/model/SetHeaderType.java;camel-core/src/main/java/org/apache/camel/model/SplitterType.java;camel-core/src/main/java/org/apache/camel/model/ThrottlerType.java;camel-core/src/main/java/org/apache/camel/model/ThrowFaultType.java;camel-core/src/main/java/org/apache/camel/model/TransformType.java;camel-core/src/main/java/org/apache/camel/model/TryType.java;camel-core/src/main/java/org/apache/camel/model/WhenType.java;camel-core/src/main/java/org/apache/camel/model/dataformat/DataFormatType.java;camel-core/src/main/java/org/apache/camel/model/loadbalancer/LoadBalancerType.java;camel-core/src/main/java/org/apache/camel/model/loadbalancer/RandomLoadBalanceStrategy.java;camel-core/src/main/java/org/apache/camel/model/loadbalancer/RoundRobinLoadBalanceStrategy.java;camel-core/src/main/java/org/apache/camel/model/loadbalancer/StickyLoadBalanceStrategy.java;camel-core/src/main/java/org/apache/camel/model/loadbalancer/TopicLoadBalanceStrategy.java;camel-core/pom.xml;camel-core/src/main/java/org/apache/camel/builder/ConstantProcessorBuilder.java;camel-core/src/main/java/org/apache/camel/builder/DataFormatClause.java;camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilderSupport.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/builder/PredicateFactory.java;camel-core/src/main/java/org/apache/camel/builder/xml/DomResultHandlerFactory.java;camel-core/src/main/java/org/apache/camel/builder/xml/ResultHandlerFactory.java;camel-core/src/main/java/org/apache/camel/builder/xml/StreamResultHandlerFactory.java;camel-core/src/main/java/org/apache/camel/builder/xml/StringResultHandlerFactory.java;camel-core/src/main/java/org/apache/camel/builder/xml/XPathLanguage.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/language/ExpressionEvaluationException.java;camel-core/src/main/java/org/apache/camel/language/LanguageAnnotation.java;camel-core/src/main/java/org/apache/camel/language/LanguageExpression.java;camel-core/src/main/java/org/apache/camel/language/bean/RuntimeBeanExpressionException.java;camel-core/src/main/java/org/apache/camel/processor/CatchProcessor.java;camel-core/src/main/java/org/apache/camel/processor/FilterProcessor.java;camel-core/src/main/java/org/apache/camel/processor/SendProcessor.java;camel-core/src/main/java/org/apache/camel/processor/ThroughputLogger.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/UseLatestAggregationStrategy.java;camel-core/src/main/java/org/apache/camel/processor/exceptionpolicy/ExceptionPolicyStrategy.java;camel-core/src/main/java/org/apache/camel/processor/validation/ValidatorErrorHandler.java;camel-core/src/main/java/org/apache/camel/spi/InstrumentationAgent.java;camel-core/src/main/java/org/apache/camel/spi/LifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/ExchangePattern.java;camel-core/src/main/java/org/apache/camel/builder/xml/DomResultHandlerFactory.java;camel-core/src/main/java/org/apache/camel/builder/xml/MessageVariableResolver.java;camel-core/src/main/java/org/apache/camel/builder/xml/Namespaces.java;camel-core/src/main/java/org/apache/camel/builder/xml/ResultHandler.java;camel-core/src/main/java/org/apache/camel/builder/xml/ResultHandlerFactory.java;camel-core/src/main/java/org/apache/camel/builder/xml/StreamResultHandlerFactory.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanComponent.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanHolder.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/component/bean/DefaultAnnotationExpressionFactory.java;camel-core/src/main/java/org/apache/camel/component/bean/MethodInvocation.java;camel-core/src/main/java/org/apache/camel/component/bean/XPathAnnotationExpressionFactory.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSet.java;camel-core/src/main/java/org/apache/camel/component/direct/DirectEndpoint.java;camel-core/src/main/java/org/apache/camel/component/jmx/JMXConsumer.java;camel-core/src/main/java/org/apache/camel/component/jmx/JMXEndpoint.java;camel-core/src/main/java/org/apache/camel/component/timer/TimerEndpoint.java;camel-core/src/main/java/org/apache/camel/component/vm/VmComponent.java;camel-core/src/main/java/org/apache/camel/converter/CamelConverter.java;camel-core/src/main/java/org/apache/camel/converter/CollectionConverter.java;camel-core/src/main/java/org/apache/camel/converter/ObjectConverter.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/DomConverter.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/StringSource.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchange.java;camel-core/src/main/java/org/apache/camel/impl/DefaultRouteContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java;camel-core/src/main/java/org/apache/camel/impl/MessageSupport.java;camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java;camel-core/src/main/java/org/apache/camel/impl/SerializationDataFormat.java;camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/converter/ArrayTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/EnumTypeConverter.java;camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;camel-core/src/main/java/org/apache/camel/management/DefaultInstrumentationAgent.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java;camel-core/src/main/java/org/apache/camel/processor/ThrowFaultProcessor.java;camel-core/src/main/java/org/apache/camel/processor/TryProcessor.java;camel-core/src/main/java/org/apache/camel/processor/resequencer/ResequencerEngine.java;camel-core/src/main/java/org/apache/camel/processor/resequencer/SequenceSender.java;camel-core/src/main/java/org/apache/camel/util/DefaultTimeoutMap.java;camel-core/src/main/java/org/apache/camel/util/IntrospectionSupport.java;camel-core/src/main/java/org/apache/camel/util/UuidGenerator.java;tooling/camel-xsddoc/pom.xml;camel-core/src/main/java/org/apache/camel/management/DefaultInstrumentationAgent.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationAgentImpl.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingDefaultsTest.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingPlatformMBSTest.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingPropertiesTest.java;,0
524,William Tam,camel-core,0,IntrumentationProcessor does properly record processing time, IntrumentationProcessor intrument processor properli record process time,The InstrumentationLifeCycleStrategy inserts an InstrumentationProcessor interceptor at the end of a route which is intercepted after the processing has been done. The InstrumentationProcessor does not actually record the time spent on the route. It is fixed by inserting InstrumentationProcessor at the beginning of the route and wrapping all the outputs.There two MBeans (ManagedRoute and PerformanceCounter) registered for each route eventhough ManagedRoute already extends PerformanceCounter. We probably only need to expose one MBean. The ManagedRoute MBean shows performance attributes and operations (since it extends PerformanceCoutner) but these performance related stuffs don't really work. This is fixed by registering only the ManagedRoute MBean and making the performance related attributes and operations functional.This patch supports exposing all processors within a route as PerformanceCounter MBeans so that users are possible to monitor performance at the processor's level.With this patch  the org.apache.camel.spi package no longer depends CamelNamingStrategy of the org.apache.camel.management.management package. It follows the suggestion mentioned in https://issues.apache.org/activemq/browse/CAMEL-264.Another update is to following the JMX spec convention of including a 'type' property in the ObjectName (replacing the current 'groups' property). This patch also simplify the ManagedRoute's ObjectName a bit by removing builder and group properties. If for some reasons  they need to be in the ObjectName  please add them back., InstrumentationLifeCycleStrategy instrument life cycl strategi insert InstrumentationProcessor instrument processor interceptor end rout intercept process done done InstrumentationProcessor instrument processor not actual record time spent rout rout fix insert InstrumentationProcessor instrument processor begin rout wrap output output two MBeans bean ManagedRoute manag rout PerformanceCounter perform counter regist rout eventhough ManagedRoute manag rout alreadi extend PerformanceCounter perform counter probabl need expos one MBean bean ManagedRoute manag rout MBean bean show perform attribut oper sinc extend PerformanceCoutner perform coutner perform relat stuff realli work work fix regist ManagedRoute manag rout MBean bean make perform relat attribut oper function function patch support expos processor within rout PerformanceCounter perform counter MBeans bean user possibl monitor perform processor processor level level patch org apach camel spi org apach camel spi packag no longer depend CamelNamingStrategy camel name strategi org apach camel manag manag org apach camel manag manag packag packag follow suggest mention updat follow JMX spec convent includ type type properti ObjectName object name replac current group group properti properti patch also simplifi ManagedRoute manag rout ObjectName object name bit remov builder group properti properti reason need ObjectName object name pleas add back back,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/impl/RouteContext.java;camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationAgentImpl.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationInterceptStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/spi/InstrumentationAgent.java;camel-core/src/main/java/org/apache/camel/spi/InterceptStrategy.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingDefaultsTest.java;,0
536,Eamonn Dwyer,camel-cxf,0,camel-cxf component not propagating context data, camel cxf camel cxf compon not propag context data,For POJO data formats the CxfProducer currently invokes the following method to invoke on a target serverresult = client.invoke(operation  parameters.toArray());This fails to setup the Request and Response contexts for the out (request) message and in (response) message. It should instead be copying the relevant data from the consumer and invoking the following operation on the Client interfaceObject[] invoke(BindingOperationInfo oi  Object[] params  Map&lt;String  Object&gt; context) throws Exception;Likewise the PAYLOAD and MESSAGE data formats are not setting up their contexts before they call the dispatch operation. In fact there is comments in the current codebase... // invoke the message prepare the context Map&lt;String  Object&gt; context = new HashMap&lt;String  Object&gt;(); Map&lt;String  Object&gt; requestContext = new HashMap&lt;String  Object&gt;(); Map&lt;String  Object&gt; responseContext = new HashMap&lt;String  Object&gt;(); // TODO Get the requestContext from the CamelExchange context.put(CxfClient.REQUEST_CONTEXT  requestContext); context.put(CxfClient.RESPONSE_CONTEXT  responseContext);The fix should also include a fix for all three data format types, POJO data format CxfProducer cxf produc current invok follow method invok target serverresult client invok oper client invok oper paramet toArray paramet array fail setup request respons context request request messag respons respons messag messag instead copi relev data consum invok follow oper client interfaceObject interfac object invok BindingOperationInfo invok bind oper info oi object object param map lt string map lt string object gt object gt context context throw except likewis except likewis PAYLOAD MESSAGE data format not set context call dispatch oper oper fact comment current codebas codebas invok messag prepar context map lt string map lt string object gt object gt context new HashMap lt string hash map lt string object gt object gt map lt string map lt string object gt object gt requestContext request context new HashMap lt string hash map lt string object gt object gt map lt string map lt string object gt object gt responseContext respons context new HashMap lt string hash map lt string object gt object gt TODO get requestContext request context CamelExchange camel exchang context put CxfClient REQUEST_CONTEXT context put cxf client REQUEST CONTEXT requestContext request context context put CxfClient RESPONSE_CONTEXT context put cxf client RESPONSE CONTEXT responseContext respons context fix also includ fix three data format type,0,0,1,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/CxfClient.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfProducerContextTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfProducerRouterTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfProducerTest.java;,0
539,Roman Kalukiewicz,camel-core,0,XsltBuilder synchronizes on process method making performance bad on XSLTs, XsltBuilder xslt builder synchron process method make perform bad XSLTs XSL Ts,In heavy load environment XSLT transformations have very bad performance.I propose to use javax.xml.transform.Templates object to produce separate Transformers for every execution., heavi load environ XSLT transform bad perform perform propos use javax xml transform templat javax xml transform templat object produc separ transform everi execut execut,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/xml/XsltBuilder.java;,0
541,Christian Schneider,camel-core,0,The spi package should not depend on the processor package, spi packag not depend processor packag,I have found one other problem in RouteContext. The method intercept uses the class Interceptor from processor. I think Interceptor should be an interface that should reside in spi or camel. So we could avoid referencing the processor package from spi.When I look into the current Interceptor implementation I think the two main methods that need to be in the interface are process and proceed. Process can be inherited from Processor but proceed is only declared in the implementation class DelegateProcessor. So I think the clean way to handle this would be to create an interface DelegateProcessor and a spearate DefaultDelegateProcessor.public interface DelegateProcessor extends Processor { /** * Proceed with the underlying delegated processor */ public abstract void proceed(Exchange exchange) throws Exception; }and an interface Interceptorpublic interface Interceptor extends DelegateProcessor { public abstract void process(Exchange exchange) throws Exception; public abstract Processor getInterceptorLogic(); public abstract void setInterceptorLogic(Processor interceptorLogic); }When we put these to spi and use them instead of the implementations where possible the spi would not depend on processor anymore., found one problem RouteContext rout context method intercept use class interceptor processor processor think interceptor interfac resid spi camel camel could avoid referenc processor packag spi spi look current interceptor implement think two main method need interfac process proceed proceed process inherit processor proceed declar implement class DelegateProcessor deleg processor think clean way handl would creat interfac DelegateProcessor deleg processor spearat DefaultDelegateProcessor public default deleg processor public interfac DelegateProcessor deleg processor extend processor proce underli deleg processor public abstract void proceed exchang proceed exchang exchang exchang throw except except interfac interceptorpubl interfac interceptor extend DelegateProcessor deleg processor public abstract void process exchang process exchang exchang exchang throw except except public abstract processor getInterceptorLogic get interceptor logic public abstract void setInterceptorLogic processor set interceptor logic processor interceptorLogic interceptor logic put spi use instead implement possibl spi would not depend processor anymor anymor,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/management/InstrumentationErrorHandlerWrappingStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/spi/ErrorHandlerWrappingStrategy.java;,0
550,Willem Jiang,camel-core; camel-spring,0,NPE from came:run with below route codes, NPE came run came run rout code,With the following route: from('timer://tutorial?fixedRate=true&amp;period=10') .setBody( constant('&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;greetMe&gt;Hello World&lt;/greetMe&gt;')) .setHeader('CBR1'  constant('No')).choice().when( header('CBR1').isEqualTo('Yes')).setHeader( 'CreditcardValidation'  constant('Yes')).to( 'log:CBRBean?level=INFO').to('log:XSLT for provider1?level=INFO') .when(header('CBR1').isEqualTo('No')).setHeader( 'CreditcardValidation'  constant('No')).to( 'log:XSLT for provider2?level=INFO').end().choice() .when(header('CreditcardValidation').isEqualTo('Yes')) .to('log:CCVBean?level=INFO').to('log:XSLT for consumer1?level=INFO').when( header('CreditcardValidation').isEqualTo('No')) .to('log:XSLT for consumer2?level=INFO').otherwise() .to('log:test?level=INFO').end();running mvn camel:run I get the following stack trace:java.lang.NullPointerException at org.apache.camel.view.NodeData.&lt;init&gt;(NodeData.java:136) at org.apache.camel.view.GraphGeneratorSupport.getNodeData(GraphGeneratorSupport.java:142) at org.apache.camel.view.RouteDotGenerator.printNode(RouteDotGenerator.java:101) at org.apache.camel.view.RouteDotGenerator.printNode(RouteDotGenerator.java:123) at org.apache.camel.view.RouteDotGenerator.printRoute(RouteDotGenerator.java:87) at org.apache.camel.view.RouteDotGenerator.printRoutes(RouteDotGenerator.java:64) at org.apache.camel.view.RouteDotGenerator.printRoutes(RouteDotGenerator.java:48) at org.apache.camel.view.RouteDotGenerator.generateFile(RouteDotGenerator.java:169) at org.apache.camel.view.GraphGeneratorSupport.generateFile(GraphGeneratorSupport.java:103) at org.apache.camel.view.GraphGeneratorSupport.drawRoutes(GraphGeneratorSupport.java:81) at org.apache.camel.spring.Main.generateDot(Main.java:392) at org.apache.camel.spring.Main.postProcessContext(Main.java:374) at org.apache.camel.spring.Main.doStart(Main.java:333) at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:47) at org.apache.camel.spring.Main.run(Main.java:123) at org.apache.camel.spring.Main.run(Main.java:114) at org.apache.camel.spring.Main.main(Main.java:106) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.apache.camel.maven.RunMojo$1.run(RunMojo.java:333) at java.lang.Thread.run(Thread.java:613)the error seems related to the maven camel plugin failing generating the dot file for the route., follow rout rout timer tutori fixedRate true amp period timer tutori fix rate true amp period setBody set bodi constant lt xml constant lt xml version version encod UTF gt lt greetMe gt hello encod UTF gt lt greet gt hello world lt greetMe gt world lt greet gt setHeader CBR set header CBR constant No choic constant No choic header CBR isEqualTo ye setHeader header CBR equal ye set header CreditcardValidation creditcard valid constant ye constant ye log CBRBean level INFO log XSLT log CBR bean level INFO log XSLT provid level INFO provid level INFO header CBR isEqualTo No setHeader header CBR equal No set header CreditcardValidation creditcard valid constant No constant No log XSLT log XSLT provid level INFO end choic provid level INFO end choic header CreditcardValidation isEqualTo ye header creditcard valid equal ye log CCVBean level INFO log XSLT log CCV bean level INFO log XSLT consum level INFO consum level INFO header CreditcardValidation isEqualTo No header creditcard valid equal No log XSLT log XSLT consum level INFO otherwis consum level INFO otherwis log test level INFO end run log test level INFO end run mvn camel run camel run get follow stack trace java lang NullPointerException trace java lang null pointer except org apach camel view NodeData lt init gt NodeData java org apach camel view node data lt init gt node data java org apach camel view GraphGeneratorSupport getNodeData GraphGeneratorSupport java org apach camel view graph gener support get node data graph gener support java org apach camel view RouteDotGenerator printNode RouteDotGenerator java org apach camel view rout dot gener print node rout dot gener java org apach camel view RouteDotGenerator printNode RouteDotGenerator java org apach camel view rout dot gener print node rout dot gener java org apach camel view RouteDotGenerator printRoute RouteDotGenerator java org apach camel view rout dot gener print rout rout dot gener java org apach camel view RouteDotGenerator printRoutes RouteDotGenerator java org apach camel view rout dot gener print rout rout dot gener java org apach camel view RouteDotGenerator printRoutes RouteDotGenerator java org apach camel view rout dot gener print rout rout dot gener java org apach camel view RouteDotGenerator generateFile RouteDotGenerator java org apach camel view rout dot gener gener file rout dot gener java org apach camel view GraphGeneratorSupport generateFile GraphGeneratorSupport java org apach camel view graph gener support gener file graph gener support java org apach camel view GraphGeneratorSupport drawRoutes GraphGeneratorSupport java org apach camel view graph gener support draw rout graph gener support java org apach camel spring main generateDot main java org apach camel spring main gener dot main java org apach camel spring main postProcessContext main java org apach camel spring main post process context main java org apach camel spring main doStart main java org apach camel spring main start main java org apach camel impl ServiceSupport start ServiceSupport java org apach camel impl servic support start servic support java org apach camel spring main run main java org apach camel spring main run main java org apach camel spring main run main java org apach camel spring main run main java org apach camel spring main main main java org apach camel spring main main main java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org apach camel maven RunMojo run RunMojo java org apach camel maven run mojo run run mojo java java lang thread run thread java java lang thread run thread java error seem relat maven camel plugin fail gener dot file rout rout,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/BuilderSupport.java;camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/component/vm/VmComponent.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/model/ChoiceType.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/view/NodeData.java;camel-core/src/test/java/org/apache/camel/component/file/FileNoOpLockFileTest.java;camel-core/src/test/java/org/apache/camel/component/file/FilerProducerFileNamesTest.java;,0
551,Claus Ibsen,camel-core,0,File component - noop does not lock the file during processing, file compon noop not lock file process,The noop=true option does not lock the file during processing as it states in its class javadoc. The parameter is false. It should be true instead. public NoOpFileProcessStrategy() { super(false); }, noop true noop true option not lock file process state class javadoc javadoc paramet fals fals true instead instead public NoOpFileProcessStrategy No Op file process strategi super fals super fals,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/strategy/FileProcessStrategyFactory.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/NoOpFileProcessStrategy.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerFailureHandledTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileNoOpLockFileTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileProducerRenameStrategyTest.java;,0
552,Claus Ibsen,camel-spring,0,camel-spring is dependent on spring-aop, camel spring camel spring depend spring aop spring aop,&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aop&lt;/artifactId&gt; &lt;version&gt;${spring-version}&lt;/version&gt; &lt;/dependency&gt;is needed in pom.xml for camel-spring as its needed to let camel-spring component work out-of-the-box. Without it the camel-example-spring does not work and blows up with a ClassNotFoundException when you use camel:run, lt depend gt lt depend gt lt groupId gt org springframework lt groupId gt lt group Id gt org springframework lt group Id gt lt artifactId gt spring aop lt artifactId gt lt artifact Id gt spring aop lt artifact Id gt lt version gt spring version lt version gt lt version gt spring version lt version gt lt depend gt lt depend gt need pom xml pom xml camel spring camel spring need let camel spring camel spring compon work box box without camel exampl spring camel exampl spring not work blow ClassNotFoundException class not found except use camel run camel run,0,0,0,0,0,components/camel-spring/pom.xml;,0
574,Willem Jiang,null,0,Multicast default excecutor do not create the enough thread for parallel processing, multicast default excecutor not creat enough thread parallel process,When I added the loan broker example CAMEL-556  I found there is no performance improvement when using the parallelly mulitcast.After digging into to code  I found we should create the enough thread for the parallel processing., ad loan broker exampl CAMEL CAMEL found no perform improv use parallelli mulitcast mulitcast dig code found creat enough thread parallel process process,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;,0
581,Claus Ibsen,camel-core,0,CamelTemplate should clear endpoint cache when stopping, CamelTemplate camel templat clear endpoint cach stop,Only the producer cache is stopped and cleared // start and stop in camel template protected void doStart() throws Exception { producerCache.start(); } protected void doStop() throws Exception { producerCache.stop(); } // stop in producer cache protected void doStop() throws Exception { ServiceHelper.stopServices(producers.values()); producers.clear(); }, produc cach stop clear start stop camel templat protect void doStart start throw except producerCache start produc cach start protect void doStop stop throw except producerCache stop produc cach stop stop produc cach protect void doStop stop throw except ServiceHelper stopServices produc valu servic helper stop servic produc valu produc clear produc clear,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/dataset/DataSetEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultProducerTemplate.java;,0
582,Claus Ibsen,camel-core,0,JMX Instrumentation - PerformanceCounter - total processed, JMX instrument PerformanceCounter perform counter total process,William Tam  this one is for you The total processed time is not exposed to as a managed attribute. And it should be changed from double to long., william tam one total process time not expos manag attribut attribut chang doubl long long,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java;camel-core/src/main/java/org/apache/camel/management/PerformanceCounter.java;camel-core/src/test/java/org/apache/camel/component/file/FileProduceGeneratedFileNameTest.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingDefaultsTest.java;,0
593,Dave Brosius,camel-core,0,[patch] Make sure streams get closed, patch patch make sure stream get close,a couple places streams are opened and are not closed. patch fixes this., coupl place stream open not close close patch fix,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/converter/NIOConverter.java;camel-core/src/main/java/org/apache/camel/converter/ObjectConverter.java;camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;camel-core/src/main/java/org/apache/camel/model/RedeliveryPolicyType.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/main/java/org/apache/camel/util/PackageHelper.java;camel-core/src/main/java/org/apache/camel/util/ResolverUtil.java;,0
594,Jonathan Anstey,documentation; examples,0,Missing compile step in example readmes, miss compil step exampl readm,I noticed that some examples that are run via mvn exec:java require that the example be compiled first. I've updated the readmes to include this step..., notic exampl run via mvn exec java exec java requir exampl compil first first updat readm includ step step,0,1,0,0,0,examples/camel-example-cxf/README.txt;examples/camel-example-jms-file/README.txt;examples/camel-example-loan-broker/README.txt;examples/camel-example-spring-jms/README.txt;,0
596,Dave Brosius,camel-jms,0,[patch] postpone creating browsing strategy until and only if its needed, patch patch postpon creat brows strategi need,code creates queue browsing strategy even if not needed. patch pushes creation down to relevant branch., code creat queue brows strategi even not need need patch push creation relev branch branch,0,1,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;,0
613,Willem Jiang,jmx,0,Change the JMX default connetor's URL to avoid the confilict with the ActiveMQ or ServiceMix JMX default connector, chang JMX default connetor connetor URL avoid confilict ActiveMQ activ MQ ServiceMix servic mix JMX default connector,Since the Camel default JMX connector's URL is same with ActiveMQ and ServiceMix default JMX Connector URL  we need to change it to avoid the conflict., sinc camel default JMX connector connector URL ActiveMQ activ MQ ServiceMix servic mix default JMX connector URL need chang avoid conflict conflict,0,0,0,0,0,camel-core/pom.xml;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/impl/DefaultRouteContext.java;camel-core/src/main/java/org/apache/camel/impl/DelegateLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/DefaultInstrumentationAgent.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationErrorHandlerWrappingStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java;camel-core/src/main/java/org/apache/camel/management/JmxSystemPropertyKeys.java;camel-core/src/main/java/org/apache/camel/model/AggregatorType.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/model/ResequencerType.java;camel-core/src/main/java/org/apache/camel/processor/BatchProcessor.java;camel-core/src/main/java/org/apache/camel/spi/ErrorHandlerWrappingStrategy.java;camel-core/src/main/java/org/apache/camel/spi/InstrumentationAgent.java;camel-core/src/main/java/org/apache/camel/spi/LifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/spi/RouteContext.java;camel-core/src/test/java/org/apache/camel/builder/ErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/builder/RouteBuilderTest.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationDisableTest.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingDefaultsTest.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingPlatformMBSTest.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingPropertiesTest.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationWithConnectorTest.java;components/camel-atom/pom.xml;components/camel-csv/pom.xml;components/camel-ftp/pom.xml;components/camel-http/pom.xml;components/camel-jcr/pom.xml;components/camel-jdbc/pom.xml;components/camel-jetty/pom.xml;components/camel-josql/pom.xml;components/camel-juel/pom.xml;components/camel-mina/pom.xml;components/camel-ognl/pom.xml;components/camel-quartz/pom.xml;components/camel-rmi/pom.xml;components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelJMXAgentType.java;components/camel-spring/src/main/java/org/apache/camel/spring/SpringInstrumentationAgent.java;components/camel-spring/src/test/java/org/apache/camel/spring/DefaultJMXAgentTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/DisableJmxAgentTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/DummyLifecycleStrategy.java;components/camel-spring/src/test/java/org/apache/camel/spring/JMXAgentTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/managment/CamelChoiceWithManagementTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/managment/JmxInstrumentationWithConnectorTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/defaultJmxConfig.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/disableJmxConfig.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/jmxConfig.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/management/jmxInstrumentationWithConnector.xml;components/camel-sql/pom.xml;components/camel-stream/pom.xml;components/camel-xmlbeans/pom.xml;components/camel-xmpp/pom.xml;components/camel-xstream/pom.xml;components/camel-spring/src/test/java/org/apache/camel/spring/JMXAgentTest.java;camel-core/src/main/java/org/apache/camel/management/DefaultInstrumentationAgent.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationWithConnectorTest.java;,0
615,Hadrian Zbarcea,camel-velocity,0,Headers should be modifiable using velocity templates, header modifi use veloc templat,See context at:http://www.nabble.com/Exchange-headers-in-velocity-td17916457s22882.html, see context http www nabbl com exchang header veloc td html http www nabbl com exchang header veloc td html,0,0,0,0,0,components/camel-velocity/src/main/java/org/apache/camel/component/velocity/VelocityEndpoint.java;components/camel-velocity/src/test/java/org/apache/camel/component/velocity/FruitFilter.java;components/camel-velocity/src/test/java/org/apache/camel/component/velocity/VelocitySetHeaderTest.java;components/camel-velocity/src/test/resources/org/apache/camel/component/velocity/AppleTemplate.vm;components/camel-velocity/src/test/resources/org/apache/camel/component/velocity/OrangeTemplate.vm;components/camel-velocity/src/test/resources/org/apache/camel/component/velocity/camel-context.xml;components/camel-velocity/pom.xml;,0
620,William Tam,camel-core,0,ResequencerType.createProcessor could throw NPE as stream config does not get initialized., ResequencerType createProcessor resequenc type creat processor could throw NPE stream config not get initi initi,java.lang.NullPointerException at org.apache.camel.model.ResequencerType.createStreamResequencer(ResequencerType.java:198) at org.apache.camel.model.ResequencerType.createProcessor(ResequencerType.java:163) at org.apache.camel.model.ProcessorType.createOutputsProcessor(ProcessorType.java:1584) at org.apache.camel.model.ProcessorType.createOutputsProcessor(ProcessorType.java:93) at org.apache.camel.model.InterceptorRef.createProcessor(InterceptorRef.java:61) at org.apache.camel.model.ProcessorType.makeProcessor(ProcessorType.java:1471) at org.apache.camel.model.ProcessorType.addRoutes(ProcessorType.java:97) at org.apache.camel.model.RouteType.addRoutes(RouteType.java:210) at org.apache.camel.model.RouteType.addRoutes(RouteType.java:80) at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:462) at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:454) at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:47) at org.apache.camel.ContextTestSupport.startCamelContext(ContextTestSupport.java:108) at org.apache.camel.ContextTestSupport.setUp(ContextTestSupport.java:81) at org.apache.camel.processor.ResequencerTest.setUp(ResequencerTest.java:48) at junit.framework.TestCase.runBare(TestCase.java:128) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:120) at junit.framework.TestSuite.runTest(TestSuite.java:230) at junit.framework.TestSuite.run(TestSuite.java:225) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196), java lang NullPointerException java lang null pointer except org apach camel model ResequencerType createStreamResequencer ResequencerType java org apach camel model resequenc type creat stream resequenc resequenc type java org apach camel model ResequencerType createProcessor ResequencerType java org apach camel model resequenc type creat processor resequenc type java org apach camel model ProcessorType createOutputsProcessor ProcessorType java org apach camel model processor type creat output processor processor type java org apach camel model ProcessorType createOutputsProcessor ProcessorType java org apach camel model processor type creat output processor processor type java org apach camel model InterceptorRef createProcessor InterceptorRef java org apach camel model interceptor ref creat processor interceptor ref java org apach camel model ProcessorType makeProcessor ProcessorType java org apach camel model processor type make processor processor type java org apach camel model ProcessorType addRoutes ProcessorType java org apach camel model processor type add rout processor type java org apach camel model RouteType addRoutes RouteType java org apach camel model rout type add rout rout type java org apach camel model RouteType addRoutes RouteType java org apach camel model rout type add rout rout type java org apach camel impl DefaultCamelContext startRouteDefinitions DefaultCamelContext java org apach camel impl default camel context start rout definit default camel context java org apach camel impl DefaultCamelContext doStart DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel impl ServiceSupport start ServiceSupport java org apach camel impl servic support start servic support java org apach camel ContextTestSupport startCamelContext ContextTestSupport java org apach camel context test support start camel context context test support java org apach camel ContextTestSupport setUp ContextTestSupport java org apach camel context test support set context test support java org apach camel processor ResequencerTest setUp ResequencerTest java org apach camel processor resequenc test set resequenc test java junit framework TestCase runBare TestCase java junit framework test case run bare test case java junit framework TestResult protect TestResult java junit framework test result protect test result java junit framework TestResult runProtected TestResult java junit framework test result run protect test result java junit framework TestResult run TestResult java junit framework test result run test result java junit framework TestCase run TestCase java junit framework test case run test case java junit framework TestSuite runTest TestSuite java junit framework test suit run test test suit java junit framework TestSuite run TestSuite java junit framework test suit run test suit java org eclips jdt intern junit runner junit JUnit TestReference run JUnit TestReference java org eclips jdt intern junit runner junit unit test refer run unit test refer java org eclips jdt intern junit runner TestExecution run TestExecution java org eclips jdt intern junit runner test execut run test execut java org eclips jdt intern junit runner RemoteTestRunner runTests RemoteTestRunner java org eclips jdt intern junit runner remot test runner run test remot test runner java org eclips jdt intern junit runner RemoteTestRunner runTests RemoteTestRunner java org eclips jdt intern junit runner remot test runner run test remot test runner java org eclips jdt intern junit runner RemoteTestRunner run RemoteTestRunner java org eclips jdt intern junit runner remot test runner run remot test runner java org eclips jdt intern junit runner RemoteTestRunner main RemoteTestRunner java org eclips jdt intern junit runner remot test runner main remot test runner java,1,1,0,0,0,camel-core/src/main/java/org/apache/camel/model/ResequencerType.java;camel-core/src/test/java/org/apache/camel/processor/ResequencerTest.java;camel-core/src/test/java/org/apache/camel/processor/StreamResequencerTest.java;,0
621,Claus Ibsen,camel-core,0,File component - file rename pattern to support patterns such as date time etc., file compon file renam pattern support pattern date time etc etc,A very common use case is to copy received messages into files stored in a backup folder with sub folders named with the date pattern etc., common use case copi receiv messag file store backup folder sub folder name date pattern etc etc,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/strategy/FileExpressionRenamer.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileLanguageRenamer.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileProcessStrategyFactory.java;camel-core/src/main/java/org/apache/camel/language/simple/FileExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/language/simple/FileLanguage.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguage.java;camel-core/src/test/java/org/apache/camel/component/file/FileProducerExpressionTest.java;camel-core/src/test/java/org/apache/camel/language/FileLanguageTest.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/component/file/FileComponent.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/FileProducer.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/DefaultFileRenamer.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileLanguageRenamer.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileProcessStrategyFactory.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileProcessStrategySupport.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileRenamer.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/RenameFileProcessStrategy.java;camel-core/src/main/java/org/apache/camel/language/bean/BeanLanguage.java;camel-core/src/main/java/org/apache/camel/language/simple/AbstractSimpleLanguage.java;camel-core/src/main/java/org/apache/camel/language/simple/FileExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/language/simple/FileLanguage.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguage.java;camel-core/src/main/resources/META-INF/services/org/apache/camel/language/file;camel-core/src/test/java/org/apache/camel/TestSupport.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerExpressionTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileExclusiveReadTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileProducerExpressionTest.java;camel-core/src/test/java/org/apache/camel/language/FileLanguageTest.java;camel-core/src/test/java/org/apache/camel/language/SimpleTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpExclusiveReadTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpNoFilesTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpNonExclusiveReadTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerBuildDirectoryTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerBuildPartOfDirectoryTest.java;,0
627,Claus Ibsen,camel-core,0,JMX Instrumentation - PerformanceCounter - last processed timestamp when failed, JMX instrument PerformanceCounter perform counter last process timestamp fail,I thought about another real life use case we have at work once in a while.a) when was the last time the integration worked?b) when was the last time the integration was invoked?We do have option a covered now with lastExchangeCompletionTime.However I would like another timestamp for lastExchangeTime that is just a record the last time it was processed (even if it failed).PS: At work we do have to grep through logfiles in our legacy EIP platform., thought anoth real life use case work last time integr work work last time integr invok invok option cover lastExchangeCompletionTime howev last exchang complet time howev would like anoth timestamp lastExchangeTime last exchang time record last time process even fail PS fail PS work grep logfil legaci EIP platform platform,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationErrorHandlerWrappingStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationInterceptStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java;camel-core/src/main/java/org/apache/camel/management/PerformanceCounter.java;examples/camel-example-spring-jms/src/main/resources/META-INF/spring/camel-server-aop.xml;examples/camel-example-spring-jms/src/main/resources/META-INF/spring/camel-server.xml;examples/camel-example-spring-jms/src/main/resources/camel-client-remoting.xml;examples/camel-example-spring-jms/src/main/resources/camel-client.xml;camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;,0
634,Marat Bedretdinov,camel-core; camel-jms,0,DeadLetterChannel default redelivery policy eclipsed expected transactional behaviour in a transacted route, DeadLetterChannel dead letter channel default redeliveri polici eclips expect transact behaviour transact rout,Camel routes get a DLC processor with a redelivery policy  which defaults to redeliverying a message to a destination processor up to 6 times. In case of a transacted route it is preferable that DLC's delivery policy be reset to a single attempt  so that a fan-out transacted route would not hold tx locks on destinations for too long. The DLC's default redelivery policy has also made transactional tests not really testing tx behavior of Camel Components backed runtimes (jms brokers  etc)  rather DLC would catch the exception and try to redeliver the message to destination processor and not letting the components to rollback native transactions initiated by components backed runtimes (jms  db)The attached patch installs a property into Camel Exchange that indicates weather a route is transacted. This is done in org.apache.camel.spring.spi.TransactionInterceptor.javaDLC then checks if the flow is transacted and sets its redelivery policy to 1With this change JMS transactions are actually rolled back and messages are put back into the queue and then consumed again  verifying that brokers support transactions and can redeliver messages into Camel routes that were previously rolled back., camel rout get DLC processor redeliveri polici default redeliveri messag destin processor time time case transact rout prefer DLC DLC deliveri polici reset singl attempt fan fan transact rout would not hold tx lock destin long long DLC DLC default redeliveri polici also made transact test not realli test tx behavior camel compon back runtim jm broker etc etc rather DLC would catch except tri redeliv messag destin processor not let compon rollback nativ transact initi compon back runtim jm db db attach patch instal properti camel exchang indic weather rout transact transact done org apach camel spring spi TransactionInterceptor javaDLC org apach camel spring spi transact interceptor java DLC check flow transact set redeliveri polici chang JMS transact actual roll back messag put back queue consum verifi broker support transact redeliv messag camel rout previous roll back back,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/ExchangeProperty.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchange.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/test/java/org/apache/camel/ExchangePropertyTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/ConditionalExceptionProcessor.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToQueueRequestReplyTransactionTest.java;components/camel-spring/pom.xml;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionInterceptor.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/BookService.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/transactionalClientDataSource.xml;,0
636,Claus Ibsen,camel-core,0,ResolverUtil can't resolve converter annotations in WebSphere 6.1, ResolverUtil resolv util resolv convert annot WebSphere web sphere,I have a simple hello world file based ESB that scans a folder for files  invoke a POJO and store the output as a file in another folder.Deployed as a WAR file in WebSphere it seems as if Camel 1.4-SNAPSHOT can not load the converters needed to converter to String to InputStream for the FileProducer when it is about to store the file.The logging output where the ResolverUtil can't find the annotated converters in camel jar itself[06-25 13:31:23] DEBUG ResolverUtil [Thread: 1 org.apache.camel.component.file.FileComponent@7ade7ade]: Searching for annotations of org.apache.camel.Converter in packages: [org.apache.camel.spring.converter  org.apache.camel.converter][06-25 13:31:23] DEBUG ResolverUtil [Thread: 1 org.apache.camel.component.file.FileComponent@7ade7ade]: Found: []And the stacktrace:org.apache.camel.InvalidPayloadException: No in body available of type: java.io.InputStream but has value: This is important work/temp/camel/in/README.txtDone by me. of type: java.lang.String on: Message: This is important work/temp/camel/in/README.txtDone by me. on the exchange: Exchange[Message: This is important work/temp/camel/in/README.txtDone by me.] at org.apache.camel.util.ExchangeHelper.getMandatoryInBody(ExchangeHelper.java:127) at org.apache.camel.component.file.FileProducer.process(FileProducer.java:67) at org.apache.camel.component.file.FileProducer.process(FileProducer.java:55) at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:43) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:75) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:57) at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:146), simpl hello world file base ESB scan folder file invok POJO store output file anoth folder deploy folder deploy WAR file WebSphere web sphere seem camel SNAPSHOT SNAPSHOT not load convert need convert string InputStream input stream FileProducer file produc store file file log output ResolverUtil resolv util find annot convert camel jar DEBUG ResolverUtil resolv util thread thread org apach camel compon file FileComponent ade ade org apach camel compon file file compon ade ade search annot org apach camel convert org apach camel convert packag packag org apach camel spring convert org apach camel spring convert org apach camel convert org apach camel convert DEBUG ResolverUtil resolv util thread thread org apach camel compon file FileComponent ade ade org apach camel compon file file compon ade ade found found stacktrac org apach camel InvalidPayloadException stacktrac org apach camel invalid payload except No bodi avail type type java io InputStream java io input stream valu valu import work temp camel README txtDone work temp camel README txt done type type java lang string java lang string messag messag import work temp camel README txtDone work temp camel README txt done exchang exchang exchang messag exchang messag import work temp camel README txtDone work temp camel README txt done org apach camel util ExchangeHelper getMandatoryInBody ExchangeHelper java org apach camel util exchang helper get mandatori bodi exchang helper java org apach camel compon file FileProducer process FileProducer java org apach camel compon file file produc process file produc java org apach camel compon file FileProducer process FileProducer java org apach camel compon file file produc process file produc java org apach camel impl convert AsyncProcessorTypeConverter ProcessorToAsyncProcessorBridge process AsyncProcessorTypeConverter java org apach camel impl convert async processor type convert processor async processor bridg process async processor type convert java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel processor DeadLetterChannel process DeadLetterChannel java org apach camel processor dead letter channel process dead letter channel java,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/util/WebSphereResolverUtil.java;camel-core/src/main/java/org/apache/camel/util/ResolverUtil.java;camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/util/ResolverUtil.java;camel-core/src/main/java/org/apache/camel/util/WebSphereResolverUtil.java;,0
642,Willem Jiang,camel-jms,0,jms aggregation does not work, jm aggreg not work,I found this issue when I test Camel 1.4.0 RC2 kit  I just add a test case to show the error.https://svn.apache.org/repos/asf/activemq/camel/trunk/components/camel-jms/src/test/java/org/apache/camel/component/jms/AggregratedJmsRouteTest.javaYou can reproduce the error if you remove the x character from xtestJmsMulticastAndAggregration() method.BTW the test case works with the Camel 1.4.0 RC1., found issu test camel RC RC kit add test case show error http svn apach org repo asf activemq camel trunk compon camel jm src test java org apach camel compon jm AggregratedJmsRouteTest javaYou error http svn apach org repo asf activemq camel trunk compon camel jm src test java org apach camel compon jm aggregr jm rout test java reproduc error remov charact xtestJmsMulticastAndAggregration xtest jm multicast aggregr method BTW method BTW test case work camel RC RC,0,1,0,1,0,examples/camel-example-loan-broker/src/main/java/org/apache/camel/loanbroker/queue/version/Bank.java;examples/camel-example-loan-broker/src/main/java/org/apache/camel/loanbroker/queue/version/BankResponseAggregationStrategy.java;examples/camel-example-loan-broker/src/main/java/org/apache/camel/loanbroker/queue/version/Client.java;examples/camel-example-loan-broker/src/main/java/org/apache/camel/loanbroker/queue/version/LoanBroker.java;apache-camel/bundle/pom.xml;apache-camel/pom.xml;examples/camel-example-loan-broker/src/main/java/org/apache/camel/loanbroker/queue/version/LoanBroker.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/AggregratedJmsRouteTest.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultRouteContext.java;camel-core/src/main/java/org/apache/camel/model/AggregatorType.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/main/java/org/apache/camel/spi/RouteContext.java;components/camel-jdbc/pom.xml;components/camel-jms/src/test/java/org/apache/camel/component/jms/AggregratedJmsRouteTest.java;,0
652,Willem Jiang,examples,0,camel-cxf example build.xml is out of date, camel cxf camel cxf exampl build xml build xml date,Need to update the build.xml of example-camel-cxf to support run the examples of camel transport and web service provider API., need updat build xml build xml exampl camel cxf exampl camel cxf support run exampl camel transport web servic provid API API,0,0,0,0,0,examples/camel-example-cxf/README.txt;examples/camel-example-cxf/build.xml;,0
653,Bruce Elmore,camel-jms,0,Bean method lost when sending a message from one JMS queue to another, bean method lost send messag one JMS queue anoth,I noticed a problem in JmsBinding.java. If Camel has read a JMS message from a queue and that message has a bean method specified in the header ('org.apache.camel.MethodName')  the method header will removed if that message is written to another queue. Here's the offending code:  protected boolean shouldOutputHeader(org.apache.camel.Message camelMessage  String headerName   Object headerValue) { return headerValue != null &amp;&amp; !getIgnoreJmsHeaders().contains(headerName) &amp;&amp; ObjectHelper.isJavaIdentifier(headerName); } 'org.apache.camel.MethodName' fails the check isJavaIdentifier and is excluded from the headers written to the new message. I'm not sure the purpose of this check  but this might be an unintended side effect. The call chain is something like this: JmsProducer.process JmsBinding.makeJmsMessage JmsBinding.appendJmsProperties JmsBinding.shouldOutputHeader Update: Experimenting later with WebLogic's JMS  I noticed that WebLogic (9.2) does not allow this header name. Maybe this was the original motivation for this check. In order to be compatible with WebLogic  perhaps the method header name should changed to something like 'CamelMethod'. I believe this would correct both problems., notic problem JmsBinding java jm bind java camel read JMS messag queue messag bean method specifi header org apach camel MethodName org apach camel method name method header remov messag written anoth queue queue offend code code protect boolean shouldOutputHeader org apach camel messag output header org apach camel messag camelMessage camel messag string headerName header name object headerValue header valu return headerValue header valu null amp amp amp amp getIgnoreJmsHeaders contain headerName get ignor jm header contain header name amp amp amp amp ObjectHelper isJavaIdentifier headerName object helper java identifi header name org apach camel MethodName org apach camel method name fail check isJavaIdentifier java identifi exclud header written new messag messag not sure purpos check might unintend side effect effect call chain someth like JmsProducer process jm produc process JmsBinding makeJmsMessage jm bind make jm messag JmsBinding appendJmsProperties jm bind append jm properti JmsBinding shouldOutputHeader jm bind output header updat updat experi later WebLogic web logic JMS notic WebLogic web logic not allow header name name mayb origin motiv check check order compat WebLogic web logic perhap method header name chang someth like CamelMethod camel method believ would correct problem problem,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessage.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsBeanMethodHeaderTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsFilenameHeaderTest.java;,0
656,Claus Ibsen,documentation,0,Component documentation - needs overhaul  check for missing options  add more samples java/spring  etc, compon document need overhaul check miss option add sampl java spring java spring etc,Our extensive list of components needs to be checked for its state of current documentation standard in the wiki.The should be checked for options headers they use/set pitfalls samples both java and spring XML see also etcAnd whats the difference / relation to similar component (the http ones  the sql ones etc.), extens list compon need check state current document standard wiki wiki check option header use set use set pitfal sampl java spring XML see also etcAnd etc what differ relat similar compon http one sql one etc etc,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/direct/DirectEndpoint.java;camel-core/src/main/java/org/apache/camel/component/direct/DirectProducer.java;camel-core/src/test/java/org/apache/camel/component/direct/DirectNoMultipleConsumersTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaConsumerTest.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSet.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetConsumer.java;camel-core/src/main/java/org/apache/camel/component/timer/TimerConsumer.java;camel-core/src/main/java/org/apache/camel/model/AggregatorType.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanComponent.java;camel-core/src/test/java/org/apache/camel/component/pojo/PojoRouteTest.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaPayloadHolder.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaClientServerTest.java;camel-core/src/test/java/org/apache/camel/component/ref/RefComponentTest.java;camel-core/src/main/java/org/apache/camel/component/log/LogComponent.java;camel-core/src/main/java/org/apache/camel/processor/Logger.java;camel-core/src/test/java/org/apache/camel/component/log/ThroughputLoggerTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailComponent.java;camel-core/src/main/java/org/apache/camel/component/list/ListEndpoint.java;camel-core/src/main/java/org/apache/camel/component/timer/TimerConsumer.java;camel-core/src/test/java/org/apache/camel/component/file/FileAsyncRouteTest.java;camel-core/src/test/java/org/apache/camel/component/list/ListRouteTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/bind/BeanAsEndpointTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/bind/ExampleBean.java;components/camel-spring/src/test/resources/org/apache/camel/spring/bind/beanAsEndpoint.xml;,0
663,james strachan,camel-core; camel-spring,0,create a TransactionErrorHandler so you can easily  use a transaction & rollback on a route - with redeliveryDelay to just fail the route if it can't be processed, creat TransactionErrorHandler transact error handler easili use transact rollback rout redeliveryDelay redeliveri delay fail rout process,,,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java;components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionInterceptor.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceWithDefaultErrorHandlerTest.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionInterceptor.java;,0
668,Claus Ibsen,null,0,Transactional Client - Setting Spring Policy is a bit cumbersome in the XML, transact client set spring polici bit cumbersom XML,Currently you have to setup the transaction demarcation in the spring xml file as: &lt;bean id='PROPAGATION_REQUIRED' class='org.apache.camel.spring.spi.SpringTransactionPolicy'&gt; &lt;constructor-arg&gt; &lt;bean class='org.springframework.transaction.support.TransactionTemplate'&gt; &lt;property name='transactionManager' ref='jmsTransactionManager'/&gt; &lt;/bean&gt; &lt;/constructor-arg&gt; &lt;/bean&gt;to be able to use the policy from XML directly in the tag: &lt;camel:policy ref='PROPAGATION_REQUIRED'/&gt;We should support a neater syntax without the nested bean and constructor args., current setup transact demarc spring xml file lt bean lt bean id PROPAGATION_REQUIRED id PROPAGATION REQUIRED class org apach camel spring spi SpringTransactionPolicy gt class org apach camel spring spi spring transact polici gt lt constructor arg gt lt constructor arg gt lt bean lt bean class org springframework transact support TransactionTemplate gt class org springframework transact support transact templat gt lt properti lt properti name transactionManager name transact manag ref jmsTransactionManager gt ref jm transact manag gt lt bean gt lt bean gt lt constructor arg gt lt constructor arg gt lt bean gt lt bean gt abl use polici XML directli tag tag lt camel polici lt camel polici ref PROPAGATION_REQUIRED gt ref PROPAGATION REQUIRED gt support neater syntax without nest bean constructor arg arg,0,0,1,0,0,components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/transactionalClientDataSource.xml;components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java;,0
684,Gert Vanthienen,null,0,Upgrade Geronimo specs to 1.1.1 when available, upgrad geronimo spec avail,We should upgrade to the 1.1.1 version of the different Geronimo specs jar &#8211; they include the necessary OSGi metadata., upgrad version differ geronimo spec jar includ necessari OSGi OS Gi metadata metadata,0,0,0,0,0,components/camel-bam/pom.xml;pom.xml;,0
686,Claus Ibsen,camel-cxf,0,CXF - Feedback from Eduard on problems with CXF over JMS, CXF feedback eduard problem CXF JMS,See user forum:http://www.nabble.com/Fwd%3A-Using-Apache-Camel-as-Transport-for-Apache-CXF-with-SOAP-over-JMS-td18314917s22882.html, see user forum http www nabbl com fwd use apach camel transport apach CXF SOAP JMS td html forum http www nabbl com fwd use apach camel transport apach CXF SOAP JMS td html,0,0,0,0,0,tests/camel-itest/pom.xml;tests/camel-itest/src/main/resources/META-INF/LICENSE.txt;tests/camel-itest/src/main/resources/META-INF/NOTICE.txt;tests/camel-itest/src/test/java/org/apache/camel/itest/customerrelations/CustomerServiceV1Impl.java;tests/camel-itest/src/test/java/org/apache/camel/itest/customerrelations/CustomerServicesTest.java;tests/camel-itest/src/test/resources/commons-logging.properties;tests/camel-itest/src/test/resources/spring-config/client-applicationContext.xml;tests/camel-itest/src/test/resources/spring-config/jms-applicationContext.xml;tests/camel-itest/src/test/resources/spring-config/server-applicationContext.xml;tests/camel-itest/src/test/resources/wsdl/CustomerService-1.0.0.wsdl;tests/camel-itest/src/test/resources/xsd/Address.xsd;tests/camel-itest/src/test/resources/xsd/Customer.xsd;tests/camel-itest/src/test/resources/xsd/Gender.xsd;tests/camel-itest/src/test/resources/xsd/Person.xsd;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelConduit.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelDestination.java;,0
688,Freeman Fang,null,0,process method of should check ExchnagePAttern before setting out, process method check ExchnagePAttern exchnag attern set,,,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/language/bean/BeanExpression.java;camel-core/src/main/java/org/apache/camel/util/ResolverUtil.java;camel-core/src/main/java/org/apache/camel/util/WebSphereResolverUtil.java;camel-core/src/test/java/org/apache/camel/component/bean/NewInstanceTest.java;camel-core/src/test/java/org/apache/camel/component/direct/DirectNoToTypeTest.java;camel-core/src/test/java/org/apache/camel/language/BeanTest.java;camel-core/src/test/java/org/apache/camel/processor/MethodFilterTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/DummyOrder.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsBeanMethodHeaderTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsConcurrentConsumersTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsHeaderAsObjectTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsRedeliveryWithInitialRedeliveryDelayTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/temp/TemporaryQueueRouteTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/bind/BeanAsEndpointTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/MyFailureProcessor.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/test/java/org/apache/camel/component/file/BeanToFileTest.java;,0
696,Claus Ibsen,camel-core,0,ProducerTemplate doenst honor exchange pattern when it extracts the result, ProducerTemplate produc templat doenst honor exchang pattern extract result,The code the extracts the result that is returned when you use the sendXXX  requestXXX methods on the producer template doens't honor the exchange pattern. protected Object extractResultBody(E result) { Object answer = null; if (result != null) { Message out = result.getOut(false); if (out != null) { answer = out.getBody(); } else { answer = result.getIn().getBody(); } } return answer; }It defaults to preferring out messages all the time. But in some circumstances the out body could be set to null but the real response is in the in body.Setting the exchange pattern to InOnly doesn't honor this.Maybe this ticket is a symptom of the MEP problem that we have in Camel. See the discussion on the dev forum., code extract result return use sendXXX send XXX requestXXX request XXX method produc templat doen doen honor exchang pattern pattern protect object extractResultBody extract result bodi result result object answer null null result null null messag result getOut fals result get fals null null answer getBody get bodi els answer result getIn getBody result get get bodi return answer answer default prefer messag time time circumst bodi could set null real respons bodi set bodi set exchang pattern InOnly honor mayb mayb ticket symptom MEP problem camel camel see discuss dev forum forum,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultProducerTemplate.java;,0
697,Claus Ibsen,camel-core,0,transform() doesnt propogate headers, transform transform doesnt propog header,The new transform() DSL doesn't propogate headers so you can not do: from('direct:four') .transform().constant('London') .to('mock:result');And expect that any headers on the exchange at direct:four is received after the transform, new transform transform DSL propog header not direct four direct four transform constant london transform constant london mock result mock result expect header exchang direct four direct four receiv transform,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/processor/TransformProcessor.java;camel-core/src/test/java/org/apache/camel/processor/TransformProcessorWithHeaderTest.java;,0
707,Claus Ibsen,camel-core,0,JMX Instrumentation - Nodeid can be null, JMX instrument nodeid null,The processors that is registered in JMX can have null in their id. So the JMX path is processor -&gt; null -&gt; 0.Either we should replace null with unknown as we do for endpoints. Or try to fix that the id is generated., processor regist JMX null id id JMX path processor gt gt null gt gt either either replac null unknown endpoint endpoint tri fix id gener gener,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/test/java/org/apache/camel/management/MultiInstanceProcessorTest.java;camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;,0
709,Claus Ibsen,camel-cxf,0,CXF - Easier use for end-user to retreive POJO data, CXF easier use end user end user retreiv POJO data,I am working on a web app example that uses CXF to expose a webservice.During the process I thought that getting my POJO object (InputReportIncident) was a bit clumsy as I had to do; MessageContentsList list = exchange.getIn().getBody(MessageContentsList.class); InputReportIncident in = (InputReportIncident) list.get(0);So I have created a patch that improves the getBody to be more end-user friendly.You can now do  as you always do in Camel: InputReportIncident in = exchange.getIn().getBody(InputReportIncident.class);Just cast it to what you expect and want to work with.InputReportIncident is a POJO object generated by the CXF wsdl2java generator.Willem could you take a look? Maybe I have misunderstood the CXF and there is a easier way already. But I don't like the need to get the List and then get (0) to get my POJO.Sending the response is already supported nicely: // the response OutputReportIncident out = new OutputReportIncident(); out.setCode('Bye Claus'); exchange.getOut().setBody(out);, work web app exampl use CXF expos webservic webservic process thought get POJO object InputReportIncident input report incid bit clumsi MessageContentsList messag content list list exchang getIn getBody MessageContentsList class exchang get get bodi messag content list class InputReportIncident input report incid InputReportIncident input report incid list get list get creat patch improv getBody get bodi end user end user friendli friendli alway camel camel InputReportIncident input report incid exchang getIn getBody InputReportIncident class exchang get get bodi input report incid class cast expect want work InputReportIncident input report incid POJO object gener CXF wsdl java wsdl java gener willem gener willem could take look look mayb misunderstood CXF easier way alreadi alreadi like need get list get get POJO send POJO send respons alreadi support nice nice respons OutputReportIncident output report incid new OutputReportIncident output report incid setCode bye set code bye clau clau exchang getOut setBody exchang get set bodi,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/impl/MessageSupport.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfMessage.java;,0
713,Claus Ibsen,camel-core,0,FileProducer - consumes file instead of producing!, FileProducer file produc consum file instead produc produc,The strange code in the FileProducer that if the exchange is out capable it will poll the file instead bites us big time.James must have had a beer and a fancy moment when he created the code. Something with a dynamic receipentlist where the endpoints should be polled from a file but the expression uses a Producer when the endpoints is created. For the file it should consume instead but it doesn't. Any basically it should consume instead.It also bites us when we send an InOut exchange to the FileProducer it will not produce the file but consume it and there is no file so nothing happens.This codepublic class FileBackupTest extends ContextTestSupport { public void testMailGeneration() throws Exception { MockEndpoint mock = getMockEndpoint('mock:result'); mock.expectedMessageCount(1); template.requestBody('seda:mails'  'Hello World'); mock.assertIsSatisfied(); } protected RouteBuilder createRouteBuilder() throws Exception { return new RouteBuilder() { public void configure() throws Exception { from('seda:mails') .to('file:target/mails') .to('mock:result'); } }; }Would not create a file in target/mails folder as we are using template.request that is an InOut MEP.I will fix it by removing the strange consumer code in the FileProducer and change the fancy dynamic recepientlist test (SimulatorTest)  to not use file based endpoints.It could be a blocker for the 1.4 release and we should consider creating a new RC!, strang code FileProducer file produc exchang capabl poll file instead bite us big time jame time jame must beer fanci moment creat code code someth dynam receipentlist endpoint poll file express use produc endpoint creat creat file consum instead basic consum instead instead also bite us send InOut exchang FileProducer file produc not produc file consum no file noth happen happen codepubl class FileBackupTest file backup test extend ContextTestSupport context test support public void testMailGeneration test mail gener throw except MockEndpoint mock endpoint mock getMockEndpoint mock result get mock endpoint mock result mock expectedMessageCount mock expect messag count templat requestBody seda mail templat request bodi seda mail hello hello world world mock assertIsSatisfied mock assert satisfi protect RouteBuilder rout builder createRouteBuilder creat rout builder throw except return new RouteBuilder rout builder public void configur configur throw except seda mail seda mail file target mail file target mail mock result mock result would would not creat file target mail target mail folder use templat request templat request InOut MEP MEP fix remov strang consum code FileProducer file produc chang fanci dynam recepientlist test SimulatorTest simul test not use file base endpoint endpoint could blocker releas consid creat new RC RC,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/file/FileComponent.java;camel-core/src/main/java/org/apache/camel/component/file/FileComponent.java;camel-core/src/main/java/org/apache/camel/component/file/FileProducer.java;camel-core/src/test/java/org/apache/camel/component/file/FileHeaderFileNameProducedTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileMEPInOutTest.java;camel-core/src/test/java/org/apache/camel/processor/SimulatorTest.java;,0
714,Claus Ibsen,null,0,Change default DeadLetterChannel strategy in Camel, chang default DeadLetterChannel dead letter channel strategi camel,The current DLC strategy in Camel is to retry 6 times with 1 sec delay. If still failed it will be moved to a log WARN.This default behavior is not feasible for most end-users  in fact none. We should have a better default strategy in Camel.Also we should force end-users to setup a strategy from the start.And we should improve this in the documentation so end-users is aware of this., current DLC strategi camel retri time sec delay delay still fail move log WARN WARN default behavior not feasibl end user end user fact none none better default strategi camel also camel also forc end user end user setup strategi start start improv document end user end user awar,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/BuilderSupport.java;camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchange.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/processor/DefaultErrorHandler.java;camel-core/src/test/java/org/apache/camel/builder/BuilderWithScopesTest.java;camel-core/src/test/java/org/apache/camel/builder/ErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/builder/ExceptionBuilderTest.java;camel-core/src/test/java/org/apache/camel/builder/ExceptionBuilderWithHandledExceptionTest.java;camel-core/src/test/java/org/apache/camel/builder/InterceptorBuilderWithEndTest.java;camel-core/src/test/java/org/apache/camel/builder/RouteBuilderTest.java;camel-core/src/test/java/org/apache/camel/issues/ExceptionTest.java;camel-core/src/test/java/org/apache/camel/issues/RomeksExceptionTest.java;camel-core/src/test/java/org/apache/camel/management/ExceptionWithManagementTest.java;camel-core/src/test/java/org/apache/camel/processor/BeanWithExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/DeadLetterChannelExceptionCausePropagatedTest.java;camel-core/src/test/java/org/apache/camel/processor/DefaultErrorHandlerExplicitConfiguredTest.java;camel-core/src/test/java/org/apache/camel/processor/DefaultErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/MulticastStreamCachingTest.java;camel-core/src/test/java/org/apache/camel/processor/RedeliveryPolicyPerExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/ResequencerTest.java;camel-core/src/test/java/org/apache/camel/processor/StreamResequencerTest.java;camel-core/src/test/java/org/apache/camel/processor/StreamSourceContentBasedRouterTest.java;camel-core/src/test/java/org/apache/camel/processor/ThreadTest.java;camel-core/src/test/java/org/apache/camel/processor/TraceableUnitOfWorkTest.java;camel-core/src/test/java/org/apache/camel/processor/ValidatingProcessorTest.java;camel-core/src/test/java/org/apache/camel/processor/ValidationWithExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/ValidationWithHandlePipelineAndExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/ValidationWithInFlowExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/exceptionpolicy/DefaultExceptionPolicyStrategyUsingWhenTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/WsdlFirstBeans.xml;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/WsdlFirstBeansPayloadMode.xml;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsXMLRouteTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/AbstractTransactionTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToProcessorTransactionTest.java;components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/InterceptorTest.scala;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/onexception/RedeliveryPolicyRefTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/onexception/deadLetterChannelHandledExampleTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/onexception/onExceptionNotNormalizedClassNameTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/onexception/onExceptionSubRouteTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildCustomProcessor.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildCustomProcessorWithFilter.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildDynamicRecipientList.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildIdempotentConsumer.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildRouteWithInterceptor.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildSimpleRoute.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildSimpleRouteWithChoice.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildSimpleRouteWithHeaderPredicate.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildSplitter.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildStaticRecipientList.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildWireTap.xml;,0
721,Claus Ibsen,camel-core,0,Log component should use ExchangeFormatter for formatting log output, log compon use ExchangeFormatter exchang formatt format log output,Currently log component only logs the payload. We have a nice ExchangeFormatter that can format an exchange with all kind of options.The options could be enabled on the log component so you can customize your logging. Also there should be a multiline option to the exchange formatter so it can log all the stuff on multi lines if for instance there are many options  they get very long., current log compon log payload payload nice ExchangeFormatter exchang formatt format exchang kind option option option could enabl log compon custom log log also multilin option exchang formatt log stuff multi line instanc mani option get long long,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/log/LogComponent.java;camel-core/src/main/java/org/apache/camel/component/log/LogFormatter.java;camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java;camel-core/src/main/java/org/apache/camel/processor/Logger.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceFormatter.java;camel-core/src/test/java/org/apache/camel/component/log/LogFormatterTest.java;,0
723,Claus Ibsen,camel-cxf,0,CXF - wrapper/unwrapper - camel-cxf should be smarter, CXF wrapper unwrapp wrapper unwrapp camel cxf camel cxf smarter,Willem knows what this is. See chat log on the july-15-2008.Basically getBody() should be smart in what kind of situation you are using CXF., willem know see chat log juli basic juli basic getBody get bodi smart kind situat use CXF CXF,0,0,1,0,1,components/camel-cxf/pom.xml;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CamelInvoker.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfNonWrapperTest.java;components/camel-cxf/src/test/java/org/apache/camel/non_wrapper/PersonProcessor.java;components/camel-cxf/src/test/java/org/apache/camel/wsdl_first/PersonProcessor.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/nonWrapperProcessor.xml;components/camel-cxf/src/test/resources/person-non-wrapper.wsdl;components/camel-cxf/pom.xml;components/camel-cxf/src/test/resources/person-non-wrapper-binding.xml;components/camel-cxf/src/test/resources/person-non-wrapper.wsdl;components/camel-cxf/src/test/java/org/apache/camel/non_wrapper/PersonProcessor.java;,0
726,Eduard Hildebrandt,camel-cxf,0,Exception on using WS-Addressing with Apache Camel as Transport, except use WS address WS address apach camel transport,Not sure if this is a bug in CXF or Camel. Please see attached sample project.--------------------------------------------------INFO: Interceptor has thrown exception  unwinding noworg.apache.cxf.binding.soap.SoapFault: A header representing a Message Addressing Property is not valid and the message cannot be processed at org.apache.cxf.ws.addressing.MAPAggregator.mediate(MAPAggregator.java:375) at org.apache.cxf.ws.addressing.MAPAggregator.handleMessage(MAPAggregator.java:159) at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:221) at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:78) at org.apache.camel.component.cxf.transport.CamelDestination.incoming(CamelDestination.java:148) at org.apache.camel.component.cxf.transport.CamelDestination$ConsumerProcessor.process(CamelDestination.java:172) at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:43) at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:59) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:75) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:57) at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:155) at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:91) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:57) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:39) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:41) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:66) at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:68) at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:531) at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:466) at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:435) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:322) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:260) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:944) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:875) at java.lang.Thread.run(Thread.java:595), not sure bug CXF camel camel pleas see attach sampl project INFO project INFO interceptor thrown except unwind noworg apach cxf bind soap SoapFault noworg apach cxf bind soap soap fault header repres messag address properti not valid messag cannot process org apach cxf ws address MAPAggregator mediat MAPAggregator java org apach cxf ws address MAP aggreg mediat MAP aggreg java org apach cxf ws address MAPAggregator handleMessage MAPAggregator java org apach cxf ws address MAP aggreg handl messag MAP aggreg java org apach cxf phase PhaseInterceptorChain doIntercept PhaseInterceptorChain java org apach cxf phase phase interceptor chain intercept phase interceptor chain java org apach cxf transport ChainInitiationObserver onMessage ChainInitiationObserver java org apach cxf transport chain initi observ messag chain initi observ java org apach camel compon cxf transport CamelDestination incom CamelDestination java org apach camel compon cxf transport camel destin incom camel destin java org apach camel compon cxf transport CamelDestination ConsumerProcessor process CamelDestination java org apach camel compon cxf transport camel destin consum processor process camel destin java org apach camel impl convert AsyncProcessorTypeConverter ProcessorToAsyncProcessorBridge process AsyncProcessorTypeConverter java org apach camel impl convert async processor type convert processor async processor bridg process async processor type convert java org apach camel compon direct DirectProducer process DirectProducer java org apach camel compon direct direct produc process direct produc java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel processor DeadLetterChannel process DeadLetterChannel java org apach camel processor dead letter channel process dead letter channel java org apach camel processor DeadLetterChannel process DeadLetterChannel java org apach camel processor dead letter channel process dead letter channel java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel compon jm EndpointMessageListener onMessage EndpointMessageListener java org apach camel compon jm endpoint messag listen messag endpoint messag listen java org springframework jm listen AbstractMessageListenerContainer doInvokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer invokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer doExecuteListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain execut listen abstract messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer doReceiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer receiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker invokeListener DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok invok listen default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker run DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok run default messag listen contain java java lang thread run thread java java lang thread run thread java,1,0,1,0,0,tests/camel-itest/src/main/resources/wsdl/CustomerService_noSoapAction.wsdl;tests/camel-itest/src/test/java/org/apache/camel/itest/customerrelations/CustomerServicesWsAddressingTest.java;tests/camel-itest/src/test/resources/spring-config/client-WsAddressingContext.xml;tests/camel-itest/src/test/resources/spring-config/client-applicationContext.xml;tests/camel-itest/src/test/resources/spring-config/server-WsAddressingContext.xml;tests/camel-itest/src/test/resources/spring-config/server-applicationContext.xml;,0
727,William Tam,camel-cxf,0,Propagated CXF header's value should not include quotes, propag CXF header header valu not includ quot,CAMEL-686 fixed the issue of not propagating transport headers (e.g. SOAPAction) but it looks like we added quotes around the value (i.e. getCustomer becomes 'getCustomer'). I updated the CustomerServicesTest to illustrate the problem. Also  I cleaned up the client/server-application.xml., CAMEL CAMEL fix issu not propag transport header SOAPAction SOAP action look like ad quot around valu getCustomer get custom becom getCustomer get custom updat CustomerServicesTest custom servic test illustr problem problem also clean client server applic xml client server applic xml,0,1,0,0,0,tests/camel-itest/src/test/java/org/apache/camel/itest/customerrelations/CustomerServicesTest.java;tests/camel-itest/src/test/resources/spring-config/client-applicationContext.xml;tests/camel-itest/src/test/resources/spring-config/server-applicationContext.xml;,0
732,Claus Ibsen,camel-core,0,JMX Instrumentation - check for already registered before registering, JMX instrument check alreadi regist regist,Camel does not check for already registered mbeans. There can be shared endpoints in the camel routes etc.We used to have an instance count and everything but at the end a jms endpoint such as 'activemq:topic:orders' can be reused in several routes and we should in fact only register it once., camel not check alreadi regist mbean mbean share endpoint camel rout etc etc use instanc count everyth end jm endpoint activemq topic order activemq topic order reus sever rout fact regist,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java;camel-core/src/main/java/org/apache/camel/management/DefaultInstrumentationAgent.java;camel-core/src/main/java/org/apache/camel/processor/resequencer/SequenceSender.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;,0
737,Charles Moulliard,null,0,When getContext().addInterceptorStrategy(new Tracer());  is added in a RouteBuilder class  then the timer component does not work, getContext addInterceptorStrategy new get context add interceptor strategi new tracer tracer ad RouteBuilder rout builder class timer compon not work,When getContext().addInterceptorStrategy(new Tracer());is added in a RouteBuilder Class  then the timer component does not start.e.g. public class RouteBuilder extends RouteBuilder { getContext().addInterceptorStrategy(new Tracer()); public void configure() { from('timer://export') .to('bean:myBean'); }}, getContext addInterceptorStrategy new get context add interceptor strategi new tracer tracer ad RouteBuilder rout builder class timer compon not start start public class RouteBuilder rout builder extend RouteBuilder rout builder getContext addInterceptorStrategy new get context add interceptor strategi new tracer tracer public void configur configur timer export timer export bean myBean bean bean,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/component/log/LogFormatter.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceFormatter.java;camel-core/src/test/java/org/apache/camel/component/timer/TimerRouteWithTracerTest.java;,0
738,Ryadh Amar,camel-ftp,0,After the downloading process  the layout of the remote file system doesn't match the local's one, download process layout remot file system match local local one,When downloading a directory with a complex layout (mutli level directory)  the downloaded files do not reflect the local onemore info here http://www.nabble.com/FTP-component%3A-Possible-bug-td18540318s22882.html, download directori complex layout mutli level directori directori download file not reflect local onemor info,0,1,0,1,0,components/camel-ftp/src/test/data/ftpbinarytest/logo2.png;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSetNamesWithMultiDirectoriesTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpEndpoint.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConsumer.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpToBinaryFilesTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpConsumer.java;components/camel-ftp/src/test/data/ftpbinarytest/logo1.jpeg;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpToBinaryFilesTest.java;,0
739,Willem Jiang,camel-cxf,0,Camel transport should set the content type property into the camel message header, camel transport set content type properti camel messag header,Eduard Hildebrandt logged a JIRA&#91;1&#93; in CXF  it is actually a camel transport issue.https://issues.apache.org/jira/browse/CXF-1703, eduard hildebrandt log JIRA JIRA CXF actual camel transport issu http issu apach org jira brows CXF issu http issu apach org jira brows CXF,0,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelConduit.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelConstants.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelDestination.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelTransportConstants.java;tests/camel-itest/src/test/resources/spring-config/client-applicationContext.xml;tests/camel-itest/src/test/resources/spring-config/server-applicationContext.xml;,0
741,Willem Jiang,camel-cxf,0,CamelConduit's should check the TargetReference when create its instance, CamelConduit camel conduit check TargetReference target refer creat instanc,CAMEL-726 shows a ws-address error when using Camel transport for CXF.After running the code   I found there is no To address tag generated in the soap header. It was caused by the CamelConduit can set right targe reference., CAMEL CAMEL show ws address ws address error use camel transport CXF CXF run code found no address tag gener soap header header caus CamelConduit camel conduit set right targ refer refer,0,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelConduit.java;tests/camel-itest/src/main/resources/wsdl/CustomerService_noSoapAction.wsdl;tests/camel-itest/src/test/java/org/apache/camel/itest/customerrelations/CustomerServicesWsAddressingTest.java;tests/camel-itest/src/test/resources/spring-config/client-WsAddressingContext.xml;tests/camel-itest/src/test/resources/spring-config/client-applicationContext.xml;tests/camel-itest/src/test/resources/spring-config/server-WsAddressingContext.xml;tests/camel-itest/src/test/resources/spring-config/server-applicationContext.xml;,0
747,Claus Ibsen,camel-core,0,xpath expression with $header and the header doesnt exist on the in message results in NPE, xpath express header header doesnt exist messag result NPE,Using the $headerkey shorthand for xpath expression throws a NPE if the headerkey doesn't exists on the in message.We should try to find a better workaround for key doesn't exists. The NPE is thrown by SUN in their xpath engine.Check nabble:http://www.nabble.com/Camel-XPath-and-no-variables-found-in-MessageVariableResolver---What-should-Camel-do--td18603960s22882.html, use headerkey shorthand xpath express throw NPE headerkey exist messag messag tri find better workaround key exist exist NPE thrown SUN xpath engin check engin check nabbl http www nabbl com camel XPath no variabl found MessageVariableResolver camel td html nabbl http www nabbl com camel path no variabl found messag variabl resolv camel td html,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/xml/MessageVariableResolver.java;camel-core/src/test/java/org/apache/camel/builder/xml/XPathHeaderTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringXPathHeaderTest.java;,0
755,Jonathan Anstey,null,0,AMQP Tests are disabled, AMQP test disabl,The AMQP tests are currently disabled. Adding an older version of MINA (than Camel uses) &amp; commons lang to the classpath got the tests passing except for ObjectMessage type test.Sending a TextMessage and BytesMessage work fine so I'm opening up a separate JIRA for the ObjectMessage issue., AMQP test current disabl disabl ad older version MINA camel use use amp amp common lang classpath got test pass except ObjectMessage object messag type test send test send TextMessage text messag BytesMessage byte messag work fine open separ JIRA ObjectMessage object messag issu issu,0,1,0,0,0,0,0
763,Willem Jiang,camel-core,0,CamelContext's setErrorHandler is not effect when the jmx agent is disabled, CamelContext camel context setErrorHandler set error handler not effect jmx agent disabl,The example applications from Camel 1.4 source distribution work correctly on my machine. After comparing the sample Spring XML configuration and my Spring configuration  I noticed there is no jmxAgent element in the sample XML where my configuration has this element. The problem I noticed was that when the disabled attribute of the jmxAgent element is set to true  the redelivery policy does not work. http://www.nabble.com/DeadLetterChannel-Configuration-Camel-1.4-td18622356s22882.html#a18622356, exampl applic camel sourc distribut work correctli machin machin compar sampl spring XML configur spring configur notic no jmxAgent jmx agent element sampl XML configur element element problem notic disabl attribut jmxAgent jmx agent element set true redeliveri polici not work work,0,0,0,0,0,components/camel-spring/src/test/java/org/apache/camel/spring/config/ErrorHandlerTest.java;camel-core/src/main/java/org/apache/camel/impl/DefaultLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/model/ProcessorType.java;camel-core/src/test/java/org/apache/camel/builder/ContextErrorHandlerTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/ErrorHandlerTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringSetHeaderWithChildProcessorTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringXPathHeaderTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/config/errorHandler.xml;,0
765,William Tam,camel-core,0,InstrumentationProcessor should catch Throwable, InstrumentationProcessor instrument processor catch throwabl,The InstrumentationProcessor currently only catches exception and sets it in the exception. Runtime errors and throwables can be thrown all the way out of the DeadLetterChannel's process method  out of the reach of exception policy., InstrumentationProcessor instrument processor current catch except set except except runtim error throwabl thrown way DeadLetterChannel dead letter channel process method reach except polici polici,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java;camel-core/src/test/java/org/apache/camel/management/ExceptionWithManagementTest.java;,0
794,Bela Vizy,camel-core,0,Pipeline with thread() processor also redelivers following the default policy independently from the preset  errorhadling, pipelin thread thread processor also redeliv follow default polici independ preset errorhadl,When using the thread processor in a simple pipeline  the exchange will be redelivered 6 times (default policy) along with the preset errorhandler settings. The code below will re-deliver 6 times to the default DeadLetterChannel and once to the log:errorTester. errorHandler(deadLetterChannel('log:errorTester?level=ERROR').maximumRedeliveries(1)); from('seda:whatEver') .thread(2) .process(new Processor() { public void process(Exchange exchange) throws Exception { System.out.println('### Exchg : ' + exchange.getExchangeId()); throw new Exception('Kaboom 2!'); } });, use thread processor simpl pipelin exchang redeliv time default polici polici along preset errorhandl set set code deliv deliv time default DeadLetterChannel dead letter channel log errorTester log error tester errorHandler deadLetterChannel log errorTester level ERROR maximumRedeliveries error handler dead letter channel log error tester level ERROR maximum redeliveri seda whatEver seda ever thread thread process new process new processor processor public void process exchang process exchang exchang exchang throw except system println system println exchg exchang getExchangeId exchang get exchang Id throw new except kaboom except kaboom,0,0,0,1,0,camel-core/src/test/java/org/apache/camel/issues/BelasThreadErrorHandlerIssue794Test.java;camel-core/src/main/java/org/apache/camel/model/ThreadType.java;camel-core/src/test/java/org/apache/camel/issues/BelasThreadErrorHandlerIssue794Test.java;camel-core/src/test/java/org/apache/camel/processor/MultiErrorHandlerInRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/ThreadSetErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/issues/BelasThreadErrorHandlerIssue794Test.java;camel-core/src/test/java/org/apache/camel/issues/ThreadErrorHandlerTest.java;,0
795,Hadrian Zbarcea,camel-mina,0,MinaConsumerTest failure, MinaConsumerTest mina consum test failur,The test fails with the following error:junit.framework.ComparisonFailure: expected:&lt;&#91;Bye World&#93;&gt; but was:&lt;[]&gt; at junit.framework.Assert.assertEquals(Assert.java:81) at junit.framework.Assert.assertEquals(Assert.java:87) at org.apache.camel.component.mina.MinaConsumerTest.testSendTextlineSyncText(MinaConsumerTest.java:28)...One test sends sync the text 'World' and the should receive 'Bye World' in response.2008-08-08 01:35:25 589 DEBUG MinaProducer - Message received: Bye World 2008-08-08 01:35:25 589 DEBUG MinaProducer - Message received: 2008-08-08 01:35:25 589 DEBUG MinaProducer - Message received: Bye 2008-08-08 01:35:25 589 DEBUG MinaProducer - Message received: There are actually not one  but two messages received which causes the reply to be overridden by the second message. The problem is with the test itself that actually returns 'Bye ' + body + '/n'! Because the test uses the 'textline' mina codec  the encoder actually adds another '/n'. With the textline codec there's one message per line  so the extra /n makes it two lines and hence the extra message. The decoder at the other end suppresses the LineDelimiter (/n)  so the extra message is actually an empty string.Removing the extra /n in the message fixes the test  but the notes above should be considered when camel-mina is used with the textline codec., test fail follow error junit framework ComparisonFailure error junit framework comparison failur expect lt bye expect lt bye world gt world gt lt gt lt gt junit framework assert assertEquals assert java junit framework assert assert equal assert java junit framework assert assertEquals assert java junit framework assert assert equal assert java org apach camel compon mina MinaConsumerTest testSendTextlineSyncText MinaConsumerTest java one org apach camel compon mina mina consum test test send textlin sync text mina consum test java one test send sync text world world receiv bye bye world world respons respons DEBUG MinaProducer mina produc messag receiv receiv bye world DEBUG MinaProducer mina produc messag receiv receiv DEBUG MinaProducer mina produc messag receiv receiv bye DEBUG MinaProducer mina produc messag receiv receiv actual not one two messag receiv caus repli overridden second messag messag problem test actual return bye bye bodi test use textlin textlin mina codec encod actual add anoth textlin codec one messag per line extra make two line henc extra messag messag decod end suppress LineDelimiter line delimit extra messag actual empti string remov string remov extra messag fix test note consid camel mina camel mina use textlin codec codec,1,0,0,0,0,components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaConsumerTest.java;components/camel-mina/src/test/resources/log4j.properties;,0
807,Bill Skrypnyk,camel-http,0,HttpProducer premature out message creation, HttpProducer http produc prematur messag creation,I believe there is incorrect flow in the HttpProducer which can subvert error handling in the route:in Camel 1.4.0 in HttpProducer on line 76 a 'blank' out message is set on the exchange:Message out = exchange.getOut(true); try { int responseCode = httpClient.executeMethod(method);...1. If an IO error occurs on connect  the out message will be passed to the error handling code and if the originating endpoint was a JmsMessage it will cause an NPE when JmsMessage.getMessageId() is called. It also obscures the offending message I believe.2. A similar situation will happen if the HTTP service returned an error code; the out message will contain a reply message even though the processing resulted in an error (e.g. HTTP Status 500) 3. Also  shouldn't this code test whether the exchange expects an 'out' altogether  and if not  perhaps  put just put the return HTTP status into the 'in' message header.--Bill, believ incorrect flow HttpProducer http produc subvert error handl rout rout camel HttpProducer http produc line blank blank messag set exchang messag exchang messag exchang getOut true exchang get true tri int responseCode respons code httpClient executeMethod method http client execut method method IO error occur connect messag pass error handl code origin endpoint JmsMessage jm messag caus NPE JmsMessage getMessageId jm messag get messag Id call call also obscur offend messag believ believ similar situat happen HTTP servic return error code code messag contain repli messag even though process result error HTTP statu also code test whether exchang expect altogeth not perhap put put return HTTP statu messag header bill header bill,0,0,0,0,1,components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpPostWithBodyTest.java;,0
811,Jonathan Anstey,camel-core; camel-spring,0,delayer pattern doesn't work in Spring DSL, delay pattern work spring DSL,You can't configure the delayer pattern properly in the Spring DSL currently. I will be attaching a patch for this shortly., configur delay pattern properli spring DSL current current attach patch shortli shortli,0,1,0,0,0,0,0
815,Willem Jiang,camel-core,0,support to set the loadBalancerStrategy before the outputs, support set loadBalancerStrategy load balanc strategi output,Current Camel only support the set the LoadBalancer Strategy after the outputs like this &lt;camelContext id='camel' xmlns='http://activemq.apache.org/camel/schema/spring'&gt; &lt;route&gt; &lt;from uri='direct:start'/&gt; &lt;loadBalance&gt; &lt;to uri='mock:x'/&gt; &lt;to uri='mock:y'/&gt; &lt;to uri='mock:z'/&gt; &lt;roundRobin/&gt; &lt;/loadBalance&gt; &lt;/route&gt; &lt;/camelContext&gt;It should be much better with the below configuration file&lt;camelContext id='camel' xmlns='http://activemq.apache.org/camel/schema/spring'&gt; &lt;route&gt; &lt;from uri='direct:start'/&gt; &lt;loadBalance&gt; &lt;roundRobin/&gt; &lt;to uri='mock:x'/&gt; &lt;to uri='mock:y'/&gt; &lt;to uri='mock:z'/&gt; &lt;/loadBalance&gt; &lt;/route&gt; &lt;/camelContext&gt;, current camel support set LoadBalancer load balanc strategi output like lt camelContext lt camel context id camel id camel xmln http activemq apach org camel schema spring gt xmln http activemq apach org camel schema spring gt lt rout gt lt rout gt lt lt uri direct start gt uri direct start gt lt loadBalance gt lt load balanc gt lt lt uri mock gt uri mock gt lt lt uri mock gt uri mock gt lt lt uri mock gt uri mock gt lt roundRobin gt lt round robin gt lt loadBalance gt lt load balanc gt lt rout gt lt rout gt lt camelContext gt lt camel context gt much better configur file lt camelContext file lt camel context id camel id camel xmln http activemq apach org camel schema spring gt xmln http activemq apach org camel schema spring gt lt rout gt lt rout gt lt lt uri direct start gt uri direct start gt lt loadBalance gt lt load balanc gt lt roundRobin gt lt round robin gt lt lt uri mock gt uri mock gt lt lt uri mock gt uri mock gt lt lt uri mock gt uri mock gt lt loadBalance gt lt load balanc gt lt rout gt lt rout gt lt camelContext gt lt camel context gt,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/model/LoadBalanceType.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/loadBalance.xml;,0
818,Jonathan Anstey,camel-core,0,Should preserve the exchange type in the routing slip, preserv exchang type rout slip,Currently  the routing slip will create a new InOut exchange for each target based on the target endpoint type. This means that someone calling from a jbi endpoint (or other endpoint with custom exchange) into the routing slip will have their exchange type changed (to mostly likely DefaultExchange). I will be including a patch to fix this issue shortly., current rout slip creat new InOut exchang target base target endpoint type type mean someon call jbi endpoint endpoint custom exchang exchang rout slip exchang type chang mostli like DefaultExchange default exchang includ patch fix issu shortli shortli,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/processor/RoutingSlip.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/DummyExchange.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipDataModificationTest.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipWithNonStandardExchangeTest.java;,0
828,Claus Ibsen,camel-core,0,File component - write to temp file and rename to real name startegy, file compon write temp file renam real name startegi,When producing files an idea is to write to a temp file that has a name pattern that will be skipped by consumers (such as starting with a dot) and then after the write rename the file to the correct name.Then the consumers wont need to use exotic locking to get exclusive read access to the file. Works on all file systems.There is a nabble discussion on this issue somewhere., produc file idea write temp file name pattern skip consum start dot dot write renam file correct name name consum wont need use exot lock get exclus read access file file work file system system nabbl discuss issu somewher somewher,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/FileProducer.java;camel-core/src/test/java/org/apache/camel/component/file/FileProduceTempPrefixTest.java;,0
834,Aleksandar Vidakovic,camel-ftp,0,Trailing slash missing in SftpConsumer, trail slash miss SftpConsumer sftp consum,When this route  &lt;camel:route&gt; &lt;camel:from uri='sftp://someuser@hostname/path/to/directory/?password=secret&amp;amp;directory=true&amp;amp;binary=true&amp;amp;consumer.useFixedDelay=false&amp;amp;consumer.setNames=true&amp;amp;consumer.recursive=false' /&gt; &lt;camel:to uri='file:///C:/camel/output/' /&gt; &lt;/camel:route&gt;is configured the files in the remote directory are download  but subsequent calls of the method 'pollDir' result in this exception:[ Thread: 1 RemoteFileComponent] SftpConsumer WARN Caught SftpException:2: No such file[ Thread: 1 RemoteFileComponent] SftpConsumer WARN Doing nothing for now  need to determine an appropriate action[ Thread: 1 RemoteFileComponent] ScheduledPollConsumer WARN An exception occured while polling: Endpoint[sftp://someuser@hostname/path/to/directory/?password=secret&amp;amp;directory=true&amp;amp;binary=true&amp;amp;consumer.useFixedDelay=false&amp;amp;consumer.setNames=true&amp;amp;consumer.recursive=false]: No such file 2: No such fileAs you can see the slash is definitely in the configured route. If I check for the missing slash and add it to the dir variable (line 115 in SftpConsumer) then the consumer works: if(!dir.startsWith('/')) { dir = '/' + dir; }Didn't have the time to have a closer look. The root cause of the missing slash is somewhere else., rout lt camel rout gt lt camel rout gt lt camel lt camel uri sftp someus hostnam path directori password secret amp amp directori true amp amp binari true amp amp consum useFixedDelay fals amp amp consum setNames true amp amp consum recurs fals uri sftp someus hostnam path directori password secret amp amp directori true amp amp binari true amp amp consum use fix delay fals amp amp consum set name true amp amp consum recurs fals gt gt lt camel lt camel uri file camel output uri file camel output gt gt lt camel rout gt lt camel rout gt configur file remot directori download subsequ call method pollDir poll dir result except except thread thread RemoteFileComponent remot file compon SftpConsumer sftp consum WARN caught SftpException sftp except No file file thread thread RemoteFileComponent remot file compon SftpConsumer sftp consum WARN noth need determin appropri action action thread thread RemoteFileComponent remot file compon ScheduledPollConsumer schedul poll consum WARN except occur poll poll endpoint sftp someus hostnam path directori password secret amp amp directori true amp amp binari true amp amp consum useFixedDelay fals amp amp consum setNames true amp amp consum recurs fals endpoint sftp someus hostnam path directori password secret amp amp directori true amp amp binari true amp amp consum use fix delay fals amp amp consum set name true amp amp consum recurs fals No file No fileAs file see slash definit configur rout rout check miss slash add dir variabl line SftpConsumer sftp consum consum work work dir startsWith dir start dir dir dir time closer look look root caus miss slash somewher els els,1,1,1,0,0,components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpDirectoryToBinaryFilesTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpServerTestSupport.java;,0
839,Claus Ibsen,camel-core,0,Type Converter - if not possible to convert LOG a WARN, type convert not possibl convert LOG WARN,An end-user had a route that didn't work and had trouble figure out the problem. Could be the fact that the type converted failed for some reason and no trace in his log.We should add some DEBUG logging to the type converter stuff what it does  especially in cases where it cant convert.http://www.nabble.com/Marshaling-jdbc-output-with-xstream-td19065283s22882.htmlNotice we have another ticket about type converters should fail instead of returning null etc., end user end user rout work troubl figur problem problem could fact type convert fail reason no trace log log add DEBUG log type convert stuff especi case cant convert http www nabbl com marshal jdbc output xstream td htmlNotice convert http www nabbl com marshal jdbc output xstream td html notic anoth ticket type convert fail instead return null etc etc,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/TypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/DefaultLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/spi/BrowsableEndpoint.java;camel-core/src/main/java/org/apache/camel/spi/DataFormat.java;camel-core/src/main/java/org/apache/camel/spi/ErrorHandlerWrappingStrategy.java;camel-core/src/main/java/org/apache/camel/spi/ExchangeConverter.java;camel-core/src/main/java/org/apache/camel/spi/HeaderFilterStrategy.java;camel-core/src/main/java/org/apache/camel/spi/InstrumentationAgent.java;camel-core/src/main/java/org/apache/camel/spi/Language.java;camel-core/src/main/java/org/apache/camel/spi/LanguageResolver.java;camel-core/src/main/java/org/apache/camel/spi/LifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/spi/Provider.java;camel-core/src/main/java/org/apache/camel/spi/RouteContext.java;camel-core/src/main/java/org/apache/camel/spi/Synchronization.java;camel-core/src/main/java/org/apache/camel/spi/TypeConverterAware.java;camel-core/src/main/java/org/apache/camel/spi/UnitOfWork.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;,0
847,Claus Ibsen,camel-mina,0,mina should be exchange pattern agnostic, mina exchang pattern agnost,Currently the camel-mina component silently ignores exchanges that is not out capable even though its configured for sync=true (InOut)What it does now is setting the sync option itself depending on the exchange type., current camel mina camel mina compon silent ignor exchang not capabl even though configur sync true sync true InOut set sync option depend exchang type type,0,0,1,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaEndpoint.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaEncodingTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaInOnlyRouteTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaLoggerOptionTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaMulticastTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaUdpTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaUdpUsingTemplateTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaVmTest.java;,0
873,Willem Jiang,camel-mina,0,Current mina component can't tansfer the exchange fault message body, current mina compon tansfer exchang fault messag bodi,I just found MinaTransferExchangeOptionTest don't show how to set fault message and the fault message is not a part of MinaPayloadHolder.You can't set the exception on the exchange in the processor   sine the camel DeadLetterChannel will try to redeliver the message.So we just need to support put the exception which need to send back to the camel client into the fault message body., found MinaTransferExchangeOptionTest mina transfer exchang option test show set fault messag fault messag not part MinaPayloadHolder mina payload holder set except exchang processor sine camel DeadLetterChannel dead letter channel tri redeliv messag messag need support put except need send back camel client fault messag bodi bodi,0,0,0,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithIoOutProcessorExceptionTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsIOConverter.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaPayloadHolder.java;camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/converter/IOConverter.java;camel-core/src/main/java/org/apache/camel/converter/NIOConverter.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConverter.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaEndpoint.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaPayloadHelper.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaPayloadHolder.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaConverterTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTransferExchangeOptionTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaUdpWithInOutUsingPlainSocketTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithInOutUsingPlainSocketTest.java;,0
876,Claus Ibsen,camel-core,0,splitter() should support batch for processing large files, splitter splitter support batch process larg file,See nabble:http://www.nabble.com/Splitter-for-big-files-td19272583s22882.htmlSomekind of batch(size) parameter to the splitter() DSL so we can process the exchanges in batches instead of all in one go., see nabbl http www nabbl com splitter big file td htmlSomekind nabbl http www nabbl com splitter big file td html somekind batch size batch size paramet splitter splitter DSL process exchang batch instead one go go,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/util/concurrent/CountingLatch.java;camel-core/src/test/java/org/apache/camel/util/concurrent/CountingLatchTest.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/converter/CollectionConverter.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/test/java/org/apache/camel/converter/CollectionConverterTest.java;camel-core/src/test/java/org/apache/camel/util/ObjectHelperTest.java;camel-core/src/main/java/org/apache/camel/model/SplitterType.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/Splitter.java;camel-core/src/test/java/org/apache/camel/ContextTestSupport.java;camel-core/src/test/java/org/apache/camel/processor/SplitterTest.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/util/concurrent/AtomicExchange.java;camel-core/src/main/java/org/apache/camel/converter/CollectionConverter.java;camel-core/src/main/java/org/apache/camel/processor/Splitter.java;camel-core/src/test/java/org/apache/camel/converter/CollectionConverterTest.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/Splitter.java;camel-core/src/main/java/org/apache/camel/util/concurrent/AtomicExchange.java;camel-core/src/test/java/org/apache/camel/processor/SplitterTest.java;,0
877,A. Steven Anderson,camel-http; camel-jetty,0,Access HttpRequest Params from exchange.in.header, access HttpRequest http request param exchang header exchang header,Currently  you can only get the http request parameters by using a getHttpRequest() on the HttpExchange and thus you need java code and can't do it from the Spring XML configuration using simple expression language. e.g. if the request is http://localhost:8080/test?x=1  then the following route should result in 1 being returned in the body of the html response:&lt;route&gt; &lt;from uri='jetty:http://localhost:8080/test' /&gt; &lt;setBody&gt; &lt;simple&gt;&lt;html&gt;&lt;body&gt;${in.header.x}&lt;/body&gt;&lt;/html&gt;&lt;/simple&gt; &lt;/setBody&gt; &lt;to uri='mock:end'/&gt;&lt;/route&gt;, current get http request paramet use getHttpRequest get http request HttpExchange http exchang thu need java code spring XML configur use simpl express languag languag request follow rout result return bodi html respons lt rout gt respons lt rout gt lt lt uri jetti http localhost test uri jetti http localhost test gt gt lt setBody gt lt set bodi gt lt simpl gt lt html gt lt bodi gt header lt bodi gt lt html gt lt simpl gt lt simpl gt lt html gt lt bodi gt header lt bodi gt lt html gt lt simpl gt lt setBody gt lt set bodi gt lt lt uri mock end gt lt rout gt uri mock end gt lt rout gt,0,0,1,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpMessage.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettySteveIssueTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyContentBasedRouteTest.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpBinding.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpHeaderFilterStrategy.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpMessage.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/CamelContinuationServlet.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpEndpoint.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/ExplicitHttpsRouteTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpRoundtripHeaderTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpToFileTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyContentBasedRouteTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyHttpGetWithParamAsExchangeHeaderTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettySteveIssueTest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/HttpClient.java;tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/JettyValidatorTest.java;tests/camel-itest/src/test/resources/OptimizationRequest.xsd;tests/camel-itest/src/test/resources/org/apache/camel/itest/jetty/InvalidRequest.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/jetty/ValidRequest.xml;,0
881,Claus Ibsen,camel-mina,0,camel-mina - codec options should fail if not possible to find i registry, camel mina camel mina codec option fail not possibl find registri,If you configure the codec option on camel-mina and you eg make a spelling mistake camel will default to Mina default protocol if not found. We should throw an exception instead so end user knows about this and can fix his spelling mistake., configur codec option camel mina camel mina eg make spell mistak camel default mina default protocol not found found throw except instead end user know fix spell mistak mistak,0,0,0,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaCustomCodecTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaEncodingTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpTextlineProtocolTest.java;,0
882,Bela Vizy,camel-ftp,0,SftpEndpoint ignores custom ssh port, SftpEndpoint sftp endpoint ignor custom ssh port,SftpEndpoint ignores custom ssh port. It works only if server runs on port 22., SftpEndpoint sftp endpoint ignor custom ssh port port work server run port,0,1,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpEndpoint.java;,1
886,Aaron Mulder,camel-core,0,element should not require contextPath attribute, element not requir contextPath context path attribut,In the Java DSL  you can say from('foo').marshal().jaxb().to('bar')In XML I think it would look like this:&lt;from uri='...' /&gt;&lt;marshal&gt; &lt;jaxb /&gt;&lt;/marshal&gt;&lt;to uri='...' /&gt;The problem is that you can't use the &lt;jaxb /&gt; element without the contextPath attribute  which the XSD says is required., java DSL say foo marshal jaxb bar foo marshal jaxb bar XML think would look like lt lt uri uri gt lt marshal gt gt lt marshal gt lt jaxb lt jaxb gt lt marshal gt lt gt lt marshal gt lt uri uri gt gt problem use lt jaxb lt jaxb gt gt element without contextPath context path attribut XSD say requir requir,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/model/dataformat/JaxbDataFormat.java;,0
902,Willem Jiang,camel-core,0,The should throw the exception if there is some thing wrong with  type attribute, throw except thing wrong type attribut,If you specify an invalided class name in the convertBodyTo@type  you will get a NPE error  but no detail log information for the type attribute.We need to throw the exception for user to locate the error., specifi invalid class name convertBodyTo type convert bodi type get NPE error no detail log inform type attribut attribut need throw except user locat error error,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/ConvertBodyType.java;camel-core/src/main/java/org/apache/camel/processor/ConvertBodyProcessor.java;,0
906,Claus Ibsen,camel-jms,0,JmsProducer - option requestTimeout isn't configured properly, JmsProducer jm produc option requestTimeout request timeout configur properli,When sending a JMS message to a destination using camel-jms (JMSProducer) I can't get it to use my requestTimeout option in the endpoint configuration. It always default to 20000.template.requestBody('activemq:queue:slow?requestTimeout=1000'  'Hello World');This doesn't work as expected with a timeout of only 1 sec., send JMS messag destin use camel jm camel jm JMSProducer JMS produc get use requestTimeout request timeout option endpoint configur configur alway default templat requestBody activemq queue slow requestTimeout templat request bodi activemq queue slow request timeout hello hello world world work expect timeout sec sec,0,0,1,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteTimeoutTest.java;,0
912,Mike Ramnarine,null,0,camel-cxf component is not passing request context through correctly, camel cxf camel cxf compon not pass request context correctli,CxfProducer.process() is not setting up the request context correctly during createCxfMessage  so later in that method propagateContext has no request data to propagate. Also  we need the exchange properties to be added to the request context  so that non-camel components can pass properties into the cxf request context.I have coded a fix for this  along with a unit test of course. I'll attach the patch to this JIRA., CxfProducer process cxf produc process not set request context correctli createCxfMessage creat cxf messag later method propagateContext propag context no request data propag propag also need exchang properti ad request context non camel non camel compon pass properti cxf request context context code fix along unit test cours cours attach patch JIRA JIRA,0,1,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfBinding.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfProducerContextTest.java;,0
920,Dario Sanna,camel-core,0,file component consumer.regexPattern does not work as expected (matching is applied not only to file  but also to directory), file compon consum regexPattern consum regex pattern not work expect match appli not file also directori directori,file component consumer.regexPattern does not work as expectedexample : from('file://d:/the_input_dir?consumer.regexPattern=.*/.xml$'.to(whatever)(should match only files  that has extention .xml)the result of the above regexPattern is  that no file will be proccessed  regardless if an existing filename matches the pattern.FileConsumer.pollFileOrDirectory() applies the regexPattern on the starting directory (the_input_dir) which will not match., file compon consum regexPattern consum regex pattern not work expectedexampl file the_input_dir consum regexPattern xml whatev file the_input_dir consum regex pattern xml whatev match file extent xml xml result regexPattern regex pattern no file proccess regardless exist filenam match pattern FileConsumer pollFileOrDirectory pattern file consum poll file directori appli regexPattern regex pattern start directori the_input_dir the_input_dir not match match,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerDirectoryNotMatchedTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerDirectoriesNotMatchedTest.java;,0
922,Hadrian Zbarcea,camel-jpa,0,Remove deps on persistence-api jar  non compliant with the spec, remov dep persist api persist api jar non compliant spec,I mentioned a while ago a warning I couldn't explain in eclipse related to the use of @UniqueConstraint in camel-jpa.It turned out to be due to the fact that camel-jpa has a dependency on persistence api  but used for testing openjpa that has a dependency on geronimo-jpa_3.0_spec. So camel-jpa pulls in two different implementation of the same spec. So far so good. It also turns out that the definition of the @UniqueConstraint annotation is different in the two jars  the persistence-api (and the camel-jpa code as implemented) being non spec compliant. I found other inconsistencies in the persistence-api impl and it seems to be based on an older version of the spec.(More precisely persistence api annotates the @interface UniqueConstraint with @Target({TYPE}) whereas the spec and the geronimo impl use: @Target({}))My recommendation is to replace the dependency on persistence-api with the geronimo version. I will commit a change for this in the next hour or so  but leave this issue open. If anybody has any objections please shout and I will revert the change., mention ago warn explain eclips relat use UniqueConstraint uniqu constraint camel jpa camel jpa turn due fact camel jpa camel jpa depend persist api use test openjpa depend geronimo jpa _spec geronimo jpa _spec camel jpa camel jpa pull two differ implement spec spec far good good also turn definit UniqueConstraint uniqu constraint annot differ two jar persist api persist api camel jpa camel jpa code implement implement non spec compliant compliant found inconsist persist api persist api impl seem base older version spec spec precis persist api annot interfac UniqueConstraint uniqu constraint target TYPE target TYPE wherea spec geronimo impl use use target target recommend replac depend persist api persist api geronimo version version commit chang next hour leav issu open open anybodi object pleas shout revert chang chang,0,0,0,0,0,0,0
944,Claus Ibsen,camel-core,0,tracer - option to disable interceptors, tracer option disabl interceptor,Currently the tracer also outputs interceptors such as delegation to the DLC that is wrapped in the pipeline.Would be nice with an option to enable/disable this (disabled by default) so all the interceptors isn't logged and confuses end-users., current tracer also output interceptor deleg DLC wrap pipelin would pipelin would nice option enabl disabl enabl disabl disabl default default interceptor log confus end user end user,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java;camel-core/src/main/java/org/apache/camel/model/InterceptType.java;camel-core/src/main/java/org/apache/camel/model/OptionalIdentifiedType.java;camel-core/src/main/java/org/apache/camel/model/ProcessorRef.java;camel-core/src/main/java/org/apache/camel/processor/UnitOfWorkProcessor.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceFormatter.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/Tracer.java;camel-core/src/main/java/org/apache/camel/spi/Synchronization.java;camel-core/src/test/java/org/apache/camel/model/ProcessorTypeConfigurationTest.java;camel-core/src/test/java/org/apache/camel/processor/TraceInterceptorTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/TraceInterceptorTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TraceFormatterTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TracerConfigurationTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/tracerConfigurationTest.xml;,0
955,Hadrian Zbarcea,camel-core,0,Manage non-singleton endpoints in the CamelContext, manag non singleton non singleton endpoint CamelContext camel context,So that we can manages JMS endpoint for instance  that are not singletons., manag JMS endpoint instanc not singleton singleton,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/CamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;,0
957,Jonathan Anstey,camel-spring,0,camel-spring/rest does not build on HP-UX, camel spring rest camel spring rest not build HP UX HP UX,I'm getting the following error from camel-spring on the HP-UX platform. I should be able to reuse a fix I made to a similar problem in CAMEL-939&#91;18:53:50&#93;: &#91;ERROR&#93; FATAL ERROR&#91;18:53:50&#93;: &#91;INFO&#93; ------------------------------------------------------------------------&#91;18:53:50&#93;: &#91;INFO&#93; com/sun/mirror/apt/AnnotationProcessorFactory&#91;18:53:50&#93;: &#91;INFO&#93; ------------------------------------------------------------------------&#91;18:53:50&#93;: &#91;INFO&#93; Trace&#91;18:53:50&#93;: java.lang.NoClassDefFoundError: com/sun/mirror/apt/AnnotationProcessorFactory&#91;18:53:50&#93;: at com.sun.tools.jxc.maven2.SchemaGenMojo.execute(SchemaGenMojo.java:143)&#91;18:53:50&#93;: at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:451), get follow error camel spring camel spring HP UX HP UX platform platform abl reus fix made similar problem CAMEL CAMEL ERROR ERROR FATAL ERROR ERROR INFO INFO INFO INFO com sun mirror apt AnnotationProcessorFactory com sun mirror apt annot processor factori INFO INFO INFO INFO trace trace java lang NoClassDefFoundError java lang No class def found error com sun mirror apt AnnotationProcessorFactory com sun mirror apt annot processor factori com sun tool jxc maven SchemaGenMojo execut SchemaGenMojo java com sun tool jxc maven schema gen mojo execut schema gen mojo java org apach maven plugin DefaultPluginManager executeMojo DefaultPluginManager java org apach maven plugin default plugin manag execut mojo default plugin manag java,1,0,0,0,0,components/camel-rest/pom.xml;components/camel-spring/pom.xml;,0
958,Oisin Hurley,documentation,0,Inconsistency in recipient list documentation?, inconsist recipi list document document,The mail thread at http://tinyurl.com/47bqre seems to contradict the documentation at http://activemq.apache.org/camel/recipient-list.html &#8211; not sure if this is a doc issue  or a camel behavioural issue., mail thread seem contradict document not sure doc issu camel behaviour issu issu,0,0,0,0,0,camel-core/src/test/java/org/apache/camel/builder/RouteBuilderTest.java;camel-core/src/test/java/org/apache/camel/processor/WireTapTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildStaticRecipientList.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildWireTap.xml;camel-core/src/main/java/org/apache/camel/NoSuchEndpointException.java;camel-core/src/main/java/org/apache/camel/builder/ValueBuilder.java;camel-core/src/main/java/org/apache/camel/processor/RecipientList.java;camel-core/src/test/java/org/apache/camel/builder/RouteBuilderTest.java;camel-core/src/test/java/org/apache/camel/language/XPathTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/xml/buildStaticRecipientList.xml;,0
959,james strachan,camel-jms,0,JMS InOut operations should default to non transacted even if the JMS component or endpoint defaults to transacted; as typically RPCs over JMS are not transacted, JMS InOut oper default non transact even JMS compon endpoint default transact transact typic RPCs RP Cs JMS not transact,currently there is no automatic transaction commit inside the send of the request when doing InOut with JMS; so the transaction won't commit if the component/endpoint is transacted - then the message won't reach the request and things will time out.This will be confusing to users.So if things are transacted; lets default to using non-transacted for InOut - and force a new property  transactedInOut to allow that to be transacted if folks really want that (which they usually won't I'd have thought)., current no automat transact commit insid send request InOut JMS JMS transact commit compon endpoint compon endpoint transact messag reach request thing time confus user user thing transact transact let default use non transact non transact InOut forc new properti transactedInOut transact allow transact folk realli want usual thought thought,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/MyActiveMQConsumer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/NonTransactedInOutForJmsWithTxnMgrTest.java;components/camel-jms/src/test/resources/org/apache/camel/component/jms/issues/TransactionErrorHandlerRedeliveryDelayTest-context.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/AbstractTransactionTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JMSTransactionalClientTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/TransactionErrorHandlerBuilderAsSpringBeanTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/activemq.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/nonTxInOutJmsTest.xml;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/TransactedJmsRouteTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;,0
964,Martin Gilday,camel-core,0,loggingErrorHandler should default to ERROR and LoggingErrorHandlerBuilder should operate as a builder, loggingErrorHandler log error handler default ERROR LoggingErrorHandlerBuilder log error handler builder oper builder,Please see attached patch which changes the default level created by the LoggingErrorHandlerBuilder to ERROR instead of INFO.Also some of the methods on this builder to not return 'this'. This breaks the chain when attempting to use the builder resulting in:LoggingErrorHandlerBuilder errorBuilder = loggingErrorHandler('my.logger.name');errorBuilder.setLevel(LoggingLevel.ERROR);errorHandler(errorBuilder);instead of:errorHandler(loggingErrorHandler('mylogger.name').level(LoggingLevel.ERROR));I have added on builder methods for 'level' and for 'log'. I have left the properties that currently exist as following the pattern on DeadLetterChannelBuilder the builder method names should not include 'set'. Whoever applies the patch may wish to remove the getters and setters  depending how they feel this will affect existing users., pleas see attach patch chang default level creat LoggingErrorHandlerBuilder log error handler builder ERROR instead INFO also INFO also method builder not return break chain attempt use builder result LoggingErrorHandlerBuilder log error handler builder errorBuilder error builder loggingErrorHandler logger name errorBuilder setLevel LoggingLevel ERROR errorHandler errorBuilder instead log error handler logger name error builder set level log level ERROR error handler error builder instead errorHandler loggingErrorHandler mylogg name level LoggingLevel ERROR error handler log error handler mylogg name level log level ERROR ad builder method level level log log left properti current exist follow pattern DeadLetterChannelBuilder dead letter channel builder builder method name not includ set set whoever appli patch may wish remov getter setter depend feel affect exist user user,1,1,0,0,0,0,0
969,Geoff Gibbs,camel-core,0,CamelContext.setRoutes() documentation is misleading, CamelContext setRoutes camel context set rout document mislead,The javaDoc for CamelContext.setRoutes() states:'Sets the routes for this context  replacing any current routes'Yet when used  and the context started  startRouteDefinitions() is used first  causing any existing routes created through the definitions (such as those from RouteBuilders) to be re-created and started before the new routes provided to setRoutes() are started., javaDoc java doc CamelContext setRoutes camel context set rout state set state set rout context replac current rout yet rout yet use context start startRouteDefinitions start rout definit use first caus exist rout creat definit RouteBuilders rout builder creat creat start new rout provid setRoutes set rout start start,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/CamelContext.java;,0
970,Hadrian Zbarcea,camel-spring,0,createConnector attribute for CamelJMXAgentType should default to 'true', createConnector creat connector attribut CamelJMXAgentType camel JMX agent type default true true,,,0,0,0,0,0,components/camel-spring/src/main/java/org/apache/camel/spring/CamelJMXAgentType.java;,0
973,Edell Nolan,camel-jbi,0,TypeConverter Exception is thrown in the latest build of camel, TypeConverter type convert except thrown latest build camel,I have upgraded to the latest of Camel and when I attempt to use the content based router pattern - its now throwing an error.The contents of the Message passed is a StringSource object and from debugging camel - the BodyType is a StringSource but it is attempting to convert from a StreamCache to a StringSource. I will try and put a testcase together but if anyone has any ideas of its cause in the meantime ?The error it throws it below.thanks  Edell.No type converter available to convert from type: class org.apache.servicemix.camel.JbiMessage to the required type: org.w3c.dom.Document with value JbiMessage: org.apache.servicemix.jbi.runtime.impl.NormalizedMessageImpl@1d03b5borg.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: class org.apache.servicemix.camel.JbiMessage to the required type: org.w3c.dom.Document with value JbiMessage: org.apache.servicemix.jbi.runtime.impl.NormalizedMessageImpl@1d03b5b at org.apache.camel.impl.converter.DefaultTypeConverter.convertTo(DefaultTypeConverter.java:117) at org.apache.camel.impl.converter.DefaultTypeConverter.convertTo(DefaultTypeConverter.java:65) at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:69) at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:51) at org.apache.camel.builder.xml.XPathBuilder.getDocument(XPathBuilder.java:528) at org.apache.camel.builder.xml.XPathBuilder.evaluateAs(XPathBuilder.java:420) at org.apache.camel.builder.xml.XPathBuilder.matches(XPathBuilder.java:98) at org.apache.camel.builder.xml.XPathBuilder.matches(XPathBuilder.java:63) at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:47) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:75) at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:174) at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:96) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:63) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:47) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:41) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:66) at org.apache.servicemix.camel.CamelProviderEndpoint.handleActiveProviderExchange(CamelProviderEndpoint.java:115) at org.apache.servicemix.camel.CamelProviderEndpoint.process(CamelProviderEndpoint.java:73) at org.apache.servicemix.common.AsyncBaseLifeCycle.doProcess(AsyncBaseLifeCycle.java:600) at org.apache.servicemix.common.AsyncBaseLifeCycle.processExchange(AsyncBaseLifeCycle.java:554) at org.apache.servicemix.common.AsyncBaseLifeCycle.processExchangeInTx(AsyncBaseLifeCycle.java:456) at org.apache.servicemix.common.AsyncBaseLifeCycle$2.run(AsyncBaseLifeCycle.java:341) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675) at java.lang.Thread.run(Thread.java:595), upgrad latest camel attempt use content base router pattern throw error error content messag pass StringSource string sourc object debug camel BodyType bodi type StringSource string sourc attempt convert StreamCache stream cach StringSource string sourc tri put testcas togeth anyon idea caus meantim error throw thank thank edel No edel No type convert avail convert type type class org apach servicemix camel JbiMessage org apach servicemix camel jbi messag requir type type org dom document org dom document valu JbiMessage jbi messag org apach servicemix jbi runtim impl NormalizedMessageImpl borg apach camel NoTypeConversionAvailableException org apach servicemix jbi runtim impl normal messag impl borg apach camel No type convers avail except No type convert avail convert type type class org apach servicemix camel JbiMessage org apach servicemix camel jbi messag requir type type org dom document org dom document valu JbiMessage jbi messag org apach servicemix jbi runtim impl NormalizedMessageImpl org apach servicemix jbi runtim impl normal messag impl org apach camel impl convert DefaultTypeConverter convertTo DefaultTypeConverter java org apach camel impl convert default type convert convert default type convert java org apach camel impl convert DefaultTypeConverter convertTo DefaultTypeConverter java org apach camel impl convert default type convert convert default type convert java org apach camel impl MessageSupport getBody MessageSupport java org apach camel impl messag support get bodi messag support java org apach camel impl MessageSupport getBody MessageSupport java org apach camel impl messag support get bodi messag support java org apach camel builder xml XPathBuilder getDocument XPathBuilder java org apach camel builder xml path builder get document path builder java org apach camel builder xml XPathBuilder evaluateAs XPathBuilder java org apach camel builder xml path builder evalu path builder java org apach camel builder xml XPathBuilder match XPathBuilder java org apach camel builder xml path builder match path builder java org apach camel builder xml XPathBuilder match XPathBuilder java org apach camel builder xml path builder match path builder java org apach camel processor ChoiceProcessor process ChoiceProcessor java org apach camel processor choic processor process choic processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel processor DeadLetterChannel process DeadLetterChannel java org apach camel processor dead letter channel process dead letter channel java org apach camel processor DeadLetterChannel process DeadLetterChannel java org apach camel processor dead letter channel process dead letter channel java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach servicemix camel CamelProviderEndpoint handleActiveProviderExchange CamelProviderEndpoint java org apach servicemix camel camel provid endpoint handl activ provid exchang camel provid endpoint java org apach servicemix camel CamelProviderEndpoint process CamelProviderEndpoint java org apach servicemix camel camel provid endpoint process camel provid endpoint java org apach servicemix common AsyncBaseLifeCycle doProcess AsyncBaseLifeCycle java org apach servicemix common async base life cycl process async base life cycl java org apach servicemix common AsyncBaseLifeCycle processExchange AsyncBaseLifeCycle java org apach servicemix common async base life cycl process exchang async base life cycl java org apach servicemix common AsyncBaseLifeCycle processExchangeInTx AsyncBaseLifeCycle java org apach servicemix common async base life cycl process exchang Tx async base life cycl java org apach servicemix common AsyncBaseLifeCycle run AsyncBaseLifeCycle java org apach servicemix common async base life cycl run async base life cycl java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/converter/stream/StreamCacheConverter.java;camel-core/src/main/java/org/apache/camel/converter/stream/StreamCacheConverter.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/StreamCachingInterceptorTest.java;camel-core/src/test/java/org/apache/camel/processor/StreamSourceContentBasedRouterTest.java;,0
978,Claus Ibsen,camel-mail,0,camel-mail - type converter to InputStream, camel mail camel mail type convert InputStream input stream,camel-mail need a type converter to InputStream Currently we have type converters to StringSee nabble:http://www.nabble.com/Process-Mail-Attachment-InvalidPayloadException-Camel-1.4.0-td19937573s22882.html, camel mail camel mail need type convert InputStream input stream current type convert StringSee string see nabbl http www nabbl com process mail attach InvalidPayloadException camel td html nabbl http www nabbl com process mail attach invalid payload except camel td html,0,0,0,0,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConverters.java;,0
979,Claus Ibsen,camel-core,0,FileLanguage - to support constant expressions, FileLanguage file languag support constant express,Currently the simple language does not support constant expressions  that actually is useable in the file component that uses simple language to set file namesSo if an end-user want to produce a file with a fixed name  then its not possibleexpression=MyBigFile.txt Is not possible.But this is:expression=MyBigFile-${header.foo}.txt is as there is a ${} placeholder and then the simple language can evaluate it., current simpl languag not support constant express actual useabl file compon use simpl languag set file namesSo name end user end user want produc file fix name not possibleexpress MyBigFile txt possibleexpress big file txt not possibl possibl express MyBigFile header foo txt express big file header foo txt placehold simpl languag evalu,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/language/simple/FileExpressionBuilder.java;camel-core/src/test/java/org/apache/camel/language/FileLanguageTest.java;camel-core/src/test/java/org/apache/camel/language/SimpleTest.java;,0
983,Claus Ibsen,camel-core,0,BeanInfo - should consider overridden methods when selecting method from operations list, BeanInfo bean info consid overridden method select method oper list,See nabble:http://www.nabble.com/BeanInfo.chooseMethodWithMatchingBody-throws-an-AmbiguousMethodCallException-when-there%27s-no-ambiguity-td19959124s22882.html, see nabbl http www nabbl com BeanInfo chooseMethodWithMatchingBody throw AmbiguousMethodCallException no ambigu td html nabbl http www nabbl com bean info choos method match bodi throw ambigu method call except no ambigu td html,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanInfoInheritanceTest.java;camel-core/src/test/java/org/apache/camel/processor/BeanRecipientListTest.java;camel-core/src/test/java/org/apache/camel/processor/SplitterTest.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/pom.xml;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;,0
985,Claus Ibsen,camel-core; camel-spring,0,bean binding - annotation to get the exception from exchange, bean bind annot get except exchang,If you are doing error handling using POJO beans to do some error handling code and using bean binding annoations to get the stuff from the exchange  we are missing an annotation to get the caused exceptionSuch as a @Exception or @Fault if that is a better nameSee nabble:http://www.nabble.com/Error-Handler-and-OutHeaders-td19970966s22882.htmljstrachan using @Exception or @Fault or whatever on a bean method call to pull out the Exchange's fault/exception right? 14:02 jstrachan if so definitely!, error handl use POJO bean error handl code use bean bind annoat get stuff exchang miss annot get caus exceptionSuch except except except fault fault better nameSee name see nabbl http www nabbl com error handler OutHeaders td htmljstrachan nabbl http www nabbl com error handler header td htmljstrachan use except except fault fault whatev bean method call pull exchang exchang fault except fault except right right jstrachan definit definit,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/ExchangeException.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanWithExchangeExceptionAnnotationTest.java;camel-core/src/test/java/org/apache/camel/component/bean/MyCustomException.java;,0
991,Seb Auvray,tooling,0,Maven goal camel:dot should use overridden  when specified, maven goal camel dot camel dot use overridden specifi,Maven goal camel:dot should use overridden &lt;mainClass/&gt; when used as in pom.xml: &lt;build&gt; &lt;plugins&gt; &lt;!-- Allows the routes to be run via 'mvn camel:run' --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.camel&lt;/groupId&gt; &lt;artifactId&gt;camel-maven-plugin&lt;/artifactId&gt; &lt;version&gt;${pom.version}&lt;/version&gt; &lt;!-- optional  default value: org.apache.camel.spring.Main --&gt; &lt;configuration&gt; &lt;mainClass&gt;mypackage.boot.camel.CamelStartup&lt;/mainClass&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;, maven goal camel dot camel dot use overridden lt mainClass gt lt main class gt use pom xml pom xml lt build gt lt build gt lt plugin gt lt plugin gt lt lt allow rout run via mvn camel run camel run gt gt lt plugin gt lt plugin gt lt groupId gt org apach camel lt groupId gt lt group Id gt org apach camel lt group Id gt lt artifactId gt camel maven plugin lt artifactId gt lt artifact Id gt camel maven plugin lt artifact Id gt lt version gt pom version lt version gt lt version gt pom version lt version gt lt lt option default valu valu org apach camel spring main org apach camel spring main gt gt lt configur gt lt configur gt lt mainClass gt mypackag boot camel CamelStartup lt mainClass gt lt main class gt mypackag boot camel camel startup lt main class gt lt configur gt lt configur gt lt plugin gt lt plugin gt lt plugin gt lt plugin gt lt build gt lt build gt,0,1,1,0,0,tooling/maven/camel-maven-plugin/src/main/java/org/apache/camel/maven/DotMojo.java;tooling/maven/camel-maven-plugin/src/main/java/org/apache/camel/maven/EmbeddedMojo.java;,0
992,Charles Moulliard,null,0,Component spring 'event' is not auto registered by Camel. Add a Event file in the folder META-INF/services/org/apache/camel/compoment of camel-spring, compon spring event event not auto regist camel camel add event file folder META INF servic org apach camel compoment META INF servic org apach camel compoment camel spring camel spring,Component spring 'event' is not auto registered by Camel. Add a Event file in the folder META-INF/services/org/apache/camel/compoment of camel-spring., compon spring event event not auto regist camel camel add event file folder META INF servic org apach camel compoment META INF servic org apach camel compoment camel spring camel spring,0,0,0,0,0,components/camel-spring/src/main/resources/META-INF/services/org/apache/camel/component/event;,0
997,Claus Ibsen,camel-http,0,Http producer should be smarter to select correct GET or POST method, http produc smarter select correct GET POST method,The code in HttpProducer should be smarter to select the correct method to use.Algorithm:1) if the method is provided in a header2) GET if a querystring is provided in a header3) GET if endpoint is configured with a query string4) POST if there is data to send5) GET fallback to getAlso the HttpOperationFailedException is missing a message  so you get the error code and description in the stack-trace, code HttpProducer http produc smarter select correct method use algorithm use algorithm method provid header header GET querystr provid header header GET endpoint configur queri string string POST data send send GET fallback getAlso get also HttpOperationFailedException http oper fail except miss messag get error code descript stack trace stack trace,0,0,0,0,1,components/camel-http/src/main/java/org/apache/camel/component/http/HttpBinding.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpOperationFailedException.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpProducerSelectMethodTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpQueryGoogleTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyHttpGetWithParamAsExchangeHeaderTest.java;,0
1002,Martin Gilday,camel-quartz,0,Quartz support should allow stateful jobs, quartz support allow state job,See http://www.nabble.com/Clustered-Quartz-td20068086s22882.htmlCurrently Quartz only has CamelJob which implements Quartz's Job interface. There is no option to use an implemenation of StatefulJob. This causes problems when you may want to use a JDBC JobStore and have Quartz running on multiple machines  as you may end up with multiple jobs running together. StatefulJob in effect allows for a blocking singleton style job on one machine.Attached is a patch which adds a new URI parameter named 'stateful'  which defaults to false. When set to true it uses StatefulCamelJob.One significant change to the QuartzComponent is that a reference to the CamelContext is now stored in the Quartz Scheduler. This idea is taken from Spring's SchedulerFactoryBean which stores a reference to a Spring ApplicationContext. This is needed as when using stateful jobs the URI of the Endpoint is stored instead of a reference to the endpoint. This is to allow for the use of JDBC JobStore as the URI can be serialised and shared beteen participating schedulers.Current Faults:Still has no notion of volatilityDifference in operation between CamelJob and StatefulCamelJob is not strictly needed. It may be less confusing if both versions simply store the URI instead of an endpoint reference.You need to use stateful if you want to use clustering at all due to the reason above. This is mixing together clustering support and blocking functionality.In Camel 2 we may want to try rewriting this Component as it is becoming a little messy. It would be nice to try and harness the power of Spring's SchedulerFactoryBean., see quartz CamelJob camel job implement quartz quartz job interfac interfac no option use implemen StatefulJob state job caus problem may want use JDBC JobStore job store quartz run multipl machin may end multipl job run togeth togeth StatefulJob state job effect allow block singleton style job one machin attach machin attach patch add new URI paramet name state state default fals fals set true use StatefulCamelJob one state camel job one signific chang QuartzComponent quartz compon refer CamelContext camel context store quartz schedul schedul idea taken spring spring SchedulerFactoryBean schedul factori bean store refer spring ApplicationContext applic context need use state job URI endpoint store instead refer endpoint endpoint allow use JDBC JobStore job store URI serialis share beteen particip schedul current schedul current fault still fault still no notion volatilityDifference volatil differ oper CamelJob camel job StatefulCamelJob state camel job not strictli need need may less confus version simpli store URI instead endpoint refer refer need use state want use cluster due reason mix togeth cluster support block function function camel may want tri rewrit compon becom littl messi messi would nice tri har power spring spring SchedulerFactoryBean schedul factori bean,0,1,0,0,0,0,0
1018,Balazs Zsoldos,camel-http,0,camel http Uri from the message header, camel http uri messag header,Imagine a use case when the target systems  where http messages have to be sent to  are maintained in a database. In that case the http uri is cannot be set in the camelcontext but it should come from the header of the message.So the http client should check first if there is an uri in the header and if not than use the one given in the camelcontext (like for querystring)., imagin use case target system http messag sent maintain databas databas case http uri cannot set camelcontext come header messag messag http client check first uri header not use one given camelcontext like querystr querystr,0,1,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;,0
1023,Claus Ibsen,tooling,0,camel:dot - pipeline is drawn as a multicast, camel dot camel dot pipelin drawn multicast,And it has a few other areas as well that could be polished., area well could polish polish,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/view/ModelFileGenerator.java;camel-core/src/main/java/org/apache/camel/view/NodeData.java;camel-core/src/main/java/org/apache/camel/view/RouteDotGenerator.java;camel-core/src/test/java/org/apache/camel/view/DotViewTest.java;,0
1036,Jonathan Anstey,camel-core; camel-spring,0,Add ability to configure log level on exceptions from DLC retry mechanism, add abil configur log level except DLC retri mechan,Right now  when Camel tries to redeliver an message a number of times (using the DLC)  the exceptions are logged as ERROR. Sometimes though  these retries may be considered part of normal operation. I'm going to put in DSL options to configure this log level. Something like this will be possible:onException(AException.class).maximumRedeliveries(5) .retriesExhaustedLogLevel(LoggingLevel.DEBUG) .retryAttemptedLogLevel(LoggingLevel.DEBUG) .process(new MyExceptionProcessor('I got an Exception.'));, right camel tri redeliv messag number time use DLC DLC except log ERROR ERROR sometim though retri may consid part normal oper oper go put DSL option configur log level level someth like possibl onException AException class maximumRedeliveries possibl except except class maximum redeliveri retriesExhaustedLogLevel LoggingLevel DEBUG retri exhaust log level log level DEBUG retryAttemptedLogLevel LoggingLevel DEBUG retri attempt log level log level DEBUG process new process new MyExceptionProcessor except processor got except except,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/RedeliveryPolicy.java;camel-core/src/test/java/org/apache/camel/builder/CustomLog.java;camel-core/src/test/java/org/apache/camel/builder/ExceptionBuilderWithRetryLoggingLevelSetTest.java;camel-core/src/test/java/org/apache/camel/builder/MyExceptionThrowingProcessor.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanPipelineTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/onexception/SpringExceptionBuilderWithRetryLoggingLevelSetTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/onexception/exceptionBuilderWithRetryLoggingLevelSet.xml;camel-core/src/main/java/org/apache/camel/builder/BuilderSupport.java;camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java;camel-core/src/main/java/org/apache/camel/builder/LoggingErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/builder/RouteBuilder.java;camel-core/src/main/java/org/apache/camel/component/log/LogComponent.java;camel-core/src/main/java/org/apache/camel/impl/LoggingExceptionHandler.java;camel-core/src/main/java/org/apache/camel/model/ExceptionType.java;camel-core/src/main/java/org/apache/camel/model/LoggingLevel.java;camel-core/src/main/java/org/apache/camel/model/RedeliveryPolicyType.java;camel-core/src/main/java/org/apache/camel/model/RoutesType.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/main/java/org/apache/camel/processor/Logger.java;camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/LoggingLevel.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryPolicy.java;camel-core/src/main/java/org/apache/camel/processor/ThroughputLogger.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/Tracer.java;camel-core/src/main/resources/org/apache/camel/model/jaxb.index;camel-core/src/test/java/org/apache/camel/builder/ExceptionBuilderWithRetryLoggingLevelSetTest.java;camel-core/src/test/java/org/apache/camel/processor/DeadLetterChannelTest.java;camel-core/src/test/java/org/apache/camel/processor/FaultRetryRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/FaultRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/TracerConfigurationTest.java;,0
1039,Jonathan Anstey,camel-core,0,Add support to tracer for logging out messages, add support tracer log messag,,,0,0,0,0,0,components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringTraceInterceptorWithOutBodyTraceTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/traceInterceptorWithOutBodyTrace.xml;camel-core/src/test/java/org/apache/camel/processor/TraceInterceptorWithOutBodyTraceTest.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceFormatter.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/Tracer.java;camel-core/src/test/java/org/apache/camel/processor/TraceInterceptorWithOutBodyTraceTest.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/PredicateAggregatorCollectionTest.java;,0
1044,Max,camel-ftp,0,Passive mode, passiv mode,There should be an option to enable passive mode in the ftp endpoint. If not  when deploying the camel rules on a host with a firewall the default active mode is useless., option enabl passiv mode ftp endpoint endpoint not deploy camel rule host firewal default activ mode useless useless,0,0,0,0,0,components/camel-ftp/pom.xml;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpUtils.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConfiguration.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPassiveModeTest.java;components/camel-ftp/src/test/resources/log4j.properties;,0
1053,Jonathan Anstey,camel-spring-integration,0,spring integration xsd change breaks component, spring integr xsd chang break compon,Thread is here http://www.nabble.com/-HEADS-UP--camel-spring-integration-issue-td20331450s22882.html, thread,0,1,0,0,0,components/camel-spring-integration/pom.xml;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationBinding.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationConsumer.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationEndpoint.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationMessage.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationProducer.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/AbstractCamelAdapter.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/CamelSourceAdapter.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/CamelTargetAdapter.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/config/CamelTargetAdapterParser.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/converter/SpringIntegrationConverter.java;components/camel-spring-integration/src/main/resources/schema/camel-spring-integration.xsd;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/HelloWorldService.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationOneWayConsumerTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationProducerTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationTwoWayConsumerTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/adapter/CamelSourceAdapterTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/adapter/CamelTargetAdapterTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/adapter/ConfigurationTest.java;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/adapter/CamelTarget.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/producer.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/twoWayConsumer.xml;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationConsumer.java;,0
1057,Balazs Zsoldos,camel-saxon,0,XQuery creates an empty out message that makes it impossible to chain more processors behind it, XQuery queri creat empti messag make imposs chain processor behind,When using XQuery the getOut() function is called on the message so if it is not used at a place where the out is filled an empty out message will be created. With this xquery cannot be used for example in setBody  setHeader... and anywhere where the out is not filled.An example where this causes real trouble:&lt;choice&gt; &lt;when&gt; &lt;xquery&gt;...&lt;/xquery&gt; &lt;to uri='direct:follow' /&gt; &lt;/when&gt;&lt;/choice&gt;...&lt;from uri='direct:follow'&gt;&lt;to ...&gt;&lt;to ...&gt;In the patch the out property in the xquery context is filled only if it is not null. With it all of my pipelines seem to work well for me., use XQuery queri getOut get function call messag not use place fill empti messag creat creat xqueri cannot use exampl setBody set bodi setHeader set header anywher not fill fill exampl caus real troubl lt choic gt troubl lt choic gt lt gt lt gt lt xqueri gt lt xqueri gt lt xqueri gt lt xqueri gt lt lt uri direct follow uri direct follow gt gt lt gt lt choic gt lt lt gt lt choic gt lt uri direct follow gt lt uri direct follow gt lt gt lt gt lt gt gt patch properti xqueri context fill not null null pipelin seem work well,0,1,1,0,0,components/camel-saxon/src/main/java/org/apache/camel/component/xquery/XQueryBuilder.java;,0
1062,Hadrian Zbarcea,camel-core,0,PipelineConcurrentTest.java fails randomly, PipelineConcurrentTest java pipelin concurr test java fail randomli,The test fails with an IllegalStateException: Queue full. I believe the reason for this is that there are 10000 messages sent  but the default queue size is 1000. On a fast machine  the queue fills up before the consumer gets a chance to pop the messages from the queue., test fail IllegalStateException illeg state except queue full full believ reason messag sent default queue size fast machin queue fill consum get chanc pop messag queue queue,0,0,0,0,0,0,0
1070,Claus Ibsen,camel-core,0,org.apache.camel.Message - hasAttachments is buggy, org apach camel messag org apach camel messag hasAttachments attach buggi,I must use if (exchange.getIn().getAttachments().size() &gt; 0) {Instead of if (exchange.getIn().hasAttachments()) {As the latter always returns false. Or at least returns false even though the size is &gt; 0, must use exchang getIn getAttachments size exchang get get attach size gt gt instead instead exchang getIn hasAttachments exchang get attach latter alway return fals fals least return fals even though size gt gt,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultMessage.java;,0
1074,tim mcnamara,camel-jaxb,0,.unmarshal(new JaxbDataFormat('com.foo.bar')) returning JAXBElement, unmarsh new unmarsh new JaxbDataFormat com foo bar jaxb data format com foo bar return JAXBElement JAXB element,using .unmarshal(new JaxbDataFormat('com.foo.bar') is returning a JAXBElement instead of the desired object that was generated by xjc., use unmarsh new unmarsh new JaxbDataFormat com foo bar jaxb data format com foo bar return JAXBElement JAXB element instead desir object gener xjc xjc,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/dataformat/JaxbDataFormat.java;components/camel-jaxb/src/test/java/org/apache/camel/jaxb/CamelJaxbSpringTest.java;components/camel-jaxb/src/test/java/org/apache/camel/jaxb/CamelJaxbTest.java;components/camel-jaxb/src/test/resources/org/apache/camel/jaxb/CamelJaxbTest.xml;components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/JaxbDataFormat.java;components/camel-jaxb/src/test/java/org/apache/camel/foo/bar/ObjectFactory.java;components/camel-jaxb/src/test/java/org/apache/camel/foo/bar/PersonType.java;components/camel-jaxb/src/test/java/org/apache/camel/jaxb/CamelJaxbTest.java;,0
1078,Hadrian Zbarcea,camel-core,0,Remove specialized Exchange and make DefaultExchange final to pave the road for optimization by reducing exchange copies, remov special exchang make DefaultExchange default exchang final pave road optim reduc exchang copi,The code in DefaultEndpoint.createExchange(Exchange exchange)  calls on getExchangeType() to figure out if a new copy of Exchange needs be created. The code relies though on the generic argument of the Endpoint type to figure out the actual Exchange type. With the generics removed part of CAMEL-872  getExchangeType() always returns null  forcing a copy every time.There is no real need to extend Exchange  so the proposal for this to make the Exchange final and move the component specific bits  if any  in the Message., code DefaultEndpoint createExchange exchang default endpoint creat exchang exchang exchang exchang call getExchangeType get exchang type figur new copi exchang need creat creat code reli though gener argument endpoint type figur actual exchang type type gener remov part CAMEL CAMEL getExchangeType get exchang type alway return null forc copi everi time time no real need extend exchang propos make exchang final move compon specif bit messag messag,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceEventExchange.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/Tracer.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/TraceInterceptorDestinationTest.java;examples/camel-example-tracer/pom.xml;camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchange.java;camel-core/src/main/java/org/apache/camel/impl/GroupedExchange.java;camel-core/src/main/java/org/apache/camel/model/AggregateDefinition.java;camel-core/src/main/java/org/apache/camel/processor/BatchProcessor.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/GroupedExchangeAggregationStrategy.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateGroupedExchangeTest.java;,0
1088,Willem Jiang,camel-cxf,0,Can't get the soap header when the camel-cxf endpoint working in the PAYLOAD data fromat, get soap header camel cxf camel cxf endpoint work PAYLOAD data fromat,When I added a unit test to show how to get the SOAP header from a PAYLOAD camel-cxf endpoint   I found the soap header stuff is not working., ad unit test show get SOAP header PAYLOAD camel cxf camel cxf endpoint found soap header stuff not work work,0,0,0,0,0,components/camel-cxf/pom.xml;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/AbstractMessageInInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/SoapMessageInInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/SoapMessageOutInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/XMLMessageInInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/PayloadInvokingContext.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/PayloadMessage.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfPayLoadMessageRouterTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfPayLoadSoapHeaderTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/PizzaImpl.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/PizzaEndpoints.xml;components/camel-cxf/src/test/resources/pizza_service.wsdl;,0
1090,Gary Tully,camel-core,0,ThroughputLogger incorrectly reports duration 0, ThroughputLogger throughput logger incorrectli report durat,from the apache-camel-load test:2008-11-14 15:27:01 114 &#91;mponent@1296d1d&#93; INFO aset:myDataSet?produceDelay=10 - Sent: 600 messages so far. Last group took: 0 millis which is: 85.106 messages per second. average: 80.128The ThroughputLogger used by DataSet resets the duration before reporting it., apach camel load apach camel load test test mponent mponent INFO aset myDataSet produceDelay aset data set produc delay sent sent messag far far last group took took milli messag per second second averag averag ThroughputLogger throughput logger use DataSet data set reset durat report,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/ThroughputLogger.java;camel-core/src/test/java/org/apache/camel/processor/ThroughPutLoggerTest.java;,0
1091,Roman Kalukiewicz,camel-jetty,0,jetty endpoints ignore host specified in URI and expose an endpoint on all interfaces, jetti endpoint ignor host specifi URI expos endpoint interfac,http://www.nabble.com/Jetty-and-Mina%3A-how-to-bind-to-%22anylocal%22-AKA-%22wildcard%22-address--tp20475674s22882p20494645.html,,0,0,0,1,0,components/camel-jetty/src/test/java/org/apache/camel/component/jetty/InterfacesTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/InterfacesTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/InterfacesTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/InterfacesTest.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/CamelContinuationServlet.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/InterfacesTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/InterfacesTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/InterfacesTest.java;,1
1093,Claus Ibsen,camel-jetty,0,camel-jetty - Exchange failures should not be returned as 200, camel jetti camel jetti exchang failur not return,The code below: protected RouteBuilder createRouteBuilder() throws Exception { return new RouteBuilder() { public void configure() throws Exception { errorHandler(noErrorHandler()); from('jetty:http://localhost:8080/myapp/myservice').process(new MyBookService()); } }; } public class MyBookService implements Processor { public void process(Exchange exchange) throws Exception { throw new IllegalArgumentException('Damm'); } }Will return http response code 200. We should let end users easily set what response code they want and in case of route failures we should probably return 500 and return the stracktrace in the body, code protect RouteBuilder rout builder createRouteBuilder creat rout builder throw except return new RouteBuilder rout builder public void configur configur throw except errorHandler noErrorHandler error handler no error handler jetti http localhost myapp myservic process new jetti http localhost myapp myservic process new MyBookService book servic public class MyBookService book servic implement processor public void process exchang process exchang exchang exchang throw except throw new IllegalArgumentException damm illeg argument except damm return http respons code let end user easili set respons code want case rout failur probabl return return stracktrac bodi,0,0,1,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/DefaultHttpBinding.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpBinding.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpMessage.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpOperationFailedException.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/test/data/logo.jpeg;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyContentTypeTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyHttpBindingRefTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyHttpClientOptionsTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyImageFileTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyResponseBodyWhenErrorTest.java;,0
1103,Markus Reil,camel-core,0,Delayer not working as expected., delay not work expect expect,The delayer expression is not evaluated in my route builder:from(waitQueueName).delayer(header(HEADER_EXECUTION_TIME)).bean(routerBean).recipientList(header(HEADER_TARGET_ROUTE));While the recipientList expression is working the header expression is always ignored. I stepped through the code and saw that in DelayerType.createAbsoluteTimeDelayExpression() 'expr.getLanguage()' is always null: private Expression createAbsoluteTimeDelayExpression(RouteContext routeContext) { ExpressionType expr = getExpression(); if (expr != null) { if (ObjectHelper.isNotNullAndNonEmpty(expr.getLanguage())) { return expr.createExpression(routeContext); } } return null; }I have seen that this was changed in 1.5.0 (http://issues.apache.org/activemq/browse/CAMEL-811)., delay express not evalu rout builder waitQueueName delay header HEADER_EXECUTION_TIME bean routerBean recipientList header HEADER_TARGET_ROUTE builder wait queue name delay header HEADER EXECUTION TIME bean router bean recipi list header HEADER TARGET ROUTE recipientList recipi list express work header express alway ignor ignor step code saw DelayerType createAbsoluteTimeDelayExpression delay type creat absolut time delay express expr getLanguage expr get languag alway null null privat express createAbsoluteTimeDelayExpression RouteContext creat absolut time delay express rout context routeContext rout context ExpressionType express type expr getExpression get express expr null null ObjectHelper isNotNullAndNonEmpty expr getLanguage object helper not null non empti expr get languag return expr createExpression routeContext expr creat express rout context return null null seen chang http issu apach org activemq brows CAMEL http issu apach org activemq brows CAMEL,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/model/DelayerType.java;,0
1105,Jason Royals,null,0,Spring DSL - redeliveryPolicy element should have ref attribute, spring DSL redeliveryPolicy redeliveri polici element ref attribut,I'd like to be able to create reusable RedeliveryPolicy's in Spring and refer to them in Camel's Spring DSL. This is to achieve two goals: I can use the Spring PropertyPlaceholderConfigurer to enable us to tune timeouts and redelivery in production - we cannot do that with Camel's Spring DSL; I can have several routes sharing the same RedeliveryPolicy (but possibly with different exceptions).There doesn't seem to be a way to share RedeliveyPolicy's between onException elements  meaning it needs to be duplicated (at least not that I could find in the docco)For example  I'd like to do something like this: &lt;bean id='redeliveryPolicy' class='org.apache.camel.processor.RedeliveryPolicy'&gt; &lt;property name='...' value=${property.placeholder}/&gt; &lt;/bean&gt; &lt;camelContext&gt; &lt;route&gt; &lt;from uri='somewhere'/&gt; &lt;onException&gt; &lt;exception&gt;ExceptionA&lt;/exception&gt; &lt;redeliveryPolicy ref='redeliveryPolicy'/&gt; &lt;to uri='deadLetter'/&gt; &lt;/onException&gt; &lt;to uri='unreliableEndpoint'/&gt; &lt;/route&gt; &lt;route&gt; &lt;from uri='xyz'/&gt; &lt;onException&gt; &lt;exception&gt;ExceptionA&lt;/exception&gt; &lt;redeliveryPolicy ref='differentRedeliveryPolicy'/&gt; &lt;to uri='differentDeadLetter'/&gt; &lt;/onException&gt; &lt;to uri='unreliableEndpoint'/&gt; &lt;/route&gt; &lt;route&gt; &lt;from uri='somewhereElse'/&gt; &lt;onException&gt; &lt;exception&gt;ExceptionB&lt;/exception&gt; &lt;redeliveryPolicy ref='redeliveryPolicy'/&gt; &lt;to uri='deadLetter'/&gt; &lt;/onException&gt; &lt;to uri='anotherUnreliableEndpoint'/&gt; &lt;/route&gt; &lt;/camelContext&gt;Thanks!, like abl creat reusabl RedeliveryPolicy redeliveri polici spring refer camel camel spring DSL DSL achiev two goal goal use spring PropertyPlaceholderConfigurer properti placehold configur enabl us tune timeout redeliveri product cannot camel camel spring DSL DSL sever rout share RedeliveryPolicy redeliveri polici possibl differ except except seem way share RedeliveyPolicy redelivey polici onException except element mean need duplic least not could find docco docco exampl like someth like lt bean lt bean id redeliveryPolicy id redeliveri polici class org apach camel processor RedeliveryPolicy gt class org apach camel processor redeliveri polici gt lt properti lt properti name name valu properti placehold gt valu properti placehold gt lt bean gt lt bean gt lt camelContext gt lt camel context gt lt rout gt lt rout gt lt lt uri somewher gt uri somewher gt lt onException gt lt except gt lt except gt ExceptionA lt except gt lt except gt except lt except gt lt redeliveryPolicy lt redeliveri polici ref redeliveryPolicy gt ref redeliveri polici gt lt lt uri deadLetter gt uri dead letter gt lt onException gt lt except gt lt lt uri unreliableEndpoint gt uri unreli endpoint gt lt rout gt lt rout gt lt rout gt lt rout gt lt lt uri xyz gt uri xyz gt lt onException gt lt except gt lt except gt ExceptionA lt except gt lt except gt except lt except gt lt redeliveryPolicy lt redeliveri polici ref differentRedeliveryPolicy gt ref differ redeliveri polici gt lt lt uri differentDeadLetter gt uri differ dead letter gt lt onException gt lt except gt lt lt uri unreliableEndpoint gt uri unreli endpoint gt lt rout gt lt rout gt lt rout gt lt rout gt lt lt uri somewhereElse gt uri somewher els gt lt onException gt lt except gt lt except gt ExceptionB lt except gt lt except gt except lt except gt lt redeliveryPolicy lt redeliveri polici ref redeliveryPolicy gt ref redeliveri polici gt lt lt uri deadLetter gt uri dead letter gt lt onException gt lt except gt lt lt uri anotherUnreliableEndpoint gt uri anoth unreli endpoint gt lt rout gt lt rout gt lt camelContext gt thank lt camel context gt thank,1,0,1,0,0,components/camel-spring/src/test/java/org/apache/camel/spring/processor/onexception/RedeliveryPolicyReTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/onexception/RedeliveryPolicyRefTest.xml;camel-core/src/main/java/org/apache/camel/model/ExceptionType.java;camel-core/src/main/java/org/apache/camel/model/RedeliveryPolicyType.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/test/java/org/apache/camel/processor/ThroughPutLoggerTest.java;,0
1107,Claus Ibsen,camel-http,0,camel-http - does not remove httpClient.xxx URI options, camel http camel http not remov httpClient xxx http client xxx URI option,When using the options to configure httpClient using URI option  they should be removed from the uri that is left over to the HTTPProducer.http://someserver?httpClient.soTimeOut=5000should remove the httpClient.xxx so it'shttp://someserver, use option configur httpClient http client use URI option remov uri left HTTPProducer http someserv httpClient soTimeOut HTTP produc http someserv http client time remov httpClient xxx http client xxx shttp someserv shttp someserv,0,0,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/DefaultHttpBinding.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpBinding.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpMessage.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpOperationFailedException.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/test/data/logo.jpeg;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyContentTypeTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyHttpBindingRefTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyHttpClientOptionsTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyImageFileTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyResponseBodyWhenErrorTest.java;,0
1108,Vadim Katz,camel-core,0,ParallelProcessing and executor flags are ignored in Multicast processor, ParallelProcessing parallel process executor flag ignor multicast processor,The parallelProcessing and executor arguments are ignored in the constructor of MulticastProcessor. Here is a call that MulticastType makesorg.apache.camel.model.MulticastType.java return new MulticastProcessor(list  aggregationStrategy  isParallelProcessing()  threadPoolExecutor);MulticastProcessor ignores parallelProcessing and executor arguments and invokes a chain constructor with '.. false  null ..'org.apache.camel.processor.MulticastProcessor.java public MulticastProcessor(Collection&lt;Processor&gt; processors  AggregationStrategy aggregationStrategy  boolean parallelProcessing  ThreadPoolExecutor executor) { this(processors  aggregationStrategy  false  null  false); } public MulticastProcessor(Collection&lt;Processor&gt; processors  AggregationStrategy aggregationStrategy  boolean parallelProcessing  ThreadPoolExecutor executor  boolean streaming) { notNull(processors  'processors'); this.processors = processors; this.aggregationStrategy = aggregationStrategy; this.isParallelProcessing = parallelProcessing; if (isParallelProcessing) { if (executor != null) { this.executor = executor; } else { // setup default Executor this.executor = new ThreadPoolExecutor(processors.size()  processors.size()  0  TimeUnit.MILLISECONDS  new ArrayBlockingQueue&lt;Runnable&gt;(processors.size())); } } this.streaming = streaming; }Attached a patch but have not tested it. Also need a unit test for this., parallelProcessing parallel process executor argument ignor constructor MulticastProcessor multicast processor call MulticastType multicast type makesorg apach camel model MulticastType java makesorg apach camel model multicast type java return new MulticastProcessor list multicast processor list aggregationStrategy aggreg strategi isParallelProcessing parallel process threadPoolExecutor MulticastProcessor thread pool executor multicast processor ignor parallelProcessing parallel process executor argument invok chain constructor fals null org apach camel processor MulticastProcessor java org apach camel processor multicast processor java public MulticastProcessor collect lt processor gt multicast processor collect lt processor gt processor AggregationStrategy aggreg strategi aggregationStrategy aggreg strategi boolean parallelProcessing parallel process ThreadPoolExecutor thread pool executor executor executor processor processor aggregationStrategy aggreg strategi fals null fals fals public MulticastProcessor collect lt processor gt multicast processor collect lt processor gt processor AggregationStrategy aggreg strategi aggregationStrategy aggreg strategi boolean parallelProcessing parallel process ThreadPoolExecutor thread pool executor executor boolean stream stream notNull processor not null processor processor processor processor processor processor processor aggregationStrategy aggreg strategi aggregationStrategy aggreg strategi isParallelProcessing parallel process parallelProcessing parallel process isParallelProcessing parallel process executor null null executor executor executor executor els setup default executor executor executor new ThreadPoolExecutor processor size thread pool executor processor size processor size processor size TimeUnit MILLISECONDS time unit MILLISECONDS new ArrayBlockingQueue lt runnabl gt processor size array block queue lt runnabl gt processor size stream stream stream stream attach attach patch not test also need unit test,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;,0
1122,Jonathan Anstey,null,0,Camel should propagate exception cause in InOnly scenarios, camel propag except caus InOnly scenario,In the case an exception is handled by the DeadLetterChannel  Camel will currently set the exception to null and add an exchange property containing the exception. We should also add this as a message header so that it will be propagated to external services  like a JBI service., case except handl DeadLetterChannel dead letter channel camel current set except null add exchang properti contain except except also add messag header propag extern servic like JBI servic servic,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/test/java/org/apache/camel/processor/DeadLetterChannelExceptionCausePropagatedTest.java;,0
1145,Claus Ibsen,camel-cxf,0,CxfExchange does not copy unit of work and thus its null and thus NPE is thrown, CxfExchange cxf exchang not copi unit work thu null thu NPE thrown,William could you check this error reported by end userSee nabble:http://www.nabble.com/UnitOfWork-td20829434s22882.html, william could check error report end userSee user see nabbl http www nabbl com UnitOfWork td html nabbl http www nabbl com unit work td html,0,0,1,0,0,components/camel-cxf/pom.xml;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfExchange.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/RouteBuilderCxfTracer.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/TestCamel1145Route.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/context-camel-1145.xml;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfExchange.java;,0
1146,Jonathan Anstey,camel-mina,0,camel-mina adds two versions of slf4j on the classpath, camel mina camel mina add two version slf slf classpath,One version comes from camel-mina (version 1.5.5) and one from mina-core (version 1.4.3). This causes problems as seen when trying to use camel-mina at runtime or in my case deploying to ServiceMix. This is the error I getorg.apache.xbean.kernel.ServiceRegistrationException: java.lang.NoSuchFieldError: name at org.apache.xbean.kernel.standard.ServiceManagerRegistry.registerService(ServiceManagerRegistry.java:424) at org.apache.xbean.kernel.standard.StandardKernel.registerService(StandardKernel.java:220) at org.apache.xbean.server.spring.loader.SpringLoader.load(SpringLoader.java:152) at org.apache.servicemix.common.xbean.AbstractXBeanDeployer.deploy(AbstractXBeanDeployer.java:83) at org.apache.servicemix.camel.CamelSpringDeployer.deploy(CamelSpringDeployer.java:83) at org.apache.servicemix.common.BaseServiceUnitManager.doDeploy(BaseServiceUnitManager.java:88) at org.apache.servicemix.common.BaseServiceUnitManager.deploy(BaseServiceUnitManager.java:69) at org.apache.servicemix.jbi.framework.DeploymentService.deployServiceAssembly(DeploymentService.java:508) at org.apache.servicemix.jbi.framework.AutoDeploymentService.checkPendingSAs(AutoDeploymentService.java:482) at org.apache.servicemix.jbi.framework.AutoDeploymentService.checkPendingComponents(AutoDeploymentService.java:535) at org.apache.servicemix.jbi.framework.AutoDeploymentService.updateSharedLibrary(AutoDeploymentService.java:317) at org.apache.servicemix.jbi.framework.AutoDeploymentService.updateArchive(AutoDeploymentService.java:254) at org.apache.servicemix.jbi.framework.AutoDeploymentService.monitorDirectory(AutoDeploymentService.java:667) at org.apache.servicemix.jbi.framework.AutoDeploymentService.access$800(AutoDeploymentService.java:62) at org.apache.servicemix.jbi.framework.AutoDeploymentService$1.run(AutoDeploymentService.java:631) at java.util.TimerThread.mainLoop(Timer.java:512) at java.util.TimerThread.run(Timer.java:462)Caused by: java.lang.NoSuchFieldError: name at org.slf4j.impl.SimpleLogger.&lt;init&gt;(SimpleLogger.java:83) at org.slf4j.impl.SimpleLoggerFactory.getLogger(SimpleLoggerFactory.java:67) at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:103) at org.apache.mina.util.NamePreservingRunnable.&lt;init&gt;(NamePreservingRunnable.java:32) at org.apache.mina.transport.socket.nio.SocketAcceptor.startupWorker(SocketAcceptor.java:165) at org.apache.mina.transport.socket.nio.SocketAcceptor.bind(SocketAcceptor.java:141) at org.apache.camel.component.mina.MinaConsumer.doStart(MinaConsumer.java:60) at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:47) at org.apache.camel.impl.DefaultCamelContext.addService(DefaultCamelContext.java:421) at org.apache.camel.impl.DefaultCamelContext.startRoutes(DefaultCamelContext.java:659) at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:632) at org.apache.camel.spring.SpringCamelContext.maybeDoStart(SpringCamelContext.java:167) at org.apache.camel.spring.SpringCamelContext.doStart(SpringCamelContext.java:162) at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:47) at org.apache.camel.spring.SpringCamelContext.maybeStart(SpringCamelContext.java:97) at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:116) at org.springframework.context.event.SimpleApplicationEventMulticaster$1.run(SimpleApplicationEventMulticaster.java:77) at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:49) at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:75) at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:246) at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:617) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:355) at org.apache.xbean.server.spring.configuration.SpringConfiguration.&lt;init&gt;(SpringConfiguration.java:63) at org.apache.xbean.server.spring.configuration.SpringConfigurationServiceFactory.createService(SpringConfigurationServiceFactory.java:106) at org.apache.xbean.kernel.standard.ServiceManager.start(ServiceManager.java:420) at org.apache.xbean.kernel.standard.ServiceManager.initialize(ServiceManager.java:200) at org.apache.xbean.kernel.standard.RegistryFutureTask$RegisterCallable.call(RegistryFutureTask.java:110) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:269) at java.util.concurrent.FutureTask.run(FutureTask.java:123) at org.apache.xbean.kernel.standard.ServiceManagerRegistry.registerService(ServiceManagerRegistry.java:409), one version come camel mina camel mina version one mina core mina core version caus problem seen tri use camel mina camel mina runtim case deploy ServiceMix servic mix error getorg apach xbean kernel ServiceRegistrationException getorg apach xbean kernel servic registr except java lang NoSuchFieldError java lang No field error name org apach xbean kernel standard ServiceManagerRegistry registerService ServiceManagerRegistry java org apach xbean kernel standard servic manag registri regist servic servic manag registri java org apach xbean kernel standard StandardKernel registerService StandardKernel java org apach xbean kernel standard standard kernel regist servic standard kernel java org apach xbean server spring loader SpringLoader load SpringLoader java org apach xbean server spring loader spring loader load spring loader java org apach servicemix common xbean AbstractXBeanDeployer deploy AbstractXBeanDeployer java org apach servicemix common xbean abstract bean deploy deploy abstract bean deploy java org apach servicemix camel CamelSpringDeployer deploy CamelSpringDeployer java org apach servicemix camel camel spring deploy deploy camel spring deploy java org apach servicemix common BaseServiceUnitManager doDeploy BaseServiceUnitManager java org apach servicemix common base servic unit manag deploy base servic unit manag java org apach servicemix common BaseServiceUnitManager deploy BaseServiceUnitManager java org apach servicemix common base servic unit manag deploy base servic unit manag java org apach servicemix jbi framework DeploymentService deployServiceAssembly DeploymentService java org apach servicemix jbi framework deploy servic deploy servic assembl deploy servic java org apach servicemix jbi framework AutoDeploymentService checkPendingSAs AutoDeploymentService java org apach servicemix jbi framework auto deploy servic check pend auto deploy servic java org apach servicemix jbi framework AutoDeploymentService checkPendingComponents AutoDeploymentService java org apach servicemix jbi framework auto deploy servic check pend compon auto deploy servic java org apach servicemix jbi framework AutoDeploymentService updateSharedLibrary AutoDeploymentService java org apach servicemix jbi framework auto deploy servic updat share librari auto deploy servic java org apach servicemix jbi framework AutoDeploymentService updateArchive AutoDeploymentService java org apach servicemix jbi framework auto deploy servic updat archiv auto deploy servic java org apach servicemix jbi framework AutoDeploymentService monitorDirectory AutoDeploymentService java org apach servicemix jbi framework auto deploy servic monitor directori auto deploy servic java org apach servicemix jbi framework AutoDeploymentService access AutoDeploymentService java org apach servicemix jbi framework auto deploy servic access auto deploy servic java org apach servicemix jbi framework AutoDeploymentService run AutoDeploymentService java org apach servicemix jbi framework auto deploy servic run auto deploy servic java java util TimerThread mainLoop timer java java util timer thread main loop timer java java util TimerThread run timer java caus java util timer thread run timer java caus java lang NoSuchFieldError java lang No field error name org slf impl SimpleLogger lt init gt SimpleLogger java org slf impl simpl logger lt init gt simpl logger java org slf impl SimpleLoggerFactory getLogger SimpleLoggerFactory java org slf impl simpl logger factori get logger simpl logger factori java org slf LoggerFactory getLogger LoggerFactory java org slf logger factori get logger logger factori java org apach mina util NamePreservingRunnable lt init gt NamePreservingRunnable java org apach mina util name preserv runnabl lt init gt name preserv runnabl java org apach mina transport socket nio SocketAcceptor startupWorker SocketAcceptor java org apach mina transport socket nio socket acceptor startup worker socket acceptor java org apach mina transport socket nio SocketAcceptor bind SocketAcceptor java org apach mina transport socket nio socket acceptor bind socket acceptor java org apach camel compon mina MinaConsumer doStart MinaConsumer java org apach camel compon mina mina consum start mina consum java org apach camel impl ServiceSupport start ServiceSupport java org apach camel impl servic support start servic support java org apach camel impl DefaultCamelContext addService DefaultCamelContext java org apach camel impl default camel context add servic default camel context java org apach camel impl DefaultCamelContext startRoutes DefaultCamelContext java org apach camel impl default camel context start rout default camel context java org apach camel impl DefaultCamelContext doStart DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext maybeDoStart SpringCamelContext java org apach camel spring spring camel context mayb start spring camel context java org apach camel spring SpringCamelContext doStart SpringCamelContext java org apach camel spring spring camel context start spring camel context java org apach camel impl ServiceSupport start ServiceSupport java org apach camel impl servic support start servic support java org apach camel spring SpringCamelContext maybeStart SpringCamelContext java org apach camel spring spring camel context mayb start spring camel context java org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel spring spring camel context applic event spring camel context java org springframework context event SimpleApplicationEventMulticaster run SimpleApplicationEventMulticaster java org springframework context event simpl applic event multicast run simpl applic event multicast java org springframework core task SyncTaskExecutor execut SyncTaskExecutor java org springframework core task sync task executor execut sync task executor java org springframework context event SimpleApplicationEventMulticaster multicastEvent SimpleApplicationEventMulticaster java org springframework context event simpl applic event multicast multicast event simpl applic event multicast java org springframework context support AbstractApplicationContext publishEvent AbstractApplicationContext java org springframework context support abstract applic context publish event abstract applic context java org springframework context support AbstractApplicationContext finishRefresh AbstractApplicationContext java org springframework context support abstract applic context finish refresh abstract applic context java org springframework context support AbstractApplicationContext refresh AbstractApplicationContext java org springframework context support abstract applic context refresh abstract applic context java org apach xbean server spring configur SpringConfiguration lt init gt SpringConfiguration java org apach xbean server spring configur spring configur lt init gt spring configur java org apach xbean server spring configur SpringConfigurationServiceFactory createService SpringConfigurationServiceFactory java org apach xbean server spring configur spring configur servic factori creat servic spring configur servic factori java org apach xbean kernel standard ServiceManager start ServiceManager java org apach xbean kernel standard servic manag start servic manag java org apach xbean kernel standard ServiceManager initi ServiceManager java org apach xbean kernel standard servic manag initi servic manag java org apach xbean kernel standard RegistryFutureTask RegisterCallable call RegistryFutureTask java org apach xbean kernel standard registri futur task regist callabl call registri futur task java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java java util concurr FutureTask run FutureTask java java util concurr futur task run futur task java org apach xbean kernel standard ServiceManagerRegistry registerService ServiceManagerRegistry java org apach xbean kernel standard servic manag registri regist servic servic manag registri java,1,0,1,0,0,components/camel-mina/pom.xml;,0
1187,Christopher Hunt,camel-mina,0,The Mina VM protocol is not recognising codec and other options, mina VM protocol not recognis codec option,Use of the vm protocol appears to ignore any codec options. There could be other options that are missed also.Using the same URI but for tcp works fine., use vm protocol appear ignor codec option option could option miss also use also use URI tcp work fine fine,0,0,0,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaCustomCodecTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTransferExchangeOptionTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaVMCustomCodecTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaVMFileTcpTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaVMTextlineProtocolTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaVMTransferExchangeOptionTest.java;components/camel-mina/src/test/resources/log4j.properties;camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaCustomCodecTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaVMCustomCodecTest.java;,0
1191,Claus Ibsen,camel-velocity,0,camel-velocity - log4j is needed at runtime, camel veloc camel veloc log log need runtim,See nabble:http://www.nabble.com/velocity%3A-Couldn%27t-find-class-org.apache.velocity.runtime.log.SimpleLog4JLogSystem-td21036449s22882.htmlJon do you mind taking a look at this  you are are good at maven pom's, see nabbl http www nabbl com veloc find class org apach veloc runtim log SimpleLog JLogSystem td htmlJon nabbl http www nabbl com veloc find class org apach veloc runtim log simpl log log system td html jon mind take look good maven pom pom,0,0,0,0,0,components/camel-velocity/pom.xml;,0
1195,Claus Ibsen,camel-core,0,File component - exclusive read lock strategy using renaming, file compon exclus read lock strategi use renam,See CAMEL-760But an end user has problem with this  the read lock can not be granted and a IOException is thrown.We should support the same strategy as the FTP consumer does with a try to rename the file.Also we should allow some nice URI options to select the strategy nio locks renaming, see CAMEL CAMEL end user problem read lock not grant IOException IO except thrown thrown support strategi FTP consum tri renam file also file also allow nice URI option select strategi nio lock renam,0,0,0,0,0,camel-core/src/test/java/org/apache/camel/component/file/FileExclusiveReadRenameStrategyTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileExclusiveReadRenameStrategyTest.java;components/camel-mail/pom.xml;camel-core/src/test/java/org/apache/camel/component/file/FileExclusiveReadRenameStrategyTest.java;camel-core/src/main/java/org/apache/camel/component/file/ExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileLockExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileRenameExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileLockExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/ExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileLockExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileProcessStrategyFactory.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileProcessStrategySupport.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileRenameExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/ScheduledPollConsumer.java;camel-core/src/test/java/org/apache/camel/component/file/FileExclusiveReadManuelTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileExclusiveReadNoneStrategyTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileExclusiveReadRenameStrategyTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileExclusiveReadTest.java;camel-core/src/test/resources/log4j.properties;,0
1196,Claus Ibsen,camel-core,0,MockEndpoint - sleep for empty test doesnt work, MockEndpoint mock endpoint sleep empti test doesnt work,See nabble:http://www.nabble.com/MockEndpoint---sleep-for-empty-tests-is-flawed--td21067367s22882.html, see nabbl http www nabbl com MockEndpoint sleep empti test flaw td html nabbl http www nabbl com mock endpoint sleep empti test flaw td html,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;,0
1199,Ron Gavlin,camel-core,0,Throttler appears to 'throttle' per thread instead of throttling across multiple threads, throttler appear throttl throttl per thread instead throttl across multipl thread,,,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/processor/Throttler.java;camel-core/src/test/java/org/apache/camel/processor/ThrottlerTest.java;camel-core/src/main/java/org/apache/camel/processor/Throttler.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/throttler.xml;camel-core/src/main/java/org/apache/camel/processor/Throttler.java;camel-core/src/test/java/org/apache/camel/processor/ThrottlerTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/throttler.xml;,0
1205,Claus Ibsen,camel-spring,0,@EndpointInject can not lookup bean if endpoint is defined directly as a consumer (from), EndpointInject endpoint inject not lookup bean endpoint defin directli consum,I was messing with camel-spring and routes using spring DSLI had this part of unit test code @EndpointInject(name = 'myFileEndpoint') protected Endpoint inputFile;To lookup an endppoint with the given name myFileEndpointBut if I define it directly then it cannot be found &lt;route&gt; &lt;from id='myFileEndpoint' uri='file://target/antpathmatcher?consumer.recursive=true&amp;amp;filter=#myFilter'/&gt; &lt;to uri='mock:result'/&gt; &lt;/route&gt;So I have to define it as a loose endpoint as: &lt;endpoint id='myFileEndpoint' uri='file://target/antpathmatcher?consumer.recursive=true&amp;amp;filter=#myFilter'/&gt; &lt;route&gt; &lt;from ref='myFileEndpoint'/&gt; &lt;to uri='mock:result'/&gt; &lt;/route&gt;, mess camel spring camel spring rout use spring DSLI part unit test code EndpointInject name endpoint inject name myFileEndpoint file endpoint protect endpoint inputFile input file lookup endppoint given name myFileEndpointBut file endpoint defin directli cannot found lt rout gt lt rout gt lt lt id myFileEndpoint id file endpoint uri file target antpathmatch consum recurs true amp amp filter myFilter gt uri file target antpathmatch consum recurs true amp amp filter filter gt lt lt uri mock result gt uri mock result gt lt rout gt lt rout gt defin loos endpoint lt endpoint lt endpoint id myFileEndpoint id file endpoint uri file target antpathmatch consum recurs true amp amp filter myFilter gt uri file target antpathmatch consum recurs true amp amp filter filter gt lt rout gt lt rout gt lt lt ref myFileEndpoint gt ref file endpoint gt lt lt uri mock result gt uri mock result gt lt rout gt lt rout gt,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/builder/xml/Namespaces.java;components/camel-spring/src/main/java/org/apache/camel/spring/handler/CamelNamespaceHandler.java;components/camel-spring/src/test/java/org/apache/camel/spring/NodeIdReferenceTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/NodeIdReferenceTest-context.xml;,0
1207,Willem Jiang,osgi,0,ConcurrentModificationException when stop the camel-osgi bundle, ConcurrentModificationException concurr modif except stop camel osgi camel osgi bundl,ERROR: Error stopping mvn:org.apache.camel/camel-osgi/1.5.0 (org.osgi.framework.BundleException: Activator stop error.)java.util.ConcurrentModificationException at java.util.HashMap$HashIterator.nextEntry(HashMap.java:841) at java.util.HashMap$ValueIterator.next(HashMap.java:871) at org.apache.camel.osgi.Activator.mayBeRemoveComponentFor(Activator.java:85) at org.apache.camel.osgi.Activator.stop(Activator.java:120) at org.apache.felix.framework.util.SecureAction.stopActivator(SecureAction.java:613) at org.apache.felix.framework.Felix._stopBundle(Felix.java:1995) at org.apache.felix.framework.Felix.stopBundle(Felix.java:1952) at org.apache.felix.framework.Felix.setFrameworkStartLevel(Felix.java:1151) at org.apache.felix.framework.StartLevelImpl.run(StartLevelImpl.java:267) at java.lang.Thread.run(Thread.java:595), ERROR ERROR error stop mvn org apach camel camel osgi mvn org apach camel camel osgi org osgi framework BundleException org osgi framework bundl except activ stop error java util ConcurrentModificationException error java util concurr modif except java util HashMap HashIterator nextEntry HashMap java java util hash map hash iter next entri hash map java java util HashMap ValueIterator next HashMap java java util hash map valu iter next hash map java org apach camel osgi activ mayBeRemoveComponentFor activ java org apach camel osgi activ may remov compon activ java org apach camel osgi activ stop activ java org apach camel osgi activ stop activ java org apach felix framework util SecureAction stopActivator SecureAction java org apach felix framework util secur action stop activ secur action java org apach felix framework felix _stopBundle felix java org apach felix framework felix _stop bundl felix java org apach felix framework felix stopBundle felix java org apach felix framework felix stop bundl felix java org apach felix framework felix setFrameworkStartLevel felix java org apach felix framework felix set framework start level felix java org apach felix framework StartLevelImpl run StartLevelImpl java org apach felix framework start level impl run start level impl java java lang thread run thread java java lang thread run thread java,1,0,0,0,0,components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiComponentResolver.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiComponentResolver.java;,0
1209,Claus Ibsen,camel-xmpp,0,camel-xmpp to work with google chat, camel xmpp camel xmpp work googl chat,See blog entryhttp://www.andrejkoelewijn.com/wp/2008/12/30/using-google-talk-from-java-example/There is a solution that works with plain java. Could be used to identify what needs to be fixed in Camel to get it working with Google chat as well.Notice I haven't verified if it doesn't already work with google chat. Just created this ticket to not forget it., see blog entryhttp www andrejkoelewijn com wp use googl talk java exampl entryhttp www andrejkoelewijn com wp use googl talk java exampl solut work plain java java could use identifi need fix camel get work googl chat well notic well notic verifi alreadi work googl chat chat creat ticket not forget,1,0,0,0,0,components/camel-xmpp/pom.xml;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppEndpoint.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/GoogleTalkTest.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/UriConfigurationTest.java;,0
1211,Przemyslaw Budzik,camel-core; camel-restlet,0,camel-restlet security extension, camel restlet camel restlet secur extens,Now we have basic http auth. Quick shot is adding digest as it is supported by Restlet  but I have something more in mind. As I'm using token based auth and for me http auth is not suitable (pushing credentials back and forth all the time etc). How about a pattern where from one endpoint you can consume a ticket/token/sessionId and you can use it as a header to authenticate? As now the realm is to keep login and pass and it could be something like a bean that can validate the token. Of course that data would not be static so it is more about a callback (eg. getTokens()) than a static map/list. And finally as we have the uri we can resolve an 'operation' and do authorization (so uri+method is the target). I mean in my project I have processor that does stuff like that and it would be cool to have all those things in one place in consumer (and provide only data and have skeletal logic under the hood).Now the question is if my idea makes sense and if so what are your suggestions on how to implement that w/o reinventing the wheel (and not using ACEGI )Btw  Claus  William - logs about attaching/detaching restlets are at info level and it's kind of spamming if there are say 20 endpoints... Maybe it should be at debug?, basic http auth auth quick shot ad digest support restlet someth mind mind use token base auth http auth not suitabl push credenti back forth time etc etc pattern one endpoint consum ticket token sessionId ticket token session Id use header authent authent realm keep login pass could someth like bean valid token token cours data would not static callback eg eg getTokens get token static map list map list final uri resolv oper oper author uri method uri method target target mean project processor stuff like would cool thing one place consum provid data skelet logic hood hood question idea make sens suggest implement reinvent wheel not use ACEGI btw btw clau william log attach detach attach detach restlet info level kind spam say endpoint endpoint mayb debug debug,0,1,0,1,0,components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletComponent.java;,1
1212,Jason Royals,camel-jms,0,Improve JMS header name endocing/decoding strategy, improv JMS header name endoc decod endoc decod strategi,We have a scenario where we need to perform the following style of integration:HTTP -&gt; JMS -&gt; HTTPThe final HTTP endpoint needs to receive the headers as they were in the original HTTP request. However  I am finding that the HTTP headers that contain a hyphen (such as Content-Type  Content-Length etc) are being omitted when the messages go onto the queue. JmsBinding has two static methods to perform some basic header manipulation to 'encode' and 'decode' headers that are not valid Java identifiers. However  the strategy employed does not handle hyphens or other illegal characters  only periods. Secondly  as static methods they cannot be overridden by my own extension of JmsBinding. And finally  JmsHeaderFilterStrategy has a static link back to these methods in JmsBinding so that makes it hard to replace.To me  it would be more appropriate that HeaderFilterStrategy implementations should actually contain the code to Advise if a header needs to be encoded/decoded  which it already does  but in addition; Actually perform that encoding/decoding in it's own implementation-specific wayThis affects 1.5.0 but it's also in the trunk like this.I have a workaround which is a little messy but it works Thanks Jason, scenario need perform follow style integr HTTP integr HTTP gt gt JMS gt gt HTTPThe HTTP final HTTP endpoint need receiv header origin HTTP request request howev find HTTP header contain hyphen content type content type content length content length etc etc omit messag go onto queue queue JmsBinding jm bind two static method perform basic header manipul encod encod decod decod header not valid java identifi identifi howev strategi employ not handl hyphen illeg charact period period secondli static method cannot overridden extens JmsBinding jm bind final JmsHeaderFilterStrategy jm header filter strategi static link back method JmsBinding jm bind make hard replac replac would appropri HeaderFilterStrategy header filter strategi implement actual contain code advis header need encod decod encod decod alreadi addit addit actual perform encod decod encod decod implement specif implement specif wayThis way affect also trunk like workaround littl messi work thank jason,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/DefaultJmsKeyFormatStrategy.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsHeaderFilterStrategy.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsKeyFormatStrategy.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/PassThroughJmsKeyFormatStrategy.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/DefaultJmsHeaderKeyFormatStrategyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteWithCustomKeyFormatStrategyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteWithDefaultKeyFormatStrategyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteWithPassThroughKeyFormatStrategyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/PassThroughJmsKeyFormatStrategyTest.java;,0
1233,Claus Ibsen,camel-core,0,Pipeline could change the MEP unintended, pipelin could chang MEP unintend,When exchanges is processed from pipeline they result is copyed as input to the next exchange. However during this copy Camel could potentially change the MEP to InOut. It should respect the original MEP.The flaw is in ExchangeHelper#copyResultsFixing this also forces end users to use the correct send/request method on ProducerTemplate. Now Camel will keep the MEP.So if you are using send then its inOnly and then you the there is no result. Use request for InOut MEP's.This breaks a few of our own unit testing that was using the wrong method., exchang process pipelin result copi input next exchang exchang howev copi camel could potenti chang MEP InOut respect origin MEP MEP flaw ExchangeHelper copyResultsFixing exchang helper copi result fix also forc end user use correct send request send request method ProducerTemplate produc templat camel keep MEP MEP use send inOnly no result result use request InOut MEP MEP break unit test use wrong method method,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java;camel-core/src/test/java/org/apache/camel/processor/MultiCastAggregatorTest.java;camel-core/src/test/java/org/apache/camel/processor/PipelineMEPTest.java;camel-core/src/test/java/org/apache/camel/processor/PipelineTest.java;camel-core/src/test/java/org/apache/camel/processor/SplitterTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/InterceptAlterMessageBeforeRedeliveryTest.java;,0
1235,Claus Ibsen,camel-core,0,Tracer - allow configuration of fixed size of leading breadcrum or let it be variable sized, tracer allow configur fix size lead breadcrum let variabl size,The TraceFormatter fixes the breadcrum to 65 chars. If you output the exchange id and its based on the computer name it can be long  and thus cut important parts such as the destination.Allow it to be wider and add option to configure the length or let it be variable.breadcrumLength = 65. Setting it to 0 will let it be flexible. Maybe bump the 65 to 80 to let it be bigger from the start., TraceFormatter trace formatt fix breadcrum char char output exchang id base comput name long thu cut import part destin allow destin allow wider add option configur length let variabl breadcrumLength variabl breadcrum length set let flexibl flexibl mayb bump let bigger start start,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceFormatter.java;,0
1236,Claus Ibsen,camel-core; camel-ftp,0,file consumer - support expression for setting the folder/file to consume, file consum support express set folder file folder file consum,Would be nice to support the file language to set dynamic patterns for the starting folder/file to consume.See nabble:http://www.nabble.com/Mega-mega-%28VFS%29-file-handler-to21346374s22882.html, would nice support file languag set dynam pattern start folder file folder file consum see consum see nabbl http www nabbl com mega mega VFS file handler html nabbl http www nabbl com mega mega VFS file handler html,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;camel-core/src/main/java/org/apache/camel/component/file/NewFileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileProcessStrategyFactory.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/NewFileProcessStrategyFactory.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerBeginAndCommitExpressionRenameStrategyTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerBeginAndCommitRenameStrategyTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerExpressionTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerFileExpressionTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerMoveExpressionTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileProducerExpressionTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileEndpoint.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFileToFtpDefaultRootRenameStrategyTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpDirectoryToBinaryFilesTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFilePostfixTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFilePrefixTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFileTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPassiveModeTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveFileExpressionTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveFilePostfixTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveFilePrefixTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSetNamesWithMultiDirectoriesTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpToAsciiFileNoBodyConversionTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpToAsciiFileTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpToBinaryFileTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpToBinaryFilesTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpToFileNoFileNameHeaderTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerExpressionTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerMoveExpressionTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpIllegalOptionsTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpLoginTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerExpressionTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerTempPrefixTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpServerTestSupport.java;,0
1247,Paddy Daly,camel-ftp,0,SFTP : Polling - Cannot list directory Error, SFTP poll cannot list directori error,http://www.nabble.com/SFTP-%3A-Polling---Cannot-list-directory-to21413159s22882.html,,0,0,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpRemoteFileOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpRemoteFileOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerWithNoFileOptionTest.java;,0
1254,Claus Ibsen,camel-cxf,0,camel-cxf: URI option for serviceClass does not support lookup in registry, camel cxf camel cxf URI option serviceClass servic class not support lookup registri,Having an endpoint such as: String cxfEndpoint = 'cxf://http://localhost:8080/part-five/webservices/incident' + '?serviceClass=org.apache.camel.example.reportincident.ReportIncidentEndpoint' + '&amp;wsdlURL=report_incident.wsdl';The serviceClass option currently only supports defining a FQN for the class. I think we need to support Registry lookup as well using the # notation. So you can do: String cxfEndpoint = 'cxf://http://localhost:8080/part-five/webservices/incident' + '?serviceClass=#reportService' + '&amp;wsdlURL=report_incident.wsdl';And then have it defined in Spring XML:&lt;bean id='reportService' class='...'&gt;The # notation is already supported if you use the cxf Spring XML configuration. We need this in the Java DSL as well.Sorry if it already exists. But I got a hint from a Camel end user that it didn't, endpoint string cxfEndpoint cxf endpoint cxf http localhost part five webservic incid cxf http localhost part five webservic incid serviceClass org apach camel exampl reportincid ReportIncidentEndpoint servic class org apach camel exampl reportincid report incid endpoint amp wsdlURL report_incident wsdl amp wsdl URL report_incident wsdl serviceClass servic class option current support defin FQN class class think need support registri lookup well use notat notat string cxfEndpoint cxf endpoint cxf http localhost part five webservic incid cxf http localhost part five webservic incid serviceClass reportService servic class report servic amp wsdlURL report_incident wsdl amp wsdl URL report_incident wsdl defin spring XML lt bean XML lt bean id reportService id report servic class gt class gt notat alreadi support use cxf spring XML configur configur need java DSL well sorri well sorri alreadi exist exist got hint camel end user,1,0,0,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfConsumer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapConsumer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapProducer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/util/CxfEndpointUtils.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/util/CxfEndpointUtilsTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/util/CxfEndpointUtilsWithSpringTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/spring/CxfEndpointBeans.xml;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/util/CxfEndpointBeans.xml;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CamelInvoker.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfComponent.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfConsumer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfExchange.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfHeaderFilterStrategy.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfMessage.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfPayload.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapProducer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSpringEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/DataFormat.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/DefaultCxfBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/MessageInvoker.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/converter/CxfConverter.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/feature/AbstractDataFormatFeature.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/feature/MessageDataFormatFeature.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/feature/MessageInvokerInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/feature/PayLoadDataFormatFeature.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/AbstractMessageInInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/AbstractMessageOutInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/DOMInInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/DOMOutInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/FakeBindingOperationInfo.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/FaultOutInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/RawMessageContentRedirectInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/SoapMessageInInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/SoapMessageOutInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/XMLMessageInInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/XMLMessageOutInterceptor.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/AbstractInvokingContext.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/CxfClient.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/CxfClientFactoryBean.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/InvokingContext.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/InvokingContextFactory.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/PayloadInvokingContext.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/PayloadMessage.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/RawMessageInvokingContext.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/invoker/package.html;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfEndpointBean.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelConduit.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/util/CxfEndpointUtils.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/util/CxfHeaderHelper.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfEndpointTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfGreeterPayLoadWithFeatureRouterTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfPayLoadMessageRouterTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfPayLoadSoapHeaderTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfProducerContextTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfProducerTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfWsdlFirstTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/util/CxfEndpointUtilsTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/util/CxfEndpointUtilsWithSpringTest.java;pom.xml;,0
1270,Claus Ibsen,camel-core; camel-spring,0,Starting Camel using Main from camel:run or Main.class - countdown latch is hanging, start camel use main camel run camel run main class main class countdown latch hang,The countdown latch in MainSupport is not completed when Main is stopping.Then we have a hanging thread. Can bee seen using ctrl + /, countdown latch MainSupport main support not complet main stop stop hang thread thread bee seen use ctrl,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/util/MainSupport.java;components/camel-spring/src/main/java/org/apache/camel/spring/Main.java;,0
1271,Darren Davison,camel-jbi,0,Can only interact with servicemix-http if logging is at DEBUG, interact servicemix http servicemix http log DEBUG,Given the following camel DSL:from('activemq:queue.testJms.in')  .to('jbi:service:urn:oms:testHttp?mep=in-out')  .to('activemq:queue.testJms.out'); and the following xbean.xml for the smx (3.3) SU:&lt;http:endpoint  service='oms:testHttp'  endpoint='testHttp'  role='provider'  locationURI='http://localhost:8080/testP1'&gt; &lt;/http:endpoint&gt; then Camel operates correctly (or at least as desired) only if DEBUG logging is enabled in the org.apache.servicemix.http package. This seems to be because a DOMSource is returned (which Camel can convert). If the log level is reduced (say to WARN) then a StreamSource object is returned instead which Camel appears unable to convert. This results in stack traces such as:ERROR - DeadLetterChannel - Failed delivery for exchangeId: ID-davisond-laptop/53380-1232099798317/0-0. On delivery attempt: 0 caught: org.apache.camel.RuntimeCamelException: javax.xml.transform.TransformerException: java.io.IOException: Attempted read on closed stream. org.apache.camel.RuntimeCamelException: javax.xml.transform.TransformerException: java.io.IOException: Attempted read on closed stream.  at org.apache.camel.util.ObjectHelper.invokeMethod(ObjectHelper.java:441)  at org.apache.camel.impl.converter.InstanceMethodTypeConverter.convertTo(InstanceMethodTypeCo+nverter.java:57), given follow camel DSL activemq queue testJms DSL activemq queue test jm jbi servic urn om testHttp mep jbi servic urn om test http mep activemq queue testJms activemq queue test jm follow xbean xml xbean xml smx SU lt http endpoint SU lt http endpoint servic om testHttp servic om test http endpoint testHttp endpoint test http role provid role provid locationURI http localhost testP gt locat URI http localhost test gt lt http endpoint gt lt http endpoint gt camel oper correctli least desir desir DEBUG log enabl org apach servicemix http org apach servicemix http packag packag seem DOMSource DOM sourc return camel convert convert log level reduc say WARN WARN StreamSource stream sourc object return instead camel appear unabl convert convert result stack trace ERROR ERROR DeadLetterChannel dead letter channel fail deliveri exchangeId exchang Id ID davisond laptop ID davisond laptop deliveri attempt attempt caught caught org apach camel RuntimeCamelException org apach camel runtim camel except javax xml transform TransformerException javax xml transform transform except java io IOException java io IO except attempt read close stream stream org apach camel RuntimeCamelException org apach camel runtim camel except javax xml transform TransformerException javax xml transform transform except java io IOException java io IO except attempt read close stream stream org apach camel util ObjectHelper invokeMethod ObjectHelper java org apach camel util object helper invok method object helper java org apach camel impl convert InstanceMethodTypeConverter convertTo InstanceMethodTypeCo nverter java org apach camel impl convert instanc method type convert convert instanc method type Co nverter java,1,0,1,0,0,components/camel-jaxb/pom.xml;components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/FallbackTypeConverter.java;components/camel-jaxb/src/test/java/org/apache/camel/example/JAXBConverterMessageTypeTest.java;camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/StreamCaching.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/StreamCachingInterceptor.java;camel-core/src/main/java/org/apache/camel/util/MessageHelper.java;camel-core/src/test/java/org/apache/camel/component/dataset/DataSetSedaTest.java;camel-core/src/test/java/org/apache/camel/issues/CacheInputStreamInDeadLetterIssue520Test.java;camel-core/src/test/java/org/apache/camel/processor/StreamResequencerTest.java;camel-core/src/test/java/org/apache/camel/processor/StreamSourceContentBasedRouterTest.java;camel-core/src/test/java/org/apache/camel/processor/ThreadTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/StreamCachingTest.java;camel-core/src/test/java/org/apache/camel/util/MessageHelperTest.java;components/camel-jaxb/src/test/java/org/apache/camel/example/JAXBConvertTest.java;,0
1274,Gert Vanthienen,camel-jetty,0,Jetty HTTP SelectChannelConnector is not closed when CamelContext is stopped, jetti HTTP SelectChannelConnector select channel connector not close CamelContext camel context stop,When the camel-jetty component is shut down  it leaves Jetty SelectChannelConnector instances active., camel jetti camel jetti compon shut leav jetti SelectChannelConnector select channel connector instanc activ activ,0,0,0,0,0,components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyHttpEndpointDisconnectTest.java;,0
1277,Charles Moulliard,null,0,Apache camel example reportincident dependency removed from pom.xml, apach camel exampl reportincid depend remov pom xml pom xml,Hi Someone has removed the following dependency from the camel pom.xml file : &lt;dependency&gt; &lt;groupId&gt;org.apache.camel&lt;/groupId&gt; &lt;artifactId&gt;camel-example-reportincident&lt;/artifactId&gt; &lt;version&gt;${project.version}&lt;/version&gt; &lt;/dependency&gt;, Hi someon remov follow depend camel pom xml pom xml file lt depend gt lt depend gt lt groupId gt org apach camel lt groupId gt lt group Id gt org apach camel lt group Id gt lt artifactId gt camel exampl reportincid lt artifactId gt lt artifact Id gt camel exampl reportincid lt artifact Id gt lt version gt project version lt version gt lt version gt project version lt version gt lt depend gt lt depend gt,0,0,0,1,0,pom.xml;,0
1283,Roman Kalukiewicz,null,0,SQL component doesn't handle wrong number of parameters, SQL compon handl wrong number paramet,NPE thrown when null body sent to to SQL endpoint. When to many parameters are set then exception is thrown but nothing wrong happens when to less parameters are set.It should be possible to set null as a body as there might be parameterless statement to execute. There should be consistent Exception thrown when wrong number of parameters is set., NPE thrown null bodi sent SQL endpoint endpoint mani paramet set except thrown noth wrong happen less paramet set set possibl set null bodi might parameterless statement execut execut consist except thrown wrong number paramet set set,0,0,0,0,0,components/camel-sql/src/main/java/org/apache/camel/component/sql/SqlProducer.java;components/camel-sql/src/test/java/org/apache/camel/component/sql/SqlRouteTest.java;,0
1296,Claus Ibsen,camel-ftp,0,camel-ftp : uri set on endpoint has stripped all parameters  that is wrong as they should be there as well, camel ftp camel ftp uri set endpoint strip paramet wrong well,See nabblehttp://www.nabble.com/Camel-Remote-File-Producer---Recipient-List-Password-Issue-td21678952s22882.htmlThe bug is introduced with CAMEL-941, see nabblehttp www nabbl com camel remot file produc recipi list password issu td htmlThe nabblehttp www nabbl com camel remot file produc recipi list password issu td html bug introduc CAMEL CAMEL,0,0,0,1,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpRemoteFileComponent.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerMultipleDirectoriesTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/UriConfigurationTest.java;,0
1297,Roman Kalukiewicz,camel-core,0,Seda component should configure its executor, seda compon configur executor,Currently SEDA endpoint processes only using 1 thread so it is impossible to easily configure few concurrent processings on 1 seda endpoint. I believe SEDA endpoint could be configured with some executor and/or thread number that we would like to use to process given flows., current SEDA endpoint process use thread imposs easili configur concurr process seda endpoint endpoint believ SEDA endpoint could configur executor thread number would like use process given flow flow,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaComponent.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaConsumer.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaEndpoint.java;camel-core/src/test/java/org/apache/camel/component/seda/SedaConfigureTest.java;camel-core/src/test/java/org/apache/camel/component/seda/SedaConsumerStartStopTest.java;,0
1325,Trev,camel-core,0,Two more NullPointerExceptions when context classloader is null, two NullPointerExceptions null pointer except context classload null,When I applied the CAMEL-1301 fix (thanks Claus) I hit two more NullPointerExceptions caused by code that assumes that the context classloader will never be null.Here's the relevant part of one stack trace:java.lang.NullPointerException at org.apache.camel.impl.converter.AnnotationTypeConverterLoader.findPackages(AnnotationTypeConverterLoader.java:97) at org.apache.camel.impl.converter.AnnotationTypeConverterLoader.findPackageNames(AnnotationTypeConverterLoader.java:91)And the other:java.lang.NullPointerException at org.apache.camel.util.ResolverUtil.getResources(ResolverUtil.java:402) at org.apache.camel.util.ResolverUtil.find(ResolverUtil.java:313) at org.apache.camel.util.ResolverUtil.find(ResolverUtil.java:290)A patch is attached., appli CAMEL CAMEL fix thank clau clau hit two NullPointerExceptions null pointer except caus code assum context classload never null null relev part one stack trace java lang NullPointerException trace java lang null pointer except org apach camel impl convert AnnotationTypeConverterLoader findPackages AnnotationTypeConverterLoader java org apach camel impl convert annot type convert loader find packag annot type convert loader java org apach camel impl convert AnnotationTypeConverterLoader findPackageNames AnnotationTypeConverterLoader java org apach camel impl convert annot type convert loader find packag name annot type convert loader java java lang NullPointerException java lang null pointer except org apach camel util ResolverUtil getResources ResolverUtil java org apach camel util resolv util get resourc resolv util java org apach camel util ResolverUtil find ResolverUtil java org apach camel util resolv util find resolv util java org apach camel util ResolverUtil find ResolverUtil java org apach camel util resolv util find resolv util java patch attach attach,1,1,0,0,0,0,0
1337,Willem Jiang,camel-core,0,The xpath expression evaluations should rest the cached stream, xpath express evalu rest cach stream,&lt;route&gt; &lt;from uri='jetty:http://localhost:8084/services/simpleService'/&gt; &lt;choice&gt; &lt;when&gt; &lt;xpath&gt;/sim:GetCapabilitiesRequest&lt;/xpath&gt; &lt;/when&gt; &lt;when&gt; &lt;xpath&gt;/sim:GetMetadataRequest&lt;/xpath&gt; &lt;/when&gt; &lt;/choice&gt;&lt;/route&gt;A messages that matches the first when statement (I tested with both the route above and a version where I swapped the two xpath statements to make sure it was not dependent on the actual message) throws no errors and a call that matches the second when statement throws the Premature end of file error., lt rout gt lt rout gt lt lt uri jetti http localhost servic simpleService gt uri jetti http localhost servic simpl servic gt lt choic gt lt choic gt lt gt lt gt lt xpath gt sim GetCapabilitiesRequest lt xpath gt lt xpath gt sim get capabl request lt xpath gt lt gt lt gt lt gt lt gt lt xpath gt sim GetMetadataRequest lt xpath gt lt xpath gt sim get metadata request lt xpath gt lt gt lt gt lt choic gt lt rout gt lt choic gt lt rout gt messag match first statement test rout version swap two xpath statement make sure not depend actual messag messag throw no error call match second statement throw prematur end file error error,0,0,1,0,0,components/camel-saxon/src/main/java/org/apache/camel/component/xquery/XQueryBuilder.java;camel-core/src/main/java/org/apache/camel/builder/xml/XPathBuilder.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/StreamCachingInterceptor.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyWithXPathChoiceTest.java;,0
1357,Jonathan Anstey,null,0,Add regexReplaceAll to builder support, add regexReplaceAll regex replac builder support,... so we can do things likefrom('direct:start').setBody(regexReplaceAll(body()  'Foo'  'Bar'))...which essentially is equivalent to sed 's/Foo/Bar/g' on the body., thing likefrom direct start setBody regexReplaceAll bodi likefrom direct start set bodi regex replac bodi foo foo bar bar essenti equival sed foo bar foo bar bodi bodi,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/builder/Builder.java;camel-core/src/main/java/org/apache/camel/builder/BuilderSupport.java;camel-core/src/main/java/org/apache/camel/builder/ValueBuilder.java;camel-core/src/test/java/org/apache/camel/processor/RegExRouteTest.java;,0
1366,Michael Chen,camel-jms,0,EndpointMessageListener should respect ExchangePattern, EndpointMessageListener endpoint messag listen respect ExchangePattern exchang pattern,In all current releases  org.apache.camel.component.jms.EndpointMessageListener.onMessage() has the following logic (line 90 in 1.6.0 code):// send the replyif (rce == null &amp;&amp; body != null &amp;&amp; !disableReplyTo) { sendReply(replyDestination  message  exchange  body);}This logic should also respect ExchangePattern of the exchange  so I propose a change to:// send the replyif (rce == null &amp;&amp; body != null &amp;&amp; exchange.isOutCapable()) { sendReply(replyDestination  message  exchange  body);}This change allows a processing pattern where the route may change the ExchangePattern using methods like RouteBuilder.inOnly() to switch the MEP at will so that the reply is send at a later time (true asynchronous exchange). This processing pattern is particularly useful for integrating long running services. For example // Java DSLfrom('activemq:my_queue?exchangePattern=InOnly').to('predict_weather://?reply_later=true');// orfrom('activemq:my_queue2').inOnly().to('predict_weather://?reply_later=true');The flaw of the current logic makes it impossible to do true asynchronous exchange  because 1) it does not respect the ExchangePattern; 2) if property 'disableReplyTo' is used  the 'org.apache.camel.jms.replyDestination' property will not be set (see method createExchange in the same file)  thus downstream cannot find the reply destination.The proposed change can also deprecate the disableReplyTo property and put the MEP concept into good use., current releas org apach camel compon jm EndpointMessageListener onMessage org apach camel compon jm endpoint messag listen messag follow logic line code code send replyif rce null amp amp amp amp bodi null amp amp amp amp disableReplyTo disabl repli sendReply replyDestination send repli repli destin messag exchang bodi bodi logic also respect ExchangePattern exchang pattern exchang propos chang send replyif rce null amp amp amp amp bodi null amp amp amp amp exchang isOutCapable exchang capabl sendReply replyDestination send repli repli destin messag exchang bodi bodi chang allow process pattern rout may chang ExchangePattern exchang pattern use method like RouteBuilder inOnly rout builder switch MEP repli send later time true asynchron exchang exchang process pattern particularli use integr long run servic servic exampl java DSLfrom activemq my_queue exchangePattern InOnly predict_weather reply_later true DS lfrom activemq my_queue exchang pattern predict_weather reply_later true orfrom activemq my_queue inOnly predict_weather reply_later true orfrom activemq my_queue predict_weather reply_later true flaw current logic make imposs true asynchron exchang not respect ExchangePattern exchang pattern properti disableReplyTo disabl repli use org apach camel jm replyDestination org apach camel jm repli destin properti not set see method createExchange creat exchang file file thu downstream cannot find repli destin destin propos chang also deprec disableReplyTo disabl repli properti put MEP concept good use use,0,0,1,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsSimpleRequestLateReplyTest.java;,0
1378,Claus Ibsen,camel-core,0,@Header should have a value default so you do not have to set the name attribute, header header valu default not set name attribut,Doing this bean binding: public List&lt;String&gt; route(@XPath('/customer/id') String customerId  @Header('Location') String location  Document body) {The @Header does not have a default value  so you have to do this to get it to work: public List&lt;String&gt; route(@XPath('/customer/id') String customerId  @Header(name = 'Location') String location  Document body) {So we should support you do not have to set the name attribute., bean bind bind public list lt string gt list lt string gt rout XPath custom id rout path custom id string customerId custom Id header locat header locat string locat document bodi bodi header header not default valu get work work public list lt string gt list lt string gt rout XPath custom id rout path custom id string customerId custom Id header name header name locat locat string locat document bodi bodi support not set name attribut attribut,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/Header.java;camel-core/src/main/java/org/apache/camel/InOnly.java;camel-core/src/main/java/org/apache/camel/InOut.java;camel-core/src/main/java/org/apache/camel/Property.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanWithAnnotationAndExchangeTest.java;camel-core/src/test/java/org/apache/camel/language/BeanTest.java;camel-core/src/test/java/org/apache/camel/processor/BeanWithExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/BodyInAggregatingStrategy.java;camel-core/src/test/java/org/apache/camel/processor/ClaimCheckTest.java;camel-core/src/test/java/org/apache/camel/processor/MethodFilterTest.java;camel-core/src/test/java/org/apache/camel/processor/MyAggregationStrategy.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionRetryUntilTest.java;components/camel-spring/src/test/java/org/apache/camel/component/bean/MyBeanBindingConsumer.java;components/camel-spring/src/test/java/org/apache/camel/component/bean/MyBeanBindingConsumer.java;,0
1384,Michael Chen,camel-core,0,ExchangeHelper should respect ExchangePattern.InOptionalOut, ExchangeHelper exchang helper respect ExchangePattern InOptionalOut exchang pattern option,The utility method org.apache.camel.util.ExchangeHelper.copyResults() is use by many core classes. However  this method does not properly support MEP InOptionalOut.Assuming in an InOptionalOut exchange  having no out message means just that &#8211; no out message should be sent  then the following lines in this method// Message out = source.getOut(false); if (out != null) { result.getOut(true).copyFrom(out); } else { // no results so lets copy the last inputshould be changed to:// Message out = source.getOut(false); if (out != null) { result.getOut(true).copyFrom(out); } else if (result.getPattern() == ExchangePattern.InOptionalOut) { result.setOut(null); } else { // no results so lets copy the last input, util method org apach camel util ExchangeHelper copyResults org apach camel util exchang helper copi result use mani core class class howev method not properli support MEP InOptionalOut assum option assum InOptionalOut option exchang no messag mean no messag sent follow line method method messag sourc getOut fals sourc get fals null null result getOut true copyFrom result get true copi els no result let copi last inputshould chang messag sourc getOut fals sourc get fals null null result getOut true copyFrom result get true copi els result getPattern result get pattern ExchangePattern InOptionalOut exchang pattern option result setOut null result set null els no result let copi last input,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/component/dataset/DataSetConsumer.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultProducerTemplate.java;camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java;camel-core/src/test/java/org/apache/camel/processor/RouteMEPOptionalOutTest.java;,1
1401,Ivan Dubrov,camel-jaxb,0,JaxbDataFormat is not thread-safe, JaxbDataFormat jaxb data format not thread safe thread safe,JaxbDataFormat reuses the Marshaller/Unmarshaller instances.However  according to the https://jaxb.dev.java.net/faq/index.html#threadSafety  Marshaller/Unmarshaller instances are NOT thread safe  so you can't use them from separate threads at the same time.Due to this we are getting exceptions from the JAXB implementation (like ClassCastException or 'org.xml.sax.SAXException: FWK005 parse may not be called while parsing.'). Everything works nice with our custom JaxbDataFormat that creates new Unmarshaller/Marshaller instance on every request.Also  lazy-creating instances (like JAXBContext) in getter methods is not thread-safe as well (because explicit synchronization is required)., JaxbDataFormat jaxb data format reus marshal unmarshal marshal unmarshal instanc howev instanc howev accord marshal unmarshal marshal unmarshal instanc NOT thread safe use separ thread time due time due get except JAXB implement like ClassCastException class cast except org xml sax SAXException org xml sax SAX except FWK FWK pars may not call pars pars everyth work nice custom JaxbDataFormat jaxb data format creat new unmarshal marshal unmarshal marshal instanc everi request also request also lazi creat lazi creat instanc like JAXBContext JAXB context getter method not thread safe thread safe well explicit synchron requir requir,0,0,0,1,0,components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/FallbackTypeConverter.java;components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/JaxbConverter.java;components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/JaxbDataFormat.java;components/camel-jaxb/src/test/java/org/apache/camel/example/DataFormatConcurrentTest.java;components/camel-jaxb/src/test/java/org/apache/camel/example/DataFormatDataSetTest.java;components/camel-jaxb/src/test/java/org/apache/camel/example/JAXBConvertTest.java;,0
1407,Claus Ibsen,camel-quartz,0,Camel-quartz - improve setting of cron expression to be more cron like, camel quartz camel quartz improv set cron express cron like,See nabble:http://www.nabble.com/Re%3A-Camel-quartz-td22247508.html, see nabbl http www nabbl com camel quartz td html nabbl http www nabbl com camel quartz td html,0,0,0,1,0,components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzComponent.java;components/camel-quartz/src/test/java/org/apache/camel/component/quartz/QuartzCronUsingPlusAsSpaceRouteTest.java;components/camel-quartz/pom.xml;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/CamelJob.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzComponent.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzConstants.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzEndpoint.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/StatefulCamelJob.java;components/camel-quartz/src/test/java/org/apache/camel/component/quartz/QuartzCronRouteTest.java;components/camel-quartz/src/test/java/org/apache/camel/component/quartz/QuartzEndpointConfigureTest.java;components/camel-quartz/src/test/resources/log4j.properties;,0
1408,Claus Ibsen,camel-core,0,File component - better support for absolute path, file compon better support absolut path,See nabble:http://www.nabble.com/File%3A-using-absolute-file-paths-with-moveExpressions-td22253199.html, see nabbl http www nabbl com file use absolut file path moveExpressions td html nabbl http www nabbl com file use absolut file path move express td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/language/simple/FileExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/language/simple/FileLanguage.java;camel-core/src/test/java/org/apache/camel/language/FileLanguageTest.java;camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFile.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileExchange.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileLockExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileRenameExclusiveReadLockStrategy.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerAbsolutePathTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerCommitRenameAbsolutePathStrategyTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpConsumer.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerLocalWorkDirectoryAsAbsolutePathTest.java;,0
1411,Claus Ibsen,osgi,0,CamelContext - Add ClassResolver to be used when you need to load a class instead of ObjectHelper.loadClass to work in OSGi environments, CamelContext camel context add ClassResolver class resolv use need load class instead ObjectHelper loadClass object helper load class work OSGi OS Gi environ,Add the skeleton and let Willem add the stuff in camel-osgi, add skeleton let willem add stuff camel osgi camel osgi,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/CamelContext.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultClassResolver.java;camel-core/src/main/java/org/apache/camel/impl/DefaultPackageScanClassResolver.java;camel-core/src/main/java/org/apache/camel/impl/ReportingTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/WebSpherePacakageScanClassResolver.java;camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/model/dataformat/DataFormatType.java;camel-core/src/main/java/org/apache/camel/model/loadbalancer/LoadBalancerType.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/main/java/org/apache/camel/spi/ClassResolver.java;camel-core/src/main/java/org/apache/camel/spi/PackageScanClassResolver.java;camel-core/src/main/java/org/apache/camel/spi/PackageScanFilter.java;camel-core/src/main/java/org/apache/camel/util/FactoryFinder.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/main/java/org/apache/camel/util/ResolverUtil.java;camel-core/src/main/java/org/apache/camel/util/WebSphereResolverUtil.java;camel-core/src/test/java/org/apache/camel/converter/ConverterTest.java;camel-core/src/test/java/org/apache/camel/converter/JaxpTest.java;camel-core/src/test/java/org/apache/camel/converter/StringSourceTest.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyCsvFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyKeyValuePairFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/csv/BindyCsvDataFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/kvp/BindyKeyValuePairDataFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/util/AnnotationModelLoader.java;components/camel-jcr/src/test/java/org/apache/camel/component/jcr/JcrConverterTest.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/CamelContextFactoryBean.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiAnnotationTypeConverterLoader.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiPackageScanClassResolver.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiResolverUtil.java;components/camel-osgi/src/test/java/org/apache/camel/osgi/CamelOsgiTestSupport.java;components/camel-osgi/src/test/java/org/apache/camel/osgi/OsgiAnnotationTypeConverterLoaderTest.java;components/camel-osgi/src/test/java/org/apache/camel/osgi/OsgiResolverUtilTest.java;components/camel-scala/src/test/scala/org/apache/camel/scala/ScalaTypeConverterTest.scala;components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java;components/camel-spring/src/main/java/org/apache/camel/spring/RouteBuilderFinder.java;tooling/maven/camel-maven-plugin/src/main/java/org/apache/camel/maven/ConvertersMojo.java;camel-core/pom.xml;camel-core/src/main/java/org/apache/camel/impl/DefaultClassResolver.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsQueueEndpoint.java;components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaComponent.java;components/camel-spring/src/main/java/org/apache/camel/component/xslt/XsltComponent.java;components/camel-spring/src/main/java/org/apache/camel/spring/util/SimpleRouteBuilder.java;components/camel-web/src/main/java/org/apache/camel/web/resources/ConvertersResource.java;,0
1412,Willem Jiang,camel-jms,0,Can not load the QueueBrowserStrategy in OSGI environment, not load QueueBrowserStrategy queue browser strategi OSGI environ,Here is the mail thread which discusses about it.http://www.nabble.com/Classloading-and-OSGI-to22303475.html#a22303475, mail thread discuss http www nabbl com classload OSGI html http www nabbl com classload OSGI html,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;,0
1414,Nicolas Bouillon,camel-jms,0,JMSMessage vanishes attachments, JMSMessage JMS messag vanish attach,When using this kind of route&lt;from uri='activemq:queue:test'/&gt;&lt;camel:process ref='mailProcessor' /&gt;&lt;to uri='smtp://localhost:25?to=user@localhost' /&gt;and trying to enrich the message in the mailProcessor withexchange.getIn().addAttachment('attachement.txt'  new DataHandler('Hello world'  'text/plain'));The received mail doesn't contains any attachment.If the input 'from' is a 'direct' instead of activemq  it works fine.Inspecting source code  MessageSupport.copyFrom(Message that) doesgetAttachments().putAll(that.getAttachments());but the child class JmsMessage doesn't., use kind rout lt rout lt uri activemq queue test gt lt camel process uri activemq queue test gt lt camel process ref mailProcessor ref mail processor gt lt gt lt uri smtp localhost user localhost uri smtp localhost user localhost gt gt tri enrich messag mailProcessor mail processor withexchang getIn addAttachment attach txt withexchang get add attach attach txt new DataHandler hello data handler hello world world text plain text plain receiv mail contain attach attach input direct direct instead activemq work fine inspect fine inspect sourc code MessageSupport copyFrom messag messag support copi messag doesgetAttachments putAll getAttachments doesget attach put get attach child class JmsMessage jm messag,0,1,0,0,0,components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationMessage.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessage.java;,0
1417,Claus Ibsen,camel-core,0,StreamCache causes to many type converters not possible, StreamCache stream cach caus mani type convert not possibl,Since StreamCache is default turned on it cause to many convters attempt that fails in MessageSupport.No type converter available to convert from type: java.lang.Integer to the required type: org.apache.camel.StreamCache with value 1It hurts performance to much. See nabble:http://www.nabble.com/Performance-and-MessageSupport.getBody-%281.6.0%29-td22291841s22882.html, sinc StreamCache stream cach default turn caus mani convter attempt fail MessageSupport No messag support No type convert avail convert type type java lang integ java lang integ requir type type org apach camel StreamCache org apach camel stream cach valu hurt perform much much see nabbl http www nabbl com perform MessageSupport getBody td html nabbl http www nabbl com perform messag support get bodi td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/StreamCachingInterceptor.java;camel-core/src/test/java/org/apache/camel/component/mock/MockEndpointTest.java;camel-core/src/test/java/org/apache/camel/processor/RoutePerformanceTest.java;camel-core/src/main/java/org/apache/camel/impl/MessageSupport.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/StreamCachingInterceptor.java;camel-core/src/test/java/org/apache/camel/processor/Camel715ThreadProcessorTest.java;camel-core/src/test/java/org/apache/camel/processor/RoutePerformanceTest.java;,0
1424,Claus Ibsen,camel-core,0,Bean component - improve method selection logic for overloaded methods, bean compon improv method select logic overload method,If end users have overloaded methods with different types as method parameter Camel should try to find the method with exact type match from the payload.See nabble:http://www.nabble.com/Is-it-possible-to-overload-a-bean-method--td22338316s22882.html, end user overload method differ type method paramet camel tri find method exact type match payload see payload see nabbl http www nabbl com possibl overload bean method td html nabbl http www nabbl com possibl overload bean method td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanConstants.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/ParameterMappingStrategy.java;camel-core/src/test/java/org/apache/camel/component/bean/CustomParameterMappingStrategyTest.java;camel-core/src/test/java/org/apache/camel/processor/BeanWithExceptionTest.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanInfoAMoreComplexOverloadedTest.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;,0
1442,Charles Moulliard,camel-bindy,0,unmarshaling of data always send the last occurence of the stream, unmarsh data alway send last occur stream,The unmarshaling method of BindyDataFormat (CSV or Key Value Pair) does not create a new model object for each new line of the stream readed, unmarsh method BindyDataFormat bindi data format CSV CSV key valu pair pair not creat new model object new line stream read,0,1,0,0,0,0,0
1443,Zhou,osgi,0,Unable to resolve scripting languages in OSGi environment, unabl resolv script languag OSGi OS Gi environ,The OsgiLanguageResolver.java created since CAMEL-1221 does not resolve scripting languages by using the default resolver declared in camel-script. The DefaultLanguageResolver  however in the non-osgi context  handles it properly.This leads to NullPointerException while launching a route in an OSGi container using a scripting language  e.g. javascript.Exception in thread 'SpringOsgiExtenderThread-2' java.lang.NullPointerException at org.apache.camel.model.language.ExpressionType.createPredicate(ExpressionType.java:145) at org.apache.camel.model.ExpressionNode.createFilterProcessor(ExpressionNode.java:95) at org.apache.camel.model.WhenType.createProcessor(WhenType.java:57) at org.apache.camel.model.ChoiceType.createProcessor(ChoiceType.java:73)..., OsgiLanguageResolver java osgi languag resolv java creat sinc CAMEL CAMEL not resolv script languag use default resolv declar camel script camel script DefaultLanguageResolver default languag resolv howev non osgi non osgi context handl properli properli lead NullPointerException null pointer except launch rout OSGi OS Gi contain use script languag javascript except javascript except thread SpringOsgiExtenderThread spring osgi extend thread java lang NullPointerException java lang null pointer except org apach camel model languag ExpressionType createPredicate ExpressionType java org apach camel model languag express type creat predic express type java org apach camel model ExpressionNode createFilterProcessor ExpressionNode java org apach camel model express node creat filter processor express node java org apach camel model WhenType createProcessor WhenType java org apach camel model type creat processor type java org apach camel model ChoiceType createProcessor ChoiceType java org apach camel model choic type creat processor choic type java,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultLanguageResolver.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiLanguageResolver.java;components/camel-osgi/src/test/java/org/apache/camel/osgi/OsgiLanguageResolverTest.java;components/camel-osgi/pom.xml;components/camel-osgi/src/main/java/org/apache/camel/osgi/Activator.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiLanguageResolver.java;components/camel-osgi/src/test/java/org/apache/camel/osgi/CamelMockBundle.java;components/camel-osgi/src/test/java/org/apache/camel/osgi/OsgiLanguageResolverTest.java;components/camel-osgi/src/test/resources/META-INF/services/org/apache/camel/language/resolver/default;components/camel-osgi/src/test/resources/log4j.properties;,0
1451,Claus Ibsen,camel-core,0,IdempotentConsumer - should only add to repository after processing  so we know the processing was a success, IdempotentConsumer idempot consum add repositori process know process success,Just as the file component does with its build in support for idempotent. It should add to it last  eg after processing.See nabble:http://www.nabble.com/Problem-with-IdempotentConsumer-td22467720s22882.html, file compon build support idempot idempot add last eg process see process see nabbl http www nabbl com problem IdempotentConsumer td html nabbl http www nabbl com problem idempot consum td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/idempotent/IdempotentConsumer.java;camel-core/src/test/java/org/apache/camel/processor/IdempotentConsumerTest.java;,0
1461,Michael Chen,camel-jms,0,A request route with a topic node incurs a 20 second wait and refers to the wrong MEP., request rout topic node incur second wait refer wrong MEP MEP,If a route contains a node that publishes to a topic  the route is incorrectly suspended for a default 20 seconds at the topic node. Further  JmsProducer.java checks the MEP of the original request Exchange and not the endpoint of the topic.For example  say I have a route built like this:from('activemq:queue:request'). to('generate_news'). to('activemq:topic:news'). to('do_something_else');The original request is expecting a reply. However  after the 'news' is pumped into the news topic  there is a default 20 second wait (requestTimeout). This wait always results in the exception: 'The OUT message was not received within: 20000 millis on the exchange...' After reading the JmsProducer code  I changed the route to the following:from('activemq:queue:request'). to('generate_news'). to('activemq:topic:news?exchangePattern=InOnly'). to('do_something_else');This reveals the root of the bug  which is in the first few lines of method org.apache.camel.component.jms.JmsProducer.process(Exchange):// public void process(final Exchange exchange) { final org.apache.camel.Message in = exchange.getIn(); if (exchange.getPattern().isOutCapable()) {The above if statement checks the MEP of the original request's Exchange and not the new endpoint of the news topic. This makes the above '?exchangePattern=InOnly' configuration useless  because the original request MEP is InOut. The result is that after that 20 second time-out  the temporary queue for the original request has expired  so the whole request failed. Note that the next node 'do_something_else' is never reached due to the time-out exception., rout contain node publish topic rout incorrectli suspend default second topic node node JmsProducer java jm produc java check MEP origin request exchang not endpoint topic topic exampl say rout built like activemq queue request activemq queue request generate_news generate_news activemq topic news activemq topic news do_something_else do_something_else origin request expect repli repli howev news news pump news topic default second wait requestTimeout request timeout wait alway result except except messag not receiv within within milli exchang exchang read JmsProducer jm produc code chang rout follow activemq queue request follow activemq queue request generate_news generate_news activemq topic news exchangePattern InOnly activemq topic news exchang pattern do_something_else do_something_else reveal root bug first line method org apach camel compon jm JmsProducer process exchang org apach camel compon jm jm produc process exchang public void process final process final exchang exchang exchang final org apach camel messag org apach camel messag exchang getIn exchang get exchang getPattern isOutCapable exchang get pattern capabl statement check MEP origin request request exchang not new endpoint news topic topic make exchangePattern InOnly exchang pattern configur useless origin request MEP InOut result second time time temporari queue origin request expir whole request fail fail note next node do_something_else do_something_else never reach due time time except except,0,1,1,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteWithInOnlyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/ActiveMQPropagateHeadersTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteWithInOnlyAndMultipleAcksTest.java;,0
1463,Claus Ibsen,camel-core,0,JMX instrumentation - will add DeadLetterChannel even if you have defined to use NoErrorHandler, JMX instrument add DeadLetterChannel dead letter channel even defin use NoErrorHandler No error handler,See nabble:http://www.nabble.com/StreamCaching-in-Camel-1.6-td22305654s22882.htmlI will add an unit test that demonstrates this:org.apache.camel.processor.ChoiceNoErrorHandlerTestThe route should at all time not contain any error handler at all  regardless wether JMX is enabled or not., see nabbl http www nabbl com StreamCaching camel td htmlI nabbl http www nabbl com stream cach camel td html add unit test demonstr org apach camel processor ChoiceNoErrorHandlerTestThe org apach camel processor choic No error handler test rout time not contain error handler regardless wether JMX enabl not not,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/SendProcessor.java;camel-core/src/main/java/org/apache/camel/util/ProcessorDefinitionHelper.java;camel-core/src/main/java/org/apache/camel/util/ProcessorTypeHelper.java;camel-core/src/test/java/org/apache/camel/processor/ChoiceNoErrorHandlerTest.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java;camel-core/src/main/java/org/apache/camel/builder/xml/XPathBuilder.java;camel-core/src/main/java/org/apache/camel/impl/DefaultErrorHandlerWrappingStrategy.java;camel-core/src/main/java/org/apache/camel/impl/DefaultLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationInterceptStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/test/java/org/apache/camel/issues/BelasThreadErrorHandlerIssue901Test.java;camel-core/src/test/java/org/apache/camel/processor/ChoiceNoErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/NoErrorHandlerTest.java;,0
1465,Willem Jiang,null,0,Added a Spring configuration in the camel-example-reportincident, ad spring configur camel exampl reportincid camel exampl reportincid,We should provide the Spring configuration which equals to the Java DSL route rule in camel-example-reportincident  as some user prefer to use Spring., provid spring configur equal java DSL rout rule camel exampl reportincid camel exampl reportincid user prefer use spring spring,0,0,0,0,0,examples/camel-example-reportincident/src/main/java/org/apache/camel/example/reportincident/MyBean.java;examples/camel-example-reportincident/src/main/java/org/apache/camel/example/reportincident/ReportIncidentRoutes.java;examples/camel-example-reportincident/src/main/resources/META-INF/spring/camel-context.xml;examples/camel-example-reportincident/src/main/resources/camel-config.xml;examples/camel-example-reportincident/src/test/java/org/apache/camel/example/reportincident/ReportIncidentRoutesSpringTest.java;examples/camel-example-reportincident/src/test/java/org/apache/camel/example/reportincident/ReportIncidentRoutesTest.java;,0
1480,Claus Ibsen,camel-jms,0,JMS - Sending a message with jmsTemplate102=true fails, JMS send messag jmsTemplate true jm templat true fail,See nabble:http://www.nabble.com/Apache-Camel-2.0-M1-java.lang.ClassCastException%3A-org.apache.camel.component.jms.JmsConfiguration%24CamelJmsTeemplate102-td22665483s22882.htmlThe ClassCastException is because of the old JMS API is used.Camel should test whether the template is 1.1 or 1.0.2 and cast to correct type., see nabbl http www nabbl com apach camel java lang ClassCastException org apach camel compon jm JmsConfiguration CamelJmsTeemplate td htmlThe nabbl http www nabbl com apach camel java lang class cast except org apach camel compon jm jm configur camel jm teemplat td html ClassCastException class cast except old JMS API use camel use camel test whether templat cast correct type type,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsSimpleRequestReply102Test.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsTransferExceptionTest.java;,0
1492,Dejan Bosanac,camel-jms,0,Allow parementer append for jms bindings with no endpoint, allow parement append jm bind no endpoint,See test failures in https://issues.apache.org/activemq/browse/AMQ-2182, see test failur,0,1,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;,0
1497,Claus Ibsen,camel-jms,0,JmsPollingConsumer - receive does not work, JmsPollingConsumer jm poll consum receiv not work,The timeout values to set on Spring JmsTemplate is wrong. We should uses the provided constants on JmsTemplate for this /** * Timeout value indicating that a receive operation should * check if a message is immediately available without blocking. */ public static final long RECEIVE_TIMEOUT_NO_WAIT = -1; /** * Timeout value indicating a blocking receive without timeout. */ public static final long RECEIVE_TIMEOUT_INDEFINITE_WAIT = 0;Is the correct values. Looks like the values was reverted in the camel-jms code, timeout valu set spring JmsTemplate jm templat wrong wrong use provid constant JmsTemplate jm templat timeout valu indic receiv oper check messag immedi avail without block block public static final long RECEIVE_TIMEOUT_NO_WAIT RECEIVE TIMEOUT NO WAIT timeout valu indic block receiv without timeout timeout public static final long RECEIVE_TIMEOUT_INDEFINITE_WAIT RECEIVE TIMEOUT INDEFINITE WAIT correct valu valu look like valu revert camel jm camel jm code,0,0,1,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsPollingConsumer.java;,0
1502,Claus Ibsen,camel-core,0,Bean component should propagate headers, bean compon propag header,When doing a route an you invoke a bean that sets a response on the OUT body it does not propagate the headers from the IN body., rout invok bean set respons bodi not propag header bodi bodi,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanPropagateHeaderTest.java;camel-core/src/test/java/org/apache/camel/processor/SetExchangePatternTest.java;,0
1503,Claus Ibsen,camel-core; camel-jms,0,javax.xml.transform.Source and StreamSource wrapped should be easier to route with JMS, javax xml transform sourc javax xml transform sourc StreamSource stream sourc wrap easier rout JMS,See SM-1826What end users need to do is to use .convertBodyTo(String.class) before sending to a JMS queue with Camel when the payload is XML based  eg the javax.xml.transform.Source class that can be wrapped in a StreamCache as well.It should be able to route out of the box by converting to byte[] in the JMS producer, see SM SM end user need use convertBodyTo string class convert bodi string class send JMS queue camel payload XML base eg javax xml transform sourc javax xml transform sourc class wrap StreamCache stream cach well well abl rout box convert byte byte JMS produc,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/StreamCache.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/BytesSource.java;camel-core/src/main/java/org/apache/camel/converter/stream/FileInputStreamCache.java;camel-core/src/main/java/org/apache/camel/converter/stream/InputStreamCache.java;camel-core/src/main/java/org/apache/camel/converter/stream/ReaderCache.java;camel-core/src/main/java/org/apache/camel/converter/stream/SourceCache.java;camel-core/src/main/java/org/apache/camel/converter/stream/StreamCacheConverter.java;camel-core/src/main/java/org/apache/camel/converter/stream/StreamSourceCache.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchangeHolder.java;camel-core/src/test/java/org/apache/camel/util/MessageHelperTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsXMLRouteTest.java;camel-core/src/main/java/org/apache/camel/converter/IOConverter.java;camel-core/src/main/java/org/apache/camel/converter/ObjectConverter.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/main/java/org/apache/camel/converter/stream/CachedOutputStream.java;camel-core/src/main/java/org/apache/camel/converter/stream/FileInputStreamCache.java;camel-core/src/main/java/org/apache/camel/converter/stream/ReaderCache.java;camel-core/src/main/java/org/apache/camel/converter/stream/SourceCache.java;camel-core/src/main/java/org/apache/camel/converter/stream/StreamCacheConverter.java;camel-core/src/main/java/org/apache/camel/converter/stream/StreamSourceCache.java;camel-core/src/test/java/org/apache/camel/converter/stream/CachedOutputStreamTest.java;camel-core/src/test/java/org/apache/camel/issues/CacheInputStreamInDeadLetterIssue520Test.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessageType.java;components/camel-jms/src/test/data/message1.xml;components/camel-jms/src/test/data/message2.xml;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsXMLRouteTest.java;,0
1504,Mathis Schwuchow,camel-http,0,HTTP_URI and HTTP_PATH message headers not concatenated when sending messages to http endpoint, HTTP_URI HTTP URI HTTP_PATH HTTP PATH messag header not concaten send messag http endpoint,When a message is sent to an http endpoint  the path specified in the HTTP_PATH header is ignored.In the HttpProducer.createMethod() of the camel-http component  the URI is taken from the HTTP_URI header or the endpoint  but the HTTP_PATH header is not concatenated. See also the discussion on the mailing list: http://www.nabble.com/Setting-a-path-in-message-header-with-Camel-http-2.0M1-td22781504.html, messag sent http endpoint path specifi HTTP_PATH HTTP PATH header ignor ignor HttpProducer createMethod http produc creat method camel http camel http compon URI taken HTTP_URI HTTP URI header endpoint HTTP_PATH HTTP PATH header not concaten concaten see also discuss mail list list,0,1,1,1,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpGetWithPathHeaderTest.java;,1
1505,Willem Jiang,null,0,deploy the CamelContext with velocity endpoint into the Servicemix 4.0 will get the  NoClassDefFoundError, deploy CamelContext camel context veloc endpoint servicemix get NoClassDefFoundError No class def found error,&#91;trace&#93; ******************************************************************* &#91;debug&#93; Starting Apache Velocity v1.5 (compiled: 2007-02-22 08:52:29) &#91;trace&#93; RuntimeInstance initializing. &#91;debug&#93; Default Properties File: org/apache/velocity/runtime/defaults/velocity.properties &#91;debug&#93; Trying to use logger class org.apache.velocity.runtime.log.Log4JLogChute &#91;debug&#93; Couldn't find class org.apache.velocity.runtime.log.Log4JLogChute or necessary supporting classes in classpath.org/apache/log4j/Layoutjava.lang.NoClassDefFoundError: org/apache/log4j/Layout at java.lang.Class.forName0(Native Method) at java.lang.Class.forName(Class.java:164) at org.apache.velocity.util.ClassUtils.getClass(ClassUtils.java:76) at org.apache.velocity.util.ClassUtils.getNewInstance(ClassUtils.java:95) at org.apache.velocity.runtime.log.LogManager.createLogChute(LogManager.java:147)We can get around this issue by replacing the org.apache.velocity.runtime.log.Log4JLogChute withorg.apache.velocity.runtime.log.Log4JLogChute  and also need to update the Servicemix Velocity bundle to 1.6., trace trace debug debug start apach veloc compil compil trace trace RuntimeInstance runtim instanc initi initi debug debug default properti file file org apach veloc runtim default veloc properti org apach veloc runtim default veloc properti debug debug tri use logger class org apach veloc runtim log log JLogChute org apach veloc runtim log log log chute debug debug find class org apach veloc runtim log log JLogChute org apach veloc runtim log log log chute necessari support class classpath org apach log layoutjava lang NoClassDefFoundError classpath org apach log layoutjava lang No class def found error org apach log layout org apach log layout java lang class forName nativ java lang class name nativ method method java lang class forName class java java lang class name class java org apach veloc util ClassUtils getClass ClassUtils java org apach veloc util class util get class class util java org apach veloc util ClassUtils getNewInstance ClassUtils java org apach veloc util class util get new instanc class util java org apach veloc runtim log LogManager createLogChute LogManager java org apach veloc runtim log log manag creat log chute log manag java get around issu replac org apach veloc runtim log log JLogChute org apach veloc runtim log log log chute withorg apach veloc runtim log log JLogChute withorg apach veloc runtim log log log chute also need updat servicemix veloc bundl,1,0,0,0,0,components/camel-velocity/src/main/java/org/apache/camel/component/velocity/VelocityEndpoint.java;,0
1506,Ryan Gardner,camel-mail,0,Recursively scan multipart nodes of an email for attachments - not just top level nodes, recurs scan multipart node email attach not top level node,The current code will only scan the top level of a multipart message. This misses any attachments that are under another node.All unit tests still run for me after applying this patch., current code scan top level multipart messag messag miss attach anoth node node unit test still run appli patch patch,0,1,0,0,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailMessage.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailUtils.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMultipartAlternativeTest.java;,0
1507,Ryan Gardner,camel-mail,0,Allow sending multipart/alternative MIME messages with both a plain-text and text/html body  and allow sending images inline, allow send multipart altern multipart altern MIME messag plain text plain text text html text html bodi allow send imag inlin,To send a multipart/alternative email you have to follow a pretty specific course.This adds a property (which is poorly named in this patch) to the MailConfiguration that names the header that contains the plaintext version of the email  and adds a property where you can embed images inline. If an attachment has a filename starting with 'cid:' then this will add the 'Content-ID' header to that multipart body - which will allow the email client to put the image in the appropriate place when it is viewed. (i.e. the html email has something like &lt;image src='cid:0001' /&gt; and the attachment is named 'cid:0001' - when it sees an inline attachment with 'Content-ID: 0001' it will put it in the right spot), send multipart altern multipart altern email follow pretti specif cours cours add properti poorli name patch patch MailConfiguration mail configur name header contain plaintext version email add properti emb imag inlin inlin attach filenam start cid cid add content ID content ID header multipart bodi allow email client put imag appropri place view view html email someth like lt imag lt imag src cid src cid gt gt attach name cid cid see inlin attach content ID content ID put right spot spot,0,1,0,1,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailMessage.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailUtils.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMultipartAlternativeTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMultipartAlternativeTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConstants.java;components/camel-web/src/main/java/org/apache/camel/web/resources/RouteResource.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMultipartAlternativeTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConstants.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMultipartAlternativeTest.java;,0
1512,Claus Ibsen,camel-http,0,http component - allow failed responses to be returned on the exchange instead of HttpOperationsFailedException, http compon allow fail respons return exchang instead HttpOperationsFailedException http oper fail except,It can be a bit cumbersome to eg handled 404 error codes if it gets thrown back as an exception. Sometimes you want to handle any response from the http producer in the exchange itself., bit cumbersom eg handl error code get thrown back except except sometim want handl respons http produc exchang,0,0,0,0,0,components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyHandle404Test.java;components/camel-jetty/src/test/resources/log4j.properties;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettySimplifiedHandle404Test.java;,0
1530,Claus Ibsen,camel-http,0,Upgrade camel-http to use httpclient 4.0, upgrad camel http camel http use httpclient,Upgrading httpclient from 3.1 to 4.0 requires changes in the camel-http code as the API has change quite a lot., upgrad httpclient requir chang camel http camel http code API chang quit lot lot,0,1,0,0,0,platforms/karaf/features/src/main/resources/features.xml;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpPollingConsumer.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/test/java/org/apache/camel/component/http/helper/GZIPHelperTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/helper/HttpProducerHelperTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/helper/LoadingByteArrayOutputStreamTest.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpConcurrentTest.java;apache-camel/pom.xml;apache-camel/src/main/descriptors/common-bin.xml;components/camel-gae/src/main/java/org/apache/camel/component/gae/http/GHttpComponent.java;components/camel-gae/src/main/java/org/apache/camel/component/gae/http/GHttpEndpoint.java;components/camel-gae/src/main/java/org/apache/camel/component/gae/task/GTaskComponent.java;components/camel-gae/src/main/java/org/apache/camel/component/gae/task/GTaskEndpoint.java;components/camel-http/pom.xml;components/camel-http/src/main/java/org/apache/camel/component/http/BasicAuthenticationHttpClientConfigurer.java;components/camel-http/src/main/java/org/apache/camel/component/http/CompositeHttpConfigurer.java;components/camel-http/src/main/java/org/apache/camel/component/http/DefaultHttpBinding.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpClientConfigurer.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEntityConverter.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpMethods.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpOperationFailedException.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpPollingConsumer.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http/src/main/java/org/apache/camel/component/http/ProxyHttpClientConfigurer.java;components/camel-http/src/main/java/org/apache/camel/component/http/RequestEntityConverter.java;components/camel-http/src/main/java/org/apache/camel/component/http/helper/GZIPHelper.java;components/camel-http/src/main/java/org/apache/camel/component/http/helper/HttpProducerHelper.java;components/camel-http/src/main/java/org/apache/camel/component/http/helper/LoadingByteArrayOutputStream.java;components/camel-http/src/test/data/logo.jpeg;components/camel-http/src/test/java/org/apache/camel/component/http/BaseHttpTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/BaseHttpsTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpAuthenticationTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpBodyTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpBridgeEndpointTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpCamelHeadersTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpCharsetTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpCompressionTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpGetTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpGetWithHeadersTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpGetWithPathHeaderTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpGetWithQueryParamsTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpInvalidConfigurationTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpInvalidHttpClientConfigurationTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpMethodsTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpPathTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpPollingConsumerTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpPostWithBodyTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpProducerSelectMethodTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpProxyServerTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpProxyTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpQueryGoogleTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpQueryTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpReferenceParameterTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpSOTimeoutTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpServerTestSupport.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpThrowExceptionOnFailureTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpWithHttpUriHeaderTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpsAuthenticationTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpsGetTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpsServerTestSupport.java;components/camel-http/src/test/java/org/apache/camel/component/http/handler/AuthenticationValidationHandler.java;components/camel-http/src/test/java/org/apache/camel/component/http/handler/BasicValidationHandler.java;components/camel-http/src/test/java/org/apache/camel/component/http/handler/DelayValidationHandler.java;components/camel-http/src/test/java/org/apache/camel/component/http/handler/HeaderValidationHandler.java;components/camel-http/src/test/java/org/apache/camel/component/http/handler/ProxyAuthenticationValidationHandler.java;components/camel-http/src/test/resources/localhost.ks;components/camel-jetty/pom.xml;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpProducer.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpGetTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpRouteTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyHttpClientOptionsTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/MultiThreadedHttpGetTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringHttpsRouteTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/jettyproducer/JettyHttpProducerAsyncTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/jettyproducer/JettyHttpProducerTest.java;components/camel-servlet/src/main/java/org/apache/camel/component/servlet/ServletComponent.java;components/camel-servlet/src/main/java/org/apache/camel/component/servlet/ServletEndpoint.java;components/camel-servlet/src/test/java/org/apache/camel/component/servlet/HttpClientRouteTest.java;parent/pom.xml;tests/camel-itest/src/test/java/org/apache/camel/itest/http/HttpEndpointTest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/http/HttpMaxConnectionPerHostTest.java;tests/camel-itest/src/test/resources/org/apache/camel/itest/http/HttpEndpointTest-context.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/http/HttpMaxConnectionPerHostTest-context.xml;platforms/karaf/features/src/main/resources/features.xml;,0
1543,Frank Schwarz,camel-jms,0,Apply removeHeader also to the underying JMS message delegate, appli removeHeader remov header also underi JMS messag deleg,In case of a JMS message  header information is redundantly stored in org.apache.camel.component.jms.JmsMessage (here Camel-Message) and in its javax.jms.Message jmsMessage delegate (here JMS-Message). Currently you cannot remove effectively any header from the Camel-Message instance as in the next processing step those removed headers resurrect from the underlying JMS-Message.Please provide any means to remove or or at least mask out those headers from the underlying JMS-Message., case JMS messag header inform redundantli store org apach camel compon jm JmsMessage org apach camel compon jm jm messag camel messag camel messag javax jm messag javax jm messag jmsMessage jm messag deleg JMS messag JMS messag current cannot remov effect header camel messag camel messag instanc next process step remov header resurrect underli JMS messag pleas JMS messag pleas provid mean remov least mask header underli JMS messag JMS messag,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessage.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessageHelper.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRemoveHeaderTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/discovery/JmsDiscoveryTest.java;,1
1548,Claus Ibsen,camel-core,0,ErrorHandler to be wrapped at every node incl children, ErrorHandler error handler wrap everi node incl children,,,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultErrorHandlerWrappingStrategy.java;camel-core/src/main/java/org/apache/camel/impl/DefaultLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationErrorHandlerWrappingStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationInterceptStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/processor/HandleFaultProcessor.java;camel-core/src/test/java/org/apache/camel/builder/ErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/builder/RouteBuilderTest.java;camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextTest.java;camel-core/src/test/java/org/apache/camel/issues/BelasThreadErrorHandlerIssue901Test.java;camel-core/src/test/java/org/apache/camel/processor/ErrorHandlerWrappedEachNodeTest.java;camel-core/src/test/java/org/apache/camel/processor/FaultRetryRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/FaultRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/RollbackTest.java;camel-core/src/test/java/org/apache/camel/processor/RoutePerformanceTest.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregatorExceptionHandleTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/InterceptAlterMessageBeforeRedeliveryTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/discovery/JmsDiscoveryTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/AbstractTransactionTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/DelayerInterceptorTest.java;components/camel-spring/src/test/resources/log4j.properties;,0
1568,christian ohr,camel-core,0,Converting from stream/reader to string changes line breaks other than '/n', convert stream reader stream reader string chang line break,The IOConverter#toString(Reader/Stream) copies the input data line by line. A line is considered to be terminated by any one of a line feed ('/n')  a carriage return ('/r')  or a carriage return followed immediately by a linefeed. Unfortunately  the lines are always concatenated with '/n'  so that HL7 messages (which use '/r') become unusable after conversion.Also see http://www.nabble.com/HL7-messages-become-unusable-after-convertBodyTo%28String.class%29-td23219748.html, IOConverter toString reader stream IO convert string reader stream copi input data line line line line consid termin one line feed carriag return carriag return follow immedi linefe linefe unfortun line alway concaten HL HL messag use becom unus convers also convers also see,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/converter/IOConverter.java;camel-core/src/main/java/org/apache/camel/converter/IOConverter.java;,0
1581,Willem Jiang,null,0,ClassCastException when using camel-cxf and camel-jms in the InOut same flow, ClassCastException class cast except use camel cxf camel cxf camel jm camel jm InOut flow,As per thread on FUSE forum http://fusesource.com/forums/thread.jspa?threadID=834&amp;tstart=0:[[I have a camel route that listens on a CXFEndpoint (for MESSAGE data as DOMSource) and routes the message to a JMS queue. Something like:&lt;route&gt;&lt;from uri='cxf:bean:passportRequestWS?dataFormat=MESSAGE'/&gt;&lt;to uri='soapProcessor'/&gt;&lt;convertBodyTo type='java.lang.String'/&gt;&lt;to uri='activemq:queue:blah'/&gt;&lt;convertBodyTo type='javax.xml.transform.dom.DOMSource'/&gt;&lt;/route&gt;My understanding is that the JMS producer will realize that the exchange is InOut  create a temporary queue for the response  and then wait for the response to arrive on the temporary queue before sending the original CXFExchange on along the pipeline. Indeed  this is what I observe! However  I?ve discovered a little nasty.When the JMSProducer gets in the incoming message  it sets the Out message of the original CXFExchange to a JmsMessage. Then  the pipeline processor calls exchange.getOut on the CXFExchange and BANG! we get a class-cast exception. Turns out that the CXFExchange.getOut() method always casts the message to a CxfMessage. Ouch. Surely this means then that camel-cxf can?t talk to any producer that does not produce a CXFMessage - very limiting.]]The response on the form from davsclaus was:[[Well spotted.If just the damn Exchange was final so we had one implementation of it. But I guess we have to thank Java generics for that so the first API had generics for per component.Could you create a ticket in JIRA for this?As a workaround you can add a processor where you have full access to the Exchange so you can set a CxfMessage as the payload.]], per thread FUSE forum camel rout listen CXFEndpoint CXF endpoint MESSAGE data DOMSource DOM sourc rout messag JMS queue queue someth like lt rout gt lt like lt rout gt lt uri cxf bean passportRequestWS dataFormat MESSAGE gt lt uri cxf bean passport request WS data format MESSAGE gt lt uri soapProcessor gt lt convertBodyTo uri soap processor gt lt convert bodi type java lang string gt lt type java lang string gt lt uri activemq queue blah gt lt convertBodyTo uri activemq queue blah gt lt convert bodi type javax xml transform dom DOMSource gt lt rout gt type javax xml transform dom DOM sourc gt lt rout gt understand JMS produc realiz exchang InOut creat temporari queue respons wait respons arriv temporari queue send origin CXFExchange CXF exchang along pipelin pipelin inde observ observ howev discov littl nasti nasti JMSProducer JMS produc get incom messag set messag origin CXFExchange CXF exchang JmsMessage jm messag pipelin processor call exchang getOut exchang get CXFExchange CXF exchang BANG BANG get class cast class cast except except turn CXFExchange getOut CXF exchang get method alway cast messag CxfMessage cxf messag ouch ouch sure mean camel cxf camel cxf talk produc not produc CXFMessage CXF messag limit limit respons form davsclau well well spot spot damn exchang final one implement guess thank java gener first API gener per compon could compon could creat ticket JIRA workaround add processor full access exchang set CxfMessage cxf messag payload payload,0,1,0,0,0,tests/camel-itest/src/test/java/org/apache/camel/itest/greeter/CamelGreeterConsumerTest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/greeter/JmsPrepareRequest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/greeter/JmsPrepareResponse.java;tests/camel-itest/src/test/resources/org/apache/camel/itest/greeter/CamelGreeterConsumerTest-context.xml;,0
1585,Darryl Smith,camel-ftp,0,SFTP GenericFileProducer.createFileName produces OS normalized file name  that doesn't work with SFTP, SFTP GenericFileProducer createFileName gener file produc creat file name produc OS normal file name work SFTP,The use of File.separator and FileUtil.normalizePath in GenericFileProducer.createFileName produce a OS normalized file name  that doesn't work with SFTPe.g. outboundout_20090501_091940_ACC.txt which will not work produce a file called outboundout_20090501_091940_ACC.txtThe proper name should be outbound/out_20090501_091940_ACC.txt, use file separ file separ FileUtil normalizePath file util normal path GenericFileProducer createFileName gener file produc creat file name produc OS normal file name work SFTPe SFT Pe outboundout  _ACC txt outboundout   ACC txt not work produc file call outboundout  _ACC txtThe outboundout   ACC txt proper name outbound  _ACC txt outbound   ACC txt,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileProducer.java;camel-core/src/main/java/org/apache/camel/builder/RouteBuilder.java;camel-core/src/main/java/org/apache/camel/model/InterceptFromDefinition.java;camel-core/src/main/java/org/apache/camel/model/InterceptSendToEndpointDefinition.java;camel-core/src/main/java/org/apache/camel/model/RoutesDefinition.java;camel-core/src/main/java/org/apache/camel/processor/DefaultChannel.java;camel-core/src/main/java/org/apache/camel/processor/Pipeline.java;camel-core/src/main/java/org/apache/camel/util/EndpointHelper.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptFromUriRegexTest.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptFromUriWildcardTest.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringInterceptFromUriRegexTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringInterceptFromUriWildcardTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringInterceptFromUriRegexTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringInterceptFromUriWildcardTest.xml;,0
1586,Willem Jiang,null,0,camel-cxf producer loses the content-type, camel cxf camel cxf produc lose content type content type,camel-cxf doesn't put the Protocol-Header into the camel message header  so we lost the content-type message.Here is the mail thread for the discussion.http://www.nabble.com/camel-cxf-content-type-response-header-tt23370337.html, camel cxf camel cxf put protocol header protocol header camel messag header lost content type content type messag messag mail thread discuss http www nabbl com camel cxf content type respons header tt html discuss http www nabbl com camel cxf content type respons header tt html,0,0,0,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfHeaderFilterStrategy.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfRawMessageRouterTest.java;,0
1589,Willem Jiang,null,0,Clean up  the CamelTransportConstants.CONTENT_TYPE, clean CamelTransportConstants CONTENT_TYPE camel transport constant CONTENT TYPE,Here is the mail thread about it.http://www.nabble.com/Re%3A-svn-commit%3A-r772054---in--camel-trunk-components-camel-cxf-src%3A--main-java-org-apache-camel-component-cxf-CxfHeaderFilterStrategy.java--test-java-org-apache-camel-component-cxf-CxfRawMessageRouterTest.java-tt23412367.html, mail thread http www nabbl com svn commit camel trunk compon camel cxf src main java org apach camel compon cxf CxfHeaderFilterStrategy java test java org apach camel compon cxf CxfRawMessageRouterTest java tt html http www nabbl com svn commit camel trunk compon camel cxf src main java org apach camel compon cxf cxf header filter strategi java test java org apach camel compon cxf cxf raw messag router test java tt html,0,0,0,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelTransportConstants.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/util/CxfHeaderHelper.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfHeaderFilterStrategy.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/DefaultCxfBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/transport/CamelTransportConstants.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/util/CxfHeaderHelper.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfRawMessageRouterTest.java;,0
1614,Frank Schwarz,camel-jms,0,Warning 'Disabling JMSReplyTo as this Exchange is not OUT capable' on false positives in JBossAS5, warn disabl disabl JMSReplyTo JMS repli exchang not capabl capabl fals posit JBossAS boss,see: http://www.nabble.com/Disabling-JMSReplyTo-as-this-Exchange-is-not-OUT-capable-td23524909s22882.html, see see,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;,0
1650,Oliver Hecker,camel-core,0,Race condition in IdempotentConsumer, race condit IdempotentConsumer idempot consum,A possible possible race condition exists in the IdempotentConsumer implementation:The code first checks in the MessageIdRepository if the message was already processed. If not then it processes the message andafterwards adds the id to the repository. (See also http://issues.apache.org/activemq/browse/CAMEL-1451). There is no lockingbetween the check with 'contains' and the insert with 'add'. So if multiple threads/instances try this in parallel for the same id  thenit might happen that more than one finds the id not yet contained in the repository and the same message is processed multipletimes.I enclose an extended version of IdempotentConsumerTest which illustrates the problem.It is important to note that even if the test demonstrates the issue with an MemoryIdempotentRepository a solution should alsoaddress the case of a database based respository in a clustered environment. So this might imply that some locking mechanism on thedatabase is required., possibl possibl race condit exist IdempotentConsumer idempot consum implement implement code first check MessageIdRepository messag Id repositori messag alreadi process process not process messag andafterward add id repositori repositori see see also no lockingbetween check contain contain insert add add multipl thread instanc thread instanc tri parallel id thenit might happen one find id not yet contain repositori messag process multipletim multipletim enclos extend version IdempotentConsumerTest idempot consum test illustr problem problem import note even test demonstr issu MemoryIdempotentRepository memori idempot repositori solut alsoaddress case databas base respositori cluster environ environ might impli lock mechan thedatabas requir requir,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/idempotent/FileIdempotentRepository.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/IdempotentConsumer.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/IdempotentOnCompletion.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/MemoryIdempotentRepository.java;camel-core/src/main/java/org/apache/camel/spi/IdempotentRepository.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerIdempotentRefTest.java;camel-core/src/test/java/org/apache/camel/management/MultiInstanceProcessorTest.java;camel-core/src/test/java/org/apache/camel/processor/IdempotentConsumerConcurrentTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerIdempotentRefTest.java;components/camel-jpa/src/main/java/org/apache/camel/processor/idempotent/jpa/JpaMessageIdRepository.java;components/camel-jpa/src/test/java/org/apache/camel/processor/jpa/JpaIdempotentConsumerTest.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;camel-core/src/main/java/org/apache/camel/model/IdempotentConsumerDefinition.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/FileIdempotentRepository.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/IdempotentConsumer.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/IdempotentOnCompletion.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/MemoryIdempotentRepository.java;camel-core/src/main/java/org/apache/camel/spi/IdempotentRepository.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerIdempotentRefTest.java;camel-core/src/test/java/org/apache/camel/processor/IdempotentConsumerEagerTest.java;components/camel-jpa/src/main/java/org/apache/camel/processor/idempotent/jpa/JpaMessageIdRepository.java;,0
1681,Willem Jiang,null,0,Clean up the CamelNamespaceHandler, clean CamelNamespaceHandler camel namespac handler,Since we use the JAXB to parse the Routes definitions so we can get ride of the unnecessary bean parser registry code., sinc use JAXB pars rout definit get ride unnecessari bean parser registri code code,0,0,0,0,0,components/camel-osgi/src/main/java/org/apache/camel/osgi/CamelNamespaceHandler.java;components/camel-spring/src/main/java/org/apache/camel/spring/handler/CamelNamespaceHandler.java;,0
1687,S. Ali Tokmen,camel-http,0,CAMEL-HTTP should copy system proxy settings, CAMEL HTTP CAMEL HTTP copi system proxi set,By standard  Java uses some properties for configuring proxies. Details are on http://java.sun.com/javase/6/docs/technotes/guides/net/proxies.html but in short the properties http.proxyHost and http.proxyPort are used for setting a global HTTP proxy.CAMEL-HTTP doesn't reuse this. I guess many would expect it to., standard java use properti configur proxi proxi detail short properti http proxyHost http proxi host http proxyPort http proxi port use set global HTTP proxi CAMEL HTTP proxi CAMEL HTTP reus guess mani would expect,0,0,0,1,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpProxyTest.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpProxyTest.java;,0
1688,Claus Ibsen,camel-core,0,Enrich DSL - Add fluent builder for using default aggregation strategy, enrich DSL add fluent builder use default aggreg strategi,The fluent builder is missing the enrich(uri) method that uses the default agg strategy. That is to copy the result from the resource as input.This is also very useable.In Spring DSL this is already possible as you do not have to provide the strategyRef attribute., fluent builder miss enrich uri enrich uri method use default agg strategi strategi copi result resourc input input also useabl useabl spring DSL alreadi possibl not provid strategyRef strategi ref attribut attribut,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/test/java/org/apache/camel/processor/enricher/EnricherDefaultAggregationStrategyTest.java;,0
1689,Siegfried Wirth,camel-jms,0,JMS-Headers are ignored in Producer, JMS header JMS header ignor produc,Camel jms producer ignores some JMSHeaders. For example the header JMSPriority is ignored - due to the comment in the code  because it is set by the producer. But it should not only be set by the produer due to the received message  it should also be possible to set a priority using the JMSPriority header on the consumer. (See also the option preserveMessageQos on the jms endpoint - if every JMSHeader is ignored by the producer it is impossible to set Qos-Properties on the message.)The reason for the bug is in org.apache.camel.component.jms.JmsBinding#appendJmsProperty. The follwoing JMS message headers are useful for sending messages and therefore should be copied to the jms message: JMSDestination JMSDeliveryMode JMSExpiration JMSPriority JMSMessageID JMSTimestamp, camel jm produc ignor JMSHeaders JMS header exampl header JMSPriority JMS prioriti ignor due comment code set produc produc not set produer due receiv messag also possibl set prioriti use JMSPriority JMS prioriti header consum consum see see also option preserveMessageQos preserv messag qo jm endpoint everi JMSHeader JMS header ignor produc imposs set qo properti qo properti messag messag reason bug org apach camel compon jm JmsBinding appendJmsProperty org apach camel compon jm jm bind append jm properti follwo JMS messag header use send messag therefor copi jm messag messag JMSDestination JMS destin JMSDeliveryMode JMS deliveri mode JMSExpiration JMS expir JMSPriority JMS prioriti JMSMessageID JMS messag ID JMSTimestamp JMS timestamp,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsProducerWithJMSHeaderTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConstants.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessageHelper.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsProducerWithJMSHeaderTest.java;,0
1697,Claus Ibsen,camel-core,0,Java DSL for multicast  split  aggregate does not use block explicit, java DSL multicast split aggreg not use block explicit,When using one of the EIP that uses a nested route for sub processing  typically EIPs that does some sort of aggregation such as multicast (for aggregating a response) split aggregateAnd maybe a few othersThey should use pushBlock so the end() DSL to indicate end of sub route works correctly in Java DSL., use one EIP use nest rout sub process typic EIPs EI Ps sort aggreg multicast aggreg respons respons split aggregateAnd aggreg mayb othersThey other use pushBlock push block end end DSL indic end sub rout work correctli java DSL DSL,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/model/ChoiceDefinition.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/TryDefinition.java;camel-core/src/test/java/org/apache/camel/processor/ChoiceWithEndTest.java;camel-core/src/test/java/org/apache/camel/processor/SplitShouldSkipFilteredExchanges.java;camel-core/src/test/java/org/apache/camel/processor/SplitWithEndTest.java;camel-core/src/test/java/org/apache/camel/processor/SplitWithNestedFilterShouldSkipFilteredExchanges.java;camel-core/src/test/java/org/apache/camel/processor/TryProcessorTest.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptFromWhenWithChoiceTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringComplexBlockWithEndTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringComplexBlockWithEndTest.xml;,0
1706,Claus Ibsen,camel-core,0,DefaultErrorHandler - add support for redelivery, DefaultErrorHandler default error handler add support redeliveri,The new default error handler does currently not support redelivery. The error handling codebase has stabilized and we should allow this error handler to leverage the redelivery features we have in DeadLetterChannel., new default error handler current not support redeliveri redeliveri error handl codebas stabil allow error handler leverag redeliveri featur DeadLetterChannel dead letter channel,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/BuilderSupport.java;camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java;camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/main/java/org/apache/camel/processor/DefaultErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/IdempotentOnCompletion.java;camel-core/src/test/java/org/apache/camel/builder/ContextErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/builder/ExceptionBuilderTest.java;camel-core/src/test/java/org/apache/camel/builder/ExceptionBuilderWithRetryLoggingLevelSetTest.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanInfoSelectMethodTest.java;camel-core/src/test/java/org/apache/camel/component/bean/DefaultParameterMappingStrategyTest.java;camel-core/src/test/java/org/apache/camel/processor/DeadLetterChannelUseOriginalInBodyTest.java;camel-core/src/test/java/org/apache/camel/processor/DefaultErrorHandlerRedeliveryTest.java;camel-core/src/test/java/org/apache/camel/processor/exceptionpolicy/CustomExceptionPolicyStrategyTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/ErrorOccuredInOnExceptionRoute.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionProcessorInspectCausedExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionProcessorInspectCausedExceptionWithDefaultErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionRetryUntilWithDefaultErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionRouteWithDefaultErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionSubRouteWithDefaultErrorHandlerTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsUseOriginalBodyTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpLineDelimiterUsingPlainSocketTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaTcpWithIoOutProcessorExceptionTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringDefaultErrorHandlerNotHandledPolicyTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringDefaultErrorHandlerNotHandledPolicyTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/onexception/onExceptionSubRouteWithDefaultErrorHandlerTest.xml;camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryPolicy.java;camel-core/src/test/java/org/apache/camel/processor/onexception/ErrorOccuredInOnExceptionRoute.java;camel-core/src/test/java/org/apache/camel/processor/onexception/MyOwnHandlerBean.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionRouteWithDefaultErrorHandlerTest.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/main/java/org/apache/camel/processor/DefaultErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/test/java/org/apache/camel/processor/DeadLetterChannelRedeliveryTest.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandler.java;,1
1716,Oliver Hecker,camel-core,0,Simple language support for AND / OR to concat multiple expressions fails if string constants are enclosed in single quotation marks, simpl languag support concat multipl express fail string constant enclos singl quotat mark,The current implementation for CAMEL-1637 fails if the string constants in the two expressions are enclosed in single quotation marks as given in the following example ${in.header.foo} == 'abc' and ${in.header.bar} == '123'This is due to an issue with the GROUP_PATTERN regular expression in SimpleLanguageSupport.java. The matching pattern in between the single quotes is greedy and thus does not match correctly., current implement CAMEL CAMEL fail string constant two express enclos singl quotat mark given follow exampl header foo header foo abc abc header bar header bar due issu GROUP_PATTERN GROUP PATTERN regular express SimpleLanguageSupport java simpl languag support java match pattern singl quot greedi thu not match correctli correctli,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguageSupport.java;camel-core/src/test/java/org/apache/camel/language/SimpleOperatorTest.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java;,0
1717,Christian Schneider,camel-core,0,Remove cycle between model and util, remov cycl model util,Currently util and model reference each other what makes them difficult to understand separately. When you look closely at the references you see that model only needs one class ProcessorDefinitionHelper. As this class only needs other classes from model I think it should belong to model. As this class is only needed from model I think it does not need to be public. So it is also clear that the class does not belong to the camel model classes users should access., current util model refer make difficult understand separ separ look close refer see model need one class ProcessorDefinitionHelper processor definit helper class need class model think belong model model class need model think not need public public also clear class not belong camel model class user access access,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/RoutingSlipDefinition.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/RoutingSlip.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipDataModificationTest.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipIgnoreInvalidEndpointsTest.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinitionHelper.java;camel-core/src/main/java/org/apache/camel/model/TryDefinition.java;camel-core/src/main/java/org/apache/camel/util/ProcessorDefinitionHelper.java;,0
1719,Claus Ibsen,camel-core,0,bean component should thrown NoTypeConverterException when bean parameter binding cannot convert to method signature type, bean compon thrown NoTypeConverterException No type convert except bean paramet bind cannot convert method signatur type,See nabble:http://www.nabble.com/Error-not-raised-by-Camel-if-the-%40Header-type-define-in-a-bean-is-not--correct-td24051086s22882.html, see nabbl http www nabbl com error not rais camel header type defin bean not correct td html nabbl http www nabbl com error not rais camel header type defin bean not correct td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanWithHeadersAndBodyInject2Test.java;,0
1725,Claus Ibsen,osgi,0,Better logging at startup if Camel uses camel-osgi or not, better log startup camel use camel osgi camel osgi not,We should at least once at INFO level log whether OSGi was detected or not.And in the camel-osgi we should have more DEBUG / TRACE logging as well., least INFO level log whether OSGi OS Gi detect not not camel osgi camel osgi DEBUG TRACE log well well,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultPackageScanClassResolver.java;camel-core/src/main/java/org/apache/camel/impl/WebSpherePacakageScanClassResolver.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiAnnotationTypeConverterLoader.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiPackageScanClassResolver.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/Activator.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/CamelContextFactory.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/CamelContextFactoryBean.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/CamelNamespaceHandler.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiAnnotationTypeConverterLoader.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiComponentResolver.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiFactoryFinder.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiFactoryFinderResolver.java;components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiPackageScanClassResolver.java;components/camel-osgi/src/main/resources/META-INF/spring.schemas;components/camel-spring/src/main/java/org/apache/camel/spring/handler/CamelNamespaceHandler.java;,0
1735,Claus Ibsen,examples,0,camel-example-etl - bug in sample about type converter, camel exampl etl camel exampl etl bug sampl type convert,,,0,0,0,1,0,components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaEndpoint.java;components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaProducer.java;examples/camel-example-etl/src/main/java/org/apache/camel/example/etl/EtlRoutes.java;components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaConstants.java;components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaConsumer.java;components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaEndpoint.java;components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaTest.java;examples/camel-example-etl/src/main/java/org/apache/camel/example/etl/CustomerTransformer.java;,0
1736,Willem Jiang,camel-cxf,0,camel-cxf defaultHeaderFilterStrategy doesn't filter the Camel releates headers, camel cxf camel cxf defaultHeaderFilterStrategy default header filter strategi filter camel releat header,Here is the mailing thread&#91;1&#93; which discuss this issue.&#91;1&#93; http://www.nabble.com/-camel-cxf--Stripping-headers-td24143323.html, mail thread thread discuss issu issu,0,0,0,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfHeaderFilterStrategy.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfProducerProtocalHeaderTest.java;,0
1744,Claus Ibsen,camel-core,0,ScheduledPollConsumer - Should not throw polled exception on stop, ScheduledPollConsumer schedul poll consum not throw poll except stop,See CAMEL-501And nabble:http://www.nabble.com/Bug-in-ScheduledPollingConsumer--td24151070s22882.htmlIf an exception occured during a poll Camel will handle it by a ExceptionHandler you can set on the DefaultConsumer. The default impl will log it at WARN level.But the ScheduledPollingConsumer will remember this and when it does a doStop in case of shutdown or the likes it will throw the first exception occurred during a poll.This will indicate in an ERROR when doing a shtudown and its not really related as the poll error could have happened like 3 months ago.We should not do this. But only handle the poll exception when it occurred. End users can configure their own ExceptionHandler if they want to do something differently than logging., see CAMEL CAMEL nabbl http www nabbl com bug ScheduledPollingConsumer td htmlIf nabbl http www nabbl com bug schedul poll consum td html except occur poll camel handl ExceptionHandler except handler set DefaultConsumer default consum default impl log WARN level level ScheduledPollingConsumer schedul poll consum rememb doStop stop case shutdown like throw first except occur poll poll indic ERROR shtudown not realli relat poll error could happen like month ago ago not handl poll except occur occur end user configur ExceptionHandler except handler want someth differ log log,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/main/java/org/apache/camel/impl/ScheduledPollConsumer.java;camel-core/src/main/java/org/apache/camel/processor/validation/DefaultValidationErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/validation/ValidatingProcessor.java;camel-core/src/main/java/org/apache/camel/processor/validation/ValidatorErrorHandler.java;camel-core/src/test/java/org/apache/camel/impl/MockScheduledPollConsumer.java;camel-core/src/test/java/org/apache/camel/impl/ScheduledPollConsumerTest.java;,0
1745,Roman Kalukiewicz,camel-core,0,Validator component to use SaxSource internally, valid compon use SaxSource sax sourc intern,ValidatingProcessor uses DOMSource internally while SaxSource could perform better., ValidatingProcessor valid processor use DOMSource DOM sourc intern SaxSource sax sourc could perform better better,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/validation/DefaultValidationErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/validation/ValidatingProcessor.java;camel-core/src/main/java/org/apache/camel/processor/validation/ValidatorErrorHandler.java;,0
1752,Willem Jiang,camel-spring,0,SpringCamelContext will get into endless loop of calling start method if the route service calling the ApplicationContext refresh method in it's initial method, SpringCamelContext spring camel context get endless loop call start method rout servic call ApplicationContext applic context refresh method initi method,Here is the mail thread which discusses this issue.http://www.nabble.com/StackOverFlow-error-with-Camel-1.6.1-tp24172060p24172060.html, mail thread discuss issu http www nabbl com StackOverFlow error camel tp html issu http www nabbl com stack flow error camel tp html,0,0,0,1,0,components/camel-spring/src/main/java/org/apache/camel/spring/SpringCamelContext.java;,0
1755,Claus Ibsen,camel-core,0,Failover load balancer - should prepare exchange before failover, failov load balanc prepar exchang failov,When the failover load balancer does a fail over it only clears the exception.When you use dead letter channel or default error handler with redeliveries enabled they will have such information.This should also be cleared before failover. So we have a clean and fresh start., failov load balanc fail clear except except use dead letter channel default error handler redeliveri enabl inform inform also clear failov failov clean fresh start start,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/loadbalancer/FailOverLoadBalancer.java;camel-core/src/test/java/org/apache/camel/processor/FailOverLoadBalanceWithRedeliveryTest.java;,0
1760,Andres,camel-jetty,0,Unable to read post params from request, unabl read post param request,If consuming messsages from jetty endpoint there is no way to read post parameters from HttpServletRequest. In example getting HttpServletRequest from body :HttpServletRequest req = exchange.getIn().getBody(HttpServletRequest.class);req.getParameterMap() returns allways empty mapThe problem is that jetty Request.extractParameters() method is trying to read post parameters from Request.getInputStream(). But unfortunately someone strips the input stream before and req.getInputStream() returns allways 0 bytesThe workaround for me is to extend DefaultHttpBinding as described in: http://camel.apache.org/jetty.htmlMyHttpBinding .javapublic class MyHttpBinding extends DefaultHttpBinding { public void readRequest(HttpServletRequest request  HttpMessage message) { request.getParameterMap(); super.readRequest(request message); }}calling request.getParameterMap() will cache parameters inside jetty Request and it's possible to query params later  without having inputStream, consum messsag jetti endpoint no way read post paramet HttpServletRequest http servlet request exampl get HttpServletRequest http servlet request bodi HttpServletRequest http servlet request req exchang getIn getBody HttpServletRequest class req getParameterMap exchang get get bodi http servlet request class req get paramet map return allway empti mapThe map problem jetti request extractParameters request extract paramet method tri read post paramet request getInputStream request get input stream unfortun someon strip input stream req getInputStream req get input stream return allway bytesThe byte workaround extend DefaultHttpBinding default http bind describ javapubl class MyHttpBinding http bind extend DefaultHttpBinding default http bind public void readRequest HttpServletRequest read request http servlet request request HttpMessage http messag messag messag request getParameterMap request get paramet map super readRequest request super read request request messag messag call request getParameterMap request get paramet map cach paramet insid jetti request possibl queri param later without inputStream input stream,0,0,1,1,0,components/camel-http/src/main/java/org/apache/camel/component/http/DefaultHttpBinding.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpRouteTest.java;,0
1764,Hadrian Zbarcea,null,0,Camel builds should not use platform specific encoding, camel build not use platform specif encod,The builds on my Mac use the platform specific encoding thus leading to the following warngin:[WARNING] Using platform encoding (MacRoman actually) to copy filtered resources  i.e. build is platform dependent!We should use the &lt;project.build.sourceEncoding&gt; property to specify a project specific encoding (UTF-8)., build mac use platform specif encod thu lead follow warngin WARNING warngin WARNING use platform encod MacRoman mac roman actual actual copi filter resourc build platform depend depend use lt project build sourceEncoding gt lt project build sourc encod gt properti specifi project specif encod UTF UTF,0,0,0,0,0,0,0
1765,David Jencks,examples,0,License for One-JAR classes not included in camel-example-spring one-jar artifact. Also apache legal files missing, licens one JAR one JAR class not includ camel exampl spring camel exampl spring one jar one jar artifact artifact also apach legal file miss,The license for the com/simontuffs/onejar files is at http://one-jar.sourceforge.net/index.php?page=documents&amp;file=license.When I build camel-example-spring neither this license nor the apache license nor apache notice file is in the one-jar.jar artifact.I'd suggest disabling the one-jar plugin until someone can figure out how to include these files., licens com simontuff onejar com simontuff onejar file build camel exampl spring camel exampl spring neither licens nor apach licens nor apach notic file one jar jar one jar jar artifact artifact suggest disabl one jar one jar plugin someon figur includ file file,0,0,0,1,1,examples/camel-example-spring/pom.xml;,1
1766,David Jencks,bean-integration,0,Upgrade maven build to use apache 6 pom and related features., upgrad maven build use apach pom relat featur featur,Geronimo recently has had some problems due to unversioned snapshots of camel. Since nexus automatically cleans up old snapshots it's preferred to use unique timestamped snapshots when publishing to apache nexus.There are some other nice standard featrues of the apache 6 pom and related work such as automatic source archive creation. I'm attaching a patch that updates to apache 6 pom and cleans up a few other things.Since the build fails for me before the changes I can't be very sure that these changes break nothing., geronimo recent problem due unvers snapshot camel camel sinc nexu automat clean old snapshot prefer use uniqu timestamp snapshot publish apach nexu nexu nice standard featru apach pom relat work automat sourc archiv creation creation attach patch updat apach pom clean thing sinc thing sinc build fail chang sure chang break noth noth,0,1,0,0,0,0,0
1778,Claus Ibsen,camel-core,0,camel-file - consumer  starting directory should validate that its configured properly eg not containing dynamic expressions etc, camel file camel file consum start directori valid configur properli eg not contain dynam express etc,You cannot use ${ } in the start path of file/ftp consumers. Use the fileName option for that. We should validate and thrown an exception about this so end users notices this immediately and can fix it., cannot use start path file ftp file ftp consum consum use fileName file name option valid thrown except end user notic immedi fix,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/FileComponent.java;camel-core/src/test/java/org/apache/camel/component/file/FileInvalidStartingPathTest.java;,0
1783,Claus Ibsen,camel-jms,0,camel-jms - allow a header like JMSDestination to override the destination to send to, camel jm camel jm allow header like JMSDestination JMS destin overrid destin send,We cannot use JMSDestination as it would not work when you do a route from(jms A) to (jms B) as it will go into round about as when received from jms A the header will contain JMSDestination = queue:A and thus Camel will send it back to itself.So we should a different nameCamelJmsDestination, cannot use JMSDestination JMS destin would not work rout jm jm jm go round receiv jm header contain JMSDestination JMS destin queue queue thu camel send back differ nameCamelJmsDestination name camel jm destin,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsHeaderFilterStrategy.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsProducerWithJMSHeaderTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConstants.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsProducerWithJMSHeaderTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsSimpleRequestLateReplyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsSimpleRequestReply102Test.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsSimpleRequestReplyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsCustomJMSReplyToIssueTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsSendToAlotOfDestinationWithSameEndpointTest.java;components/camel-jms/src/test/resources/org/apache/camel/component/jms/issues/broker.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/issues/camelBrokerClient.xml;components/camel-jms/pom.xml;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsSendToAlotOfDestinationWithSameEndpointTest.java;components/camel-jms/src/test/resources/org/apache/camel/component/jms/issues/broker.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/issues/camelBrokerClient.xml;,0
1786,Stan Lewis,null,0,camel-irc parsing of channel name and parameters is incorrect, camel irc camel irc pars channel name paramet incorrect,If you try and pass some parameters to camel-irc it turns out that camel joins a different IRC channel than expected  for example a URI like:irc://camel-con@irc.codehaus.org:6667/#camel-test?nickname=camel-concauses camel to join #camel-test?nickname=camel-con and not #camel-test with a nickname of camel-con. Will attach a patch that addresses this and updates the unit test., tri pass paramet camel irc camel irc turn camel join differ IRC channel expect exampl URI like irc camel con irc codehau org camel test nicknam camel concaus like irc camel con irc codehau org camel test nicknam camel concaus camel join camel test nicknam camel con camel test nicknam camel con not camel test camel test nicknam camel con camel con attach patch address updat unit test test,0,1,0,1,0,components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcConfiguration.java;components/camel-irc/src/test/java/org/apache/camel/component/irc/IrcRouteTest.java;,0
1793,Jonathan Anstey,tests,0,CustomerServicesWsAddressingTest hangs sometimes, CustomerServicesWsAddressingTest custom servic Ws address test hang sometim,Sometimes I get the following error&#91;23:59:55&#93;: Running org.apache.camel.itest.customerrelations.CustomerServicesWsAddressingTest&#91;00:00:06&#93;: Exception in thread 'DefaultMessageListenerContainer-4' java.lang.NullPointerException&#91;00:00:06&#93;: at java.lang.String.indexOf(String.java:1564)&#91;00:00:06&#93;: at java.lang.String.indexOf(String.java:1546)&#91;00:00:06&#93;: at org.springframework.jms.support.JmsUtils.buildExceptionMessage(JmsUtils.java:255)&#91;00:00:06&#93;: at org.springframework.jms.listener.DefaultMessageListenerContainer.handleListenerSetupFailure(DefaultMessageListenerContainer.java:745)&#91;00:00:06&#93;: at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:897)&#91;00:00:06&#93;: at java.lang.Thread.run(Thread.java:595)... which then causes a hang. Its a known issue in spring-jms 2.5.6 (http://jira.springframework.org/browse/SPR-5470). Happens when we try to do a shutdown of the context. Reverting back to 2.5.5 fixes this issue  but we probably don't want to do that, sometim get follow error error run org apach camel itest customerrel CustomerServicesWsAddressingTest org apach camel itest customerrel custom servic Ws address test except thread DefaultMessageListenerContainer default messag listen contain java lang NullPointerException java lang null pointer except java lang string indexOf string java java lang string index string java java lang string indexOf string java java lang string index string java org springframework jm support JmsUtils buildExceptionMessage JmsUtils java org springframework jm support jm util build except messag jm util java org springframework jm listen DefaultMessageListenerContainer handleListenerSetupFailure DefaultMessageListenerContainer java org springframework jm listen default messag listen contain handl listen setup failur default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker run DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok run default messag listen contain java java lang thread run thread java java lang thread run thread java caus hang hang known issu spring jm spring jm http jira springframework org brows SPR http jira springframework org brows SPR happen tri shutdown context context revert back fix issu probabl want,1,0,0,0,0,tests/camel-itest/src/test/resources/spring-config/jms-applicationContext.xml;tests/camel-itest/src/test/resources/spring-config/server-WsAddressingContext.xml;tests/camel-itest/src/test/resources/spring-config/server-applicationContext.xml;,0
1795,Claus Ibsen,camel-jms,0,camel-jms - wrong defaults causes message listener to use new thread when receiving a message, camel jm camel jm wrong default caus messag listen use new thread receiv messag,JmsConfiguratiuon have a bad defaultmaxMessagesPerTask=1It should be -1 as we do not want to strict the DefaultMessageListenerContainer to only handle 1 message per thread., JmsConfiguratiuon jm configuratiuon bad defaultmaxMessagesPerTask defaultmax messag per task not want strict DefaultMessageListenerContainer default messag listen contain handl messag per thread thread,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;,0
1800,Claus Ibsen,camel-core,0,EventDrivenConsumer - Wait starting them until all other processors / routes have been started, EventDrivenConsumer event driven consum wait start processor rout start,We should wait starting the input to the CamelContext until all child processors and other services have been started.Then at the end we should open the gates by starting all the input consumers.That should also help unit testing on slower boxes where these consumers might start a bit early and the remaining work starting the other processors is slow and thus the consumer is too fast., wait start input CamelContext camel context child processor servic start start end open gate start input consum consum also help unit test slower box consum might start bit earli remain work start processor slow thu consum fast fast,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/CamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/RouteService.java;camel-core/src/test/java/org/apache/camel/processor/DeadLetterChannelHandledPolicyTest.java;,0
1801,Claus Ibsen,camel-ftp,0,FTP component - add option to specify retry login attempts, FTP compon add option specifi retri login attempt,When ftp component attempts login it does that once. We should add option to configure how many attempts should be done before giving up.For instance try 3 times with 1 sec apart., ftp compon attempt login add option configur mani attempt done give instanc tri time sec apart apart,0,0,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileEndpoint.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtoReconnectAttemptServerStoppedTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpReconnectAttemptUnknownHostTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtoReconnectAttemptServerStoppedTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpReconnectAttemptServerStoppedTest.java;,0
1808,Claus Ibsen,camel-core,0,file component - markerFile read lock - do not use nio FileLock, file compon markerFile marker file read lock not use nio FileLock file lock,In some situations in OSGi platforms the file lock can be kept and then you need to shutdown the JVM to clear the JDK FileLock.So better to not use them as we can just create the file and Camel will still back off reading the file as it can see the lock file exists., situat OSGi OS Gi platform file lock kept need shutdown JVM clear JDK FileLock file lock better not use creat file camel still back read file see lock file exist exist,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/strategy/MarkerFileExclusiveReadLockStrategy.java;,0
1822,Hadrian Zbarcea,null,0,Cleanup unnecessary copy related methods in Exchange, cleanup unnecessari copi relat method exchang,There are currently 4 apis related to copying exchanges that overlap for the most part  are confusing and unnecessary. The consensus is to replace: Exchange newInstance(); Exchange copy(); Exchange newCopy(boolean handoverOnCompletion); void copyFrom(Exchange source);with: Exchange copy(); Exchange copy(boolean handoverOnCompletion);newInstance() does not bring much value copyFrom() is semantically equivalent to copy()newCopy() will be just renamed to copy(boolean) See nabble thread:http://www.nabble.com/-DISCUSS--Exchange-copy-api-cleanup-td24400340.html, current api relat copi exchang overlap part confus unnecessari unnecessari consensu replac replac exchang newInstance new instanc exchang copi copi exchang newCopy boolean new copi boolean handoverOnCompletion handov complet void copyFrom exchang copi exchang sourc sourc exchang copi copi exchang copi boolean copi boolean handoverOnCompletion newInstance handov complet new instanc not bring much valu copyFrom copi semant equival copi newCopy copi new copi renam copi boolean copi boolean see nabbl thread http www nabbl com DISCUSS exchang copi api cleanup td html thread http www nabbl com DISCUSS exchang copi api cleanup td html,1,0,0,1,0,0,0
1828,Willem Jiang,camel-jaxb,0,jaxb prettyPrint does not work, jaxb prettyPrint pretti print not work,Here is the mail thread with discuss about it. http://www.nabble.com/JAXB-pretty-print-marshaling-td24449564.html, mail thread discuss,0,0,0,1,0,components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/JaxbDataFormat.java;components/camel-jaxb/src/test/java/org/apache/camel/example/DataFormatTest.java;,0
1838,Claus Ibsen,camel-ftp,0,camel-ftp - Recover from lost connection issue, camel ftp camel ftp recov lost connect issu,See nabblehttp://www.nabble.com/FTP-Component-Network-Failure-Recovery-Problem-td24517828.html, see nabblehttp www nabbl com FTP compon network failur recoveri problem td html nabblehttp www nabbl com FTP compon network failur recoveri problem td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultPollingConsumerPollStrategy.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFilePollingConsumerPollStrategy.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSimulateNetworkIssueRecoverTest.java;,0
1839,Xueqiang Mi,camel-web,0,camel-web can't process the endpoint with '://' schema  like /endpoints/mock://results, camel web camel web process endpoint schema like endpoint mock result endpoint mock result,After improving the endpoint URI schema on http://issues.apache.org/activemq/browse/CAMEL-1756  camel-web's endpoint request URL is changed from http://localhost:8080/endpoints/mock:results into http://localhost:8080/endpoints/mock://results while '//' is a separator for URL  so camel-web will use only the 'mock:' to get the expected endpoint  which will throw an exception:org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: mock: due to: Expected scheme-specific part at index 5: mock: at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:367) at org.apache.camel.web.resources.EndpointsResource.getEndpoint(EndpointsResource.java:75) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.invokeSubLocator(SubLocatorRule.java:135) at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:89) at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111) at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:105) at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111) at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:71) at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:111) at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:63) at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:654) at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:612) at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:603) at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:309) at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:425) at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:737) at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:689) at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148) at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:119) at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:55) at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148) at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387) at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216) at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417) at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114) at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152) at org.mortbay.jetty.Server.handle(Server.java:324) at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:535) at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:865) at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539) at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212) at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404) at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409) at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)Caused by: java.net.URISyntaxException: Expected scheme-specific part at index 5: mock: at java.net.URI$Parser.fail(URI.java:2816) at java.net.URI$Parser.failExpecting(URI.java:2822) at java.net.URI$Parser.parse(URI.java:3025) at java.net.URI.&lt;init&gt;(URI.java:578) at org.apache.camel.util.URISupport.normalizeUri(URISupport.java:354) at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:365) ... 39 more, improv endpoint URI schema camel web camel web endpoint request URL chang separ URL camel web camel web use mock mock get expect endpoint throw except org apach camel ResolveEndpointFailedException except org apach camel resolv endpoint fail except fail resolv endpoint endpoint mock mock due expect scheme specif scheme specif part index mock mock org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java org apach camel web resourc EndpointsResource getEndpoint EndpointsResource java org apach camel web resourc endpoint resourc get endpoint endpoint resourc java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java com sun jersey server impl uri rule SubLocatorRule invokeSubLocator SubLocatorRule java com sun jersey server impl uri rule sub locat rule invok sub locat sub locat rule java com sun jersey server impl uri rule SubLocatorRule accept SubLocatorRule java com sun jersey server impl uri rule sub locat rule accept sub locat rule java com sun jersey server impl uri rule RightHandPathRule accept RightHandPathRule java com sun jersey server impl uri rule right hand path rule accept right hand path rule java com sun jersey server impl uri rule SubLocatorRule accept SubLocatorRule java com sun jersey server impl uri rule sub locat rule accept sub locat rule java com sun jersey server impl uri rule RightHandPathRule accept RightHandPathRule java com sun jersey server impl uri rule right hand path rule accept right hand path rule java com sun jersey server impl uri rule ResourceClassRule accept ResourceClassRule java com sun jersey server impl uri rule resourc class rule accept resourc class rule java com sun jersey server impl uri rule RightHandPathRule accept RightHandPathRule java com sun jersey server impl uri rule right hand path rule accept right hand path rule java com sun jersey server impl uri rule RootResourceClassesRule accept RootResourceClassesRule java com sun jersey server impl uri rule root resourc class rule accept root resourc class rule java com sun jersey server impl applic WebApplicationImpl _handleRequest WebApplicationImpl java com sun jersey server impl applic web applic impl _handle request web applic impl java com sun jersey server impl applic WebApplicationImpl handleRequest WebApplicationImpl java com sun jersey server impl applic web applic impl handl request web applic impl java com sun jersey server impl applic WebApplicationImpl handleRequest WebApplicationImpl java com sun jersey server impl applic web applic impl handl request web applic impl java com sun jersey spi contain servlet WebComponent servic WebComponent java com sun jersey spi contain servlet web compon servic web compon java com sun jersey spi contain servlet ServletContainer servic ServletContainer java com sun jersey spi contain servlet servlet contain servic servlet contain java com sun jersey spi contain servlet ServletContainer doFilter ServletContainer java com sun jersey spi contain servlet servlet contain filter servlet contain java com sun jersey spi contain servlet ServletContainer doFilter ServletContainer java com sun jersey spi contain servlet servlet contain filter servlet contain java org mortbay jetti servlet ServletHandler CachedChain doFilter ServletHandler java org mortbay jetti servlet servlet handler cach chain filter servlet handler java com opensymphoni modul sitemesh filter PageFilter parsePage PageFilter java com opensymphoni modul sitemesh filter page filter pars page page filter java com opensymphoni modul sitemesh filter PageFilter doFilter PageFilter java com opensymphoni modul sitemesh filter page filter filter page filter java org mortbay jetti servlet ServletHandler CachedChain doFilter ServletHandler java org mortbay jetti servlet servlet handler cach chain filter servlet handler java org mortbay jetti servlet ServletHandler handl ServletHandler java org mortbay jetti servlet servlet handler handl servlet handler java org mortbay jetti secur SecurityHandler handl SecurityHandler java org mortbay jetti secur secur handler handl secur handler java org mortbay jetti servlet SessionHandler handl SessionHandler java org mortbay jetti servlet session handler handl session handler java org mortbay jetti handler ContextHandler handl ContextHandler java org mortbay jetti handler context handler handl context handler java org mortbay jetti webapp WebAppContext handl WebAppContext java org mortbay jetti webapp web app context handl web app context java org mortbay jetti handler HandlerCollection handl HandlerCollection java org mortbay jetti handler handler collect handl handler collect java org mortbay jetti handler HandlerWrapper handl HandlerWrapper java org mortbay jetti handler handler wrapper handl handler wrapper java org mortbay jetti server handl server java org mortbay jetti server handl server java org mortbay jetti HttpConnection handleRequest HttpConnection java org mortbay jetti http connect handl request http connect java org mortbay jetti HttpConnection RequestHandler headerComplete HttpConnection java org mortbay jetti http connect request handler header complet http connect java org mortbay jetti HttpParser parseNext HttpParser java org mortbay jetti http parser pars next http parser java org mortbay jetti HttpParser parseAvailable HttpParser java org mortbay jetti http parser pars avail http parser java org mortbay jetti HttpConnection handl HttpConnection java org mortbay jetti http connect handl http connect java org mortbay io nio SelectChannelEndPoint run SelectChannelEndPoint java org mortbay io nio select channel end point run select channel end point java org mortbay thread QueuedThreadPool PoolThread run QueuedThreadPool java caus org mortbay thread queu thread pool pool thread run queu thread pool java caus java net URISyntaxException java net URI syntax except expect scheme specif scheme specif part index mock mock java net URI parser fail URI java java net URI parser fail URI java java net URI parser failExpecting URI java java net URI parser fail expect URI java java net URI parser pars URI java java net URI parser pars URI java java net URI lt init gt URI java java net URI lt init gt URI java org apach camel util URISupport normalizeUri URISupport java org apach camel util URI support normal uri URI support java org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java,1,1,0,0,0,components/camel-web/pom.xml;components/camel-web/src/main/java/org/apache/camel/web/model/EndpointLink.java;,0
1849,Dave Stanley,camel-core; camel-http,0,CachedOutputStream not cleaning up tmp files when using file based caching, CachedOutputStream cach output stream not clean tmp file use file base cach,A recent feature of Camel's CachedOutputStream is to serialize any messages over 64k to disk. In some cases the *tmp message files are not being cleaned up., recent featur camel camel CachedOutputStream cach output stream serial messag disk disk case tmp messag file not clean,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/converter/stream/CachedOutputStream.java;camel-core/src/main/java/org/apache/camel/util/IOHelper.java;camel-core/src/main/java/org/apache/camel/converter/stream/CachedOutputStream.java;camel-core/src/main/java/org/apache/camel/util/FileUtil.java;camel-core/src/test/java/org/apache/camel/converter/stream/CachedOutputStreamTest.java;camel-core/src/main/java/org/apache/camel/converter/stream/CachedOutputStream.java;camel-core/src/main/java/org/apache/camel/converter/stream/FileInputStreamCache.java;camel-core/src/main/java/org/apache/camel/converter/stream/StreamCacheConverter.java;camel-core/src/main/java/org/apache/camel/converter/stream/StreamSourceCache.java;camel-core/src/main/java/org/apache/camel/util/FileUtil.java;camel-core/src/test/java/org/apache/camel/converter/stream/CachedOutputStreamTest.java;camel-core/src/test/java/org/apache/camel/converter/stream/StreamCacheConverterTest.java;camel-core/src/test/java/org/apache/camel/issues/CacheInputStreamInDeadLetterIssue520Test.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpStreamCacheFileTest.java;,0
1851,Mark White,camel-core,0,Route JMX attributes not being updated, rout JMX attribut not updat,Some routes are not getting instrumented using JMX and we get the following WARN for those on startup;InstrumentationLifecycleStrategy: Route has not been instrumented for endpoint: ...It turns out that its only those routes that have an onException handler as the first processor in the route  e.g.&lt;route id='per-msg-route' errorHandlerRef='RouteErrorHandler'&gt; &lt;from uri='jms:MSG_IN'/&gt; &lt;onException&gt; &lt;exception&gt;can.retry.Exception&lt;/exception&gt; &lt;redeliveryPolicy ref='UnlimitedRedeliveryPolicyConfig'/&gt; &lt;handled&gt;&lt;constant&gt;true&lt;/constant&gt;&lt;/handled&gt; &lt;/onException&gt; &lt;bean ref='Formatter' method='formatInput'/&gt;...8&lt;... More info and proposed fix at http://www.nabble.com/Routes-JMX-attributes-not-updated-in-2.0-M2-td24631265.html#a24639433, rout not get instrument use JMX get follow WARN startup InstrumentationLifecycleStrategy startup instrument lifecycl strategi rout not instrument endpoint endpoint turn rout onException except handler first processor rout lt rout lt rout id per msg rout id per msg rout errorHandlerRef RouteErrorHandler gt error handler ref rout error handler gt lt lt uri jm MSG_IN gt uri jm MSG gt lt onException gt lt except gt lt except gt retri except lt except gt lt except gt retri except lt except gt lt redeliveryPolicy lt redeliveri polici ref UnlimitedRedeliveryPolicyConfig gt ref unlimit redeliveri polici config gt lt handl gt lt constant gt true lt constant gt lt handl gt lt handl gt lt constant gt true lt constant gt lt handl gt lt onException gt lt except gt lt bean lt bean ref formatt ref formatt method formatInput gt lt method format input gt lt info propos fix,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java;camel-core/src/test/java/org/apache/camel/management/ManagedRouteWithOnExceptionTest.java;,0
1858,Stan Lewis,camel-jms,0,Provide a flag to avoid mapping a JMS message to it's actual type, provid flag avoid map JMS messag actual type,CAMEL-1853 adds the ability to use a custom Spring MessageConverter to map an incoming (or outgoing) JMS Message  and also makes it easier to do a pass through route where Camel does not try and deserialize a serialized object message. This improvement is to add a simple flag that achieves a similar effect but without having to supply a MessageConverter implementation., CAMEL CAMEL add abil use custom spring MessageConverter messag convert map incom outgo outgo JMS messag also make easier pass rout camel not tri deseri serial object messag messag improv add simpl flag achiev similar effect without suppli MessageConverter messag convert implement implement,0,1,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/MapJmsMessageTest.java;,0
1862,S. Ali Tokmen,camel-cxf,0,camel-cxf bundle doesn't specify any Import-Package version, camel cxf camel cxf bundl specifi import packag import packag version,The camel-cxf component is currently generated against CXF version 2.2.2.As a result  the camel-cxf module as well as the camel-cxf bundle require CXF 2.2. More importantly  that bundle does not work correctly with CXF 2.0 (note that this is an expected behavior  CXF has had API changes with its 2.2 version).Now  the trouble is that the camel-cxf JAR's MANIFEST has an Import-Package on org.apache.cxf.* components without specifying any version! As a result  when it looks for CXF and both CXF 2.0 and 2.2 are present on the platform  it sometimes chooses the wrong one.To solve this issue  version specifiers should be added to the Import-Package declarations of the camel-cxf bundle. I guess an import on version 2.2 would be enough (we don't need to specify 2.2.2 explicitely).CheersS. Ali Tokmenhttp://ali.tokmen.com/, camel cxf camel cxf compon current gener CXF version result camel cxf camel cxf modul well camel cxf camel cxf bundl requir CXF importantli bundl not work correctli CXF note expect behavior CXF API chang version version troubl camel cxf camel cxf JAR JAR MANIFEST import packag import packag org apach cxf org apach cxf compon without specifi version version result look CXF CXF present platform sometim choos wrong one one solv issu version specifi ad import packag import packag declar camel cxf camel cxf bundl bundl guess import version would enough need specifi explicit CheersS explicit cheer ali tokmenhttp ali tokmen com tokmenhttp ali tokmen com,0,0,0,0,0,components/camel-cxf/pom.xml;,0
1865,Mark White,camel-core,0,NPE thrown when DEBUG logging on, NPE thrown DEBUG log,Stack trace;org.apache.camel.language.bean.RuntimeBeanExpressionException: Failed to invoke method: doSplit on MySplitter due to: java.lang.NullPointerException at org.apache.camel.language.bean.BeanExpression.evaluate(BeanExpression.java:82) at org.apache.camel.language.bean.BeanExpression.evaluate(BeanExpression.java:87) at org.apache.camel.processor.Splitter.createProcessorExchangePairs(Splitter.java:72)...Caused by: java.lang.NullPointerException at org.apache.camel.util.MessageHelper.extractBodyForLogging(MessageHelper.java:129) at org.apache.camel.impl.DefaultMessage.toString(DefaultMessage.java:38) at java.lang.String.valueOf(String.java:2827) at java.lang.StringBuilder.append(StringBuilder.java:115) at java.util.AbstractCollection.toString(AbstractCollection.java:422) at java.lang.String.valueOf(String.java:2827) at java.lang.StringBuilder.append(StringBuilder.java:115) at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:139)Steps to reproduce;1. Create simple route with splitter pattern; e.g.&lt;route&gt; &lt;from uri='jms:IN_QUEUE'/&gt; &lt;split&gt;&lt;method bean='MySplitter' method='doSplit'/&gt; &lt;to uri='log:route.log'/&gt; &lt;/split&gt;&lt;/route&gt;2. Set DEBUG logging on for org.apache.camel classes  e.g.log4j.logger.org.apache.camel=DEBUG3. Fire message into route - message fails with NPE inside Camel, stack trace org apach camel languag bean RuntimeBeanExpressionException trace org apach camel languag bean runtim bean express except fail invok method method doSplit split MySplitter splitter due java lang NullPointerException java lang null pointer except org apach camel languag bean BeanExpression evalu BeanExpression java org apach camel languag bean bean express evalu bean express java org apach camel languag bean BeanExpression evalu BeanExpression java org apach camel languag bean bean express evalu bean express java org apach camel processor splitter createProcessorExchangePairs splitter java caus org apach camel processor splitter creat processor exchang pair splitter java caus java lang NullPointerException java lang null pointer except org apach camel util MessageHelper extractBodyForLogging MessageHelper java org apach camel util messag helper extract bodi log messag helper java org apach camel impl DefaultMessage toString DefaultMessage java org apach camel impl default messag string default messag java java lang string valueOf string java java lang string valu string java java lang StringBuilder append StringBuilder java java lang string builder append string builder java java util AbstractCollection toString AbstractCollection java java util abstract collect string abstract collect java java lang string valueOf string java java lang string valu string java java lang StringBuilder append StringBuilder java java lang string builder append string builder java org apach camel compon bean BeanProcessor process BeanProcessor java step org apach camel compon bean bean processor process bean processor java step reproduc reproduc creat simpl rout splitter pattern pattern lt rout gt lt rout gt lt lt uri jm IN_QUEUE gt uri jm QUEUE gt lt split gt lt method lt split gt lt method bean MySplitter bean splitter method doSplit gt method split gt lt lt uri log rout log gt uri log rout log gt lt split gt lt rout gt lt split gt lt rout gt set DEBUG log org apach camel org apach camel class log logger org apach camel DEBUG log logger org apach camel DEBUG fire messag rout messag fail NPE insid camel,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/util/MessageHelper.java;camel-core/src/test/java/org/apache/camel/issues/SplitterUsingBeanReturningMessageTest.java;,0
1867,Mark White,camel-jms,0,JmsKeyFormatStrategy not used consistently and JmsMessage.getHeader() not returning correct value, JmsKeyFormatStrategy jm key format strategi not use consist JmsMessage getHeader jm messag get header not return correct valu,On entry to a route from a JMS endpoint configured with PassthroughJmsKeyFormatStrategy the headers with underscores (_) are passed through correctly.However  when any header value in the message is then changed  the original headers are added back into the message using the DefaultJmsKeyFormatStrategy. For example  sending a JMS message with headers;HEADER_1=VALUE_1HEADER_2=VALUE_1we do see just these two headers in the message received into the route.However  if we then set a header value in the route  say HEADER_1=VALUE_2  we now see the headers;HEADER.1=VALUE_1HEADER.2=VALUE_1HEADER_1=VALUE_2HEADER_2=VALUE_1For some reason in the set header process the original message headers and values get added into the message after being passed through the DefaultJmsKeyFormatStrategy. This has the implication of unnecessary duplication of the headers.Also  when a message header is accessed using the getHeader(key) method it also goes through the DefaultJmsKeyFormatStrategy to decode the key that is passed. In the example above  if after we have updated 'HEADER_1' to 'VALUE_2'  we do;message.getHeader('HEADER_1') this goes through the DefaultJmsKeyFormatStrategy and actually gets executed as message.getHeader('HEADER.1') which returns VALUE_1 (wrong!).Note: if instead we lookup the header through message.getHeaders() which returns the all headers in a Map  we can correctly access the 'HEADER_1' key. (Why is getHeader(key) even going through the KeyFormatStrategy anyway if setHeader() isn't?), entri rout JMS endpoint configur PassthroughJmsKeyFormatStrategy passthrough jm key format strategi header underscor  pass correctli howev correctli howev header valu messag chang origin header ad back messag use DefaultJmsKeyFormatStrategy default jm key format strategi exampl send JMS messag header HEADER VALUE HEADER VALUE header HEADER VALUE HEADER VALUE see two header messag receiv rout howev rout howev set header valu rout say HEADER VALUE HEADER VALUE see header HEADER VALUE HEADER VALUE HEADER VALUE HEADER VALUE header HEADER VALUE HEADER VALUE HEADER VALUE HEADER VALUE reason set header process origin messag header valu get ad messag pass DefaultJmsKeyFormatStrategy default jm key format strategi implic unnecessari duplic header also header also messag header access use getHeader key get header key method also goe DefaultJmsKeyFormatStrategy default jm key format strategi decod key pass pass exampl updat HEADER HEADER VALUE VALUE messag getHeader HEADER messag get header HEADER goe DefaultJmsKeyFormatStrategy default jm key format strategi actual get execut messag getHeader HEADER messag get header HEADER return VALUE wrong note wrong note instead lookup header messag getHeaders messag get header return header map correctli access HEADER HEADER key key getHeader key get header key even go KeyFormatStrategy key format strategi anyway setHeader set header,0,0,1,1,0,components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsPassThroughtJmsKeyFormatStrategyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsPassThroughtJmsKeyFormatStrategyUsingJmsConfigurationTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsProducerWithJMSHeaderTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsSimpleInOnlyNoMutateTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsSimpleRequestReplyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsXMLRouteTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessage.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsGetHeaderKeyFormatIssueTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsGetHeaderKeyFormatIssueWithContentTypeHeaderTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsMutateMessageTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsMutateRemoveHeaderMessageTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsPassThroughtJmsKeyFormatStrategyEndUserIssueTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsPassThroughtJmsKeyFormatStrategyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsPassThroughtJmsKeyFormatStrategyUsingJmsConfigurationTest.java;,0
1869,Claus Ibsen,camel-mail,0,camel-mail - Add option to ignore unsupported charset and fallback to platform default instead, camel mail camel mail add option ignor unsupport charset fallback platform default instead,See nabble:http://www.nabble.com/Camel-Mail-issue-with-unsupported-charset-td24755585.html, see nabbl http www nabbl com camel mail issu unsupport charset td html nabbl http www nabbl com camel mail issu unsupport charset td html,0,0,0,1,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailConsumerUnsupportedCharsetTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailProducerUnsupportedCharsetTest.java;,0
1871,Claus Ibsen,camel-jms,0,camel-jms - DefaultJmsKeyFormatStrategy should replace . with _DOT_ to avoid conflicting with end user using _, camel jm camel jm DefaultJmsKeyFormatStrategy default jm key format strategi replac DOT  DOT avoid conflict end user use ,If an end user sends a JMS property asMY_KEYThen it should be preserved when Camel route it  so the receiver side using Camel as well will see it as: MY_KEY and not MY.KEY.The code should be: String answer = key.replace('.'  '_DOT_'); answer = answer.replace('_DOT_'  '.');, end user send JMS properti asMY_KEYThen KEY preserv camel rout receiv side use camel well see MY_KEY KEY not KEY KEY code string answer key replac key replac DOT  DOT answer answer replac DOT answer replac  DOT,0,0,1,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/DefaultJmsKeyFormatStrategy.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/DefaultJmsHeaderKeyFormatStrategyTest.java;,0
1873,Willem Jiang,camel-spring,0,template   consumerTemplate  service  proxy can't be set with right camel context if there are more than one camel context in the spring application context, templat consumerTemplate consum templat servic proxi set right camel context one camel context spring applic context,Current camel support to define a producer template OUTSIDE a camel context  I think it works well just like the autowire function which is provided in Spring.If there more than two Camel context in the Spring Application context   the user should specify the camel context which the template should use.But I have a concern that even we put the template INSIDE the camel context  the template will not be set with a right version of camel context  since we use a CamelPostProcessor to inject CamelContext.So I did a quick test on the current Camel code and found there is a bug if there are more one CamelContext &#8211; CamelPostProcessor will inject the last create camel context into the CamelContextAware object. Since it is not easy to add the camelContext referece id into the template element attribute  we'd better just support to parser these elements inside the camel context., current camel support defin produc templat OUTSIDE camel context think work well like autowir function provid spring spring two camel context spring applic context user specifi camel context templat use use concern even put templat INSIDE camel context templat not set right version camel context sinc use CamelPostProcessor camel post processor inject CamelContext camel context quick test current camel code found bug one CamelContext camel context CamelPostProcessor camel post processor inject last creat camel context CamelContextAware camel context awar object object sinc not easi add camelContext camel context referec id templat element attribut better support parser element insid camel context context,0,0,0,0,0,components/camel-spring/src/main/java/org/apache/camel/spring/CamelBeanPostProcessor.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelConsumerTemplateFactoryBean.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelProducerTemplateFactoryBean.java;components/camel-spring/src/main/java/org/apache/camel/spring/handler/CamelNamespaceHandler.java;components/camel-spring/src/test/java/org/apache/camel/spring/CamelContextAwareTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/SpringConsumerTemplateCAMEL1870Test.java;components/camel-spring/src/test/resources/org/apache/camel/spring/SpringConsumerTemplateCAMEL1870Test-context.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/camelContextAwareBean.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/remoting/spring-with-exporter-namespace.xml;camel-core/src/main/java/org/apache/camel/impl/DefaultConsumerTemplate.java;components/camel-spring/src/main/java/org/apache/camel/spring/handler/CamelNamespaceHandler.java;components/camel-spring/src/test/java/org/apache/camel/spring/CamelContextAwareTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/camelContextAwareBean.xml;,0
1878,Claus Ibsen,camel-core,0,Bean component - invokes onMessage from javax.jms.MessageListener even though a specific method name have been provided, bean compon invok onMessage messag javax jm MessageListener javax jm messag listen even though specif method name provid,This is only an issue when your bean implements javax.jms.MessageListener and then specify a specific method to use  then Camel will still prefer to use the onMessage method., issu bean implement javax jm MessageListener javax jm messag listen specifi specif method use camel still prefer use onMessage messag method method,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/test/java/org/apache/camel/component/bean/issues/BaseClass.java;camel-core/src/test/java/org/apache/camel/component/bean/issues/BeanRouteToDerivedClassTest.java;camel-core/src/test/java/org/apache/camel/component/bean/issues/DerivedClass.java;camel-core/src/test/java/org/apache/camel/component/bean/issues/MyMessage.java;camel-core/src/test/java/org/apache/camel/component/bean/issues/MyMessageListener.java;camel-core/src/test/java/org/apache/camel/component/bean/issues/MyMessageToProcessorConverter.java;tests/camel-itest/src/test/java/org/apache/camel/itest/issues/BaseClass.java;tests/camel-itest/src/test/java/org/apache/camel/itest/issues/BeanCallDerivedClassTest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/issues/DerivedClass.java;tests/camel-itest/src/test/resources/org/apache/camel/itest/issues/BeanCallDerivedClassTest-context.xml;,0
1881,Stan Lewis,null,0,camel-irc consumer only listens to messages on a channel and ignores direct messages, camel irc camel irc consum listen messag channel ignor direct messag,While camel-irc listens to events on a channel very nicely  if you send a camel-irc consumer a message directly it ignores it., camel irc camel irc listen event channel nice send camel irc camel irc consum messag directli ignor,0,1,0,0,0,components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcConsumer.java;components/camel-irc/src/test/java/org/apache/camel/component/irc/IrcPrivmsgTest.java;,0
1884,Stan Lewis,null,0,XMPP producer and consumer don't share the same connection and Chat objects, XMPP produc consum share connect chat object,It's actually not possible to produce and consume messages from the same XMPP endpoint  i.e. something like:from('xmpp://irc.jabber.org...').to('direct:out');from('direct:in').to('xmpp://irc.jabber.org...');typically what I see happen is that the consumer will work until the XMPP producer sends a message  at that point the consumer stops receiving messages. What's happening is that producers and consumers created from the endpoint also create their own connection object and then also create their own Chat object. The attached patch ties the XMPP connection to the endpoint  making a producer or consumer share this connection. If a consumer creates the Chat first the producer will look it up and connect to the existing Chat. If the producer creates the Chat then the consumer will attach itself as a listener to this Chat.I notice that the tests are turned off as they require a local Jabber server instance to run. Is it worth creating some accounts on jabber.org to run the test with? Currently I've been testing this patch using my own Google talk accounts  this is all working towards an IRC to Jabber bridge that I might submit later on as a more complicated demo..., actual not possibl produc consum messag XMPP endpoint someth like xmpp irc jabber org direct direct xmpp irc jabber org typic like xmpp irc jabber org direct direct xmpp irc jabber org typic see happen consum work XMPP produc send messag point consum stop receiv messag messag happen produc consum creat endpoint also creat connect object also creat chat object object attach patch tie XMPP connect endpoint make produc consum share connect connect consum creat chat first produc look connect exist chat chat produc creat chat consum attach listen chat chat notic test turn requir local jabber server instanc run run worth creat account jabber org jabber org run test current test patch use googl talk account work toward IRC jabber bridg might submit later complic demo demo,0,1,1,0,0,components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppComponent.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppEndpoint.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppGroupChatProducer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRouteChatTest.java;,0
1895,Claus Ibsen,camel-core,0,camel-file - Consume and pollEnrich another file should work transparent, camel file camel file consum pollEnrich poll enrich anoth file work transpar,See nabblehttp://www.nabble.com/Problem-with-FileConsumer-and-pollEnrich-td24795192.html, see nabblehttp www nabbl com problem FileConsumer pollEnrich td html nabblehttp www nabbl com problem file consum poll enrich td html,0,0,0,1,0,camel-core/src/test/java/org/apache/camel/component/file/FileConsumePollEnrichFileUsingProcessorTest.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileLockExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileProcessStrategyFactory.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/MarkerFileExclusiveReadLockStrategy.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumePollEnrichFileTest.java;camel-core/src/main/java/org/apache/camel/util/FileUtil.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileOnCompletion.java;camel-core/src/main/java/org/apache/camel/processor/PollEnricher.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumePollEnrichFileTest.java;camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileProcessStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileRenameProcessStrategy.java;camel-core/src/main/java/org/apache/camel/processor/PollEnricher.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumeMoveRelativeNameTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumePollEnrichFileTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerAbsolutePathWithAbsoluteMoveTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerAbsolutePathWithRelativeMoveTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConsumer.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerMultipleDirectoriesTest.java;,0
1914,Stan Lewis,camel-xmpp,0,Xmpp consumer stops consuming after some time, xmpp consum stop consum time,Noticed after creating some more complicated routes that my xmpp consumers would stop receiving messages. This patch sorts that out  I also improved some of the logging in the producer and consumer classes and tweaked the XmppRouteChatTest to work properly., notic creat complic rout xmpp consum would stop receiv messag messag patch sort also improv log produc consum class tweak XmppRouteChatTest xmpp rout chat test work properli properli,0,1,0,0,0,components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRouteChatTest.java;,0
1924,Christian Schneider,camel-core,0,Unit test failures on Windows in 2.0.0 release, unit test failur window releas,3 failures in camel-core that do not seem to occur on linux and mac.Failure Details testCannotDeleteFile junit.framework.AssertionFailedError: Should have thrown an exceptionorg.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategyTest:125 testCacheStreamToFileAndNotCloseStream junit.framework.AssertionFailedError: we should have no temp file expected:&lt;1&gt; but was:&lt;0&gt;org.apache.camel.converter.stream.CachedOutputStreamTest:117 testRouteIsCorrectAtRuntime junit.framework.AssertionFailedError: expected:&lt;4&gt; but was:&lt;1&gt;org.apache.camel.processor.ChoiceWithEndTest:39, failur camel core camel core not seem occur linux mac failur mac failur detail testCannotDeleteFile test cannot delet file junit framework AssertionFailedError junit framework assert fail error thrown exceptionorg apach camel compon file strategi GenericFileDeleteProcessStrategyTest exceptionorg apach camel compon file strategi gener file delet process strategi test testCacheStreamToFileAndNotCloseStream test cach stream file not close stream junit framework AssertionFailedError junit framework assert fail error no temp file expect lt gt expect lt gt lt gt org apach camel convert stream CachedOutputStreamTest lt gt org apach camel convert stream cach output stream test testRouteIsCorrectAtRuntime test rout correct runtim junit framework AssertionFailedError junit framework assert fail error expect lt gt expect lt gt lt gt org apach camel processor ChoiceWithEndTest lt gt org apach camel processor choic end test,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/converter/stream/CachedOutputStream.java;camel-core/src/test/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategyTest.java;camel-core/src/test/java/org/apache/camel/converter/stream/CachedOutputStreamTest.java;camel-core/src/test/java/org/apache/camel/processor/ChoiceWithEndTest.java;,0
1925,Srivatsa Katta,camel-core; camel-http,0,HTTP component throwing IllegalArgumentException in M3 release while bridging between jetty and http, HTTP compon throw IllegalArgumentException illeg argument except releas bridg jetti http,The CamelHttpUri header is not set to the right value while routing between jetty and http components. Because of which the construction of the HttpMethod in the http component fails and throws up an IllegalArgumentException.Detailed discussion regarding this issue can be found in this following thread.http://www.nabble.com/HTTP-component-throwing-IllegalArgumentException-in-M3-release.-tt25057133.html#a25057133, CamelHttpUri camel http uri header not set right valu rout jetti http compon compon construct HttpMethod http method http compon fail throw IllegalArgumentException detail illeg argument except detail discuss regard issu found follow thread http www nabbl com HTTP compon throw IllegalArgumentException releas tt html thread http www nabbl com HTTP compon throw illeg argument except releas tt html,0,0,0,1,0,components/camel-http/src/main/java/org/apache/camel/component/http/CamelServlet.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/CamelContinuationServlet.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpBridgeRouteTest.java;components/camel-servlet/src/main/java/org/apache/camel/component/servlet/CamelHttpTransportServlet.java;components/camel-servlet/src/test/java/org/apache/camel/component/servlet/HttpClientRouteTest.java;components/camel-servlet/src/test/resources/log4j.properties;components/camel-servlet/src/test/resources/org/apache/camel/component/servlet/multiServletWeb.xml;components/camel-servlet/src/test/resources/org/apache/camel/component/servlet/web.xml;,0
1931,Stan Lewis,camel-xmpp,0,XmppBinding will add non-serializeable header values to the outgoing xmpp message, XmppBinding xmpp bind add non serializ non serializ header valu outgo xmpp messag,I started using velocity in my project which seems to add some headers to the message exchange  the values of which are apparently not serialize-able. As a result when a message in my route gets to the camel-xmpp component it fails in XmppBinding with an IllegalArgumentException as the binding tries to add the bad header. This patch that by not inserting any headers into the xmpp message that don't have serialize-able values., start use veloc project seem add header messag exchang valu appar not serial abl serial abl result messag rout get camel xmpp camel xmpp compon fail XmppBinding xmpp bind IllegalArgumentException illeg argument except bind tri add bad header header patch not insert header xmpp messag serial abl serial abl valu valu,0,1,0,0,0,components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppBinding.java;,0
1934,Christian Schneider,camel-jetty,0,Unit test failure in Windows for StreamCache. Temp file is not deleted, unit test failur window StreamCache stream cach temp file not delet,The temporary file is not deleted. I think the file is still open in some other stream. The problem is I have no idea how to find this place. Like in issue CAMEL-1924 this only happens on windows as on unix you can delete a file even if there are open streams.testStreamCacheToFileShouldBeDeletedInCaseOfException java.lang.AssertionError: There should be no files expected:&lt;1&gt; but was:&lt;0&gt;org.apache.camel.component.jetty.HttpStreamCacheFileTest:71, temporari file not delet delet think file still open stream stream problem no idea find place place like issu CAMEL CAMEL happen window unix delet file even open stream testStreamCacheToFileShouldBeDeletedInCaseOfException stream test stream cach file delet case except java lang AssertionError java lang assert error no file expect lt gt expect lt gt lt gt org apach camel compon jetti HttpStreamCacheFileTest lt gt org apach camel compon jetti http stream cach file test,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/converter/stream/CachedOutputStream.java;camel-core/src/test/java/org/apache/camel/converter/stream/CachedOutputStreamTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpStreamCacheFileTest.java;,0
1944,Stan Lewis,null,0,Revamped IRC component event adapter logging, revamp IRC compon event adapt log,Currently only the camel-irc producer installs an event listener on the IRC connection to log incoming messages from the IRC server. This patch revamps the logging so that the component installs an event adapter to do logging before the connection is even established so it's easier to debug various issues that could be occurring with the connection to the IRC server., current camel irc camel irc produc instal event listen IRC connect log incom messag IRC server server patch revamp log compon instal event adapt log connect even establish easier debug variou issu could occur connect IRC server server,0,1,0,0,0,components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcComponent.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcErrorLogger.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcLogger.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcProducer.java;,0
1948,Claus Ibsen,camel-core,0,ServiceSupport - incorrect state after restart, ServiceSupport servic support incorrect state restart,This hampers restart of services by example the overhauled JMX in CAMEL-1933.When a service was restarted it had the following incorrect state: started = true starting = false stopped = true stopping = falseThe stopped should have been changed to false as its started., hamper restart servic exampl overhaul JMX CAMEL CAMEL servic restart follow incorrect state state start true start fals stop true stop falseThe fals stop chang fals start start,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/ServiceSupport.java;camel-core/src/test/java/org/apache/camel/impl/ServiceSupportTest.java;,0
1950,Stan Lewis,null,0,Add server name to logging event adapter, add server name log event adapt,When connected to multiple IRC servers it's a bit difficult to figure out what server incoming log messages from the event adapter are from. This patch adds the IRC server responsible for a given log message from the event adapter., connect multipl IRC server bit difficult figur server incom log messag event adapt patch add IRC server respons given log messag event adapt adapt,0,1,0,0,0,components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcComponent.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcLogger.java;,0
1951,Ron Gavlin,camel-jms; jmx,0,camel-jms consumer endpoint should allow properties such as maxConcurrentConsumers and concurrentConsumers to be managed via JMX, camel jm camel jm consum endpoint allow properti maxConcurrentConsumers max concurr consum concurrentConsumers concurr consum manag via JMX,,,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/management/mbean/ManagedBrowsableEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsQueueEndpoint.java;,0
1952,Claus Ibsen,camel-core,0,Exchange - getIn and getOut with expected type parameter, exchang getIn get getOut get expect type paramet,It would be nice with a getIn(type) method so you can avoid ugly type cast and let Camel do type casting instead.CxfMessage cxf = exchange.getIn(CxfMessage.class);And the same for a getOut as well., would nice getIn type get type method avoid ugli type cast let camel type cast instead CxfMessage instead cxf messag cxf exchang getIn CxfMessage class exchang get cxf messag class getOut get well well,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchange.java;camel-core/src/test/java/org/apache/camel/impl/DefaultExchangeTest.java;,0
1956,Stan Lewis,null,0,camel-irc should handle onReply callbacks, camel irc camel irc handl onReply repli callback,Currently it's not possible to receive the response from commands like WHO as irclib invokes onReply when it gets a response from the IRC server  which the IrcConsumer doesn't implement. This patch adds that and also turns on debug logging for the IRC component in the tests., current not possibl receiv respons command like irclib invok onReply repli get respons IRC server IrcConsumer irc consum implement implement patch add also turn debug log IRC compon test test,0,1,0,0,0,components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcConfiguration.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcConstants.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcConsumer.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcEndpoint.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcMessage.java;components/camel-irc/src/test/java/org/apache/camel/component/irc/IrcOnReplyTest.java;components/camel-irc/src/test/resources/log4j.properties;,0
1963,Dado Comm,camel-spring,0,Graceful shutdown problem, grace shutdown problem,While running camel-example-spring-jms in 2.0M3  I've noticed that GracefulShutdownService can't stop Camel. It calls Main.getInstance().stop();but this call blocks and never returns. With enabled debug logging for org.springframework.jms  console outputs&#91;aultMessageListenerContainer-1&#93; efaultMessageListenerContainer DEBUG Waiting for shutdown of message listener invokers&#91;aultMessageListenerContainer-1&#93; efaultMessageListenerContainer DEBUG Still waiting for shutdown of 1 message listener invokersRelated forum thread:http://www.nabble.com/Garceful-shutdown-bug-in-2.0M3--td25113519.htmlDado, run camel exampl spring jm camel exampl spring jm notic GracefulShutdownService grace shutdown servic stop camel camel call main getInstance stop main get instanc stop call block never return return enabl debug log org springframework jm org springframework jm consol output aultMessageListenerContainer output ault messag listen contain efaultMessageListenerContainer efault messag listen contain DEBUG wait shutdown messag listen invok aultMessageListenerContainer invok ault messag listen contain efaultMessageListenerContainer efault messag listen contain DEBUG still wait shutdown messag listen invokersRelated invok relat forum thread http www nabbl com garc shutdown bug td htmlDado thread http www nabbl com garc shutdown bug td html dado,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/MainSupport.java;camel-core/src/main/java/org/apache/camel/impl/ServiceSupport.java;camel-core/src/main/java/org/apache/camel/processor/Pipeline.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryPolicy.java;components/camel-spring/src/main/java/org/apache/camel/spring/Main.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringMainStartFailedIssueTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringMainStartFailedIssueTest.xml;,0
1976,Claus Ibsen,camel-jms; jmx,0,Restarting JmsConsumer should pickup configuration changes, restart JmsConsumer jm consum pickup configur chang,You should be able to using JMX to manage JMS endpoints and change configuration such as number of concurrent consumers.Then when restarting the jms consumers they should pickup any configuration changes done on the jms endpoint., abl use JMX manag JMS endpoint chang configur number concurr consum consum restart jm consum pickup configur chang done jm endpoint endpoint,0,0,0,0,0,components/camel-jms/pom.xml;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConsumer.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsQueueEndpoint.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsConsumerRestartPickupConfigurationChangesTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsEndpointConfigurationTest.java;,0
1988,Guillaume Nodet,null,0,Better OSGi metadata to allow deploying multiple camel versions in the same OSGi framework, better OSGi OS Gi metadata allow deploy multipl camel version OSGi OS Gi framework,,,0,1,0,0,0,camel-core/pom.xml;components/camel-amqp/pom.xml;components/camel-atom/pom.xml;components/camel-cxf/pom.xml;components/camel-flatpack/pom.xml;components/camel-freemarker/pom.xml;components/camel-http/pom.xml;components/camel-jpa/pom.xml;components/camel-mina/pom.xml;components/camel-osgi/pom.xml;components/camel-osgi/src/main/java/org/apache/camel/osgi/Activator.java;components/camel-quickfix/pom.xml;components/camel-spring-integration/pom.xml;components/camel-spring-javaconfig/pom.xml;components/camel-spring/pom.xml;components/camel-stringtemplate/pom.xml;components/camel-velocity/pom.xml;components/camel-xmlbeans/pom.xml;components/camel-xmpp/pom.xml;parent/pom.xml;platforms/karaf/features/pom.xml;platforms/karaf/features/src/main/resources/features.xml;pom.xml;,0
1993,Claus Ibsen,camel-spring,0,Spring DSL - errorHandlerRef should only be support on camel context or route, spring DSL errorHandlerRef error handler ref support camel context rout,It just makes it to confusing you can set it on a processor definition in the middle of a route.Only these 2 xml tags should support it camelContext route, make confus set processor definit middl rout rout xml tag support camelContext camel context rout,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinition.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpPostWithBodyTest.java;,0
2016,Guillaume Nodet,camel-jpa,0,camel-jpa exports the org.apache.camel.processor.interceptor which leads to a split package, camel jpa camel jpa export org apach camel processor interceptor org apach camel processor interceptor lead split packag,The package is already exported by camel-core  so the class in this package needs to be moved to another package., packag alreadi export camel core camel core class packag need move anoth packag packag,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;components/camel-jpa/pom.xml;components/camel-jpa/src/main/java/org/apache/camel/processor/interceptor/JpaTraceEventMessage.java;components/camel-jpa/src/main/java/org/apache/camel/processor/interceptor/jpa/JpaTraceEventMessage.java;components/camel-jpa/src/test/java/org/apache/camel/processor/interceptor/JpaTraceEventMessageTest.java;components/camel-jpa/src/test/resources/META-INF/persistence.xml;,0
2020,Willem Jiang,null,0,NPE when the bundle is camel-osgi bundle is inactive, NPE bundl camel osgi camel osgi bundl inact,The stack trace. java.lang.NullPointerException atorg.apache.camel.osgi.OsgiFactoryFinder.getResource(OsgiFactoryFinder.java:85) atorg.apache.camel.osgi.OsgiFactoryFinder.findClass(OsgiFactoryFinder.java:51) atorg.apache.camel.component.file.GenericFileEndpoint.createGenericFileStrategy(GenericFileEndpoint.java:130) atorg.apache.camel.component.file.GenericFileEndpoint.getGenericFileProcessStrategy(GenericFileEndpoint.java:114) atorg.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:162) atorg.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:120) atorg.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:93) atorg.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:98) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) atjava.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317) at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150) atjava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98) atjava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181) atjava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205) atjava.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) atjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619)Here is the mail thread&#91;1&#93; which discusses about this issue.&#91;1&#93;http://www.nabble.com/Error-using-camel-file-with-windows-tt25475829.html#a25486384, stack trace trace java lang NullPointerException java lang null pointer except atorg apach camel osgi OsgiFactoryFinder getResource OsgiFactoryFinder java atorg apach camel osgi osgi factori finder get resourc osgi factori finder java atorg apach camel osgi OsgiFactoryFinder findClass OsgiFactoryFinder java atorg apach camel osgi osgi factori finder find class osgi factori finder java atorg apach camel compon file GenericFileEndpoint createGenericFileStrategy GenericFileEndpoint java atorg apach camel compon file gener file endpoint creat gener file strategi gener file endpoint java atorg apach camel compon file GenericFileEndpoint getGenericFileProcessStrategy GenericFileEndpoint java atorg apach camel compon file gener file endpoint get gener file process strategi gener file endpoint java atorg apach camel compon file GenericFileConsumer processExchange GenericFileConsumer java atorg apach camel compon file gener file consum process exchang gener file consum java atorg apach camel compon file GenericFileConsumer processBatch GenericFileConsumer java atorg apach camel compon file gener file consum process batch gener file consum java atorg apach camel compon file GenericFileConsumer poll GenericFileConsumer java atorg apach camel compon file gener file consum poll gener file consum java atorg apach camel impl ScheduledPollConsumer run ScheduledPollConsumer java atorg apach camel impl schedul poll consum run schedul poll consum java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java atjava util concurr FutureTask sync innerRunAndReset FutureTask java atjava util concurr futur task sync inner run reset futur task java java util concurr FutureTask runAndReset FutureTask java java util concurr futur task run reset futur task java atjava util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java atjava util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java atjava util concurr ScheduledThreadPoolExecutor ScheduledFutureTask runPeriodic ScheduledThreadPoolExecutor java atjava util concurr schedul thread pool executor schedul futur task run period schedul thread pool executor java atjava util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java atjava util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java atjava util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java atjava util concurr thread pool executor worker run task thread pool executor java atjava util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java atjava util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java mail thread thread discuss issu http www nabbl com error use camel file window tt html issu http www nabbl com error use camel file window tt html,1,0,0,0,0,components/camel-osgi/src/main/java/org/apache/camel/osgi/OsgiFactoryFinder.java;,0
2031,Claus Ibsen,camel-core,0,DataSet - Add initial delay with a default of 1 sec, DataSet data set add initi delay default sec,To avoid data set consumers starting spitting out messages before other routes have properly started., avoid data set consum start spit messag rout properli start start,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/dataset/DataSetConsumer.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetEndpoint.java;,0
2032,Stan Lewis,camel-xmpp,0,XmppMessages don't get converted to strings, XmppMessages xmpp messag get convert string,This has been bugging me for awhile  when you have a route using XMPP you get instances of XmppMessage in your route rather than just a string containing the body of the XmppMessage. Tracked that down and took out the work arounds I had previously put in my contributed xmpp tests., bug awhil rout use XMPP get instanc XmppMessage xmpp messag rout rather string contain bodi XmppMessage xmpp messag track took work around previous put contribut xmpp test test,0,1,0,0,0,components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppMessage.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRouteChatTest.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRouteMultipleProducersSingleConsumerTest.java;,0
2049,Dmytro Rud,camel-mina,0,Improper configuration of MINA connector and acceptor instances; Better producer, improp configur MINA connector acceptor instanc instanc better produc,A sample scenario where both MINA producer(s) and consumer(s) are used in the same route (e.g. some kind of dispatching or proxying):from('mina:tcp://localhost:8888?lazySessionCreation=true&amp;sync=true') .to('mina:tcp://localhost:7777?lazySessionCreation=true&amp;sync=true');from('mina:tcp://localhost:7777?lazySessionCreation=true&amp;sync=true') .process(/prepare answer/);Due to improper configuration of MINA acceptor and connector instances in MinaComponent#createSocketEndpoint()  no more than 15 incoming threads can be served at port 8888 &#8211; the producer becomes unable to open an outgoing session. This is actually an issue of MINA  not of Camel &#8211; a test application written using 'raw' MINA shows the same behaviour.A solution is to apply configuration rules described  e.g.  at http://mina.apache.org/configuring-thread-model.html  as done in the attached patch.Moreover  the standard Camel-MINA producer is not thread-safe &#8211; actually a well-known point. A second attached file contains a thread pool-based reentrant version  which can be efficiently used for TCP endpoints with both parameters 'lazySessionCreation' and 'sync' set to true., sampl scenario MINA produc produc consum consum use rout kind dispatch proxi mina tcp localhost lazySessionCreation true amp sync true proxi mina tcp localhost lazi session creation true amp sync true mina tcp localhost lazySessionCreation true amp sync true mina tcp localhost lazySessionCreation true amp sync true mina tcp localhost lazi session creation true amp sync true mina tcp localhost lazi session creation true amp sync true process prepar process prepar answer due answer due improp configur MINA acceptor connector instanc MinaComponent createSocketEndpoint mina compon creat socket endpoint no incom thread serv port produc becom unabl open outgo session session actual issu MINA not camel test applic written use raw raw MINA show behaviour behaviour solut appli configur rule describ done attach patch moreov patch moreov standard camel MINA camel MINA produc not thread safe thread safe actual well known well known point point second attach file contain thread pool base pool base reentrant version effici use TCP endpoint paramet lazySessionCreation lazi session creation sync sync set true true,0,1,0,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/util/concurrent/ExecutorServiceHelper.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;,0
2060,Willem Jiang,null,0,Camel Bean component should not remember the last called method name if the bean's method name is not explicitly specified., camel bean compon not rememb last call method name bean bean method name not explicitli specifi specifi,Here is the mail thread which discuses this issue. http://www.nabble.com/Bean-endpoint-in-a-route-is-holding-reference-to-the-last-used-methodName-and-does-not-invoke-Camel%27s-Bean-binding-tp25838095p25838095.html, mail thread discus issu issu,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanImplicitMethodTest.java;,0
2063,Claus Ibsen,camel-core,0,DeadLetterChannel - Should pre check the endpointUri is valid and report failure on startup, DeadLetterChannel dead letter channel pre check endpointUri endpoint uri valid report failur startup,If you misconfigure the DLC endpoint URI it will get created on demand and if case of a problem its logged. We should pre check this on route startup so we know the DLC queue works., misconfigur DLC endpoint URI get creat demand case problem log log pre check rout startup know DLC queue work work,0,0,0,0,0,tests/camel-itest-karaf/pom.xml;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/AbstractFeatureTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelAmqpTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelAtomTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelBamTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelBindyTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelCacheTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelCastorTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelCometdTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelCsvTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelCxfTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelFlatpackTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelFreemarkerTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelFtpTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelGroovyTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelGuiceTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelHl7Test.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelHttpTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelIbatisTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelIrcTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelJaxbTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelJcrTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelJdbcTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelJettyTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelJingTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelJmsTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelJosqlTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelJpaTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelJuelTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelJxpathTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelLdapTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelMailTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelMinaTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelMsvTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelMvelTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelOgnlTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelPrinterTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelQuartzTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelRestletTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelRmiTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelRssTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelSaxonTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelScalaTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelScriptTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelServletTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelSnmpTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelSpringIntegrationTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelSpringJavaconfigTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelSqlTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelStreamTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelTagsoupTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelVelocityTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelXmlbeansTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelXmlsecurityTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelXmppTest.java;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelXstreamTest.java;tests/pom.xml;camel-core/src/main/java/org/apache/camel/builder/BuilderSupport.java;camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java;camel-core/src/test/java/org/apache/camel/processor/DeadLetterChannelBuilderWithInvalidDeadLetterUriTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringDeadLetterChannelInvalidDeadLetterUriTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringDeadLetterChannelInvalidOptionDeadLetterUriTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringDeadLetterChannelInvalidDeadLetterUriTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringDeadLetterChannelInvalidOptionDeadLetterUriTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/onexception/exceptionBuilderWithRetryLoggingLevelSet.xml;,0
2064,Martin Krasser,camel-core,0,Redundant interceptions when using interceptSendToEndpoint, redund intercept use interceptSendToEndpoint intercept send endpoint,See http://www.nabble.com/Issue-with-interceptSendToEndpoint-to25859201s22882.html, see,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/model/InterceptSendToEndpointDefinition.java;camel-core/src/test/java/org/apache/camel/management/ManagedErrorHandlerOptionsTest.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptSendToEndpointTest.java;,0
2070,Claus Ibsen,camel-core,0,Dynamic Recipient List - Comma is always delimiter even if custom specified, dynam recipi list comma alway delimit even custom specifi,See nabblehttp://www.nabble.com/Dynamic-RecipientList-delimeter-issue-td25917854.html, see nabblehttp www nabbl com dynam RecipientList delimet issu td html nabblehttp www nabbl com dynam recipi list delimet issu td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/RecipientListDefinition.java;camel-core/src/main/java/org/apache/camel/processor/RecipientList.java;camel-core/src/test/java/org/apache/camel/processor/RecipientListWithDelimiterTest.java;,0
2072,Claus Ibsen,camel-mail,0,camel-mail - extracting mails with headers using multi values inserts duplicates, camel mail camel mail extract mail header use multi valu insert duplic,Sending a message with headers that contains 2 values such a String[] with 2 values will result on the other side when consuming that mail message to contain a header with 2 entries. There should only be 1 entry with the 2 values., send messag header contain valu string string valu result side consum mail messag contain header entri entri entri valu valu,0,0,0,0,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailCollectionHeaderTest.java;,0
2078,Claus Ibsen,camel-jpa,0,camel-jpa - JpaProducer should mandate body instead of creating a new empty instance, camel jpa camel jpa JpaProducer jpa produc mandat bodi instead creat new empti instanc,If you send an empty body to a JpaProducer it will create a new empty instance of that type which then gets inserted.Camel should thrown an exception indicate a body is missing, send empti bodi JpaProducer jpa produc creat new empti instanc type get insert camel insert camel thrown except indic bodi miss,0,0,0,0,0,components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaEndpoint.java;components/camel-jpa/src/test/java/org/apache/camel/processor/jpa/JpaProducerNoBodyTest.java;,0
2084,Claus Ibsen,camel-http,0,http polling consumer does not support timeout, http poll consum not support timeout,When using the consumer template to receive from a remote http service using camel-http the method receive(5000) that uses a 5 sec timeout does not work as expected.Camel does not use the 5000 value., use consum templat receiv remot http servic use camel http camel http method receiv receiv use sec timeout not work expect camel expect camel not use valu valu,0,0,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/DefaultHttpBinding.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpPollingConsumer.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpPollingConsumerTest.java;,0
2092,Willem Jiang,null,0,velocity endpoint should not remember the last used template uri, veloc endpoint not rememb last use templat uri,If there are two velocity endpoint linked with the pipeline  you will find the last velocity will not effect anymore., two veloc endpoint link pipelin find last veloc not effect anymor anymor,0,0,0,0,0,components/camel-velocity/src/main/java/org/apache/camel/component/velocity/VelocityEndpoint.java;components/camel-velocity/src/test/java/org/apache/camel/component/velocity/VelocityLetterWithoutHeaderTest.java;components/camel-velocity/src/test/resources/org/apache/camel/component/velocity/header.vm;components/camel-velocity/src/test/resources/org/apache/camel/component/velocity/letterWithoutHeader.vm;,0
2094,Claus Ibsen,camel-core; camel-spring,0,CamelContext should support autoStartup, CamelContext camel context support autoStartup auto startup,We now have option autoStartup on routes. Lets also have this on the camel context itself so it replaces the shouldStartContext option that is a bit confusing. &lt;camelContext id='myCamel' xmlns='http://camel.apache.org/schema/spring' autoStartup='false'&gt; &lt;route&gt; &lt;from uri='direct:start'/&gt; &lt;to uri='mock:result'/&gt; &lt;/route&gt; &lt;/camelContext&gt;For example the code above will not start Camel on startup. You can then later start camel manually by SpringCamelContext camel = (SpringCamelContext) ac.getBean('myCamel'); camel.start();And then all runs.This also means that we will remove the option shouldStartContext! so if you use this option you must migrate to the autoStartup instead., option autoStartup auto startup rout rout let also camel context replac shouldStartContext start context option bit confus confus lt camelContext lt camel context id myCamel id camel xmln http camel apach org schema spring xmln http camel apach org schema spring autoStartup fals gt auto startup fals gt lt rout gt lt rout gt lt lt uri direct start gt uri direct start gt lt lt uri mock result gt uri mock result gt lt rout gt lt rout gt lt camelContext gt lt camel context gt exampl code not start camel startup startup later start camel manual SpringCamelContext spring camel context camel SpringCamelContext spring camel context ac getBean myCamel ac get bean camel camel start camel start run run also mean remov option shouldStartContext start context use option must migrat autoStartup auto startup instead instead,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextAutoStartupTest.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java;components/camel-spring/src/main/java/org/apache/camel/spring/SpringCamelContext.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/CamelContextAutoStartupTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/CamelContextFactoryBeanTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/camelContextFactoryBean.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/CamelContextAutoStartupTestFalse.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/CamelContextAutoStartupTestTrue.xml;,0
2095,Laurent Bovet,camel-core,0,Support Issue: Routing a TextMessage from a  to a JMS queue, support issu issu rout TextMessage text messag JMS queue,I did not find any example or documentation for using the &lt;camel:proxy&gt; with a simple send(String textMessage) method and a route sending the textMessage String as body to a JMS queue (for example).The thing is that &lt;camel:proxy&gt; creates a messages with body of type BeanInvocation. I would expect that Camel provides some builtin transformer/converter to change the body to the String argument  so that the message on the queue is of type TextMessage.Did I miss something?, not find exampl document use lt camel proxi gt lt camel proxi gt simpl send string send string textMessage text messag method rout send textMessage text messag string bodi JMS queue exampl exampl thing lt camel proxi gt lt camel proxi gt creat messag bodi type BeanInvocation bean invoc would expect camel provid builtin transform convert transform convert chang bodi string argument messag queue type TextMessage text messag miss someth someth,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanConverter.java;camel-core/src/main/java/org/apache/camel/component/bean/CamelInvocationHandler.java;camel-core/src/main/java/org/apache/camel/impl/converter/ToStringTypeConverter.java;camel-core/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-spring/src/test/java/org/apache/camel/spring/config/AnotherCamelProxyTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/CamelProxyTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/MyProxySender.java;components/camel-spring/src/test/resources/org/apache/camel/spring/config/AnotherCamelProxyTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/CamelProxyTest.xml;,0
2113,Claus Ibsen,camel-core,0,@Bean - Add method to the annotation so you can configure the method name, bean bean add method annot configur method name,Its a bit more trivial for end users to know how to set bean name and method if having two attributes.Otherwise they have to know about you can use dot to separate the ben name for the method name., bit trivial end user know set bean name method two attribut otherwis attribut otherwis know use dot separ ben name method name name,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/RegistryBean.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanAnnotationExpressionFactory.java;camel-core/src/main/java/org/apache/camel/component/bean/RegistryBean.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/main/java/org/apache/camel/language/Bean.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanRegistryBeanTest.java;camel-core/src/test/java/org/apache/camel/converter/jaxp/XmlConverterTest.java;components/camel-spring/src/test/java/org/apache/camel/component/bean/MyBeanBindingConsumer.java;,0
2132,Claus Ibsen,camel-jms,0,camel-jms - Sending Object message should fail if payload cannot be converted to serializable, camel jm camel jm send object messag fail payload cannot convert serializ,If not a null message is created and send.See nabble:http://old.nabble.com/JPA%3A-Could-not-pass-Object-from-jpa-to-jms-to26160124.html, not null messag creat send see send see nabbl http old nabbl com JPA could not pass object jpa jm html nabbl http old nabbl com JPA could not pass object jpa jm html,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;,0
2133,Willem Jiang,camel-core,0,The converter's MandatoryConvert method doesn't throw the exception when the value is null, convert convert MandatoryConvert mandatori convert method throw except valu null,,,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/ExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/test/java/org/apache/camel/converter/ConverterTest.java;,0
2139,Chris Gummer,camel-ftp,0,Some methods of SftpOperations create streams that are never closed, method SftpOperations sftp oper creat stream never close,Where SftpOperations creates streams for storing or retrieving files via ChannelSftp  these streams are not always closed. For example  the retrieveFileToStreamInBody method creates an OutputStream object  but never closes it., SftpOperations sftp oper creat stream store retriev file via ChannelSftp channel sftp stream not alway close close exampl retrieveFileToStreamInBody retriev file stream bodi method creat OutputStream output stream object never close,0,0,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;,0
2146,Claus Ibsen,camel-core,0,Type converter - Should respect Future ExecutionException as not failed to convert but some other error, type convert respect futur ExecutionException execut except not fail convert error,,,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/FutureTypeConverter.java;camel-core/src/test/java/org/apache/camel/processor/ThrottlingInflightRoutePolicyTest.java;,0
2150,Ian de Beer,camel-rss,0,RSS Component - parameter filtering not working, RSS compon paramet filter not work,I have tried to sort RRS feeds or to split the entries as described in the documentation. The problem is that the parameters that are to be consumed by Camel are passed through to the endpoint  who does not understand the parameters.Here is my code: from('rss:' + feedLocation+ '?sortEntries=true&amp;feedHeader=true').marshal().rss()...where feedLocation = 'http://www.iafrica.com/pls/cms/grapevine.xml'It results in:java.io.FileNotFoundException: http://www.iafrica.com/pls/cms/grapevine.xml?feedHeader=true&amp;sortEntries=true at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1311) at java.net.URL.openStream(URL.java:1010) at org.apache.camel.component.rss.RssUtils.createFeed(RssUtils.java:32) at org.apache.camel.component.rss.RssEntryPollingConsumer.createFeed(RssEntryPollingConsumer.java:54) at org.apache.camel.component.feed.FeedEntryPollingConsumer.poll(FeedEntryPollingConsumer.java:42) at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:99) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317) at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:637), tri sort RRS feed split entri describ document document problem paramet consum camel pass endpoint not understand paramet paramet code code rss rss feedLocation feed locat sortEntries true amp feedHeader true marshal rss sort entri true amp feed header true marshal rss feedLocation feed locat http www iafrica com pl cm grapevin xml http www iafrica com pl cm grapevin xml result java io FileNotFoundException java io file not found except sun net www protocol http HttpURLConnection getInputStream HttpURLConnection java sun net www protocol http http URL connect get input stream http URL connect java java net URL openStream URL java java net URL open stream URL java org apach camel compon rss RssUtils createFeed RssUtils java org apach camel compon rss rss util creat feed rss util java org apach camel compon rss RssEntryPollingConsumer createFeed RssEntryPollingConsumer java org apach camel compon rss rss entri poll consum creat feed rss entri poll consum java org apach camel compon feed FeedEntryPollingConsumer poll FeedEntryPollingConsumer java org apach camel compon feed feed entri poll consum poll feed entri poll consum java org apach camel impl ScheduledPollConsumer run ScheduledPollConsumer java org apach camel impl schedul poll consum run schedul poll consum java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRunAndReset FutureTask java java util concurr futur task sync inner run reset futur task java java util concurr FutureTask runAndReset FutureTask java java util concurr futur task run reset futur task java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask runPeriodic ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run period schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java,1,0,0,1,0,components/camel-rss/src/test/java/org/apache/camel/component/rss/RssMultipleEndpointsIssueTest.java;camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java;components/camel-atom/src/main/java/org/apache/camel/component/atom/AtomComponent.java;components/camel-atom/src/test/java/org/apache/camel/component/atom/AtomHttpConsumerTest.java;components/camel-atom/src/test/java/org/apache/camel/component/atom/AtomHttpNoCamelParametersTest.java;components/camel-atom/src/test/java/org/apache/camel/component/atom/AtomPollingConsumerTest.java;components/camel-rss/src/main/java/org/apache/camel/component/rss/RssComponent.java;components/camel-rss/src/test/java/org/apache/camel/component/rss/RssHttpNoCamelParametersTest.java;components/camel-atom/src/main/java/org/apache/camel/component/feed/FeedEndpoint.java;,0
2152,Dan Checkoway,camel-mail,0,Workaround for UnsupportedEncodingException, workaround UnsupportedEncodingException unsupport encod except,Reference this discussion: http://old.nabble.com/Camel-Mail-issue-with-unsupported-charset-td24755585.htmlCamel-mail fails to process a message with an unsupported charset in the Content-Type. It throws an exception and can never get past that message...subsequent messages in the inbox never get processed.Claus and I came up with a fix  where we make a copy of the MimeMessage object and modify the Content-Type header  stripping the unrecognized charset., refer discuss discuss fail process messag unsupport charset content type content type throw except never get past messag subsequ messag subsequ messag inbox never get process clau process clau came fix make copi MimeMessage mime messag object modifi content type content type header strip unrecogn charset charset,0,1,0,1,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailMessage.java;,0
2153,Marco Crivellaro,camel-ftp,0,FTP Component issue with tempPrefix or tempFileName, FTP compon issu tempPrefix temp prefix tempFileName temp file name,using FTP component to push files via FTP I am facing issues pushing a file on subfolder when using tempPrefix or tempFileName. route sample: from('direct:start').to('ftp://username@ipaddress?password=mypass&amp;fileName=./camel/test/message.txt&amp;tempFileName=${file:name.noext}.tmp');no errors are raised if the final destination file doesn't exists  if it exists following error is raised: Exception in thread 'main' org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange&#91;Message: Message content&#93;  at org.apache.camel.util.ObjectHelper.wrapCamelExecutionException(ObjectHelper.java:1055)  at org.apache.camel.util.ExchangeHelper.extractResultBody(ExchangeHelper.java:446)  at org.apache.camel.impl.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:431)  at org.apache.camel.impl.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:427)  at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:112)  at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:117)  at com.opta.camel.test.FTPTester.main(FTPTester.java:30) Caused by: java.lang.NullPointerException  at org.apache.camel.component.file.remote.FtpOperations.existsFile(FtpOperations.java:372) at org.apache.camel.component.file.GenericFileProducer.processExchange(GenericFileProducer.java:92)  at org.apache.camel.component.file.remote.RemoteFileProducer.process(RemoteFileProducer.java:52)  at org.apache.camel.processor.SendProcessor$1.doInProducer(SendProcessor.java:86)  at org.apache.camel.processor.SendProcessor$1.doInProducer(SendProcessor.java:84)  at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:146)  at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:83)  at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67)  at org.apache.camel.processor.DelegateProcessor.processNext(DelegateProcessor.java:53)  at org.apache.camel.processor.DelegateProcessor.proceed(DelegateProcessor.java:82)  at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:85)  at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67)  at org.apache.camel.processor.RedeliveryErrorHandler.processExchange(RedeliveryErrorHandler.java:232)  at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:162)  at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:91)  at org.apache.camel.processor.DefaultErrorHandler.process(DefaultErrorHandler.java:49)  at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:201)  at org.apache.camel.processor.UnitOfWorkProcessor.processNext(UnitOfWorkProcessor.java:54)  at org.apache.camel.processor.DelegateProcessor.process(DelegateProcessor.java:48)  at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67)  at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:45)  at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:179)  at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:161)  at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:146)  at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:160)  at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:98)  at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:97)  at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:110)  ... 2 more, use FTP compon push file via FTP face issu push file subfold use tempPrefix temp prefix tempFileName temp file name rout sampl sampl direct start ftp usernam ipaddress password mypass amp fileName camel test messag txt amp tempFileName file name noext tmp no direct start ftp usernam ipaddress password mypass amp file name camel test messag txt amp temp file name file name noext tmp no error rais final destin file exist exist follow error rais rais except thread main main org apach camel CamelExecutionException org apach camel camel execut except except occur execut exchang exchang exchang messag exchang messag messag content content org apach camel util ObjectHelper wrapCamelExecutionException ObjectHelper java org apach camel util object helper wrap camel execut except object helper java org apach camel util ExchangeHelper extractResultBody ExchangeHelper java org apach camel util exchang helper extract result bodi exchang helper java org apach camel impl DefaultProducerTemplate extractResultBody DefaultProducerTemplate java org apach camel impl default produc templat extract result bodi default produc templat java org apach camel impl DefaultProducerTemplate extractResultBody DefaultProducerTemplate java org apach camel impl default produc templat extract result bodi default produc templat java org apach camel impl DefaultProducerTemplate sendBody DefaultProducerTemplate java org apach camel impl default produc templat send bodi default produc templat java org apach camel impl DefaultProducerTemplate sendBody DefaultProducerTemplate java org apach camel impl default produc templat send bodi default produc templat java com opta camel test FTPTester main FTPTester java com opta camel test FTP tester main FTP tester java caus java lang NullPointerException java lang null pointer except org apach camel compon file remot FtpOperations existsFile FtpOperations java org apach camel compon file remot ftp oper exist file ftp oper java org apach camel compon file GenericFileProducer processExchange GenericFileProducer java org apach camel compon file gener file produc process exchang gener file produc java org apach camel compon file remot RemoteFileProducer process RemoteFileProducer java org apach camel compon file remot remot file produc process remot file produc java org apach camel processor SendProcessor doInProducer SendProcessor java org apach camel processor send processor produc send processor java org apach camel processor SendProcessor doInProducer SendProcessor java org apach camel processor send processor produc send processor java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel processor DelegateProcessor processNext DelegateProcessor java org apach camel processor deleg processor process next deleg processor java org apach camel processor DelegateProcessor proceed DelegateProcessor java org apach camel processor deleg processor proceed deleg processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel processor RedeliveryErrorHandler processExchange RedeliveryErrorHandler java org apach camel processor redeliveri error handler process exchang redeliveri error handler java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor DefaultErrorHandler process DefaultErrorHandler java org apach camel processor default error handler process default error handler java org apach camel processor DefaultChannel process DefaultChannel java org apach camel processor default channel process default channel java org apach camel processor UnitOfWorkProcessor processNext UnitOfWorkProcessor java org apach camel processor unit work processor process next unit work processor java org apach camel processor DelegateProcessor process DelegateProcessor java org apach camel processor deleg processor process deleg processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel compon direct DirectProducer process DirectProducer java org apach camel compon direct direct produc process direct produc java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache sendExchange ProducerCache java org apach camel impl produc cach send exchang produc cach java org apach camel impl ProducerCache send ProducerCache java org apach camel impl produc cach send produc cach java org apach camel impl DefaultProducerTemplate send DefaultProducerTemplate java org apach camel impl default produc templat send default produc templat java org apach camel impl DefaultProducerTemplate sendBody DefaultProducerTemplate java org apach camel impl default produc templat send bodi default produc templat java,1,0,1,1,1,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/ToFtpTempFileTargetFileExistTest.java;,1
2156,Karl Palsson,camel-bam,0,ActivityMonitorEngine uses ?1 parameters in JPAQL  which don't work with (at least) the hibernate JPA provider., ActivityMonitorEngine activ monitor engin use paramet JPAQL work least least hibern JPA provid provid,Trying to just replace my RouteBuilder with a ProcessBuilder to start moving towards using BAM. I converted everything over to JPA  to make bam happy  but then found that it still explodes  (Full stack trace below)Line 80 of ActivityMonitorEngine has this JPAQL  List&lt;ActivityState&gt; list = template.find('select x from ' + ActivityState.class.getName() + ' x where x.timeOverdue &lt; ?1'  timeNow);The ?1 named/numbered parameter seems to not be supported by hibernate's JPA provider.I can't find much of any documentation on this  could this just be made a normal positional? I can't even try out the BAM module without this 2009-11-11 01:33:53 815 ERROR &#91;org.apache.camel.bam.processor.ActivityMonitorEngine:ActivityMonitorEngine&#93; - &lt;Caught: org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryParameterException: could not locate named parameter &#91;1&#93;; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryParameterException: could not locate named parameter &#91;1&#93;&gt;org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryParameterException: could not locate named parameter &#91;1&#93;; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryParameterException: could not locate named parameter &#91;1&#93; at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:271) at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:97) at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:212) at org.springframework.orm.jpa.JpaAccessor.translateIfNecessary(JpaAccessor.java:152) at org.springframework.orm.jpa.JpaTemplate.execute(JpaTemplate.java:189) at org.springframework.orm.jpa.JpaTemplate.executeFind(JpaTemplate.java:151) at org.springframework.orm.jpa.JpaTemplate.find(JpaTemplate.java:311) at org.apache.camel.bam.processor.ActivityMonitorEngine$1.doInTransactionWithoutResult(ActivityMonitorEngine.java:80) at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33) at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:128) at org.apache.camel.bam.processor.ActivityMonitorEngine.run(ActivityMonitorEngine.java:77) at java.lang.Thread.run(Thread.java:619)Caused by: java.lang.IllegalArgumentException: org.hibernate.QueryParameterException: could not locate named parameter &#91;1&#93; at org.hibernate.ejb.QueryImpl.setParameter(QueryImpl.java:206) at org.hibernate.ejb.QueryImpl.setParameter(QueryImpl.java:261) at org.springframework.orm.jpa.JpaTemplate$9.doInJpa(JpaTemplate.java:316) at org.springframework.orm.jpa.JpaTemplate.execute(JpaTemplate.java:184) ... 7 moreCaused by: org.hibernate.QueryParameterException: could not locate named parameter &#91;1&#93; at org.hibernate.engine.query.ParameterMetadata.getNamedParameterDescriptor(ParameterMetadata.java:99) at org.hibernate.engine.query.ParameterMetadata.getNamedParameterExpectedType(ParameterMetadata.java:105) at org.hibernate.impl.AbstractQueryImpl.determineType(AbstractQueryImpl.java:437) at org.hibernate.impl.AbstractQueryImpl.setParameter(AbstractQueryImpl.java:407) at org.hibernate.ejb.QueryImpl.setParameter(QueryImpl.java:201) ... 10 moreLine 80, tri replac RouteBuilder rout builder ProcessBuilder process builder start move toward use BAM BAM convert everyth JPA make bam happi found still explod full full stack trace line line ActivityMonitorEngine activ monitor engin JPAQL list lt ActivityState gt list lt activ state gt list templat find select templat find select ActivityState class getName activ state class get name timeOverdue time overdu lt lt timeNow time name number name number paramet seem not support hibern hibern JPA provid provid find much document could made normal posit posit even tri BAM modul without ERROR org apach camel bam processor ActivityMonitorEngine ActivityMonitorEngine org apach camel bam processor activ monitor engin activ monitor engin lt caught lt caught org springframework dao InvalidDataAccessApiUsageException org springframework dao invalid data access api usag except org hibern QueryParameterException org hibern queri paramet except could not locat name paramet nest except java lang IllegalArgumentException java lang illeg argument except org hibern QueryParameterException org hibern queri paramet except could not locat name paramet gt org springframework dao InvalidDataAccessApiUsageException gt org springframework dao invalid data access api usag except org hibern QueryParameterException org hibern queri paramet except could not locat name paramet nest except java lang IllegalArgumentException java lang illeg argument except org hibern QueryParameterException org hibern queri paramet except could not locat name paramet org springframework orm jpa EntityManagerFactoryUtils convertJpaAccessExceptionIfPossible EntityManagerFactoryUtils java org springframework orm jpa entiti manag factori util convert jpa access except possibl entiti manag factori util java org springframework orm jpa vendor HibernateJpaDialect translateExceptionIfPossible HibernateJpaDialect java org springframework orm jpa vendor hibern jpa dialect translat except possibl hibern jpa dialect java org springframework dao support DataAccessUtils translateIfNecessary DataAccessUtils java org springframework dao support data access util translat necessari data access util java org springframework orm jpa JpaAccessor translateIfNecessary JpaAccessor java org springframework orm jpa jpa accessor translat necessari jpa accessor java org springframework orm jpa JpaTemplate execut JpaTemplate java org springframework orm jpa jpa templat execut jpa templat java org springframework orm jpa JpaTemplate executeFind JpaTemplate java org springframework orm jpa jpa templat execut find jpa templat java org springframework orm jpa JpaTemplate find JpaTemplate java org springframework orm jpa jpa templat find jpa templat java org apach camel bam processor ActivityMonitorEngine doInTransactionWithoutResult ActivityMonitorEngine java org apach camel bam processor activ monitor engin transact without result activ monitor engin java org springframework transact support TransactionCallbackWithoutResult doInTransaction TransactionCallbackWithoutResult java org springframework transact support transact callback without result transact transact callback without result java org springframework transact support TransactionTemplate execut TransactionTemplate java org springframework transact support transact templat execut transact templat java org apach camel bam processor ActivityMonitorEngine run ActivityMonitorEngine java org apach camel bam processor activ monitor engin run activ monitor engin java java lang thread run thread java caus java lang thread run thread java caus java lang IllegalArgumentException java lang illeg argument except org hibern QueryParameterException org hibern queri paramet except could not locat name paramet org hibern ejb QueryImpl setParameter QueryImpl java org hibern ejb queri impl set paramet queri impl java org hibern ejb QueryImpl setParameter QueryImpl java org hibern ejb queri impl set paramet queri impl java org springframework orm jpa JpaTemplate doInJpa JpaTemplate java org springframework orm jpa jpa templat jpa jpa templat java org springframework orm jpa JpaTemplate execut JpaTemplate java org springframework orm jpa jpa templat execut jpa templat java moreCaused caus org hibern QueryParameterException org hibern queri paramet except could not locat name paramet org hibern engin queri ParameterMetadata getNamedParameterDescriptor ParameterMetadata java org hibern engin queri paramet metadata get name paramet descriptor paramet metadata java org hibern engin queri ParameterMetadata getNamedParameterExpectedType ParameterMetadata java org hibern engin queri paramet metadata get name paramet expect type paramet metadata java org hibern impl AbstractQueryImpl determineType AbstractQueryImpl java org hibern impl abstract queri impl determin type abstract queri impl java org hibern impl AbstractQueryImpl setParameter AbstractQueryImpl java org hibern impl abstract queri impl set paramet abstract queri impl java org hibern ejb QueryImpl setParameter QueryImpl java org hibern ejb queri impl set paramet queri impl java moreLine line,0,1,0,1,0,components/camel-bam/src/main/java/org/apache/camel/bam/ProcessBuilder.java;components/camel-bam/src/main/java/org/apache/camel/bam/model/ProcessDefinition.java;components/camel-bam/src/main/java/org/apache/camel/bam/processor/ActivityMonitorEngine.java;components/camel-bam/src/main/java/org/apache/camel/bam/processor/JpaBamProcessorSupport.java;components/camel-bam/src/main/java/org/apache/camel/bam/processor/ProcessContext.java;,0
2165,Karl Palsson,camel-ftp,0,ftp uploads can fail: File operation failed:  Connection closed without indication.. Code: 421, ftp upload fail fail file oper fail fail connect close without indic indic code code,Looks like something that was fixed for CAMEL-444 didn't make it into 2.0?On 2.0.0  this is not a warning  this is a fatal.SEVERE: Exception occured during execution on the exchange: Exchange&#91;Message: XXXXXX&#93;org.apache.camel.CamelExecutionException: Exception occured during execution on the exchange: Exchange&#91;Message: XXXXX&#93; at org.apache.camel.util.ObjectHelper.wrapCamelExecutionException(ObjectHelper.java:1027) at org.apache.camel.util.ExchangeHelper.extractResultBody(ExchangeHelper.java:479) at org.apache.camel.impl.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:431) at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:106) at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:122) at org.apache.camel.impl.DefaultProducerTemplate.requestBody(DefaultProducerTemplate.java:266) at... into my code here...Caused by: org.apache.camel.component.file.GenericFileOperationFailedException: File operation failed: Connection closed without indication.. Code: 421 at org.apache.camel.component.file.remote.FtpOperations.disconnect(FtpOperations.java:167) at org.apache.camel.component.file.remote.RemoteFileProducer.disconnect(RemoteFileProducer.java:77) at org.apache.camel.component.file.remote.RemoteFileProducer.handleFailedWrite(RemoteFileProducer.java:66) at org.apache.camel.component.file.GenericFileProducer.processExchange(GenericFileProducer.java:104) at org.apache.camel.component.file.remote.RemoteFileProducer.process(RemoteFileProducer.java:52) at org.apache.camel.processor.SendProcessor$1.doInProducer(SendProcessor.java:81) at org.apache.camel.processor.SendProcessor$1.doInProducer(SendProcessor.java:79) at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:141) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:78) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:61) at org.apache.camel.processor.RedeliveryErrorHandler.processExchange(RedeliveryErrorHandler.java:186) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:155) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:88) at org.apache.camel.processor.DefaultErrorHandler.process(DefaultErrorHandler.java:49) at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:148) at org.apache.camel.processor.Pipeline.process(Pipeline.java:74) at org.apache.camel.processor.UnitOfWorkProcessor.processNext(UnitOfWorkProcessor.java:54) at org.apache.camel.processor.DelegateProcessor.process(DelegateProcessor.java:48) at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:45) at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:170) at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:156) at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:141) at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:155) at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:111) at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:101) at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:105) ... 37 moreCaused by: org.apache.commons.net.ftp.FTPConnectionClosedException: Connection closed without indication. at org.apache.commons.net.ftp.FTP.__getReply(FTP.java:297)This is 'not what I want' and there doesn't seem to be any keep alive or other option on the ftp2 component., look like someth fix CAMEL CAMEL make not warn fatal SEVERE fatal SEVERE except occur execut exchang exchang exchang messag exchang messag XXXXXX org apach camel CamelExecutionException XXXXXX org apach camel camel execut except except occur execut exchang exchang exchang messag exchang messag XXXXX XXXXX org apach camel util ObjectHelper wrapCamelExecutionException ObjectHelper java org apach camel util object helper wrap camel execut except object helper java org apach camel util ExchangeHelper extractResultBody ExchangeHelper java org apach camel util exchang helper extract result bodi exchang helper java org apach camel impl DefaultProducerTemplate extractResultBody DefaultProducerTemplate java org apach camel impl default produc templat extract result bodi default produc templat java org apach camel impl DefaultProducerTemplate sendBody DefaultProducerTemplate java org apach camel impl default produc templat send bodi default produc templat java org apach camel impl DefaultProducerTemplate sendBody DefaultProducerTemplate java org apach camel impl default produc templat send bodi default produc templat java org apach camel impl DefaultProducerTemplate requestBody DefaultProducerTemplate java org apach camel impl default produc templat request bodi default produc templat java code caus caus org apach camel compon file GenericFileOperationFailedException org apach camel compon file gener file oper fail except file oper fail fail connect close without indic indic code code org apach camel compon file remot FtpOperations disconnect FtpOperations java org apach camel compon file remot ftp oper disconnect ftp oper java org apach camel compon file remot RemoteFileProducer disconnect RemoteFileProducer java org apach camel compon file remot remot file produc disconnect remot file produc java org apach camel compon file remot RemoteFileProducer handleFailedWrite RemoteFileProducer java org apach camel compon file remot remot file produc handl fail write remot file produc java org apach camel compon file GenericFileProducer processExchange GenericFileProducer java org apach camel compon file gener file produc process exchang gener file produc java org apach camel compon file remot RemoteFileProducer process RemoteFileProducer java org apach camel compon file remot remot file produc process remot file produc java org apach camel processor SendProcessor doInProducer SendProcessor java org apach camel processor send processor produc send processor java org apach camel processor SendProcessor doInProducer SendProcessor java org apach camel processor send processor produc send processor java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel processor RedeliveryErrorHandler processExchange RedeliveryErrorHandler java org apach camel processor redeliveri error handler process exchang redeliveri error handler java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor DefaultErrorHandler process DefaultErrorHandler java org apach camel processor default error handler process default error handler java org apach camel processor DefaultChannel process DefaultChannel java org apach camel processor default channel process default channel java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor UnitOfWorkProcessor processNext UnitOfWorkProcessor java org apach camel processor unit work processor process next unit work processor java org apach camel processor DelegateProcessor process DelegateProcessor java org apach camel processor deleg processor process deleg processor java org apach camel compon direct DirectProducer process DirectProducer java org apach camel compon direct direct produc process direct produc java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache sendExchange ProducerCache java org apach camel impl produc cach send exchang produc cach java org apach camel impl ProducerCache send ProducerCache java org apach camel impl produc cach send produc cach java org apach camel impl DefaultProducerTemplate send DefaultProducerTemplate java org apach camel impl default produc templat send default produc templat java org apach camel impl DefaultProducerTemplate sendBody DefaultProducerTemplate java org apach camel impl default produc templat send bodi default produc templat java moreCaused caus org apach common net ftp FTPConnectionClosedException org apach common net ftp FTP connect close except connect close without indic indic org apach common net ftp FTP __getReply FTP java org apach common net ftp FTP __get repli FTP java not want want seem keep aliv option ftp ftp compon compon,1,0,0,1,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileProducer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileProducer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileProducer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileProducer.java;,0
2168,Patrick Savage,camel-core,0,Logger logs INFO level messages at DEBUG level, logger log INFO level messag DEBUG level,The Camel logger logs INFO level messages at the DEBUG level. CAMEL-1048 fixed the problem in one of two cases (logging without an exception)  but it is still broken for logging with an exception. Patch to fix this is attached., camel logger log INFO level messag DEBUG level level CAMEL CAMEL fix problem one two case log without except except still broken log except except patch fix attach attach,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/Logger.java;,0
2170,Claus Ibsen,camel-core,0,UnitOfWorkProcessor - Should wrap more EIPs such as Aggregator  Splitter  RecipientList on their child routes, UnitOfWorkProcessor unit work processor wrap EIPs EI Ps aggreg splitter RecipientList recipi list child rout,This ensures these exchanges have an UoW when they are routed  which allows for synchronization tasks to run on completion, ensur exchang UoW Uo rout allow synchron task run complet,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/RecipientList.java;camel-core/src/main/java/org/apache/camel/model/InterceptDefinition.java;camel-core/src/main/java/org/apache/camel/processor/BatchProcessor.java;camel-core/src/main/java/org/apache/camel/processor/OnCompletionProcessor.java;camel-core/src/main/java/org/apache/camel/processor/RecipientList.java;,0
2174,Claus Ibsen,camel-spring,0,Remove dependency on spring core in PatternBasedPackageScanFilter, remov depend spring core PatternBasedPackageScanFilter pattern base packag scan filter,The dependency scan is using Springs ANT path matcher but the java code is in camel-core.We should moved that code to camel-spring so camel does not have any dep on spring code at all. (except for JMX annotations  which you is optional to use at runtime), depend scan use spring ANT path matcher java code camel core camel core move code camel spring camel spring camel not dep spring code except JMX annot option use runtim runtim,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/scan/PatternBasedPackageScanFilter.java;camel-core/src/test/java/org/apache/camel/impl/scan/DefaultPackageScanClassResolverTest.java;camel-core/src/test/java/org/apache/camel/impl/scan/PackageScanFiltersTest.java;camel-core/src/test/java/org/apache/camel/impl/scan/PatternBasedPackageScanFilterTest.java;camel-core/src/test/java/org/apache/camel/impl/scan/ScanTestSupport.java;camel-core/src/test/java/org/apache/camel/impl/scan/test/ScannableOne.java;camel-core/src/test/java/org/apache/camel/impl/scan/test/ScannableTwo.java;camel-core/src/test/java/org/apache/camel/impl/scan/test/a/ScanTargetOne.java;camel-core/src/test/java/org/apache/camel/impl/scan/test/b/ScanTargetTwo.java;camel-core/src/test/java/org/apache/camel/impl/scan/test/c/NotAScanTarget.java;camel-core/src/test/java/org/apache/camel/impl/scan/test/c/ScanTargetThree.java;camel-core/src/test/resources/package+scan+test.jar;camel-core/src/test/resources/package_scan_test.jar;components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java;components/camel-spring/src/main/java/org/apache/camel/spring/PatternBasedPackageScanFilter.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/DefaultPackageScanClassResolverTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/PackageScanFiltersTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/PatternBasedPackageScanFilterTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/ScanTestSupport.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/ScannableOne.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/ScannableTwo.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/a/ScanTargetOne.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/b/ScanTargetTwo.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/c/NotAScanTarget.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/c/ScanTargetThree.java;components/camel-spring/src/test/resources/package+scan+test.jar;components/camel-spring/src/test/resources/package_scan_test.jar;camel-core/pom.xml;,0
2180,Claus Ibsen,camel-core,0,TryProcessor - Do not use local copy Exchange in doCatch, TryProcessor tri processor not use local copi exchang doCatch catch,There is no need to use a local copy when processing in doCatch.See nabblehttp://old.nabble.com/To-Roman---About-TryProcessor-to26377903s22882.html, no need use local copi process doCatch see catch see nabblehttp old nabbl com roman TryProcessor html nabblehttp old nabbl com roman tri processor html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/TryProcessor.java;,0
2183,Claus Ibsen,camel-cxf,0,camel-cxf - Empty body causes http error 500 even for GET when using cxfbean, camel cxf camel cxf empti bodi caus http error even GET use cxfbean,CxfSoapBinding has a bug that it mandates a body to exist. But when you send a GET then there is of course no body.The code below fixed this in the method getCxfInMessage // body can be empty in case of GET etc. InputStream body = message.getBody(InputStream.class); if (body != null) { answer.setContent(InputStream.class  body); } else if (message.getBody() != null) { // fallback and set the body as what it is answer.setContent(Object.class  body); }Willem Tam can you review if that is okay? Maybe the code can be more finer to check the HTTP method and in cases of GET etc. it allows no body.I will commit my fix to get the unit tests passing., CxfSoapBinding cxf soap bind bug mandat bodi exist exist send GET cours no bodi bodi code fix method getCxfInMessage get cxf messag bodi empti case GET etc etc InputStream input stream bodi messag getBody InputStream class messag get bodi input stream class bodi null null answer setContent InputStream class answer set content input stream class bodi bodi els messag getBody messag get bodi null null fallback set bodi answer setContent object class answer set content object class bodi bodi willem willem tam review okay okay mayb code finer check HTTP method case GET etc etc allow no bodi bodi commit fix get unit test pass pass,0,0,1,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapBinding.java;,0
2188,Paul Mietz Egli,camel-jcr,0,JcrProducer node creation throws javax.jcr.PathNotFoundException when using exchange ID as node name, JcrProducer jcr produc node creation throw javax jcr PathNotFoundException javax jcr path not found except use exchang ID node name,To reproduce  use the camel-jcr component without specifying a node name in the message properties. JcrProducer will attempt to use the exchange ID as the node name  but in ServiceMix 4  this ID contains path separator characters  which results in a PathNotFound exception when the producer attempts to create the node. IMHO  the producer should attempt to create parent nodes as needed when the value of either the exchange ID or the property named JcrConstants.JCR_NODE_NAME contain path separators., reproduc use camel jcr camel jcr compon without specifi node name messag properti properti JcrProducer jcr produc attempt use exchang ID node name ServiceMix servic mix ID contain path separ charact result PathNotFound path not found except produc attempt creat node node IMHO produc attempt creat parent node need valu either exchang ID properti name JcrConstants JCR_NODE_NAME jcr constant JCR NODE NAME contain path separ separ,1,0,0,0,0,0,0
2189,Chris Love,tooling,0,Improvment in example archtypes, improv exampl archtyp,Made changes to improve application context xml to improve schema usage. Also replaced log4j.properties fles with log4j.xml files., made chang improv applic context xml improv schema usag usag also replac log properti log properti fle log xml log xml file file,0,1,0,0,0,0,0
2194,Ron Gavlin,camel-restlet,0,RestletProducer should support native async request/response semantics, RestletProducer restlet produc support nativ async request respons request respons semant,RestletProducer should support native async request/response semantics like the recent changes made to the camel-jetty producer., RestletProducer restlet produc support nativ async request respons request respons semant like recent chang made camel jetti camel jetti produc produc,0,0,0,0,0,components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletProducer.java;components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletProducerGetTest.java;,0
2195,Claus Ibsen,camel-cxf,0,camel-cxf - CxfProducer should check parameters more strictly to ensure we have the number of parameters required, camel cxf camel cxf CxfProducer cxf produc check paramet strictli ensur number paramet requir,The method getParams in CxfProducer does not check for correct number of parameters and that we have data when its mandatory., method getParams get param CxfProducer cxf produc not check correct number paramet data mandatori mandatori,0,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java;,0
2201,Claus Ibsen,camel-core,0,RedeliveryPolicy - Setting delay > maxDelay should should also set max value, RedeliveryPolicy redeliveri polici set delay maxDelay max delay also set max valu,See nabblehttp://old.nabble.com/maximumRedeliveryDelay-applies-even-if-you-are-not-using-exponential-back-off-to26415728.html, see nabblehttp old nabbl com maximumRedeliveryDelay appli even not use exponenti back html nabblehttp old nabbl com maximum redeliveri delay appli even not use exponenti back html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/RedeliveryPolicy.java;,0
2205,Karl Palsson,camel-core,0,When the 'from' endpoint is improperly set  it can be very hard to work out why/where, endpoint improperli set hard work,I have static routes configured using the java DSL  but use bean properties on my route builder to provide custom endpoints for different environments  like so... from(sourceUriProperty) .to('bean:fileParser') .beanRef('conanCore'  'updateOperationFailure') ;If you forget to set the from URI property  the exception you get at application startup just says: 'java.lang.IllegalArgumentException: Either 'uri' or 'ref' must be specified on: org.apache.camel.impl.DefaultRouteContext@d6a3d1' (Full stack trace below..... but probably not really important... note that it never once mentions any of my own classes)It would be nice if throw could be somewhere like in: RouteDefinition.java public List&lt;RouteContext&gt; addRoutes(CamelContext context  Collection&lt;Route&gt; routes) throws Exception { // other parts snipped... for (FromDefinition fromType : inputs) { // Throwing here would be nice  fromType.description already has 'no uri or ref!' so it already knows it's broken. RouteContext routeContext = addRoutes(routes  fromType); answer.add(routeContext); }}The RouteDefinition at that stage already contains things like: {{this = {org.apache.camel.model.RouteDefinition@5751}'Route[[From&#91;no uri or ref supplied!&#93;] -&gt; [To&#91;bean:fileParser&#93;  Bean&#91;ref:conanCore method: updateOperationFailure&#93;]]'}}So if we can explode there  you can clearly see what route you've screwed up.Caused by: org.apache.camel.RuntimeCamelException: java.lang.IllegalArgumentException: Either 'uri' or 'ref' must be specified on: org.apache.camel.impl.DefaultRouteContext@d6a3d1 at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1011) at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:121) at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:469) at org.springframework.context.event.SimpleApplicationEventMulticaster$1.run(SimpleApplicationEventMulticaster.java:78) at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:49) at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:76) at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:274) at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:736) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:383) at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:84) at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:42) at org.springframework.test.context.TestContext.loadApplicationContext(TestContext.java:173) at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:197) ... 18 moreCaused by: java.lang.IllegalArgumentException: Either 'uri' or 'ref' must be specified on: org.apache.camel.impl.DefaultRouteContext@d6a3d1 at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:117) at org.apache.camel.model.FromDefinition.resolveEndpoint(FromDefinition.java:72) at org.apache.camel.impl.DefaultRouteContext.getEndpoint(DefaultRouteContext.java:74) at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:432) at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:126) at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:569) at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:924) at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:901) at org.apache.camel.spring.SpringCamelContext.maybeDoStart(SpringCamelContext.java:165) at org.apache.camel.spring.SpringCamelContext.doStart(SpringCamelContext.java:160) at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52) at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:816) at org.apache.camel.spring.SpringCamelContext.maybeStart(SpringCamelContext.java:99) at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:119) ... 29 more, static rout configur use java DSL use bean properti rout builder provid custom endpoint differ environ like sourceUriProperty sourc uri properti bean fileParser bean file parser beanRef conanCore bean ref conan core updateOperationFailure updat oper failur forget set URI properti except get applic startup say say java lang IllegalArgumentException java lang illeg argument except either uri uri ref ref must specifi org apach camel impl DefaultRouteContext org apach camel impl default rout context full full stack trace probabl not realli import import note never mention class class would nice throw could somewher like RouteDefinition java rout definit java public list lt RouteContext gt list lt rout context gt addRoutes CamelContext add rout camel context context collect lt rout gt collect lt rout gt rout rout throw except part snip snip FromDefinition definit fromType type input input throw would nice fromType descript type descript alreadi no uri ref ref alreadi know broken broken RouteContext rout context routeContext rout context addRoutes rout add rout rout fromType type answer add routeContext answer add rout context RouteDefinition rout definit stage alreadi contain thing like like org apach camel model RouteDefinition rout no org apach camel model rout definit rout no uri ref suppli suppli gt gt bean fileParser bean file parser bean ref conanCore bean ref conan core method method updateOperationFailure updat oper failur explod clearli see rout screw caus caus org apach camel RuntimeCamelException org apach camel runtim camel except java lang IllegalArgumentException java lang illeg argument except either uri uri ref ref must specifi org apach camel impl DefaultRouteContext org apach camel impl default rout context org apach camel util ObjectHelper wrapRuntimeCamelException ObjectHelper java org apach camel util object helper wrap runtim camel except object helper java org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel spring spring camel context applic event spring camel context java org apach camel spring CamelContextFactoryBean onApplicationEvent CamelContextFactoryBean java org apach camel spring camel context factori bean applic event camel context factori bean java org springframework context event SimpleApplicationEventMulticaster run SimpleApplicationEventMulticaster java org springframework context event simpl applic event multicast run simpl applic event multicast java org springframework core task SyncTaskExecutor execut SyncTaskExecutor java org springframework core task sync task executor execut sync task executor java org springframework context event SimpleApplicationEventMulticaster multicastEvent SimpleApplicationEventMulticaster java org springframework context event simpl applic event multicast multicast event simpl applic event multicast java org springframework context support AbstractApplicationContext publishEvent AbstractApplicationContext java org springframework context support abstract applic context publish event abstract applic context java org springframework context support AbstractApplicationContext finishRefresh AbstractApplicationContext java org springframework context support abstract applic context finish refresh abstract applic context java org springframework context support AbstractApplicationContext refresh AbstractApplicationContext java org springframework context support abstract applic context refresh abstract applic context java org springframework test context support AbstractGenericContextLoader loadContext AbstractGenericContextLoader java org springframework test context support abstract gener context loader load context abstract gener context loader java org springframework test context support AbstractGenericContextLoader loadContext AbstractGenericContextLoader java org springframework test context support abstract gener context loader load context abstract gener context loader java org springframework test context TestContext loadApplicationContext TestContext java org springframework test context test context load applic context test context java org springframework test context TestContext getApplicationContext TestContext java org springframework test context test context get applic context test context java moreCaused caus java lang IllegalArgumentException java lang illeg argument except either uri uri ref ref must specifi org apach camel impl DefaultRouteContext org apach camel impl default rout context org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java org apach camel model FromDefinition resolveEndpoint FromDefinition java org apach camel model definit resolv endpoint definit java org apach camel impl DefaultRouteContext getEndpoint DefaultRouteContext java org apach camel impl default rout context get endpoint default rout context java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java org apach camel impl DefaultCamelContext startRoute DefaultCamelContext java org apach camel impl default camel context start rout default camel context java org apach camel impl DefaultCamelContext startRouteDefinitions DefaultCamelContext java org apach camel impl default camel context start rout definit default camel context java org apach camel impl DefaultCamelContext doStart DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext maybeDoStart SpringCamelContext java org apach camel spring spring camel context mayb start spring camel context java org apach camel spring SpringCamelContext doStart SpringCamelContext java org apach camel spring spring camel context start spring camel context java org apach camel impl ServiceSupport start ServiceSupport java org apach camel impl servic support start servic support java org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext maybeStart SpringCamelContext java org apach camel spring spring camel context mayb start spring camel context java org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel spring spring camel context applic event spring camel context java,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/FailedToCreateRouteException.java;camel-core/src/main/java/org/apache/camel/model/BeanDefinition.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinition.java;camel-core/src/test/java/org/apache/camel/component/timer/TimerWithTimeOptionTest.java;camel-core/src/test/java/org/apache/camel/model/ProcessorTypeConfigurationTest.java;camel-core/src/test/java/org/apache/camel/model/StartingRoutesErrorReportedTest.java;camel-core/src/test/java/org/apache/camel/processor/CreateRouteWithNonExistingEndpointTest.java;components/camel-spring/src/test/java/org/apache/camel/component/xslt/InvalidXsltFileTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringMainStartFailedIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/management/SpringCamelContextStartingFailedEventTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringDeadLetterChannelInvalidDeadLetterUriTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringDeadLetterChannelInvalidOptionDeadLetterUriTest.java;,0
2215,Claus Ibsen,camel-core,0,CaseInsensitiveMap should be serializable, CaseInsensitiveMap case insensit map serializ,CaseInsensitiveMap should be fully serializableSee nabblehttp://old.nabble.com/DataSet-header-%7BCamelDataSetIndex%3D0%7D-causes-failure-to26487985.html, CaseInsensitiveMap case insensit map fulli serializableSee serializ see nabblehttp old nabbl com DataSet header BCamelDataSetIndex caus failur html nabblehttp old nabbl com data set header camel data set index caus failur html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/util/CaseInsensitiveMap.java;camel-core/src/test/java/org/apache/camel/util/CaseInsensitiveMapTest.java;,0
2220,Claus Ibsen,camel-jdbc,0,camel-jdbc - Allow properties to be set on Statement such as fetchSize  maxRows etc, camel jdbc camel jdbc allow properti set statement fetchSize fetch size maxRows max row etc,Just like the SQL component offers a template. to set any property on the Spring JdbcTemplate we should do the same for this component for its Statement class., like SQL compon offer templat templat set properti spring JdbcTemplate jdbc templat compon statement class class,0,0,0,0,0,components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcComponent.java;components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcEndpoint.java;components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcProducer.java;components/camel-jdbc/src/test/java/org/apache/camel/component/jdbc/JdbcStatementParametersTest.java;,0
2222,Claus Ibsen,camel-core,0,camel-bean - Classes enhanced by CGLIB should skip cglib methods, camel bean camel bean class enhanc CGLIB skip cglib method,See nabblehttp://old.nabble.com/AmbiguousMethodCallException-on-transactional-spring-bean-to26496269.html, see nabblehttp old nabbl com AmbiguousMethodCallException transact spring bean html nabblehttp old nabbl com ambigu method call except transact spring bean html,1,0,1,1,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;,0
2227,Claus Ibsen,camel-core,0,Mock component - expectedBodiesReceived(List) does not work as expected, mock compon expectedBodiesReceived list expect bodi receiv list not work expect,Java chooses the varargs methods always instead of the List method., java choos vararg method alway instead list method method,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/test/java/org/apache/camel/component/mock/MockExpectedBodiesAsListTest.java;,0
2231,Christopher Hunt,camel-mail,0,Exception during mail connection requires folder to be reset, except mail connect requir folder reset,I think that this problem may still be around with 2.1-SNAPSHOT:http://fusesource.com/forums/thread.jspa?threadID=746&amp;tstart=0I noticed that I had a pop3 server outage and then subsequently had a similar problem i.e. IllegalStateException  folder not open.Here's when the outage started.2009-11-26 11:57:55 316 [: MailComponent] WARN ultPollingConsumerPollStrategy - Consumer Consumer[pop3://...] could not poll endpoint: pop3://... caused by: Connect failedjavax.mail.MessagingException: Connect failed; nested exception is: java.net.NoRouteToHostException: No route to host at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:161) at javax.mail.Service.connect(Service.java:288) at org.apache.camel.component.mail.MailConsumer.ensureIsConnected(MailConsumer.java:241) at org.apache.camel.component.mail.MailConsumer.poll(MailConsumer.java:79) at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:108) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317) at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619)Caused by: java.net.NoRouteToHostException: No route to host at java.net.PlainSocketImpl.socketConnect(Native Method) at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333) at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195) at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182) at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366) at java.net.Socket.connect(Socket.java:519) at java.net.Socket.connect(Socket.java:469) at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233) at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189) at com.sun.mail.pop3.Protocol.&lt;init&gt;(Protocol.java:94) at com.sun.mail.pop3.POP3Store.getPort(POP3Store.java:214) at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:157) ... 13 moreThis went on for about a minute or so and there was no more in the log file until several hours later - in fact when an email appeared in the INBOX. I know this because my personal email account was copied on the email and so I have the timestamp.I then get the following message every time I poll the server and have to re-start my application to get over it:2009-11-26 19:19:57 293 [: MailComponent] ERROR MailConsumer - Folder not openjava.lang.IllegalStateException: Folder not open at javax.mail.Folder.getMessages(Folder.java:938) at javax.mail.Folder.search(Folder.java:1226) at org.apache.camel.component.mail.MailConsumer.poll(MailConsumer.java:107) at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:108) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317) at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619)I took a look at MailConsumer.java and note the following code:236 if (!connected) {237 if (LOG.isDebugEnabled()) {238 LOG.debug('Connecting to MailStore: ' + endpoint.getConfiguration().getMailStoreLogInformation());239 }240 store = sender.getSession().getStore(config.getProtocol());241 store.connect(config.getHost()  config.getPort()  config.getUsername()  config.getPassword());242 }If you're not connected then how is it possible to have a folder? Following this logic my recommendation is to insert the following at line 242:241 store.connect(config.getHost()  config.getPort()  config.getUsername()  config.getPassword()); folder = null;242 }, think problem may still around SNAPSHOT http fusesourc com forum thread jspa threadID amp tstart SNAPSHOT http fusesourc com forum thread jspa thread ID amp tstart notic pop pop server outag subsequ similar problem IllegalStateException illeg state except folder not open open outag start start MailComponent mail compon WARN ultPollingConsumerPollStrategy ult poll consum poll strategi consum consum pop consum pop could not poll endpoint endpoint pop pop caus connect failedjavax mail MessagingException failedjavax mail messag except connect fail fail nest except java net NoRouteToHostException java net No rout host except No rout host com sun mail pop POP store protocolConnect POP store java com sun mail pop POP store protocol connect POP store java javax mail servic connect servic java javax mail servic connect servic java org apach camel compon mail MailConsumer ensureIsConnected MailConsumer java org apach camel compon mail mail consum ensur connect mail consum java org apach camel compon mail MailConsumer poll MailConsumer java org apach camel compon mail mail consum poll mail consum java org apach camel impl ScheduledPollConsumer run ScheduledPollConsumer java org apach camel impl schedul poll consum run schedul poll consum java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRunAndReset FutureTask java java util concurr futur task sync inner run reset futur task java java util concurr FutureTask runAndReset FutureTask java java util concurr futur task run reset futur task java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask runPeriodic ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run period schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java caus java lang thread run thread java caus java net NoRouteToHostException java net No rout host except No rout host java net PlainSocketImpl socketConnect nativ java net plain socket impl socket connect nativ method method java net PlainSocketImpl doConnect PlainSocketImpl java java net plain socket impl connect plain socket impl java java net PlainSocketImpl connectToAddress PlainSocketImpl java java net plain socket impl connect address plain socket impl java java net PlainSocketImpl connect PlainSocketImpl java java net plain socket impl connect plain socket impl java java net SocksSocketImpl connect SocksSocketImpl java java net sock socket impl connect sock socket impl java java net socket connect socket java java net socket connect socket java java net socket connect socket java java net socket connect socket java com sun mail util SocketFetcher createSocket SocketFetcher java com sun mail util socket fetcher creat socket socket fetcher java com sun mail util SocketFetcher getSocket SocketFetcher java com sun mail util socket fetcher get socket socket fetcher java com sun mail pop protocol lt init gt protocol java com sun mail pop protocol lt init gt protocol java com sun mail pop POP store getPort POP store java com sun mail pop POP store get port POP store java com sun mail pop POP store protocolConnect POP store java com sun mail pop POP store protocol connect POP store java moreThis went minut no log file sever hour later fact email appear INBOX INBOX know person email account copi email timestamp timestamp get follow messag everi time poll server start start applic get MailComponent mail compon ERROR MailConsumer mail consum folder not openjava lang IllegalStateException openjava lang illeg state except folder not open javax mail folder getMessages folder java javax mail folder get messag folder java javax mail folder search folder java javax mail folder search folder java org apach camel compon mail MailConsumer poll MailConsumer java org apach camel compon mail mail consum poll mail consum java org apach camel impl ScheduledPollConsumer run ScheduledPollConsumer java org apach camel impl schedul poll consum run schedul poll consum java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRunAndReset FutureTask java java util concurr futur task sync inner run reset futur task java java util concurr FutureTask runAndReset FutureTask java java util concurr futur task run reset futur task java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask runPeriodic ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run period schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java took look MailConsumer java mail consum java note follow code code connect connect LOG isDebugEnabled LOG debug enabl LOG debug connect LOG debug connect MailStore mail store endpoint getConfiguration getMailStoreLogInformation endpoint get configur get mail store log inform store sender getSession getStore config getProtocol sender get session get store config get protocol store connect config getHost store connect config get host config getPort config get port config getUsername config get usernam config getPassword config get password not connect possibl folder folder follow logic recommend insert follow line store connect config getHost store connect config get host config getPort config get port config getUsername config get usernam config getPassword config get password folder null null,1,0,1,1,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;,0
2234,Claus Ibsen,camel-core,0,file producer - NIO transferTo 2gb bug in jdk, file produc NIO transferTo transfer gb bug jdk,It appears that the JDK have a limitation that transferTo with large files.http://72.5.124.102/thread.jspa?threadID=5205184&amp;messageID=9822064See nabblehttp://old.nabble.com/camel-casts-exception-when-there-is-nothing-to-fetch-from-the-ftp-endpoint-to26541447.htmlThe code should be in a loop and transfer in chunks., appear JDK limit transferTo transfer larg file http thread jspa threadID amp messageID see file http thread jspa thread ID amp messag ID see nabblehttp old nabbl com camel cast except noth fetch ftp endpoint htmlThe nabblehttp old nabbl com camel cast except noth fetch ftp endpoint html code loop transfer chunk chunk,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/test/java/org/apache/camel/component/file/FileToFileNioLowBufferTest.java;,0
2237,Dmytro Rud,camel-mina,0,Improper ordering of MINA filters, improp order MINA filter,When we want to use SSL on the consumer side  MINA's SSLFilter must be inserted as the very first filter into the chain (or  at least  as the second one after an ExecutorFilter)  but it is currently not possible  because MinaComponent#createSocketEndpoint() always inserts a ProtocolCodecFilter at the very beginning by calling configureCodecFactory().A proposed workaround is to introduce an additional URL parameter noDefaultCodec which prohibits the installation of the default protocol codec filter. The protocol codec must be then configured manually  e.g. using Spring:&lt;bean id='sslFilter' class='org.apache.mina.filter.SSLFilter'&gt; &lt;constructor-arg&gt; &lt;bean class='javax.net.ssl.SSLContext' factory-method='getDefault' /&gt; &lt;/constructor-arg&gt;&lt;/bean&gt;&lt;bean id='codecFilter' class='org.apache.mina.filter.codec.ProtocolCodecFilter'&gt; &lt;constructor-arg ref='hl7codec' /&gt;&lt;/bean&gt;&lt;bean id='hl7codec' class='org.apache.camel.component.hl7.HL7MLLPCodec' /&gt;&lt;bean id='minaFilters' class='java.util.ArrayList'&gt; &lt;constructor-arg&gt; &lt;list value-type='org.apache.mina.common.IoFilter'&gt; &lt;ref bean='sslFilter' /&gt;  &lt;ref bean='codecFilter' /&gt;  &lt;/list&gt; &lt;/constructor-arg&gt;&lt;/bean&gt;After that  the consumer endpoint URL can look likefrom('mina:tcp://0.0.0.0:8888?sync=true&amp;lazySessionCreation=true&amp;noDefaultCodec=true&amp;filters=#minaFilters').I am not sure whether this approach is optimal  therefore I call it 'workaround' and not 'solution'. The corresponding patch is attached., want use SSL consum side MINA MINA SSLFilter SSL filter must insert first filter chain least second one ExecutorFilter executor filter current not possibl MinaComponent createSocketEndpoint mina compon creat socket endpoint alway insert ProtocolCodecFilter protocol codec filter begin call configureCodecFactory configur codec factori propos workaround introduc addit URL paramet noDefaultCodec no default codec prohibit instal default protocol codec filter filter protocol codec must configur manual use spring lt bean spring lt bean id sslFilter id ssl filter class org apach mina filter SSLFilter gt class org apach mina filter SSL filter gt lt constructor arg gt lt constructor arg gt lt bean lt bean class javax net ssl SSLContext class javax net ssl SSL context factori method getDefault factori method get default gt gt lt constructor arg gt lt bean gt lt bean lt constructor arg gt lt bean gt lt bean id codecFilter id codec filter class org apach mina filter codec ProtocolCodecFilter gt class org apach mina filter codec protocol codec filter gt lt constructor arg lt constructor arg ref hl codec ref hl codec gt lt bean gt lt bean gt lt bean gt lt bean id hl codec id hl codec class org apach camel compon hl HL MLLPCodec class org apach camel compon hl HL MLLP codec gt lt bean gt lt bean id minaFilters id mina filter class java util ArrayList gt class java util array list gt lt constructor arg gt lt constructor arg gt lt list lt list valu type org apach mina common IoFilter gt valu type org apach mina common Io filter gt lt ref lt ref bean sslFilter bean ssl filter gt gt lt ref lt ref bean codecFilter bean codec filter gt gt lt list gt lt list gt lt constructor arg gt lt bean gt lt constructor arg gt lt bean gt consum endpoint URL look likefrom mina tcp sync true amp lazySessionCreation true amp noDefaultCodec true amp filter minaFilters likefrom mina tcp sync true amp lazi session creation true amp no default codec true amp filter mina filter not sure whether approach optim therefor call workaround workaround not solut solut correspond patch attach attach,0,1,0,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConfiguration.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaFiltersTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaNoDefaultCodecTest.java;,0
2240,Hadrian Zbarcea,null,0,Ridiculously long release time due to the javadoc plugin, ridicul long releas time due javadoc plugin,,,0,0,0,0,0,0,0
2245,Jonathan Anstey,null,0,Routing slip does not stop when Exchange is failed, rout slip not stop exchang fail,,,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/RoutingSlip.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipWithErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipWithExceptionTest.java;,0
2255,Willem Jiang,null,0,camel-example-etl throw error when running it., camel exampl etl camel exampl etl throw error run,Here is the stack trace.[ Camel thread 0: JpaComponent] JuelExpression DEBUG Noimpl class for juel ExpressionFactory defined in'META-INF/services/org/apache/camel/component/el'org.apache.camel.NoFactoryAvailableException: Could not find factory classfor resource: META-INF/services/org/apache/camel/component/juel atorg.apache.camel.impl.DefaultFactoryFinder.doFindFactoryProperties(DefaultFactoryFinder.java:135) atorg.apache.camel.impl.DefaultFactoryFinder.findClass(DefaultFactoryFinder.java:77) atorg.apache.camel.language.juel.JuelExpression.getExpressionFactory(JuelExpression.java:81) atorg.apache.camel.language.juel.JuelExpression.evaluate(JuelExpression.java:70) atorg.apache.camel.builder.ProcessorBuilder$4.process(ProcessorBuilder.java:94) atorg.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) atorg.apache.camel.processor.DelegateProcessor.processNext(DelegateProcessor.java:53) atorg.apache.camel.processor.DelegateProcessor.proceed(DelegateProcessor.java:82) atorg.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:93) atorg.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) atorg.apache.camel.processor.RedeliveryErrorHandler.processExchange(RedeliveryErrorHandler.java:223) atorg.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:153) atorg.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:91) atorg.apache.camel.processor.DefaultErrorHandler.process(DefaultErrorHandler.java:49) atorg.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:206) at org.apache.camel.processor.Pipeline.process(Pipeline.java:74) atorg.apache.camel.processor.UnitOfWorkProcessor.processNext(UnitOfWorkProcessor.java:54) atorg.apache.camel.processor.DelegateProcessor.process(DelegateProcessor.java:48) atorg.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) atorg.apache.camel.component.jpa.JpaConsumer.processBatch(JpaConsumer.java:133) atorg.apache.camel.component.jpa.JpaConsumer$1.doInJpa(JpaConsumer.java:86) atorg.apache.camel.component.jpa.JpaTemplateTransactionStrategy$1$1.doInJpa(JpaTemplateTransactionStrategy.java:81) atorg.springframework.orm.jpa.JpaTemplate.execute(JpaTemplate.java:184) atorg.springframework.orm.jpa.JpaTemplate.execute(JpaTemplate.java:147) atorg.apache.camel.component.jpa.JpaTemplateTransactionStrategy$1.doInTransaction(JpaTemplateTransactionStrategy.java:79) atorg.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:128) atorg.apache.camel.component.jpa.JpaTemplateTransactionStrategy.execute(JpaTemplateTransactionStrategy.java:77) atorg.apache.camel.component.jpa.JpaConsumer.poll(JpaConsumer.java:70) atorg.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:108) atjava.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) atjava.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317) at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150) atjava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98) atjava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181) atjava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205) atjava.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) atjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619), stack trace trace camel thread JpaComponent jpa compon JuelExpression juel express DEBUG noimpl class juel ExpressionFactory express factori defin META INF servic org apach camel compon el org apach camel NoFactoryAvailableException META INF servic org apach camel compon el org apach camel No factori avail except could not find factori classfor resourc resourc META INF servic org apach camel compon juel META INF servic org apach camel compon juel atorg apach camel impl DefaultFactoryFinder doFindFactoryProperties DefaultFactoryFinder java atorg apach camel impl default factori finder find factori properti default factori finder java atorg apach camel impl DefaultFactoryFinder findClass DefaultFactoryFinder java atorg apach camel impl default factori finder find class default factori finder java atorg apach camel languag juel JuelExpression getExpressionFactory JuelExpression java atorg apach camel languag juel juel express get express factori juel express java atorg apach camel languag juel JuelExpression evalu JuelExpression java atorg apach camel languag juel juel express evalu juel express java atorg apach camel builder ProcessorBuilder process ProcessorBuilder java atorg apach camel builder processor builder process processor builder java atorg apach camel manag InstrumentationProcessor process InstrumentationProcessor java atorg apach camel manag instrument processor process instrument processor java atorg apach camel processor DelegateProcessor processNext DelegateProcessor java atorg apach camel processor deleg processor process next deleg processor java atorg apach camel processor DelegateProcessor proceed DelegateProcessor java atorg apach camel processor deleg processor proceed deleg processor java atorg apach camel processor interceptor TraceInterceptor process TraceInterceptor java atorg apach camel processor interceptor trace interceptor process trace interceptor java atorg apach camel manag InstrumentationProcessor process InstrumentationProcessor java atorg apach camel manag instrument processor process instrument processor java atorg apach camel processor RedeliveryErrorHandler processExchange RedeliveryErrorHandler java atorg apach camel processor redeliveri error handler process exchang redeliveri error handler java atorg apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java atorg apach camel processor redeliveri error handler process error handler redeliveri error handler java atorg apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java atorg apach camel processor redeliveri error handler process redeliveri error handler java atorg apach camel processor DefaultErrorHandler process DefaultErrorHandler java atorg apach camel processor default error handler process default error handler java atorg apach camel processor DefaultChannel process DefaultChannel java atorg apach camel processor default channel process default channel java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java atorg apach camel processor UnitOfWorkProcessor processNext UnitOfWorkProcessor java atorg apach camel processor unit work processor process next unit work processor java atorg apach camel processor DelegateProcessor process DelegateProcessor java atorg apach camel processor deleg processor process deleg processor java atorg apach camel manag InstrumentationProcessor process InstrumentationProcessor java atorg apach camel manag instrument processor process instrument processor java atorg apach camel compon jpa JpaConsumer processBatch JpaConsumer java atorg apach camel compon jpa jpa consum process batch jpa consum java atorg apach camel compon jpa JpaConsumer doInJpa JpaConsumer java atorg apach camel compon jpa jpa consum jpa jpa consum java atorg apach camel compon jpa JpaTemplateTransactionStrategy doInJpa JpaTemplateTransactionStrategy java atorg apach camel compon jpa jpa templat transact strategi jpa jpa templat transact strategi java atorg springframework orm jpa JpaTemplate execut JpaTemplate java atorg springframework orm jpa jpa templat execut jpa templat java atorg springframework orm jpa JpaTemplate execut JpaTemplate java atorg springframework orm jpa jpa templat execut jpa templat java atorg apach camel compon jpa JpaTemplateTransactionStrategy doInTransaction JpaTemplateTransactionStrategy java atorg apach camel compon jpa jpa templat transact strategi transact jpa templat transact strategi java atorg springframework transact support TransactionTemplate execut TransactionTemplate java atorg springframework transact support transact templat execut transact templat java atorg apach camel compon jpa JpaTemplateTransactionStrategy execut JpaTemplateTransactionStrategy java atorg apach camel compon jpa jpa templat transact strategi execut jpa templat transact strategi java atorg apach camel compon jpa JpaConsumer poll JpaConsumer java atorg apach camel compon jpa jpa consum poll jpa consum java atorg apach camel impl ScheduledPollConsumer run ScheduledPollConsumer java atorg apach camel impl schedul poll consum run schedul poll consum java atjava util concurr executor RunnableAdapter call executor java atjava util concurr executor runnabl adapt call executor java atjava util concurr FutureTask sync innerRunAndReset FutureTask java atjava util concurr futur task sync inner run reset futur task java java util concurr FutureTask runAndReset FutureTask java java util concurr futur task run reset futur task java atjava util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java atjava util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java atjava util concurr ScheduledThreadPoolExecutor ScheduledFutureTask runPeriodic ScheduledThreadPoolExecutor java atjava util concurr schedul thread pool executor schedul futur task run period schedul thread pool executor java atjava util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java atjava util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java atjava util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java atjava util concurr thread pool executor worker run task thread pool executor java atjava util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java atjava util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java,1,0,0,0,0,components/camel-juel/src/main/java/org/apache/camel/language/juel/JuelExpression.java;,0
2269,Claus Ibsen,camel-core,0,doCatch() - Without any exception given should report that as a problem, doCatch catch without except given report problem,Code like this .doTry() .to('mock:b') .throwException(new IllegalArgumentException('Damn')) .doCatch() .to('mock:catch') .end();Should report a failure in the route as doCatch must have at least 1 exception as parameter.It should correctly be .doCatch(Exception.class)We could also consider using Excpetion.class as default but in Java you must also provide the exception to catch and thus its more intuitive if its 100% like Java, code like doTry tri mock mock throwException new throw except new IllegalArgumentException damn illeg argument except damn doCatch catch mock catch mock catch end end report failur rout doCatch catch must least except paramet paramet correctli doCatch except class catch except class could also consid use excpet class excpet class default java must also provid except catch thu intuit like java,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/model/CatchDefinition.java;camel-core/src/test/java/org/apache/camel/processor/TryCatchMustHaveExceptionConfiguredTest.java;,0
2276,Claus Ibsen,camel-core,0,seda component - Support no timeout for task to complete using timeout 0 or negative, seda compon support no timeout task complet use timeout neg,See nabblehttp://old.nabble.com/SEDA-Timeout-ts26724664.html, see nabblehttp old nabbl com SEDA timeout ts html nabblehttp old nabbl com SEDA timeout ts html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaProducer.java;camel-core/src/main/java/org/apache/camel/impl/DefaultProducer.java;camel-core/src/test/java/org/apache/camel/component/seda/SedaTimeoutDisabledTest.java;,0
2292,Hadrian Zbarcea,null,0,RejectedExecutionException after restarting camel context, RejectedExecutionException reject execut except restart camel context,User reported over the #camel channel the following exception trying to send a message after the context was stopped and restarted 'Failed to create Producer for endpoint:'. Thats the exception I'm gettingReason: java.util.concurrent.RejectedExecutionExceptionException in thread 'core' org.apache.camel.FailedToCreateProducerException: Failed to create Producer for endpoint: Endpoint[activemq://queue:request.lavaOrderProducer.powerTraderServer]. Reason: java.util.concurrent.RejectedExecutionException at org.apache.camel.component.jms.JmsProducer.testAndSetRequestor(JmsProducer.java:116) at org.apache.camel.component.jms.JmsProducer.processInOut(JmsProducer.java:175) at org.apache.camel.component.jms.JmsProducer.process(JmsProducer.java:147) at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:179) at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:161) at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:146) at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:160) at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:98) at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:97) at com.wjb.producer.lavaData.dispatcher.ServerRequestDispatcher.requestSymbolSectorArray(ServerRequestDispatcher.java:122) at com.wjb.producer.core.LavaDataManager.initialize(LavaDataManager.java:64) at com.wjb.producer.core.ProducerCore.run(ProducerCore.java:98) at java.lang.Thread.run(Thread.java:619)Caused by: java.util.concurrent.RejectedExecutionException at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:1760) at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:767) at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:216) at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:366) at org.apache.camel.util.DefaultTimeoutMap.schedulePoll(DefaultTimeoutMap.java:156) at org.apache.camel.util.DefaultTimeoutMap.&lt;init&gt;(DefaultTimeoutMap.java:52) at org.apache.camel.component.jms.requestor.Requestor.&lt;init&gt;(Requestor.java:68) at org.apache.camel.component.jms.JmsProducer.testAndSetRequestor(JmsProducer.java:107)The following unit tests seems to reproduce the problem:ublic final class StartStopTest { private final GenericApplicationContext applicationContext = new GenericApplicationContext(); private final int testCount = 3; @Test public void test() throws Exception { //Initialize final File propertiesFile = new File(Constants.RESOURCE_DIRECTORY_NAME  Constants.PROPERTIES_FILE_NAME); PropertyConfigurator.configure(propertiesFile.getPath()); final File applicationContextFile = new File(Constants.RESOURCE_DIRECTORY_NAME  Constants.CONTEXT_FILE_NAME); final Resource applicationContextResource = new FileSystemResource(applicationContextFile); final AbstractBeanDefinitionReader beanDefinitionReader = new XmlBeanDefinitionReader(this.applicationContext); beanDefinitionReader.loadBeanDefinitions(applicationContextResource); this.applicationContext.refresh(); //Begin Testing for (int i = 0; i &lt; this.testCount; i++) { this.startSendStop(); Thread.sleep(3000); } } private void startSendStop() throws Exception { final SpringCamelContext springCamelContext = (SpringCamelContext)this.applicationContext.getBean(Constants.CAMEL_CONTEXT_NAME); final ProducerTemplate producerTemplate; final Endpoint serverRequestQueue; springCamelContext.start(); producerTemplate = springCamelContext.createProducerTemplate(); serverRequestQueue = springCamelContext.getEndpoint('serverRequestQueue'); final Exchange exchange = producerTemplate.send(serverRequestQueue  new Processor() { public void process(final Exchange exchange) throws Exception { exchange.setPattern(ExchangePattern.InOut); exchange.getIn().setHeader(ServerJmsServices.REQUEST  ServerJmsServices.GET_SYMBOL_INFO); exchange.getIn().setBody(''); } }); final String responseString = (String)exchange.getOut().getBody(); Assert.assertTrue(responseString.length() &gt; 0); springCamelContext.stop(); }}&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;beans xmlns='http://www.springframework.org/schema/beans'  xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:camel='http://camel.apache.org/schema/spring' xsi:schemaLocation='http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd'&gt; &lt;!-- ActiveMQ component for Camel to use --&gt; &lt;bean id='activemq' class='org.apache.activemq.camel.component.ActiveMQComponent' &gt; &lt;property name='connectionFactory'&gt; &lt;bean class='org.apache.activemq.ActiveMQConnectionFactory'&gt; &lt;property name='brokerURL' value='tcp://192.168.5.10:61616?daemon=true' /&gt; &lt;/bean&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- Camel Context --&gt; &lt;camelContext id='camelContext' xmlns='http://camel.apache.org/schema/spring' autoStartup='false'&gt;  &lt;camel:endpoint id='serverRequestQueue' uri='activemq:queue:request.lavaOrderProducer.powerTraderServer' /&gt; &lt;/camelContext&gt;&lt;/beans&gt;, user report camel channel follow except tri send messag context stop restart fail fail creat produc endpoint endpoint that except gettingReason get reason java util concurr RejectedExecutionExceptionException java util concurr reject execut except except thread core core org apach camel FailedToCreateProducerException org apach camel fail creat produc except fail creat produc endpoint endpoint endpoint activemq queue request lavaOrderProducer powerTraderServer endpoint activemq queue request lava order produc power trader server reason reason java util concurr RejectedExecutionException java util concurr reject execut except org apach camel compon jm JmsProducer testAndSetRequestor JmsProducer java org apach camel compon jm jm produc test set requestor jm produc java org apach camel compon jm JmsProducer processInOut JmsProducer java org apach camel compon jm jm produc process jm produc java org apach camel compon jm JmsProducer process JmsProducer java org apach camel compon jm jm produc process jm produc java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache sendExchange ProducerCache java org apach camel impl produc cach send exchang produc cach java org apach camel impl ProducerCache send ProducerCache java org apach camel impl produc cach send produc cach java org apach camel impl DefaultProducerTemplate send DefaultProducerTemplate java org apach camel impl default produc templat send default produc templat java com wjb produc lavaData dispatch ServerRequestDispatcher requestSymbolSectorArray ServerRequestDispatcher java com wjb produc lava data dispatch server request dispatch request symbol sector array server request dispatch java com wjb produc core LavaDataManager initi LavaDataManager java com wjb produc core lava data manag initi lava data manag java com wjb produc core ProducerCore run ProducerCore java com wjb produc core produc core run produc core java java lang thread run thread java caus java lang thread run thread java caus java util concurr RejectedExecutionException java util concurr reject execut except java util concurr ThreadPoolExecutor AbortPolicy rejectedExecution ThreadPoolExecutor java java util concurr thread pool executor abort polici reject execut thread pool executor java java util concurr ThreadPoolExecutor reject ThreadPoolExecutor java java util concurr thread pool executor reject thread pool executor java java util concurr ScheduledThreadPoolExecutor delayedExecute ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor delay execut schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor schedul ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul schedul thread pool executor java org apach camel util DefaultTimeoutMap schedulePoll DefaultTimeoutMap java org apach camel util default timeout map schedul poll default timeout map java org apach camel util DefaultTimeoutMap lt init gt DefaultTimeoutMap java org apach camel util default timeout map lt init gt default timeout map java org apach camel compon jm requestor requestor lt init gt requestor java org apach camel compon jm requestor requestor lt init gt requestor java org apach camel compon jm JmsProducer testAndSetRequestor JmsProducer java org apach camel compon jm jm produc test set requestor jm produc java follow unit test seem reproduc problem ublic problem ublic final class StartStopTest start stop test privat final GenericApplicationContext gener applic context applicationContext applic context new GenericApplicationContext gener applic context privat final int testCount test count test test public void test test throw except initi initi final file propertiesFile properti file new file constant RESOURCE_DIRECTORY_NAME file constant RESOURCE DIRECTORY NAME constant PROPERTIES_FILE_NAME constant PROPERTIES FILE NAME PropertyConfigurator configur propertiesFile getPath properti configur configur properti file get path final file applicationContextFile applic context file new file constant RESOURCE_DIRECTORY_NAME file constant RESOURCE DIRECTORY NAME constant CONTEXT_FILE_NAME constant CONTEXT FILE NAME final resourc applicationContextResource applic context resourc new FileSystemResource applicationContextFile file system resourc applic context file final AbstractBeanDefinitionReader abstract bean definit reader beanDefinitionReader bean definit reader new XmlBeanDefinitionReader applicationContext xml bean definit reader applic context beanDefinitionReader loadBeanDefinitions applicationContextResource bean definit reader load bean definit applic context resourc applicationContext refresh applic context refresh begin begin test int lt lt testCount test count startSendStop start send stop thread sleep thread sleep privat void startSendStop start send stop throw except final SpringCamelContext spring camel context springCamelContext spring camel context SpringCamelContext applicationContext getBean constant CAMEL_CONTEXT_NAME spring camel context applic context get bean constant CAMEL CONTEXT NAME final ProducerTemplate produc templat producerTemplate produc templat final endpoint serverRequestQueue server request queue springCamelContext start spring camel context start producerTemplate produc templat springCamelContext createProducerTemplate spring camel context creat produc templat serverRequestQueue server request queue springCamelContext getEndpoint serverRequestQueue spring camel context get endpoint server request queue final exchang exchang producerTemplate send serverRequestQueue produc templat send server request queue new processor processor public void process final process final exchang exchang exchang throw except exchang setPattern ExchangePattern InOut exchang set pattern exchang pattern exchang getIn setHeader ServerJmsServices REQUEST exchang get set header server jm servic REQUEST ServerJmsServices GET_SYMBOL_INFO server jm servic GET SYMBOL INFO exchang getIn setBody exchang get set bodi final string responseString respons string string exchang getOut getBody string exchang get get bodi assert assertTrue responseString length assert assert true respons string length gt gt springCamelContext stop spring camel context stop lt xml lt xml version version encod UTF gt lt bean encod UTF gt lt bean xmln http www springframework org schema bean xmln http www springframework org schema bean xmln xsi http www org XMLSchema instanc xmln xsi http www org XML schema instanc xmln camel http camel apach org schema spring xmln camel http camel apach org schema spring xsi schemaLocation http www springframework org schema bean xsi schema locat http www springframework org schema bean lt lt ActiveMQ activ MQ compon camel use gt gt lt bean lt bean id activemq id activemq class org apach activemq camel compon ActiveMQComponent class org apach activemq camel compon activ MQ compon gt gt lt properti lt properti name connectionFactory gt name connect factori gt lt bean lt bean class org apach activemq ActiveMQConnectionFactory gt class org apach activemq activ MQ connect factori gt lt properti lt properti name brokerURL name broker URL valu tcp daemon true valu tcp daemon true gt gt lt bean gt lt bean gt lt properti gt lt properti gt lt bean gt lt bean gt lt lt camel context gt gt lt camelContext lt camel context id camelContext id camel context xmln http camel apach org schema spring xmln http camel apach org schema spring autoStartup fals gt auto startup fals gt lt camel endpoint lt camel endpoint id serverRequestQueue id server request queue uri activemq queue request lavaOrderProducer powerTraderServer uri activemq queue request lava order produc power trader server gt gt lt camelContext gt lt bean gt lt camel context gt lt bean gt,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultProducerTemplate.java;camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsInOutWithSpringRestartIssueTest.java;components/camel-jms/src/test/resources/org/apache/camel/component/jms/issues/JmsInOutWithSpringRestartIssueTest.xml;,0
2295,Claus Ibsen,camel-core,0,ExceptionHandler - Let it be able to log additional information such as a custom message or current exchange, ExceptionHandler except handler let abl log addit inform custom messag current exchang,This will output better exceptions in the logs when using the default exception handler which just logs it.The ExceptionHandler is used in consumers (polling  event driven) which cant send the exception back to a client and thus must handle it somehowand best shot is to log it  but you can plugin your own handler if you like, output better except log use default except handler log ExceptionHandler except handler use consum poll event driven driven cant send except back client thu must handl somehowand best shot log plugin handler like,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/CamelExchangeException.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaConsumer.java;camel-core/src/main/java/org/apache/camel/component/timer/TimerConsumer.java;camel-core/src/main/java/org/apache/camel/impl/LoggingExceptionHandler.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/main/java/org/apache/camel/spi/ExceptionHandler.java;camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java;camel-core/src/test/java/org/apache/camel/issues/CharlesSplitAndTryCatchRollbackIssueTest.java;camel-core/src/test/java/org/apache/camel/processor/MulticastParallelStopOnExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/MulticastStopOnExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/RollbackCustomMessageTest.java;camel-core/src/test/java/org/apache/camel/processor/SplitterParallelStopOnExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/SplitterStopOnExceptionTest.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzEndpoint.java;,0
2303,Claus Ibsen,camel-core,0,GroupedExchange in Aggregator is not working correctly, GroupedExchange group exchang aggreg not work correctli,See nabblehttp://old.nabble.com/Help%21-org.apache.camel.impl.GroupedExchange-does-not-exist-in-the-latest-download-ts26841584.html, see nabblehttp old nabbl com help org apach camel impl GroupedExchange not exist latest download ts html nabblehttp old nabbl com help org apach camel impl group exchang not exist latest download ts html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/AggregateDefinition.java;camel-core/src/main/java/org/apache/camel/processor/BatchProcessor.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateGroupedExchangeBatchSizeTest.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateGroupedExchangeMultipleCorrelationTest.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateGroupedExchangeTest.java;,0
2308,Edson CImionatto,camel-ftp,0,StrictHostKeyChecking Url Option, StrictHostKeyChecking strict host key check url option,Camel users will appreciate a new url option that sets JSch Session StrictHostKeyChecking to 'no' . Preferably  this new option will work just like URI Options knownHosts. This improvement will facilitate bypass sftp/ssh key authentication., camel user appreci new url option set JSch sch session StrictHostKeyChecking strict host key check no no prefer new option work like URI option knownHosts known host improv facilit bypass sftp ssh sftp ssh key authent authent,0,0,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConfiguration.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;,0
2310,Claus Ibsen,camel-core,0,UnitOfWork - Must be done in finally to ensure even when java.lang.Error is thrown fore reliable shutdown, UnitOfWork unit work must done final ensur even java lang error java lang error thrown fore reliabl shutdown,This helps to keep in flight registry up-to-date even when java.lang.Error is thrown  such as when people use JUnit assertions., help keep flight registri date date even java lang error java lang error thrown peopl use JUnit unit assert assert,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/UnitOfWorkProcessor.java;,0
2318,Willem Jiang,camel-bindy,0,camel-bindy dataformat KeyValue DSL can't work, camel bindi camel bindi dataformat KeyValue key valu DSL work,When you set the bindy dataformat with below DSL   you will get the error that camel can't find the DataFormat.   public void configure() { from('direct:start').marshal() .bindy(BindyType.KeyValue  'org.apache.camel.dataformat.bindy.model.fix.simple') .to('mock:result'); }, set bindi dataformat DSL get error camel find DataFormat data format public void configur configur direct start marshal direct start marshal bindi BindyType KeyValue bindi bindi type key valu org apach camel dataformat bindi model fix simpl org apach camel dataformat bindi model fix simpl mock result mock result,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/model/dataformat/BindyDataFormat.java;,0
2319,Claus Ibsen,null,0,camel-cache - Missing some classes in .jar, camel cach camel cach miss class jar,See nabblehttp://old.nabble.com/Camel-Cache%3A-Processors-not-released--ts26908653.html, see nabblehttp old nabbl com camel cach processor not releas ts html nabblehttp old nabbl com camel cach processor not releas ts html,0,0,0,1,0,components/camel-cache/pom.xml;,0
2320,Pradeep Elankumaran,camel-jdbc,0,JDBC component doesn't preserve headers, JDBC compon preserv header,JDBC component doesn't preserve any of the headers that are sent into it, JDBC compon preserv header sent,0,1,0,0,0,components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcProducer.java;components/camel-jdbc/src/test/java/org/apache/camel/component/jdbc/JdbcPreserveHeadersTest.java;,0
2327,Willem Jiang,null,0,The NP check of the remote service is wrong in CamelServiceExporter, NP check remot servic wrong CamelServiceExporter camel servic export,We should check the export service instead of the camelContext.&#8212; components/camel-spring/src/main/java/org/apache/camel/spring/remoting/CamelServiceExporter.jav(revision 895109)+++ components/camel-spring/src/main/java/org/apache/camel/spring/remoting/CamelServiceExporter.jav(working copy)@@ -83 7 +83 7 @@ } Endpoint endpoint = CamelContextHelper.getMandatoryEndpoint(camelContext  uri); notNull(camelContext  'service');+ notNull(getService()  'service'); Object proxy = getProxyForService(); consumer = endpoint.createConsumer(new BeanProcessor(proxy  camelContext));, check export servic instead camelContext camel context compon camel spring src main java org apach camel spring remot CamelServiceExporter jav revis compon camel spring src main java org apach camel spring remot camel servic export jav revis compon camel spring src main java org apach camel spring remot CamelServiceExporter jav work compon camel spring src main java org apach camel spring remot camel servic export jav work copi copi endpoint endpoint CamelContextHelper getMandatoryEndpoint camelContext camel context helper get mandatori endpoint camel context uri uri notNull camelContext not null camel context servic servic notNull getService not null get servic servic servic object proxi getProxyForService get proxi servic consum endpoint createConsumer new endpoint creat consum new BeanProcessor proxi bean processor proxi camelContext camel context,1,0,0,0,0,components/camel-spring/src/main/java/org/apache/camel/spring/remoting/CamelServiceExporter.java;,0
2335,Claus Ibsen,null,0,The  in Spring XML should support using serviceRef to lookup a reference for an endpoint, spring XML support use serviceRef servic ref lookup refer endpoint,Even though people can use the ref component  but that is hardly technique.So you can do using serviceRef to refer to the endpoint &lt;!-- create a proxy that will route to the direct:start endpoint when invoked --&gt; &lt;proxy id='myProxySender' serviceInterface='org.apache.camel.spring.config.MyProxySender' serviceRef='cool'/&gt; &lt;!-- define the endpoint we want to proxy --&gt; &lt;endpoint id='cool' uri='direct:start'/&gt;, even though peopl use ref compon hardli techniqu techniqu use serviceRef servic ref refer endpoint lt lt creat proxi rout direct start direct start endpoint invok gt gt lt proxi lt proxi id myProxySender id proxi sender serviceInterface org apach camel spring config MyProxySender servic interfac org apach camel spring config proxi sender serviceRef cool gt servic ref cool gt lt lt defin endpoint want proxi gt gt lt endpoint lt endpoint id cool id cool uri direct start gt uri direct start gt,0,0,1,0,0,components/camel-spring/src/main/java/org/apache/camel/spring/CamelProxyFactoryDefinition.java;components/camel-spring/src/main/java/org/apache/camel/spring/handler/CamelNamespaceHandler.java;components/camel-spring/src/main/java/org/apache/camel/spring/remoting/CamelProxyFactoryBean.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/CamelProxyUsingRefTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/config/CamelProxyUsingRefTest.xml;,0
2338,Claus Ibsen,camel-spring,0,package will log WARN that you should use packageScan instead. We should keep both options so remove the WARN, packag log WARN use packageScan packag scan instead instead keep option remov WARN,&#91;2010-01-06 11:32:35.494&#93; server-dm-7 org.apache.camel.spring.CamelContextFactoryBean.unknown W Using a packages element to specify packages to search has been deprecated. Please use a packageScan element instead., server dm server dm org apach camel spring CamelContextFactoryBean unknown org apach camel spring camel context factori bean unknown use packag element specifi packag search deprec deprec pleas use packageScan packag scan element instead instead,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchange.java;camel-core/src/main/java/org/apache/camel/model/SplitDefinition.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/Splitter.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/UseOriginalAggregationStrategy.java;camel-core/src/main/java/org/apache/camel/util/AsyncProcessorHelper.java;camel-core/src/test/java/org/apache/camel/processor/async/AsyncEndpointMulticastFineGrainedErrorHandlingTest.java;camel-core/src/test/java/org/apache/camel/processor/async/AsyncEndpointMulticastTest.java;camel-core/src/test/java/org/apache/camel/processor/async/AsyncEndpointRecipientListFineGrainedErrorHandlingTest.java;camel-core/src/test/java/org/apache/camel/processor/async/AsyncEndpointSplitTest.java;camel-core/src/test/java/org/apache/camel/processor/async/AsyncEndpointSplitUseLatestAggregationStrategyTest.java;camel-core/src/test/java/org/apache/camel/processor/async/MyAsyncProducer.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java;,0
2344,Joern Kottmann,camel-mail,0,MailConsumer should log exception in processRollback, MailConsumer mail consum log except processRollback process rollback,The MailConsumer logs in the rollback case the exchange (line 162 in revision 893983) but the exchange contains (usually ?) an exception which is not logged.In my case the exception is thrown from a custom Expression which splits a mail message.Only a rollback warning which contains the headers of the mail message is logged which makes finding the actual cause difficult., MailConsumer mail consum log rollback case exchang line revis exchang contain usual except not log log case except thrown custom express split mail messag messag rollback warn contain header mail messag log make find actual caus difficult difficult,0,0,0,0,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;,0
2348,Claus Ibsen,camel-core,0,EventNotifier - Make it easy to ignore unwanted event categories, EventNotifier event notifi make easi ignor unwant event categori,The current EventNotifier is a bit sparse. It should have a bunch of ignoreXXX events to filter by category. In case you do not want certain types etc.Also it can be used to configure it to only report failures which is interesting if you want to alert that to a monitoring system., current EventNotifier event notifi bit spars spars bunch ignoreXXX ignor XXX event filter categori categori case not want certain type etc also etc also use configur report failur interest want alert monitor system system,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/ServiceSupport.java;camel-core/src/main/java/org/apache/camel/management/DefaultEventNotifier.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementStrategy.java;camel-core/src/main/java/org/apache/camel/management/EventNotifierSupport.java;camel-core/src/main/java/org/apache/camel/management/LoggingEventNotifier.java;camel-core/src/main/java/org/apache/camel/management/event/ExchangeCompletedEvent.java;camel-core/src/main/java/org/apache/camel/management/event/ExchangeCreatedEvent.java;camel-core/src/main/java/org/apache/camel/management/event/ExchangeFailureEvent.java;camel-core/src/main/java/org/apache/camel/management/event/ExchangeFailureHandledEvent.java;camel-core/src/main/java/org/apache/camel/spi/EventNotifier.java;camel-core/src/main/java/org/apache/camel/util/EventHelper.java;camel-core/src/test/java/org/apache/camel/management/EventNotifierEventsTest.java;camel-core/src/test/java/org/apache/camel/management/EventNotifierFailreHandledEventsTest.java;camel-core/src/test/java/org/apache/camel/management/EventNotifierServiceStoppingFailedEventTest.java;camel-core/src/test/java/org/apache/camel/management/LoggingEventNotifierTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/management/MyEventNotifier.java;components/camel-spring/src/test/java/org/apache/camel/spring/management/SpringLoggingEventNotifierTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/management/SpringLoggingEventNotifierTest.xml;,0
2352,Claus Ibsen,camel-jdbc,0,camel-jdbc - Add option to select between JDBC 4 or 3 column label / name semantics, camel jdbc camel jdbc add option select JDBC column label name semant,JDBC drivers is often a pain when it comes to compliance.If you use SQL SELECT with aliases then you may have issues with camel-jdbc as it retrieves the column name use ResultSetMetaData which behaves different according to the JDBC spec.See more at:http://fusesource.com/forums/thread.jspa?messageID=5623&amp;#5623Introduce a new option useJDBC4ColumnNameAndLabelSemantics where you can configure which option to use. Will by default use JDBC 4, JDBC driver often pain come complianc complianc use SQL SELECT alias may issu camel jdbc camel jdbc retriev column name use ResultSetMetaData result set meta data behav differ accord JDBC spec see spec see http fusesourc com forum thread jspa messageID amp introduc http fusesourc com forum thread jspa messag ID amp introduc new option useJDBC ColumnNameAndLabelSemantics use JDBC column name label semant configur option use use default use JDBC,0,0,1,0,0,components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcComponent.java;components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcEndpoint.java;components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcProducer.java;components/camel-jdbc/src/test/java/org/apache/camel/component/jdbc/JdbcRouteUsingSqlSelectAliasJdbc3Test.java;components/camel-jdbc/src/test/java/org/apache/camel/component/jdbc/JdbcRouteUsingSqlSelectAliasTest.java;,0
2361,Simon,camel-core,0,Keep the lastModified timestamp when writing a file, keep lastModified last modifi timestamp write file,&gt;&gt; I do the following:&gt;&gt;&gt; 'ftp://tata@.../ftp.input?&amp;recursive=true&amp;binary=true&amp;consumer.delay=1000')&gt; .to('file://M:/FTP.INPUT/');&gt;&gt; I would like to have my file in transfered and keeping their&gt; lastModifiedTime. I wonder if a flag is available for that ? Another&gt; solution would be to get it from the Message and do it programmatically.&gt;... &#91;show rest of quote&#93;HiGood idea. Notice that the timestamp from the FTP library is often not100% accurate down to the seconds.Could you create a ticket in JIRA for this feature request?http://issues.apache.org/activemq/browse/CAMEL, gt gt gt gt follow gt gt gt follow gt gt gt ftp tata ftp input amp recurs true amp binari true amp consum delay gt ftp tata ftp input amp recurs true amp binari true amp consum delay gt file FTP INPUT gt gt file FTP INPUT gt gt would like file transfer keep gt gt lastModifiedTime last modifi time wonder flag avail anoth gt anoth gt solut would get messag programmat gt programmat gt show rest quot HiGood quot Hi good idea idea notic timestamp FTP librari often not not accur second could second could creat ticket JIRA featur request http issu apach org activemq brows CAMEL request http issu apach org activemq brows CAMEL,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/builder/FileExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFile.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/test/java/org/apache/camel/component/file/FileKeepLastModifiedTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpKeepLastModifiedTest.java;,0
2363,Ashwin Karpe,null,0,Remove sample caches from Camel Cache component, remov sampl cach camel cach compon,Camel Cache has sample caches created by the component via its ehCache settings.These should not be created in order to avoid unnecessary taking up of ports by the sample caches., camel cach sampl cach creat compon via ehCache eh cach set set not creat order avoid unnecessari take port sampl cach cach,0,1,0,0,0,components/camel-cache/src/main/resources/ehcache.xml;,0
2368,Michael Mathers,camel-core,0,Bean Expression for Non Registry beans can't reference an instance, bean express non registri bean refer instanc,The documentation at the bottom of this page: http://camel.apache.org/bean-language.html says that I can use the bean expression DSL to work with beans that are not in the registry in two different ways (2.0-M2+). Specify Class/method and Camel will create a new instance of the bean and call the method. Specify instance/method and Camel will use the the specified instance and call the method.In fact  the doc shows examples of both:Method 1) from('activemq:topic:OrdersTopic'). filter().expression(bean(MyBean.class  'isGoldCustomer')). to('activemq:BigSpendersQueue');Method 2) private MyBean my; from('activemq:topic:OrdersTopic'). filter().expression(bean(my  'isGoldCustomer')). to('activemq:BigSpendersQueue');I am unable to do the latter (#2) as the methods are not defined. I'm using Camel 2.1.0 but I've tried 2.0.0 as well. So either the doc is wrong or the methods are missing/not visible. My code specifically is:private Object list;...from (getErrorEndpoint()) .recipientList(list  'getRecipients');Yes  there are easy ways to avoid this. But I prefer not to have to create more XML and/or specify a Class name here.Finally  is there a good reason '.recipientList()' isn't overloaded to take an Endpoint[] instead of only an Expression? The @RecipientList annotation seems to anticipate this form but there doesn't seem to be a good way to plug the @RecipientList annotated bean into the route definition. Even if the bean is in the registry it looks as if you still have to supply the method name anyway despite that its already annotated (unless you also annotate with @Handler which might be undesirable). Ideally  I could have...Object list = new Object() { @RecipientList public Collection&lt;Endpoint&gt; getRecipents(Object body) {... }}...from (endpoint).recipientList(&lt;any instance annotated with @RecipientList&gt;)or even// Look for method 'errors' then look for annotation @RecipientList('errors')from (endpoint).recipientList( bean  'errors' )Is this making any sense? (I'm still very wet behind the ears), document bottom page page say use bean express DSL work bean not registri two differ way specifi class method class method camel creat new instanc bean call method method specifi instanc method instanc method camel use specifi instanc call method method fact doc show exampl method method activemq topic OrdersTopic activemq topic order topic filter express bean MyBean class filter express bean bean class isGoldCustomer gold custom activemq BigSpendersQueue method activemq big spender queue method privat MyBean bean activemq topic OrdersTopic activemq topic order topic filter express bean filter express bean isGoldCustomer gold custom activemq BigSpendersQueue activemq big spender queue unabl latter method not defin defin use camel tri well well either doc wrong method miss not miss not visibl visibl code specif privat privat object list list getErrorEndpoint get error endpoint recipientList list recipi list list getRecipients ye get recipi ye easi way avoid prefer not creat XML specifi class name final final good reason recipientList recipi list overload take endpoint endpoint instead express express RecipientList recipi list annot seem anticip form seem good way plug RecipientList recipi list annot bean rout definit definit even bean registri look still suppli method name anyway despit alreadi annot unless also annot handler handler might undesir undesir ideal could object object list new object object RecipientList recipi list public collect lt endpoint gt collect lt endpoint gt getRecipents object get recip object bodi bodi endpoint recipientList lt endpoint recipi list lt instanc annot RecipientList gt recipi list gt even even look method error error look annot RecipientList error recipi list error endpoint recipientList endpoint recipi list bean error error make sens sens still wet behind ear ear,0,0,1,1,0,camel-core/src/test/java/org/apache/camel/processor/BeanRecipientListNoMethodNameTest.java;camel-core/src/test/java/org/apache/camel/component/bean/issues/FilterBeanLanguageNonRegistryTest.java;camel-core/src/main/java/org/apache/camel/builder/Builder.java;camel-core/src/main/java/org/apache/camel/builder/BuilderSupport.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionClause.java;camel-core/src/main/java/org/apache/camel/model/language/MethodCallExpression.java;camel-core/src/test/java/org/apache/camel/component/bean/issues/FilterBeanNonRegistryTest.java;camel-core/src/test/java/org/apache/camel/component/bean/issues/FilterBeanRegistryTest.java;,0
2375,Claus Ibsen,camel-core,0,Let ExpressionClause be reusable by other builders which are not route based, let ExpressionClause express claus reusabl builder not rout base,Allows you to use all the expressions from ExpressionClause which has many  on other builders which are not tied to the route models.For example at mock  notify builder and elsewhere, allow use express ExpressionClause express claus mani builder not tie rout model model exampl mock notifi builder elsewher,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/ExpressionClause.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionClauseSupport.java;camel-core/src/main/java/org/apache/camel/builder/NotifyBuilder.java;camel-core/src/main/java/org/apache/camel/component/mock/AssertionClause.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/main/java/org/apache/camel/model/language/ExpressionDefinition.java;camel-core/src/main/java/org/apache/camel/model/language/MethodCallExpression.java;camel-core/src/main/java/org/apache/camel/model/language/NamespaceAwareExpression.java;camel-core/src/main/java/org/apache/camel/model/language/TokenizerExpression.java;camel-core/src/main/java/org/apache/camel/model/language/XPathExpression.java;camel-core/src/main/java/org/apache/camel/model/language/XQueryExpression.java;camel-core/src/test/java/org/apache/camel/builder/NotifyBuilderTest.java;camel-core/src/test/java/org/apache/camel/component/mock/MockAssertionClauseTest.java;,0
2384,Preben Asmussen,camel-core,0,camel-bean - CGLIB proxied classed having trouble using annotated bean bindings, camel bean camel bean CGLIB proxi class troubl use annot bean bind,Header value (and body) is not bound in pojo method:Route definiton: camel:route trace='true' id='RapNotificationRoute'&gt; &lt;camel:from uri='oracleQueue:queue:FURTHERELEMENTS_TEST?jmsMessageType=Text'/&gt; &lt;camel:transacted ref='PROPAGATION_REQUIRED'/&gt; &lt;camel:wireTap uri='seda:audit'/&gt; &lt;camel:to uri='mock:result'/&gt; &lt;/camel:route&gt; &lt;camel:route id='AuditRoute'&gt; &lt;camel:from uri='seda:audit'/&gt; &lt;camel:bean ref='auditMessageDAO' method='audit'/&gt; &lt;/camel:route&gt;auditMessageDAO interface: public void audit(@Body String body  @Header(value='JMSMessageID' String jmsMessageId)Trace from log when running: &#91;Camel thread 0: seda://audit&#93; 20 jan. 2010 - 12:22:09 858 INFO org.apache.camel.processor.interceptor.Tracer[42a5443b-0a62-4477-885f-c6f6c40274b1 &gt;&gt;&gt; (AuditRoute) from(seda://audit) --&gt; ref:auditMessageDAO method: audit &lt;&lt;&lt; Pattern:InOnly  Headers:{JMSDestination=PLAYLISTE.FURTHERELEMENTS_TEST  JMS_OracleDelay=0  JMSDeliveryMode=2  JMSRedelivered=true  JMS_OracleTimestamp=1263986526156  JMSType=null  JMSCorrelationID=null  JMSXRecvTimestamp=1263986529858  JMSXState=0  JMSXDeliveryCount=2  JMSMessageID=ID:7D97CBE346B7CAA2E040650A0A103AC2  JMSTimestamp=1263986526156  JMSPriority=1  JMSXGroupID=null  JMS_OracleDeliveryMode=2  JMSXUserID=playliste  JMSExpiration=0  JMSReplyTo=null}  BodyType:byte[]  Body:&lt;?xml version='1.0' encoding='UTF-8' standalone='yes'?&gt;&lt;Publication&gt;hidden&lt;/Publication&gt;]The exchange gets send (Evenen when using Oracle AQ)  to the seda:audit endpoint and the auditMessageDAO gets called. Body is bound to correct payload but the header element JMSMessageID is null. If i change the parameter to include @Headers Map the parameter is still null.Current workaround is to use the Message  or Exchange as parameter  but then my pojo will have dependencies on Camel - ok for now.See thread : http://old.nabble.com/wiretap-getting-header-value-ts27238444.html for further details., header valu bodi bodi not bound pojo method rout method rout definiton definiton camel rout camel rout trace true trace true id RapNotificationRoute gt id rap notif rout gt lt camel lt camel uri oracleQueue queue FURTHERELEMENTS_TEST jmsMessageType text gt uri oracl queue queue FURTHERELEMENTS TEST jm messag type text gt lt camel transact lt camel transact ref PROPAGATION_REQUIRED gt ref PROPAGATION REQUIRED gt lt camel wireTap lt camel wire tap uri seda audit gt uri seda audit gt lt camel lt camel uri mock result gt uri mock result gt lt camel rout gt lt camel rout gt lt camel rout lt camel rout id AuditRoute gt id audit rout gt lt camel lt camel uri seda audit gt uri seda audit gt lt camel bean lt camel bean ref auditMessageDAO ref audit messag DAO method audit gt method audit gt lt camel rout gt auditMessageDAO lt camel rout gt audit messag DAO interfac interfac public void audit bodi audit bodi string bodi header valu JMSMessageID header valu JMS messag ID string jmsMessageId trace jm messag Id trace log run run camel camel thread seda audit seda audit jan jan INFO org apach camel processor interceptor tracer org apach camel processor interceptor tracer gt gt gt gt gt gt AuditRoute audit rout seda audit seda audit gt gt ref auditMessageDAO ref audit messag DAO method method audit lt lt lt lt lt lt pattern InOnly pattern header JMSDestination PLAYLISTE FURTHERELEMENTS_TEST header JMS destin PLAYLISTE FURTHERELEMENTS TEST JMS_OracleDelay JMS oracl delay JMSDeliveryMode JMS deliveri mode JMSRedelivered true JMS redeliv true JMS_OracleTimestamp JMS oracl timestamp JMSType null JMS type null JMSCorrelationID null JMS correl ID null JMSXRecvTimestamp JMSX recv timestamp JMSXState JMSX state JMSXDeliveryCount JMSX deliveri count JMSMessageID ID CBE CAA AC JMS messag ID ID CBE CAA AC JMSTimestamp JMS timestamp JMSPriority JMS prioriti JMSXGroupID null JMSX group ID null JMS_OracleDeliveryMode JMS oracl deliveri mode JMSXUserID playlist JMSX user ID playlist JMSExpiration JMS expir JMSReplyTo null JMS repli null BodyType byte bodi type byte bodi lt xml bodi lt xml version version encod UTF encod UTF standalon ye gt lt public gt hidden lt public gt standalon ye gt lt public gt hidden lt public gt exchang get send evenen evenen use oracl AQ AQ seda audit seda audit endpoint auditMessageDAO audit messag DAO get call call bodi bound correct payload header element JMSMessageID JMS messag ID null null chang paramet includ header header map paramet still null current null current workaround use messag exchang paramet pojo depend camel ok see see thread detail detail,1,0,1,1,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;components/camel-spring/pom.xml;components/camel-spring/src/test/java/org/apache/camel/spring/aop/ExceptionInterceptor.java;components/camel-spring/src/test/java/org/apache/camel/spring/aop/MyCoolAopBean.java;components/camel-spring/src/test/java/org/apache/camel/spring/aop/SpringAopClassLevelCamelBeanTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/aop/SpringAopClassLevelCamelBeanTest.xml;,0
2388,Christian Schneider,camel-cxf,0,Remove some dependencies, remov depend,While checking the dependencies of camel-cxf I found that some dependencies are at least not necessary to compile the project.I have attached a patch with the removed dependencies. The dependencies are:camel-springcxf-rt-transports-http-jetty, check depend camel cxf camel cxf found depend least not necessari compil project project attach patch remov depend depend depend camel springcxf rt transport http jetti camel springcxf rt transport http jetti,1,0,1,0,0,components/camel-cxf/pom.xml;,0
2392,Claus Ibsen,camel-core,0,DefaultTypeConverterRegistry - Let it load upfront, DefaultTypeConverterRegistry default type convert registri let load upfront,This allows it to pre load all type converters on startup instead on demand. This also removes the need for synchronization at runtime as the converters are loaded up front., allow pre load type convert startup instead demand demand also remov need synchron runtim convert load front front,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/test/java/org/apache/camel/converter/ConverterTest.java;camel-core/src/test/java/org/apache/camel/converter/JaxpTest.java;camel-core/src/test/java/org/apache/camel/converter/StringSourceTest.java;camel-core/src/test/java/org/apache/camel/impl/MultipleLifecycleStrategyTest.java;examples/camel-example-cxf-async/src/main/resources/META-INF/spring/camel-client.xml;components/camel-jcr/src/test/java/org/apache/camel/component/jcr/JcrConverterTest.java;components/camel-scala/src/test/scala/org/apache/camel/scala/ScalaTypeConverterTest.scala;,0
2395,Claus Ibsen,camel-core,0,file component - Using fileName option should better detect constant vs dynamic name, file compon use fileName file name option better detect constant vs dynam name,eg using fileName=header.txt makes Camel think its header with the name txt you want to use., eg use fileName header txt file name header txt make camel think header name txt want use use,0,0,0,0,0,camel-core/src/test/java/org/apache/camel/component/file/FromFileMulticastToFilesTest.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/test/java/org/apache/camel/component/file/FileProducerFilenameConstantTest.java;camel-core/src/test/java/org/apache/camel/component/file/FromFileMulticastToFilesTest.java;,0
2398,Kostyantyn Oliynyk,camel-core,0,DefaultCamelContext starts route services out of order, DefaultCamelContext default camel context start rout servic order,org.apache.camel.impl.DefaultCamelContext uses HashMap to hold route servicesIn start() method it uses routeServices.values() to list route services.It does not work for Esper.Camel-extra Esper demo example for Esper  http://code.google.com/p/camel-extra/wiki/EsperDemo  creates 3 routes:1: Route[[From&#91;activemq:EventStreamQueue&#93;] -&gt; [To&#91;esper://feed&#93;]]2: Route[[From&#91;esper://feed?eql=insert into TicksPerSecond select feed  count(*) as cnt from com.iona.ps.demos.MarketDataEvent.win:time_batch(1 sec) group by feed&#93;] -&gt; [To&#91;esper://feed&#93;]]3: Route[[From&#91;esper://feed?eql=select feed  avg(cnt) from TicksPerSecond.win:time(10 sec) group by feed + having cnt &lt; avg(cnt) * 0.75&#93;] -&gt; [To&#91;esper://feed&#93;  process&#91;com.iona.ps.demos.MyRouteBuilder$1@1274069&#93;]]3-rd route depends on 2-nd route  it uses TicksPerSecond event type that gets created in route 2.DefaultCamelContext starts 3-rd route before 2-nd route  as a result Esper fails to resolve event type:com.espertech.esper.epl.expression.ExprValidationException: Failed to resolve event type: Event type or class named 'TicksPerSecond' was not found at com.espertech.esper.epl.spec.FilterStreamSpecRaw.resolveType(FilterStreamSpecRaw.java:189) at com.espertech.esper.epl.spec.FilterStreamSpecRaw.compile(FilterStreamSpecRaw.java:99) at com.espertech.esper.core.StatementLifecycleSvcImpl.compile(StatementLifecycleSvcImpl.java:956) at com.espertech.esper.core.StatementLifecycleSvcImpl.createStopped(StatementLifecycleSvcImpl.java:195) ... As a workaround  it is possible to change startup order by assigning custom ids to routes  so routeServices HashMap would return values in different order. Please  be advise that 3-rd route's From URI: 'esper://feed?eql=select feed  avg(cnt) from TicksPerSecond.win:time(10 sec) group by feed + having cnt &lt; avg(cnt) * 0.75' is modified original From URI from svn:'esper://feed?eql=select feed  avg(cnt) as avgCnt  cnt as feedCnt from TicksPerSecond.win:time(10 sec) group by feed + having cnt &lt; avg(avgCnt) * 0.75' It was done to resolve Esper compiling issue with avgCnt and feedCnt and has no impact on this reported Camel issue ., org apach camel impl DefaultCamelContext org apach camel impl default camel context use HashMap hash map hold rout servicesIn servic start start method use routeServices valu rout servic valu list rout servic servic not work esper camel extra esper camel extra esper demo exampl esper creat rout rout rout activemq EventStreamQueue rout activemq event stream queue gt gt esper feed esper feed rout esper feed eql insert rout esper feed eql insert TicksPerSecond tick per second select feed count count cnt com iona ps demo MarketDataEvent win time_batch com iona ps demo market data event win time_batch sec sec group feed feed gt gt esper feed esper feed rout esper feed eql select rout esper feed eql select feed avg cnt avg cnt TicksPerSecond win time tick per second win time sec sec group feed cnt lt lt avg cnt avg cnt gt gt esper feed esper feed process com iona ps demo MyRouteBuilder rd process com iona ps demo rout builder rd rout depend nd rout use TicksPerSecond tick per second event type get creat rout DefaultCamelContext default camel context start rd rout nd rout result esper fail resolv event type com espertech esper epl express ExprValidationException type com espertech esper epl express expr valid except fail resolv event type type event type class name TicksPerSecond tick per second not found com espertech esper epl spec FilterStreamSpecRaw resolveType FilterStreamSpecRaw java com espertech esper epl spec filter stream spec raw resolv type filter stream spec raw java com espertech esper epl spec FilterStreamSpecRaw compil FilterStreamSpecRaw java com espertech esper epl spec filter stream spec raw compil filter stream spec raw java com espertech esper core StatementLifecycleSvcImpl compil StatementLifecycleSvcImpl java com espertech esper core statement lifecycl svc impl compil statement lifecycl svc impl java com espertech esper core StatementLifecycleSvcImpl createStopped StatementLifecycleSvcImpl java com espertech esper core statement lifecycl svc impl creat stop statement lifecycl svc impl java workaround possibl chang startup order assign custom id rout routeServices rout servic HashMap hash map would return valu differ order order pleas advis rd rout rout URI URI esper feed eql select esper feed eql select feed avg cnt avg cnt TicksPerSecond win time tick per second win time sec sec group feed cnt lt lt avg cnt avg cnt modifi origin URI svn esper feed eql select svn esper feed eql select feed avg cnt avg cnt avgCnt avg cnt cnt feedCnt feed cnt TicksPerSecond win time tick per second win time sec sec group feed cnt lt lt avg avgCnt avg avg cnt done resolv esper compil issu avgCnt avg cnt feedCnt feed cnt no impact report camel issu,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultRouteStartupOrder.java;camel-core/src/test/java/org/apache/camel/processor/RouteServicesStartupOrderTest.java;,0
2434,Claus Ibsen,camel-core,0,Mock component - expected header and property should output the name that fails, mock compon expect header properti output name fail,So you know the name of the header which failed. Currently it just say: Header of message bla bla, know name header fail fail current say say header messag bla bla,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/test/java/org/apache/camel/component/mock/MockEndpointTest.java;,0
2436,Claus Ibsen,camel-core,0,BeanProcessor - Should differentiate between void and method returning null values, BeanProcessor bean processor differenti void method return null valu,When invoking a bean method it should better detect whether the bean is a void or has a return type.And if it returns null it should be regarded as a valid response and set as body.See nabblehttp://old.nabble.com/filtering-messages-ts27403559.html, invok bean method better detect whether bean void return type type return null regard valid respons set bodi see bodi see nabblehttp old nabbl com filter messag ts html nabblehttp old nabbl com filter messag ts html,0,0,0,1,1,camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanInvokeTest.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanWithPropertiesAndHeadersAndBodyInjectionTest.java;camel-core/src/test/java/org/apache/camel/component/bean/issues/FilterPojoIssueTest.java;,0
2447,Willem Jiang,camel-cxf,0,cxfbean should  propagate CONTENT_TYPE for other camel component to use, cxfbean propag CONTENT_TYPE CONTENT TYPE camel compon use,There is no 'content-type' header return from the below route &lt;route&gt; &lt;from uri='jetty:http://localhost:9006/employeesBase?matchOnUriPrefix=true'/&gt; &lt;to uri='cxfbean:EmployeesPOJO'/&gt; &lt;/route&gt;, no content type content type header return rout lt rout gt lt rout gt lt lt uri jetti http localhost employeesBase matchOnUriPrefix true gt uri jetti http localhost employe base match uri prefix true gt lt lt uri cxfbean EmployeesPOJO gt uri cxfbean employe POJO gt lt rout gt lt rout gt,0,0,1,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/cxfbean/DefaultCxfBeanBinding.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/cxfbean/CxfBeanTest.java;,0
2452,Christian Müller,camel-http,0,HttpHeaderFilterStrategy dosn't filters out 'Cache-Control'  'Connection'  'Pragma'  'Trailer'  'Transfer-Encoding'  'Upgrade'  'Via' and 'Warning' in method applyFilterToCamelHeaders, HttpHeaderFilterStrategy http header filter strategi dosn dosn filter cach control cach control connect connect pragma pragma trailer trailer transfer encod transfer encod upgrad upgrad via via warn warn method applyFilterToCamelHeaders appli filter camel header,HttpHeaderFilterStrategy uses the HTTP headers with upper case characters on the beginning (e. g. 'Transfer-Encoding' instead of 'transfer-encoding')., HttpHeaderFilterStrategy http header filter strategi use HTTP header upper case charact begin transfer encod transfer encod instead transfer encod transfer encod,0,1,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpHeaderFilterStrategy.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpHeaderFilterStrategyTest.java;,0
2456,Willem Jiang,camel-jms,0,WARNING log of JmsTemporaryTopicEndpoint   JmsTemporaryQueueEndpoint don't have the ManagedResource annotation, WARNING log JmsTemporaryTopicEndpoint jm temporari topic endpoint JmsTemporaryQueueEndpoint jm temporari queue endpoint ManagedResource manag resourc annot,Here is the mail thread which discusses about this issue.http://old.nabble.com/Attemp-to-send-message-to-activemq-temporary-queue-using-producerTemplate%3A-InvalidMetadataException-tp27520096p27520096.html, mail thread discuss issu http old nabbl com attemp send messag activemq temporari queue use producerTemplate InvalidMetadataException tp html issu http old nabbl com attemp send messag activemq temporari queue use produc templat invalid metadata except tp html,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsTemporaryQueueEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsTemporaryTopicEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsTemporaryQueueEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsTemporaryTopicEndpoint.java;,0
2458,Christian Müller,camel-http,0,HttpHeaderFilterStrategy should filter the HTTP 'Date' header when applyFilterToCamelHeaders is called, HttpHeaderFilterStrategy http header filter strategi filter HTTP date date header applyFilterToCamelHeaders appli filter camel header call,See rfc2616., see rfc rfc,0,1,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpHeaderFilterStrategy.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpHeaderFilterStrategyTest.java;,0
2471,Claus Ibsen,camel-core,0,seda endpoint - Let it be easily to configure size option to use an unbounded queue, seda endpoint let easili configur size option use unbound queue,Instead of having 1000 as the default size we should let it be unbounded by default and let people set a size if they really want that, instead default size let unbound default let peopl set size realli want,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaComponent.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaEndpoint.java;camel-core/src/main/java/org/apache/camel/model/AggregateDefinition.java;camel-core/src/test/java/org/apache/camel/component/seda/SedaDefaultUnboundedQueueSizeTest.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaEndpoint.java;camel-core/src/test/java/org/apache/camel/component/seda/SedaEndpointTest.java;,0
2476,Abdellatif,camel-velocity,0,Camel Velocity: change the case of all fields properties Header, camel veloc veloc chang case field properti header,Using the velocity component doesn't respect the case matching of all fields of the header.For example: the exchange of properties CorrelationID change the case matching  after using velocity component  it puts the property in lowercase correlationid., use veloc compon respect case match field header header exampl exampl exchang properti CorrelationID correl ID chang case match use veloc compon put properti lowercas correlationid correlationid,0,1,0,0,0,components/camel-velocity/src/main/java/org/apache/camel/component/velocity/VelocityEndpoint.java;components/camel-velocity/src/test/java/org/apache/camel/component/velocity/VelocityTemplateInHeaderTest.java;,0
2477,Abdellatif,null,0,Camel Freemarker: change the case of all fields properties Header, camel freemark freemark chang case field properti header,Using the Freemarker component doesn't respect the case matching of all fields of the header.For example: the exchange of properties CorrelationID change the case matching  after using Freemarker component  it puts the property in lowercase correlationid., use freemark compon respect case match field header header exampl exampl exchang properti CorrelationID correl ID chang case match use freemark compon put properti lowercas correlationid correlationid,0,1,0,0,0,components/camel-freemarker/src/main/java/org/apache/camel/component/freemarker/FreemarkerEndpoint.java;components/camel-freemarker/src/test/java/org/apache/camel/component/freemarker/FreemarkerTemplateInHeaderTest.java;,0
2483,Claus Ibsen,camel-core,0,NotifyBuilder - add reset method, NotifyBuilder notifi builder add reset method,Add a reset() method, add reset reset method,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/NotifyBuilder.java;camel-core/src/test/java/org/apache/camel/builder/NotifyBuilderTest.java;,0
2486,Michael Mathers,camel-core,0,DefaultCamelContext throws NPE in start() for route with no destination, DefaultCamelContext default camel context throw NPE start start rout no destin,Not easy to track down when you have a lot of routes. This might be new with the introduction of StartupRouteHolder (I think that was introduced in 2.1  right?)public class TriggerNPETest extends CamelTestSupport { @Override protected RouteBuilder createRouteBuilder() throws Exception { return new RouteBuilder() { public void configure() { // This will generate an NPE on DefaultCamelContext.start() (line 973) // If this is an invalid route a proper message should be given far before  // this and/or NPE should be tested on line 973 from('direct:psd.nowhere'); } }; } @Test public void testme() throws Exception { Thread.sleep(10000); }}java.lang.NullPointerException at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:973) at org.apache.camel.test.junit4.CamelTestSupport.startCamelContext(CamelTestSupport.java:145) at org.apache.camel.test.junit4.CamelTestSupport.setUp(CamelTestSupport.java:98) // now start the inputs for all the route services as we have prepared Camel // yeah open the floods so messages can start flow into Camel for (Map.Entry&lt;Integer  StartupRouteHolder&gt; entry : inputs.entrySet()) { Integer order = entry.getKey(); Route route = entry.getValue().getRoute(); // &lt;&lt;&lt;------- Right here., not easi track lot rout rout might new introduct StartupRouteHolder startup rout holder think introduc right public right public class TriggerNPETest trigger NPE test extend CamelTestSupport camel test support overrid overrid protect RouteBuilder rout builder createRouteBuilder creat rout builder throw except return new RouteBuilder rout builder public void configur configur gener NPE DefaultCamelContext start default camel context start line invalid rout proper messag given far NPE test line direct psd nowher direct psd nowher test test public void testm testm throw except thread sleep thread sleep java lang NullPointerException java lang null pointer except org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel test junit CamelTestSupport startCamelContext CamelTestSupport java org apach camel test junit camel test support start camel context camel test support java org apach camel test junit CamelTestSupport setUp CamelTestSupport java org apach camel test junit camel test support set camel test support java start input rout servic prepar camel yeah open flood messag start flow camel map entri lt integ map entri lt integ StartupRouteHolder gt startup rout holder gt entri input entrySet input entri set integ order entri getKey entri get key rout rout entri getValue getRoute entri get valu get rout lt lt lt lt lt lt right,1,0,1,1,0,camel-core/src/main/java/org/apache/camel/language/bean/BeanExpression.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinition.java;camel-core/src/test/java/org/apache/camel/impl/FromHasNoOutputRouteTest.java;,0
2492,Claus Ibsen,camel-core,0,PollingConsumerPollStrategy - Should support boolean on begin to support skipping polling, PollingConsumerPollStrategy poll consum poll strategi support boolean begin support skip poll,See nabblehttp://old.nabble.com/File-Consumer-with-dynamic-list-of-files-to-poll-ts27683938.htmlAnd wiki pagehttp://camel.apache.org/polling-consumer.html, see nabblehttp old nabbl com file consum dynam list file poll ts htmlAnd nabblehttp old nabbl com file consum dynam list file poll ts html wiki pagehttp camel apach org poll consum html pagehttp camel apach org poll consum html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultPollingConsumerPollStrategy.java;camel-core/src/main/java/org/apache/camel/impl/ScheduledPollConsumer.java;camel-core/src/main/java/org/apache/camel/spi/PollingConsumerPollStrategy.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerPollStrategyNotBeginTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerPollStrategyRollbackThrowExceptionTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerPollStrategyStopOnRollbackTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerPollStrategyTest.java;camel-core/src/test/java/org/apache/camel/impl/ScheduledPollConsumerTest.java;,0
2514,Freeman Fang,karaf,0,karaf features.xml  should use servicemix commons-pool bundle, karaf featur xml featur xml use servicemix common pool common pool bundl,as commons-pool/commons-pool/1.5.4 osgi manifest header isn't correct  which shouldn't import org.apache.commons.pool package.SMX4-491&#91;1&#93; create servicemix wrapper bundle to fix this issue  so the karaf features.xml should use servicemix wrapper bundle&#91;1&#93;https://issues.apache.org/activemq/browse/SMX4-491, common pool common pool common pool common pool osgi manifest header correct import org apach common pool org apach common pool packag SMX packag SMX creat servicemix wrapper bundl fix issu karaf featur xml featur xml use servicemix wrapper bundl http issu apach org activemq brows SMX bundl http issu apach org activemq brows SMX,0,1,0,0,0,platforms/karaf/features/pom.xml;platforms/karaf/features/src/main/resources/features.xml;,0
2526,Claus Ibsen,camel-core,0,SedaConsumer - Add check to limit the concurrentConsumer to < 1000 to prevent mistypes, SedaConsumer seda consum add check limit concurrentConsumer concurr consum prevent mistyp,If you enter concurrentConsumers=99999999 then Camel creates a lot of threads for concurrent consumers on the SEDA queue.We should validate the size is a reasonable value  at least &lt; 1000. Maybe limit to &lt; 500, enter concurrentConsumers concurr consum camel creat lot thread concurr consum SEDA queue queue valid size reason valu least lt lt mayb limit lt lt,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaComponent.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaComponent.java;,0
2528,Freeman Fang,karaf,0,should use servicemix jaxws 2.1 spec bundle but not the geronimo one, use servicemix jaxw spec bundl not geronimo one,otherwise will see the exception like javax.xml.ws.spi.FactoryFinder$ConfigurationError: Provider org.apache.axis2.jaxws.spi.Provider not foundat javax.xml.ws.spi.FactoryFinder$2.run(FactoryFinder.java:135)at javax.xml.ws.spi.FactoryFinder.doPrivileged(FactoryFinder.java:264)at javax.xml.ws.spi.FactoryFinder.newInstance(FactoryFinder.java:122)at javax.xml.ws.spi.FactoryFinder.access$200(FactoryFinder.java:42)at javax.xml.ws.spi.FactoryFinder$3.run(FactoryFinder.java:255)at javax.xml.ws.spi.FactoryFinder.doPrivileged(FactoryFinder.java:264)at javax.xml.ws.spi.FactoryFinder.find(FactoryFinder.java:165)at javax.xml.ws.spi.Provider.provider(Provider.java:39)at javax.xml.ws.Service.&lt;init&gt;(Service.java:36), otherwis see except like javax xml ws spi FactoryFinder ConfigurationError javax xml ws spi factori finder configur error provid org apach axi jaxw spi provid org apach axi jaxw spi provid not foundat javax xml ws spi FactoryFinder run FactoryFinder java javax xml ws spi factori finder run factori finder java javax xml ws spi FactoryFinder doPrivileged FactoryFinder java javax xml ws spi factori finder privileg factori finder java javax xml ws spi FactoryFinder newInstance FactoryFinder java javax xml ws spi factori finder new instanc factori finder java javax xml ws spi FactoryFinder access FactoryFinder java javax xml ws spi factori finder access factori finder java javax xml ws spi FactoryFinder run FactoryFinder java javax xml ws spi factori finder run factori finder java javax xml ws spi FactoryFinder doPrivileged FactoryFinder java javax xml ws spi factori finder privileg factori finder java javax xml ws spi FactoryFinder find FactoryFinder java javax xml ws spi factori finder find factori finder java javax xml ws spi provid provid provid java javax xml ws spi provid provid provid java javax xml ws servic lt init gt servic java javax xml ws servic lt init gt servic java,1,1,0,0,0,platforms/karaf/features/pom.xml;platforms/karaf/features/src/main/resources/features.xml;,0
2529,Willem Jiang,camel-jms,0,ConsumerTemplate don't support the jms uri with selector, ConsumerTemplate consum templat support jm uri selector,This unit test can shows the issue that selector option don't work for ConsumerTemplate@Test public void testConsumerTemplate() throws Exception { template.sendBodyAndHeader('activemq:queue:consumer'  'Message1'  'SIZE_NUMBER'  1505); template.sendBodyAndHeader('activemq:queue:consumer'  'Message3'  'SIZE_NUMBER'  1300); template.sendBodyAndHeader('activemq:queue:consumer'  'Message2'  'SIZE_NUMBER'  1600); // process every exchange which is ready. If no exchange is left break // the loop while (true) { Exchange ex = consumer.receiveNoWait('activemq:queue:consumer?selector=SIZE_NUMBER&lt;1500'); if (ex != null) { Message message = ex.getIn(); int size = message.getHeader('SIZE_NUMBER'  int.class); assertTrue('The message header SIZE_NUMBER should be less than 1500'  size &lt; 1500); assertEquals('The message body is wrong'  'Message3'  message.getBody()); } else { break; } } }And here is mail thread which discusses about it., unit test show issu selector option work ConsumerTemplate test consum templat test public void testConsumerTemplate test consum templat throw except templat sendBodyAndHeader activemq queue consum templat send bodi header activemq queue consum messag messag SIZE_NUMBER SIZE NUMBER templat sendBodyAndHeader activemq queue consum templat send bodi header activemq queue consum messag messag SIZE_NUMBER SIZE NUMBER templat sendBodyAndHeader activemq queue consum templat send bodi header activemq queue consum messag messag SIZE_NUMBER SIZE NUMBER process everi exchang readi readi no exchang left break loop true true exchang ex consum receiveNoWait activemq queue consum selector SIZE_NUMBER lt consum receiv No wait activemq queue consum selector SIZE NUMBER lt ex null null messag messag ex getIn ex get int size messag getHeader SIZE_NUMBER messag get header SIZE NUMBER int class int class assertTrue assert true messag header SIZE_NUMBER SIZE NUMBER less size lt lt assertEquals assert equal messag bodi wrong wrong messag messag messag getBody messag get bodi els break break mail thread discuss,0,0,1,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsPollingConsumer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsSelectorOptionTest.java;,0
2537,Jeff Sprankle,camel-core,0,Batch Resequencer issues with JMSPriority, batch resequenc issu JMSPriority JMS prioriti,My project uses ActiveMQ and we have a requirement to support priority queues for one or more of our configured queues. One of the suggestions under the ActiveMQ FAQ is to use a Resequencer  so I followed the link and applied the &lt;resequence&gt; element to my XML-based route. While testing this functionality we uncovered a couple issues that seem like they should be addressed in a future release of camel-core. The JMSPriority header is not a unique field and internally the Resequencer class uses java.util.Set to collect messages into a batch. This means that a given batch cannot contain multiple messages with the same JMSPriority. For example  if I use the default batch config and submit five messages with JMSPriority=6 to the queue within a second  only one of those message is delivered to the configured endpoint. According to the JMS API  priority has ten values where 0 is the lowest and 9 is the highest. This means that messages with higher priorities should be processed before messages with lower priorities. When I configure my resequencer with &lt;header&gt;JMSPriority&lt;/header&gt;  however  it by default orders the messages within the batch in ascending order which means that messages with lower priorities are processed first.If there are any known workarounds to these issues please document them  because the current Resequencer documentation that uses JMSPriority as an example is misleading., project use ActiveMQ activ MQ requir support prioriti queue one configur queue queue one suggest ActiveMQ activ MQ FAQ use resequenc follow link appli lt resequ gt lt resequ gt element XML base XML base rout rout test function uncov coupl issu seem like address futur releas camel core camel core JMSPriority JMS prioriti header not uniqu field intern resequenc class use java util set java util set collect messag batch batch mean given batch cannot contain multipl messag JMSPriority JMS prioriti exampl use default batch config submit five messag JMSPriority JMS prioriti queue within second one messag deliv configur endpoint endpoint accord JMS API prioriti ten valu lowest highest highest mean messag higher prioriti process messag lower prioriti prioriti configur resequenc lt header gt JMSPriority lt header gt lt header gt JMS prioriti lt header gt howev default order messag within batch ascend order mean messag lower prioriti process first first known workaround issu pleas document current resequenc document use JMSPriority JMS prioriti exampl mislead mislead,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/model/ResequenceDefinition.java;camel-core/src/main/java/org/apache/camel/model/config/BatchResequencerConfig.java;camel-core/src/main/java/org/apache/camel/processor/Resequencer.java;camel-core/src/test/java/org/apache/camel/processor/BatchResequencerJMSPriorityTest.java;camel-core/src/main/java/org/apache/camel/model/ResequenceDefinition.java;camel-core/src/main/java/org/apache/camel/model/config/BatchResequencerConfig.java;camel-core/src/main/java/org/apache/camel/processor/Resequencer.java;camel-core/src/main/java/org/apache/camel/util/Ordered.java;camel-core/src/test/java/org/apache/camel/processor/BatchResequencerAllowDuplicatesTest.java;camel-core/src/test/java/org/apache/camel/processor/BatchResequencerWithDuplicateTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringBatchResequencerAllowDuplicatesTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/BatchResequencerAllowDuplicatesTest.xml;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsBatchResequencerJMSPriorityTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringBatchResequencerJMSPriorityTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/BatchResequencerJMSPriorityTest.xml;,0
2540,Anand,camel-core; camel-mina,0,async route not working with Mina, async rout not work mina,here is my route: from('mina:tcp://localhost:6202?textline=true&amp;sync=true').process(new Processor() { public void process(Exchange exchange) throws Exception { String body = exchange.getIn().getBody(String.class); Thread.sleep(5000); exchange.getOut().setBody('Bye 1' + body); } }); from('file:///test/test/response') .convertBodyTo(String.class)//.threads(1) .toAsync('mina:tcp://localhost:6202?sync=true&amp;textline=true' 10) .to('log:+++ reply++++'); here is the output  you can see all reply logs have a same message body and async process is releasing all threads at the first response  this is probably Mina component bug in the context of aync route.2010-03-11 10:21:16 405 &#91;Camel thread 11: FileComponent&#93; FileConsumer DEBUG Total 3 files to consume2010-03-11 10:21:16 405 &#91;Camel thread 11: FileComponent&#93; FileConsumer DEBUG About to process file: GenericFile&#91;C:/test/test/response/Copy (2) of New Text Document (3).txt&#93; using exchange: Exchange[GenericFileMessage with file: GenericFile&#91;C:/test/test/response/Copy (2) of New Text Document (3).txt&#93;]2010-03-11 10:21:16 452 &#91;Camel thread 11: FileComponent&#93; DefaultManagementAgent DEBUG Registered MBean with objectname: org.apache.camel:context=tamlft0spj1/cameltest type=producers name=MinaProducer(0x2e6c66)2010-03-11 10:21:16 452 &#91;Camel thread 11: FileComponent&#93; MinaProducer DEBUG Starting producer: Producer&#91;mina://tcp://localhost:6202?sync=true&amp;textline=true&#93;2010-03-11 10:21:16 452 &#91;Camel thread 11: FileComponent&#93; ProducerCache DEBUG Adding to producer service pool with key: Endpoint&#91;mina://tcp://localhost:6202?sync=true&amp;textline=true&#93; for producer: Producer&#91;mina://tcp://localhost:6202?sync=true&amp;textline=true&#93;2010-03-11 10:21:16 452 &#91;2: SendAsyncProcessor-Producer&#93; MinaProducer DEBUG Creating connector to address: localhost/127.0.0.1:6202 using connector: org.apache.mina.transport.socket.nio.SocketConnector@16cefa8 timeout: 30000 millis.2010-03-11 10:21:16 452 &#91;Camel thread 11: FileComponent&#93; FileConsumer DEBUG About to process file: GenericFile&#91;C:/test/test/response/Copy of New Text Document (3).txt&#93; using exchange: Exchange[GenericFileMessage with file: GenericFile&#91;C:/test/test/response/Copy of New Text Document (3).txt&#93;]2010-03-11 10:21:16 467 &#91;3: SendAsyncProcessor-Producer&#93; MinaProducer DEBUG Creating connector to address: localhost/127.0.0.1:6202 using connector: org.apache.mina.transport.socket.nio.SocketConnector@16cefa8 timeout: 30000 millis.2010-03-11 10:21:16 467 &#91;Camel thread 11: FileComponent&#93; FileConsumer DEBUG About to process file: GenericFile&#91;C:/test/test/response/New Text Document (3).txt&#93; using exchange: Exchange[GenericFileMessage with file: GenericFile&#91;C:/test/test/response/New Text Document (3).txt&#93;]2010-03-11 10:21:16 467 &#91;4: SendAsyncProcessor-Producer&#93; MinaProducer DEBUG Creating connector to address: localhost/127.0.0.1:6202 using connector: org.apache.mina.transport.socket.nio.SocketConnector@16cefa8 timeout: 30000 millis.2010-03-11 10:21:16 499 &#91;SocketConnectorIoProcessor-0.1&#93; ExecutorFilter DEBUG Launching thread for localhost/127.0.0.1:62022010-03-11 10:21:16 499 [ SocketAcceptorIoProcessor-0.0] ExecutorFilter DEBUG Launching thread for /127.0.0.1:33622010-03-11 10:21:16 499 [ SocketAcceptorIoProcessor-0.1] ExecutorFilter DEBUG Launching thread for /127.0.0.1:33632010-03-11 10:21:16 499 &#91;SocketConnectorIoProcessor-0.0&#93; ExecutorFilter DEBUG Launching thread for localhost/127.0.0.1:62022010-03-11 10:21:16 499 [ SocketAcceptorIoProcessor-0.2] ExecutorFilter DEBUG Launching thread for /127.0.0.1:33742010-03-11 10:21:16 499 &#91;SocketConnectorIoProcessor-0.2&#93; ExecutorFilter DEBUG Launching thread for localhost/127.0.0.1:62022010-03-11 10:21:16 514 &#91;amel thread 22: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for /127.0.0.1:33632010-03-11 10:21:16 514 &#91;amel thread 24: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for /127.0.0.1:33622010-03-11 10:21:16 514 &#91;amel thread 23: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for localhost/127.0.0.1:62022010-03-11 10:21:16 514 &#91;2: SendAsyncProcessor-Producer&#93; MinaProducer DEBUG Writing body : hello22010-03-11 10:21:16 514 &#91;3: SendAsyncProcessor-Producer&#93; MinaProducer DEBUG Writing body : hello32010-03-11 10:21:16 514 &#91;amel thread 26: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for /127.0.0.1:33742010-03-11 10:21:16 514 &#91;amel thread 25: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for localhost/127.0.0.1:62022010-03-11 10:21:16 514 &#91;amel thread 27: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for localhost/127.0.0.1:62022010-03-11 10:21:16 514 &#91;4: SendAsyncProcessor-Producer&#93; MinaProducer DEBUG Writing body : hello12010-03-11 10:21:16 514 &#91;SocketConnectorIoProcessor-0.2&#93; ExecutorFilter DEBUG Launching thread for localhost/127.0.0.1:62022010-03-11 10:21:16 514 &#91;3: SendAsyncProcessor-Producer&#93; MinaProducer DEBUG Waiting for response2010-03-11 10:21:16 530 &#91;2: SendAsyncProcessor-Producer&#93; MinaProducer DEBUG Waiting for response2010-03-11 10:21:16 530 &#91;4: SendAsyncProcessor-Producer&#93; MinaProducer DEBUG Waiting for response2010-03-11 10:21:16 530 [ SocketAcceptorIoProcessor-0.2] ExecutorFilter DEBUG Launching thread for /127.0.0.1:33742010-03-11 10:21:16 530 &#91;amel thread 27: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for localhost/127.0.0.1:62022010-03-11 10:21:16 530 &#91;amel thread 26: MinaThreadPool&#93; MinaConsumer DEBUG Received body: hello22010-03-11 10:21:21 530 &#91;amel thread 26: MinaThreadPool&#93; MinaConsumer DEBUG Writing body: Bye 1hello22010-03-11 10:21:21 530 &#91;SocketConnectorIoProcessor-0.2&#93; ExecutorFilter DEBUG Launching thread for localhost/127.0.0.1:62022010-03-11 10:21:21 530 &#91;amel thread 27: MinaThreadPool&#93; MinaProducer DEBUG Message received: Bye 1hello22010-03-11 10:21:21 530 &#91;amel thread 27: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for localhost/127.0.0.1:62022010-03-11 10:21:21 530 &#91;amel thread 26: MinaThreadPool&#93; MinaConsumer DEBUG Received body: hello32010-03-11 10:21:21 530 &#91;:6202?sync=true&amp;textline=true&#93;] SendProcessor DEBUG Async reply received now routing the Exchange: Exchange&#91;Message: Bye 1hello2&#93;2010-03-11 10:21:21 530 &#91;:6202?sync=true&amp;textline=true&#93;] SendProcessor DEBUG Async reply received now routing the Exchange: Exchange&#91;Message: Bye 1hello2&#93;2010-03-11 10:21:21 530 &#91;:6202?sync=true&amp;textline=true&#93;] SendProcessor DEBUG Async reply received now routing the Exchange: Exchange&#91;Message: Bye 1hello2&#93;2010-03-11 10:21:21 546 &#91;:6202?sync=true&amp;textline=true&#93;] DefaultManagementAgent DEBUG Registered MBean with objectname: org.apache.camel:context=tamlft0spj1/cameltest type=producers name=Producer(0x16321e6)2010-03-11 10:21:21 546 &#91;:6202?sync=true&amp;textline=true&#93;] ProcessorEndpoint$1 DEBUG Starting producer: Producer&#91;log://+++ reply++++&#93;2010-03-11 10:21:21 546 &#91;:6202?sync=true&amp;textline=true&#93;] ProducerCache DEBUG Adding to producer cache with key: Endpoint&#91;log://+++ reply++++&#93; for producer: Producer&#91;log://+++ reply++++&#93;2010-03-11 10:21:21 546 &#91;:6202?sync=true&amp;textline=true&#93;] +++ reply++++ INFO Exchange&#91;BodyType:String  Body:Bye 1hello2&#93;2010-03-11 10:21:21 546 &#91;:6202?sync=true&amp;textline=true&#93;] GenericFileOnCompletion DEBUG Done processing file: GenericFile&#91;C:/test/test/response/Copy (2) of New Text Document (3).txt&#93; using exchange: Exchange&#91;Message: Bye 1hello2&#93;2010-03-11 10:21:21 546 &#91;:6202?sync=true&amp;textline=true&#93;] +++ reply++++ INFO Exchange&#91;BodyType:String  Body:Bye 1hello2&#93;2010-03-11 10:21:21 546 &#91;:6202?sync=true&amp;textline=true&#93;] GenericFileOnCompletion DEBUG Done processing file: GenericFile&#91;C:/test/test/response/Copy of New Text Document (3).txt&#93; using exchange: Exchange&#91;Message: Bye 1hello2&#93;2010-03-11 10:21:21 546 &#91;:6202?sync=true&amp;textline=true&#93;] FileUtil DEBUG Tried 1 to delete file: C:/test/test/response/Copy (2) of New Text Document (3).txt.camelLock with result: true2010-03-11 10:21:21 561 &#91;:6202?sync=true&amp;textline=true&#93;] +++ reply++++ INFO Exchange&#91;BodyType:String  Body:Bye 1hello2&#93;2010-03-11 10:21:21 561 &#91;:6202?sync=true&amp;textline=true&#93;] GenericFileOnCompletion DEBUG Done processing file: GenericFile&#91;C:/test/test/response/New Text Document (3).txt&#93; using exchange: Exchange&#91;Message: Bye 1hello2&#93;2010-03-11 10:21:21 561 &#91;:6202?sync=true&amp;textline=true&#93;] FileUtil DEBUG Tried 1 to delete file: C:/test/test/response/Copy of New Text Document (3).txt.camelLock with result: true2010-03-11 10:21:21 561 &#91;:6202?sync=true&amp;textline=true&#93;] nericFileRenameProcessStrategy DEBUG Renaming file: GenericFile&#91;C:/test/test/response/Copy (2) of New Text Document (3).txt&#93; to: GenericFile&#91;C:/test/test/response/.camel/Copy (2) of New Text Document (3).txt&#93;2010-03-11 10:21:21 561 &#91;:6202?sync=true&amp;textline=true&#93;] FileUtil DEBUG Tried 1 to delete file: C:/test/test/response/New Text Document (3).txt.camelLock with result: true2010-03-11 10:21:21 561 &#91;:6202?sync=true&amp;textline=true&#93;] nericFileRenameProcessStrategy DEBUG Renaming file: GenericFile&#91;C:/test/test/response/Copy of New Text Document (3).txt&#93; to: GenericFile&#91;C:/test/test/response/.camel/Copy of New Text Document (3).txt&#93;2010-03-11 10:21:21 561 &#91;:6202?sync=true&amp;textline=true&#93;] nericFileRenameProcessStrategy DEBUG Renaming file: GenericFile&#91;C:/test/test/response/New Text Document (3).txt&#93; to: GenericFile&#91;C:/test/test/response/.camel/New Text Document (3).txt&#93;2010-03-11 10:21:21 561 &#91;:6202?sync=true&amp;textline=true&#93;] FileUtil DEBUG Tried 1 to rename file: C:/test/test/response/Copy (2) of New Text Document (3).txt to: C:/test/test/response/.camel/Copy (2) of New Text Document (3).txt with result: true2010-03-11 10:21:21 561 &#91;:6202?sync=true&amp;textline=true&#93;] FileUtil DEBUG Tried 1 to rename file: C:/test/test/response/Copy of New Text Document (3).txt to: C:/test/test/response/.camel/Copy of New Text Document (3).txt with result: true2010-03-11 10:21:21 577 &#91;:6202?sync=true&amp;textline=true&#93;] FileUtil DEBUG Tried 1 to rename file: C:/test/test/response/New Text Document (3).txt to: C:/test/test/response/.camel/New Text Document (3).txt with result: true2010-03-11 10:21:26 530 &#91;amel thread 26: MinaThreadPool&#93; MinaConsumer DEBUG Writing body: Bye 1hello32010-03-11 10:21:26 530 &#91;amel thread 26: MinaThreadPool&#93; MinaConsumer DEBUG Received body: hello12010-03-11 10:21:26 530 &#91;SocketConnectorIoProcessor-0.2&#93; ExecutorFilter DEBUG Launching thread for localhost/127.0.0.1:62022010-03-11 10:21:26 530 &#91;amel thread 27: MinaThreadPool&#93; MinaProducer DEBUG Message received: Bye 1hello32010-03-11 10:21:26 530 &#91;amel thread 27: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for localhost/127.0.0.1:62022010-03-11 10:21:31 531 &#91;amel thread 26: MinaThreadPool&#93; MinaConsumer DEBUG Writing body: Bye 1hello12010-03-11 10:21:31 531 &#91;SocketConnectorIoProcessor-0.2&#93; ExecutorFilter DEBUG Launching thread for localhost/127.0.0.1:62022010-03-11 10:21:31 531 &#91;amel thread 26: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for /127.0.0.1:33742010-03-11 10:21:31 531 &#91;amel thread 27: MinaThreadPool&#93; MinaProducer DEBUG Message received: Bye 1hello12010-03-11 10:21:31 531 &#91;amel thread 27: MinaThreadPool&#93; ExecutorFilter DEBUG Exiting since queue is empty for localhost/127.0.0.1:6202, rout rout mina tcp localhost textlin true amp sync true process new mina tcp localhost textlin true amp sync true process new processor processor public void process exchang process exchang exchang exchang throw except string bodi exchang getIn getBody string class exchang get get bodi string class thread sleep thread sleep exchang getOut setBody bye exchang get set bodi bye bodi bodi file test test respons file test test respons convertBodyTo string class thread convert bodi string class thread toAsync mina tcp localhost sync true amp textlin true async mina tcp localhost sync true amp textlin true log log repli repli output see repli log messag bodi async process releas thread first respons probabl mina compon bug context aync rout rout camel camel thread FileComponent file compon FileConsumer file consum DEBUG total file consum consum camel camel thread FileComponent file compon FileConsumer file consum DEBUG process file file GenericFile test test respons copi gener file test test respons copi new text document txt txt use exchang exchang exchang GenericFileMessage exchang gener file messag file file GenericFile test test respons copi gener file test test respons copi new text document txt txt camel camel thread FileComponent file compon DefaultManagementAgent default manag agent DEBUG regist MBean bean objectnam objectnam org apach camel context tamlft spj cameltest org apach camel context tamlft spj cameltest type produc type produc name MinaProducer name mina produc camel camel thread FileComponent file compon MinaProducer mina produc DEBUG start produc produc produc mina tcp localhost sync true amp textlin true produc mina tcp localhost sync true amp textlin true camel camel thread FileComponent file compon ProducerCache produc cach DEBUG ad produc servic pool key key endpoint mina tcp localhost sync true amp textlin true endpoint mina tcp localhost sync true amp textlin true produc produc produc mina tcp localhost sync true amp textlin true produc mina tcp localhost sync true amp textlin true SendAsyncProcessor produc send async processor produc MinaProducer mina produc DEBUG creat connector address address localhost localhost use connector connector org apach mina transport socket nio SocketConnector cefa org apach mina transport socket nio socket connector cefa timeout timeout milli milli camel camel thread FileComponent file compon FileConsumer file consum DEBUG process file file GenericFile test test respons copi gener file test test respons copi new text document txt txt use exchang exchang exchang GenericFileMessage exchang gener file messag file file GenericFile test test respons copi gener file test test respons copi new text document txt txt SendAsyncProcessor produc send async processor produc MinaProducer mina produc DEBUG creat connector address address localhost localhost use connector connector org apach mina transport socket nio SocketConnector cefa org apach mina transport socket nio socket connector cefa timeout timeout milli milli camel camel thread FileComponent file compon FileConsumer file consum DEBUG process file file GenericFile test test respons new gener file test test respons new text document txt txt use exchang exchang exchang GenericFileMessage exchang gener file messag file file GenericFile test test respons new gener file test test respons new text document txt txt SendAsyncProcessor produc send async processor produc MinaProducer mina produc DEBUG creat connector address address localhost localhost use connector connector org apach mina transport socket nio SocketConnector cefa org apach mina transport socket nio socket connector cefa timeout timeout milli milli SocketConnectorIoProcessor socket connector Io processor ExecutorFilter executor filter DEBUG launch thread localhost localhost SocketAcceptorIoProcessor socket acceptor Io processor ExecutorFilter executor filter DEBUG launch thread SocketAcceptorIoProcessor socket acceptor Io processor ExecutorFilter executor filter DEBUG launch thread SocketConnectorIoProcessor socket connector Io processor ExecutorFilter executor filter DEBUG launch thread localhost localhost SocketAcceptorIoProcessor socket acceptor Io processor ExecutorFilter executor filter DEBUG launch thread SocketConnectorIoProcessor socket connector Io processor ExecutorFilter executor filter DEBUG launch thread localhost localhost amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti localhost localhost SendAsyncProcessor produc send async processor produc MinaProducer mina produc DEBUG write bodi hello hello SendAsyncProcessor produc send async processor produc MinaProducer mina produc DEBUG write bodi hello hello amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti localhost localhost amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti localhost localhost SendAsyncProcessor produc send async processor produc MinaProducer mina produc DEBUG write bodi hello hello SocketConnectorIoProcessor socket connector Io processor ExecutorFilter executor filter DEBUG launch thread localhost localhost SendAsyncProcessor produc send async processor produc MinaProducer mina produc DEBUG wait respons respons SendAsyncProcessor produc send async processor produc MinaProducer mina produc DEBUG wait respons respons SendAsyncProcessor produc send async processor produc MinaProducer mina produc DEBUG wait respons respons SocketAcceptorIoProcessor socket acceptor Io processor ExecutorFilter executor filter DEBUG launch thread amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti localhost localhost amel thread MinaThreadPool mina thread pool MinaConsumer mina consum DEBUG receiv bodi bodi hello hello amel thread MinaThreadPool mina thread pool MinaConsumer mina consum DEBUG write bodi bodi bye hello hello SocketConnectorIoProcessor socket connector Io processor ExecutorFilter executor filter DEBUG launch thread localhost localhost amel thread MinaThreadPool mina thread pool MinaProducer mina produc DEBUG messag receiv receiv bye hello hello amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti localhost localhost amel thread MinaThreadPool mina thread pool MinaConsumer mina consum DEBUG receiv bodi bodi hello hello sync true amp textlin true sync true amp textlin true SendProcessor send processor DEBUG async repli receiv rout exchang exchang exchang messag exchang messag bye hello hello sync true amp textlin true sync true amp textlin true SendProcessor send processor DEBUG async repli receiv rout exchang exchang exchang messag exchang messag bye hello hello sync true amp textlin true sync true amp textlin true SendProcessor send processor DEBUG async repli receiv rout exchang exchang exchang messag exchang messag bye hello hello sync true amp textlin true sync true amp textlin true DefaultManagementAgent default manag agent DEBUG regist MBean bean objectnam objectnam org apach camel context tamlft spj cameltest org apach camel context tamlft spj cameltest type produc type produc name produc name produc sync true amp textlin true sync true amp textlin true ProcessorEndpoint processor endpoint DEBUG start produc produc produc log produc log repli repli sync true amp textlin true sync true amp textlin true ProducerCache produc cach DEBUG ad produc cach key key endpoint log endpoint log repli repli produc produc produc log produc log repli repli sync true amp textlin true sync true amp textlin true repli repli INFO exchang BodyType string exchang bodi type string bodi bye bodi bye hello hello sync true amp textlin true sync true amp textlin true GenericFileOnCompletion gener file complet DEBUG done process file file GenericFile test test respons copi gener file test test respons copi new text document txt txt use exchang exchang exchang messag exchang messag bye hello hello sync true amp textlin true sync true amp textlin true repli repli INFO exchang BodyType string exchang bodi type string bodi bye bodi bye hello hello sync true amp textlin true sync true amp textlin true GenericFileOnCompletion gener file complet DEBUG done process file file GenericFile test test respons copi gener file test test respons copi new text document txt txt use exchang exchang exchang messag exchang messag bye hello hello sync true amp textlin true sync true amp textlin true FileUtil file util DEBUG tri delet file file test test respons copi test test respons copi new text document txt camelLock txt camel lock result result true true sync true amp textlin true sync true amp textlin true repli repli INFO exchang BodyType string exchang bodi type string bodi bye bodi bye hello hello sync true amp textlin true sync true amp textlin true GenericFileOnCompletion gener file complet DEBUG done process file file GenericFile test test respons new gener file test test respons new text document txt txt use exchang exchang exchang messag exchang messag bye hello hello sync true amp textlin true sync true amp textlin true FileUtil file util DEBUG tri delet file file test test respons copi test test respons copi new text document txt camelLock txt camel lock result result true true sync true amp textlin true sync true amp textlin true nericFileRenameProcessStrategy neric file renam process strategi DEBUG renam file file GenericFile test test respons copi gener file test test respons copi new text document txt txt GenericFile test test respons camel copi gener file test test respons camel copi new text document txt txt sync true amp textlin true sync true amp textlin true FileUtil file util DEBUG tri delet file file test test respons new test test respons new text document txt camelLock txt camel lock result result true true sync true amp textlin true sync true amp textlin true nericFileRenameProcessStrategy neric file renam process strategi DEBUG renam file file GenericFile test test respons copi gener file test test respons copi new text document txt txt GenericFile test test respons camel copi gener file test test respons camel copi new text document txt txt sync true amp textlin true sync true amp textlin true nericFileRenameProcessStrategy neric file renam process strategi DEBUG renam file file GenericFile test test respons new gener file test test respons new text document txt txt GenericFile test test respons camel new gener file test test respons camel new text document txt txt sync true amp textlin true sync true amp textlin true FileUtil file util DEBUG tri renam file file test test respons copi test test respons copi new text document txt test test respons camel copi test test respons camel copi new text document txt result result true true sync true amp textlin true sync true amp textlin true FileUtil file util DEBUG tri renam file file test test respons copi test test respons copi new text document txt test test respons camel copi test test respons camel copi new text document txt result result true true sync true amp textlin true sync true amp textlin true FileUtil file util DEBUG tri renam file file test test respons new test test respons new text document txt test test respons camel new test test respons camel new text document txt result result true true amel thread MinaThreadPool mina thread pool MinaConsumer mina consum DEBUG write bodi bodi bye hello hello amel thread MinaThreadPool mina thread pool MinaConsumer mina consum DEBUG receiv bodi bodi hello hello SocketConnectorIoProcessor socket connector Io processor ExecutorFilter executor filter DEBUG launch thread localhost localhost amel thread MinaThreadPool mina thread pool MinaProducer mina produc DEBUG messag receiv receiv bye hello hello amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti localhost localhost amel thread MinaThreadPool mina thread pool MinaConsumer mina consum DEBUG write bodi bodi bye hello hello SocketConnectorIoProcessor socket connector Io processor ExecutorFilter executor filter DEBUG launch thread localhost localhost amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti amel thread MinaThreadPool mina thread pool MinaProducer mina produc DEBUG messag receiv receiv bye hello hello amel thread MinaThreadPool mina thread pool ExecutorFilter executor filter DEBUG exit sinc queue empti localhost localhost,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/SendAsyncProcessor.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaToAsyncTest.java;,0
2554,Willem Jiang,null,0,IndexOutOfBoundsException occur in UnsafeUriCharactersEncoder.class, IndexOutOfBoundsException index bound except occur UnsafeUriCharactersEncoder class unsaf uri charact encod class,Here is the mail thread for the detail discussion., mail thread detail discuss discuss,0,0,0,0,0,components/camel-web/src/main/java/org/apache/camel/web/util/UriCharactersEncoder.java;components/camel-web/src/test/java/org/apache/camel/web/util/UriCharachersEncoderTest.java;camel-core/src/main/java/org/apache/camel/util/UnsafeUriCharactersEncoder.java;camel-core/src/test/java/org/apache/camel/util/UnsafeCharactersEncoderTest.java;,0
2566,Freeman Fang,null,0,camel-http component should set Transfer-Encoding as chunked header for response message when checkChunked is true, camel http camel http compon set transfer encod transfer encod chunk header respons messag checkChunked check chunk true,so that the client side which send request will know this is a chunked message.It's important when the response http headers is more than 4096 and we want to use chunked response message, client side send request know chunk messag messag import respons http header want use chunk respons messag,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/Exchange.java;components/camel-http/src/main/java/org/apache/camel/component/http/DefaultHttpBinding.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpClientRouteEnableChunkedTest.java;,0
2567,Claus Ibsen,camel-core,0,Allow recipientList to be used inside a CBR using Java DSL, allow recipientList recipi list use insid CBR use java DSL,RecipientList is now offering fluent builders for parallel support.We should allow it to work in CBR with having end() being able to return the Type it came from  eg ChoiceDefinition.See nabblehttp://old.nabble.com/RecipientList-%2B-Choice-no-longer-work-together-in-Camel-2.2.0--ts27983922.html, RecipientList recipi list offer fluent builder parallel support support allow work CBR end end abl return type came eg ChoiceDefinition see choic definit see nabblehttp old nabbl com RecipientList choic no longer work togeth camel ts html nabblehttp old nabbl com recipi list choic no longer work togeth camel ts html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/RecipientListDefinition.java;camel-core/src/test/java/org/apache/camel/processor/CBRWithRecipientListTest.java;,0
2575,Jejomar Dimayuga,camel-cxf,0,CXFRS Routing in 2.2.0 does not behave like in 2.0.0, CXFRS rout not behav like,CXFRS Routing in Camel 2.0.0 works well with these endPoints:&lt;cxf:rsServer id='restRouter' address='/restRouter/'  serviceClass='com.project.service.impl.ServiceManagerImpl' /&gt; &lt;cxf:rsClient id='restEndpoint' address='http://localhost:8080/services/rest' serviceClass='com.project.service.impl.ServiceManagerImpl' /&gt;In Camel 2.2.0  Routing fails with error causing the CXF Client to invoke a 404 not found Rest Service which is 'http://localhost:8080/services/rest/restRouter/Path'.The address of cxf:rsClient is being appended by the cxf:rsServer's address, CXFRS rout camel work well endPoints lt cxf rsServer end point lt cxf rs server id restRouter id rest router address restRouter address rest router serviceClass com project servic impl ServiceManagerImpl servic class com project servic impl servic manag impl gt gt lt cxf rsClient lt cxf rs client id restEndpoint id rest endpoint address http localhost servic rest address http localhost servic rest serviceClass com project servic impl ServiceManagerImpl servic class com project servic impl servic manag impl gt gt camel rout fail error caus CXF client invok not found rest servic http localhost servic rest restRouter path http localhost servic rest rest router path address cxf rsClient cxf rs client append cxf rsServer cxf rs server address,0,0,1,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/DefaultCxfRsBinding.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/jaxrs/CxfRsRouterTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/jaxrs/CxfRsSpringRouter.xml;,0
2587,Claus Ibsen,camel-core,0,Graceful shutdown - Add option to shutdown routes in reverse order as they were started, grace shutdown add option shutdown rout revers order start,As its more intuitive this way.And it should be the new default in 2.3 onwards. The old behavior can be enabled by turning off the shutdownRoutesInReverseOrder option., intuit way way new default onward onward old behavior enabl turn shutdownRoutesInReverseOrder shutdown rout revers order option option,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultShutdownStrategy.java;camel-core/src/main/java/org/apache/camel/spi/ShutdownStrategy.java;camel-core/src/test/java/org/apache/camel/processor/RouteShutdownNotReverseOrderTest.java;camel-core/src/test/java/org/apache/camel/processor/RouteShutdownReverseOrderTest.java;,0
2603,Anand,null,0,support get operation for cache, support get oper cach,Please support get operation on cache component.here is the discussion.http://old.nabble.com/read-from-cache-component-ts28071593.html, pleas support get oper cach compon compon discuss http old nabbl com read cach compon ts html discuss http old nabbl com read cach compon ts html,0,1,0,1,0,components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheComponent.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheConfiguration.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheConstants.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheConsumer.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheEndpoint.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheManagerFactory.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheProducer.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/factory/CacheManagerFactory.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedMessageBodyReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedTokenReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java;components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheConsumerTest.java;components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheProducerTest.java;,0
2606,Martin Krasser,camel-gae,0,Make use of testing mocks of the the GAE SDK, make use test mock GAE SDK,Replace existing GAE service mocks with those coming with the GAE SDK., replac exist GAE servic mock come GAE SDK SDK,0,0,0,0,0,components/camel-gae/src/main/java/org/apache/camel/component/gae/task/GTaskComponent.java;components/camel-gae/src/test/java/com/google/appengine/api/labs/taskqueue/TaskOptionsAccessor.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/TestConfig.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/auth/GAuthAuthorizeBindingTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/auth/GAuthTestUtils.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/auth/GAuthUpgradeBindingTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/http/GHttpBindingTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/http/GHttpCombinedRouteBuilder.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/http/GHttpCombinedRouteBuilderTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/http/GHttpOutboundRouteBuilder.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/http/GHttpOutboundRouteBuilderTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/http/GHttpTestUtils.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/login/GLoginEndpointTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/login/GLoginTestUtils.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/mail/GMailBindingTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/mail/GMailEndpointTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/support/ServletTestSupport.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/task/GTaskBindingTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/task/GTaskCombinedRouteBuilder.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/task/GTaskCombinedRouteBuilderTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/task/GTaskEndpointTest.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/task/GTaskTestUtils.java;components/camel-gae/src/test/java/org/apache/camel/component/gae/task/MockQueue.java;components/camel-gae/src/test/resources/org/apache/camel/component/gae/task/context-combined.xml;,0
2622,Sergey Zolotaryov,camel-core,0,Invocation of hasNext() on org.apache.camel.util.ObjectHelper.createIterator(...).new Iterator() {...} return different results, invoc hasNext next org apach camel util ObjectHelper createIterator new org apach camel util object helper creat iter new iter iter return differ result,public boolean hasNext() { // empty string should not be regarded as having next return ++idx == 0 &amp;&amp; ObjectHelper.isNotEmpty(s); } public String next() { return s; }This is incorrect. Should be: public boolean hasNext() { // empty string should not be regarded as having next return idx+1 == 0 &amp;&amp; ObjectHelper.isNotEmpty(s); } public String next() { idx++; return s; }, public boolean hasNext next empti string not regard next return idx amp amp amp amp ObjectHelper isNotEmpty object helper not empti public string next next return incorrect incorrect public boolean hasNext next empti string not regard next return idx idx amp amp amp amp ObjectHelper isNotEmpty object helper not empti public string next next idx idx return,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/test/java/org/apache/camel/converter/ObjectHelperTest.java;camel-core/src/test/java/org/apache/camel/impl/CustomProducerServicePoolTest.java;,0
2629,Claus Ibsen,camel-core,0,Aggregator - Completion by batch consumer should trigger completion for the batch group if multiple correlation keys was used, aggreg complet batch consum trigger complet batch group multipl correl key use,Yeah its really an odd use case if you use multiple correlation keys for the same batch consumer  but its still possible to do., yeah realli odd use case use multipl correl key batch consum still possibl,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/test/java/org/apache/camel/component/file/FileConcurrentAggregateBatchConsumerTest.java;,0
2636,raymond domingo,camel-core,0,IOException: Bad file descriptor and FileNotFoundException, IOException IO except bad file descriptor FileNotFoundException file not found except,When I try to stream BINARY (pdf) file using camel-http I get the java.io.IOException: Bad file descriptorThe pdf isn't recieved succesfully by reciever (0kb)This seems to be caused by a bug in java (on linux systems)  closing inputstream twice causes problems. It seemed to me this is exactly what is happening  see also link:http://256.com/gray/docs/misc/java_bad_file_descriptor_close_bug.shtmlI fixed this by (checking out apache camel-core and camel-http 2.2.0):In FileInputStreamCache.java:In method close() wrapped getInputStream().close() in if:if (stream != null &amp;&amp; stream instanceof FileInputStream &amp;&amp; ((FileInputStream) stream).getChannel().isOpen()) {getInputStream().close() ;}In method reset() also:if (stream != null &amp;&amp; stream instanceof FileInputStream &amp;&amp; ((FileInputStream) stream).getChannel().isOpen()) {getInputStream().close() ;}Second I needed to fix a filenotfoundexception  the tempfile created by camel was deleted to early.I changed CachedOutputStream.java Reimplemented constructor:public CachedOutputStream(Exchange exchange) { String hold = exchange.getContext().getProperties().get(THRESHOLD); String dir = exchange.getContext().getProperties().get(TEMP_DIR); if (hold != null) { this.threshold = exchange.getContext().getTypeConverter().convertTo(Long.class  hold); } if (dir != null) { this.outputDir = exchange.getContext().getTypeConverter().convertTo(File.class  dir); } // add on completion so we can cleanup after the exchange is done such // as deleting temporary files exchange.addOnCompletion(new SynchronizationAdapter() { @Override public void onDone(Exchange exchange) { try { // close the stream and FileInputStreamCache // close(); // for (FileInputStreamCache cache : fileInputStreamCaches) // { // cache.close(); // } // cleanup temporary file if (tempFile != null) { System.err.println('####################################################'); System.err.println('DISABLED tempFile.delete:89'); System.err.println('####################################################'); // boolean deleted = tempFile.delete(); // if (!deleted) { // LOG.warn('Cannot delete temporary cache file: ' + // tempFile); // } else if (LOG.isTraceEnabled()) { // LOG.trace('Deleted temporary cache file: ' + // tempFile); // } tempFile = null; } } catch (Exception e) { LOG.warn('Error deleting temporary cache file: ' + tempFile  e); } } @Override public String toString() { return 'OnCompletion[CachedOutputStream]'; } }); }Reimplemented close():public void close() throws IOException { System.err.println('####################################################'); System.err.println('outputStream.close:119 -&gt; delete tempFile'); System.err.println('####################################################'); new Exception().printStackTrace(); currentStream.close(); boolean deleted = tempFile.delete(); if (!deleted) { LOG.warn('Cannot delete temporary cache file: ' + tempFile); } else if (LOG.isTraceEnabled()) { LOG.trace('Deleted temporary cache file: ' + tempFile); } }, tri stream BINARY pdf pdf file use camel http camel http get java io IOException java io IO except bad file descriptorThe descriptor pdf reciev succes reciev kb kb seem caus bug java linux system system close inputstream twice caus problem problem seem exactli happen see also link http com gray doc misc java_bad_file_descriptor_close_bug shtmlI link http com gray doc misc java_bad_file_descriptor_close_bug shtml fix check apach camel core camel core camel http camel http FileInputStreamCache java file input stream cach java method close close wrap getInputStream close get input stream close stream null amp amp amp amp stream instanceof FileInputStream file input stream amp amp amp amp FileInputStream file input stream stream getChannel isOpen stream get channel open getInputStream close get input stream close method reset reset also also stream null amp amp amp amp stream instanceof FileInputStream file input stream amp amp amp amp FileInputStream file input stream stream getChannel isOpen stream get channel open getInputStream close get input stream close second second need fix filenotfoundexcept tempfil creat camel delet earli earli chang CachedOutputStream java cach output stream java reimplement constructor public constructor public CachedOutputStream exchang cach output stream exchang exchang exchang string hold exchang getContext getProperties get THRESHOLD exchang get context get properti get THRESHOLD string dir exchang getContext getProperties get TEMP_DIR exchang get context get properti get TEMP DIR hold null null threshold threshold exchang getContext getTypeConverter convertTo long class exchang get context get type convert convert long class hold hold dir null null outputDir output dir exchang getContext getTypeConverter convertTo file class exchang get context get type convert convert file class dir dir add complet cleanup exchang done delet temporari file exchang addOnCompletion new exchang add complet new SynchronizationAdapter synchron adapt overrid overrid public void onDone exchang done exchang exchang exchang tri close stream FileInputStreamCache file input stream cach close close FileInputStreamCache file input stream cach cach fileInputStreamCaches file input stream cach cach close cach close cleanup temporari file tempFile temp file null null system err println system err println system err println DISABLED system err println DISABLED tempFile delet temp file delet system err println system err println boolean delet tempFile delet temp file delet delet delet LOG warn cannot LOG warn cannot delet temporari cach file file tempFile temp file els LOG isTraceEnabled LOG trace enabl LOG trace delet LOG trace delet temporari cach file file tempFile temp file tempFile temp file null null catch except except LOG warn error LOG warn error delet temporari cach file file tempFile temp file overrid overrid public string toString string return OnCompletion CachedOutputStream complet cach output stream reimplement reimplement close public close public void close close throw IOException IO except system err println system err println system err println outputStream close system err println output stream close gt gt delet tempFile temp file system err println system err println new except printStackTrace except print stack trace currentStream close current stream close boolean delet tempFile delet temp file delet delet delet LOG warn cannot LOG warn cannot delet temporari cach file file tempFile temp file els LOG isTraceEnabled LOG trace enabl LOG trace delet LOG trace delet temporari cach file file tempFile temp file,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/converter/stream/CachedOutputStream.java;camel-core/src/main/java/org/apache/camel/converter/stream/FileInputStreamCache.java;camel-core/src/test/java/org/apache/camel/converter/stream/CachedOutputStreamTest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/issues/JettyHttpFileCacheTest.java;,0
2642,Christian Müller,camel-core,0,Inconsistency between IntrospectionSupport.getProperties() and IntrospectionSupport.getProperty(), inconsist IntrospectionSupport getProperties introspect support get properti IntrospectionSupport getProperty introspect support get properti,IntrospectionSupport.getProperties() and IntrospectionSupport.getProperty() work in an inconsistency way:ExampleBean bean = new ExampleBean();Date date = new Date(0);bean.setDate(date);assertSame(date  IntrospectionSupport.getProperty(bean  'date')); // succeedMap&lt;String  Object&gt; map = new HashMap&lt;String  Object&gt;();IntrospectionSupport.getProperties(bean  map  null);assertSame(date  map.get('date')); // fails, IntrospectionSupport getProperties introspect support get properti IntrospectionSupport getProperty introspect support get properti work inconsist way ExampleBean way exampl bean bean new ExampleBean date exampl bean date date new date bean setDate date assertSame date date bean set date date assert date IntrospectionSupport getProperty bean introspect support get properti bean date date succeedMap lt string succeed map lt string object gt object gt map new HashMap lt string hash map lt string object gt IntrospectionSupport getProperties bean object gt introspect support get properti bean map null assertSame date null assert date map get date map get date fail,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/util/IntrospectionSupport.java;camel-core/src/test/java/org/apache/camel/util/AnotherExampleBean.java;camel-core/src/test/java/org/apache/camel/util/IntrospectionSupportTest.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/util/IntrospectionSupport.java;camel-core/src/main/java/org/apache/camel/util/IntrospectionSupport.java;,0
2656,Claus Ibsen,camel-core,0,Aggregator - Add option to specify if completionInterval to have interval based completion, aggreg add option specifi completionInterval complet interv interv base complet,This allows for example the stock quote example to use 5 sec interval to trigger completions to spit out current quotes every 5th seconds., allow exampl stock quot exampl use sec interv trigger complet spit current quot everi th second second,0,0,0,0,0,platforms/karaf/features/pom.xml;platforms/karaf/features/src/main/resources/features.xml;camel-core/src/main/java/org/apache/camel/model/AggregateDefinition.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/MemoryAggregationRepository.java;camel-core/src/main/java/org/apache/camel/spi/AggregationRepository.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateCompletionIntervalTest.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateProcessorTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/aggregator/SpringAggregateCompletionIntervalTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/aggregator/SpringAggregateCompletionIntervalTest.xml;components/camel-hawtdb/src/main/java/org/apache/camel/component/hawtdb/HawtDBAggregationRepository.java;components/camel-hawtdb/src/main/java/org/apache/camel/component/hawtdb/HawtDBCamelMarshaller.java;components/camel-hawtdb/src/test/java/org/apache/camel/component/hawtdb/HawtDBAggregateCompletionIntervalTest.java;components/camel-hawtdb/src/test/java/org/apache/camel/component/hawtdb/HawtDBAggregateNotLostRemovedWhenConfirmedTest.java;components/camel-hawtdb/src/test/java/org/apache/camel/component/hawtdb/HawtDBAggregateNotLostTest.java;,0
2663,Christoph Dittberner,camel-core,0,DefaultPackageScanClassResolver can't read entries in an eclipse rcp app because it can't handle bundleresource - protocol, DefaultPackageScanClassResolver default packag scan class resolv read entri eclips rcp app handl bundleresourc protocol,scenario:I have an eclipse rcp based app and use the apache camel libs within my plugin  i.e. the libs are one classpath of the plugin. I use a route using camel-mail to process some mailqueues.CamelContext context = new DefaultCamelContext();context.addRoutes(new RouteBuilder() { public void configure() { from('imaps://mailserver?username=user&amp;password=password&amp;consumer.delay=5000&amp;delete=false&amp;unseen=true') .to('log: new mail'); }}); context.start();When I start my app all seems to be ok. But in my log I get a lot of error messages regarding the loading of converters. If I ask my context to find a converter f.i. to converty to byte[] form inputstream (as I did see in another mail example reagding attachments) I get null because the context can't find one.I debugged deeper into the camel code and it seems that the DefaultPackageScanClassResolver can't load from urls starting with bundleresource like 'bundleresource://109.fwk32380043:4/org/apache/camel/component/file/'using camel-osgi didn't worked because all camel libs are loaded as inner libs of my single plugin and not as plugins. (loading as plugins didn't worked but thats another problem/bug)LOG Messages:2010-04-21 11:15:34 829 DEBUG org.apache.camel.impl.converter.DefaultTypeConverter loadTypeConverters - Loading type converters ...2010-04-21 11:15:34 829 DEBUG org.apache.camel.impl.DefaultPackageScanClassResolver findAnnotated - Searching for annotations of org.apache.camel.Converter in packages: &#91;org.apache.camel.component.file  org.apache.camel.component.bean  org.apache.camel.converter  org.apache.camel.component.mail  org.apache.camel.component.spring.integration.converter&#93;2010-04-21 11:15:34 829 DEBUG org.apache.camel.impl.DefaultPackageScanClassResolver getClassLoaders - The thread context class loader: org.eclipse.core.runtime.internal.adaptor.ContextFinder@1a76eff is used to load the class2010-04-21 11:15:34 829 DEBUG org.apache.camel.impl.DefaultPackageScanClassResolver find - Searching for: annotated with @Converter in package: org/apache/camel/component/file using classloader: org.eclipse.core.runtime.internal.adaptor.ContextFinder2010-04-21 11:15:39 954 DEBUG org.apache.camel.impl.DefaultPackageScanClassResolver getResources - Getting resource URL for package: org/apache/camel/component/file with classloader: org.eclipse.core.runtime.internal.adaptor.ContextFinder@1a76eff2010-04-21 11:16:44 970 DEBUG org.apache.camel.impl.DefaultPackageScanClassResolver find - URL from classloader: bundleresource://109.fwk32380043:4/org/apache/camel/component/file/2010-04-21 11:17:01 642 DEBUG org.apache.camel.impl.DefaultPackageScanClassResolver find - Decoded urlPath: /org/apache/camel/component/file/ with protocol: bundleresource2010-04-21 11:23:59 814 DEBUG org.apache.camel.impl.DefaultPackageScanClassResolver find - isLocalFileSystem: false2010-04-21 11:24:00 470 DEBUG org.apache.camel.impl.DefaultPackageScanClassResolver find - Scanning for classes in &#91;/org/apache/camel/component/file/&#93; matching criteria: annotated with @Converter2010-04-21 11:24:16 079 DEBUG org.apache.camel.impl.DefaultPackageScanClassResolver find - Loading from jar using http/https: /org/apache/camel/component/file/2010-04-21 11:24:26 626 DEBUG org.apache.camel.impl.DefaultPackageScanClassResolver find - Cannot read entries in url: bundleresource://109.fwk32380043:4/org/apache/camel/component/file/java.net.MalformedURLException: no protocol: /org/apache/camel/component/file/ at java.net.URL.&lt;init&gt;(URL.java:567) at java.net.URL.&lt;init&gt;(URL.java:464) at java.net.URL.&lt;init&gt;(URL.java:413) at org.apache.camel.impl.DefaultPackageScanClassResolver.find(DefaultPackageScanClassResolver.java:264) at org.apache.camel.impl.DefaultPackageScanClassResolver.find(DefaultPackageScanClassResolver.java:180) at org.apache.camel.impl.DefaultPackageScanClassResolver.findAnnotated(DefaultPackageScanClassResolver.java:100) at org.apache.camel.impl.converter.AnnotationTypeConverterLoader.load(AnnotationTypeConverterLoader.java:63) at org.apache.camel.impl.converter.DefaultTypeConverter.loadTypeConverters(DefaultTypeConverter.java:361) at org.apache.camel.impl.converter.DefaultTypeConverter.doStart(DefaultTypeConverter.java:384) at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:53) at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:49) at org.apache.camel.impl.DefaultCamelContext.startServices(DefaultCamelContext.java:1174) at org.apache.camel.impl.DefaultCamelContext.addService(DefaultCamelContext.java:644) at org.apache.camel.impl.DefaultCamelContext.getTypeConverter(DefaultCamelContext.java:691) at org.apache.camel.util.CamelContextHelper.convertTo(CamelContextHelper.java:68), scenario scenario eclips rcp base app use apach camel lib within plugin lib one classpath plugin plugin use rout use camel mail camel mail process mailqueu CamelContext mailqueu camel context context new DefaultCamelContext context addRoutes new default camel context context add rout new RouteBuilder rout builder public void configur configur imap mailserv usernam user amp password password amp consum delay amp delet fals amp unseen true imap mailserv usernam user amp password password amp consum delay amp delet fals amp unseen true log log new mail mail context start context start start app seem ok ok log get lot error messag regard load convert convert ask context find convert converti byte byte form inputstream see anoth mail exampl reagd attach attach get null context find one one debug deeper camel code seem DefaultPackageScanClassResolver default packag scan class resolv load url start bundleresourc like bundleresourc fwk org apach camel compon file use bundleresourc fwk org apach camel compon file use camel osgi camel osgi work camel lib load inner lib singl plugin not plugin plugin load plugin work that anoth problem bug LOG problem bug LOG messag messag DEBUG org apach camel impl convert DefaultTypeConverter org apach camel impl convert default type convert loadTypeConverters load type convert load type convert DEBUG org apach camel impl DefaultPackageScanClassResolver org apach camel impl default packag scan class resolv findAnnotated find annot search annot org apach camel convert org apach camel convert packag packag org apach camel compon file org apach camel compon file org apach camel compon bean org apach camel compon bean org apach camel convert org apach camel convert org apach camel compon mail org apach camel compon mail org apach camel compon spring integr convert org apach camel compon spring integr convert DEBUG org apach camel impl DefaultPackageScanClassResolver org apach camel impl default packag scan class resolv getClassLoaders get class loader thread context class loader loader org eclips core runtim intern adaptor ContextFinder eff org eclips core runtim intern adaptor context finder eff use load class class DEBUG org apach camel impl DefaultPackageScanClassResolver org apach camel impl default packag scan class resolv find search annot convert convert packag packag org apach camel compon file org apach camel compon file use classload classload org eclips core runtim intern adaptor ContextFinder org eclips core runtim intern adaptor context finder DEBUG org apach camel impl DefaultPackageScanClassResolver org apach camel impl default packag scan class resolv getResources get resourc get resourc URL packag packag org apach camel compon file org apach camel compon file classload classload org eclips core runtim intern adaptor ContextFinder eff org eclips core runtim intern adaptor context finder eff DEBUG org apach camel impl DefaultPackageScanClassResolver org apach camel impl default packag scan class resolv find URL classload classload bundleresourc fwk org apach camel compon file bundleresourc fwk org apach camel compon file DEBUG org apach camel impl DefaultPackageScanClassResolver org apach camel impl default packag scan class resolv find decod urlPath url path org apach camel compon file org apach camel compon file protocol protocol bundleresourc bundleresourc DEBUG org apach camel impl DefaultPackageScanClassResolver org apach camel impl default packag scan class resolv find isLocalFileSystem local file system fals fals DEBUG org apach camel impl DefaultPackageScanClassResolver org apach camel impl default packag scan class resolv find scan class org apach camel compon file org apach camel compon file match criteria criteria annot convert convert DEBUG org apach camel impl DefaultPackageScanClassResolver org apach camel impl default packag scan class resolv find load jar use http http http http org apach camel compon file org apach camel compon file DEBUG org apach camel impl DefaultPackageScanClassResolver org apach camel impl default packag scan class resolv find cannot read entri url url bundleresourc fwk org apach camel compon file java net MalformedURLException bundleresourc fwk org apach camel compon file java net malform URL except no protocol protocol org apach camel compon file org apach camel compon file java net URL lt init gt URL java java net URL lt init gt URL java java net URL lt init gt URL java java net URL lt init gt URL java java net URL lt init gt URL java java net URL lt init gt URL java org apach camel impl DefaultPackageScanClassResolver find DefaultPackageScanClassResolver java org apach camel impl default packag scan class resolv find default packag scan class resolv java org apach camel impl DefaultPackageScanClassResolver find DefaultPackageScanClassResolver java org apach camel impl default packag scan class resolv find default packag scan class resolv java org apach camel impl DefaultPackageScanClassResolver findAnnotated DefaultPackageScanClassResolver java org apach camel impl default packag scan class resolv find annot default packag scan class resolv java org apach camel impl convert AnnotationTypeConverterLoader load AnnotationTypeConverterLoader java org apach camel impl convert annot type convert loader load annot type convert loader java org apach camel impl convert DefaultTypeConverter loadTypeConverters DefaultTypeConverter java org apach camel impl convert default type convert load type convert default type convert java org apach camel impl convert DefaultTypeConverter doStart DefaultTypeConverter java org apach camel impl convert default type convert start default type convert java org apach camel impl ServiceSupport start ServiceSupport java org apach camel impl servic support start servic support java org apach camel util ServiceHelper startService ServiceHelper java org apach camel util servic helper start servic servic helper java org apach camel impl DefaultCamelContext startServices DefaultCamelContext java org apach camel impl default camel context start servic default camel context java org apach camel impl DefaultCamelContext addService DefaultCamelContext java org apach camel impl default camel context add servic default camel context java org apach camel impl DefaultCamelContext getTypeConverter DefaultCamelContext java org apach camel impl default camel context get type convert default camel context java org apach camel util CamelContextHelper convertTo CamelContextHelper java org apach camel util camel context helper convert camel context helper java,1,0,1,0,0,apache-camel/pom.xml;apache-camel/src/main/descriptors/common-bin.xml;camel-core/src/main/java/org/apache/camel/impl/DefaultPackageScanClassResolver.java;components/camel-eclipse/src/main/java/org/apache/camel/component/eclipse/EclipsePackageScanClassResolver.java;camel-core/src/main/java/org/apache/camel/impl/DefaultPackageScanClassResolver.java;camel-core/src/main/java/org/apache/camel/impl/DefaultPackageScanClassResolver.java;components/camel-eclipse/pom.xml;components/camel-eclipse/src/main/java/org/apache/camel/component/eclipse/EclipsePackageScanClassResolver.java;components/pom.xml;parent/pom.xml;,0
2669,Claus Ibsen,camel-core,0,XPath - Add type converters from the pesky XPath types to String  InputStream etc., XPath path add type convert peski XPath path type string InputStream input stream etc etc,See nabblehttp://old.nabble.com/XPath-Splitter-Problem-ts28325959.htmlThen its easier for Camel end users as they wont have as many problems with the bad XPath result types for NODESET and whatnot., see nabblehttp old nabbl com XPath splitter problem ts htmlThen nabblehttp old nabbl com path splitter problem ts html easier camel end user wont mani problem bad XPath path result type NODESET whatnot whatnot,0,0,0,1,0,camel-core/src/test/java/org/apache/camel/builder/xml/XPathTest.java;components/camel-saxon/src/test/java/org/apache/camel/builder/saxon/XPathTest.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/DomConverter.java;camel-core/src/test/java/org/apache/camel/component/file/XPathToFileTest.java;camel-core/src/test/java/org/apache/camel/converter/jaxp/DomConverterTest.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/DomConverter.java;camel-core/src/test/java/org/apache/camel/builder/xml/XPathTest.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanWithXPathInjectionUsingResultTypeTest.java;camel-core/src/test/java/org/apache/camel/component/file/XPathToFileTest.java;camel-core/src/test/java/org/apache/camel/converter/jaxp/DomConverterTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/AggregratedJmsRouteTest.java;,0
2683,Cott Lang,camel-smpp,0,Smpp component schedule delivery time should default to null, smpp compon schedul deliveri time default null,In testing this component  I ran into a problem where the calculated SCHEDULE_DELIVERY_TIME in SmppBinding ends up off for my time zone  so all my SMS messages are delivered an hour later. I'm not quite sure why I'm seeing this problem  it almost appears that TimeZone is not properly adjusting the raw offset for DST.However  in reading the SMS v3.4 spec  there's no reason to attempt to define a default delivery time of 'now'  because transmitting null indicates the message is to be delivered immediately.Therefore  it seems like SmppBinding should be updated not to attempt to set a default date of 'now'. This solved my problem  and avoids any potential date miscalculations for the overwhelming majority of cases where people want the message delivered immediately.P.S. There is no camel-smpp Component defined in Jira., test compon ran problem calcul SCHEDULE_DELIVERY_TIME SCHEDULE DELIVERY TIME SmppBinding smpp bind end time zone SMS messag deliv hour later later not quit sure see problem almost appear TimeZone time zone not properli adjust raw offset DST howev DST howev read SMS spec no reason attempt defin default deliveri time transmit null indic messag deliv immedi therefor immedi therefor seem like SmppBinding smpp bind updat not attempt set default date solv problem avoid potenti date miscalcul overwhelm major case peopl want messag deliv immedi immedi no camel smpp camel smpp compon defin jira jira,0,1,0,0,0,components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppBinding.java;,0
2694,Willem Jiang,null,0,HttpEntityConverter should not create a InputStreamEntity by using the GZIPHelper.toGZIPInputStream(), HttpEntityConverter http entiti convert not creat InputStreamEntity input stream entiti use GZIPHelper toGZIPInputStream GZIP helper GZIP input stream,GZIPHelper.toGZIPInputStream() is used for uncompress the zip date and not for compress the data., GZIPHelper toGZIPInputStream GZIP helper GZIP input stream use uncompress zip date not compress data data,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/Exchange.java;components/camel-http/src/main/java/org/apache/camel/component/http/CamelServlet.java;components/camel-http/src/main/java/org/apache/camel/component/http/DefaultHttpBinding.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpConverter.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http/src/main/java/org/apache/camel/component/http/RequestEntityConverter.java;components/camel-http/src/main/java/org/apache/camel/component/http/helper/GZIPHelper.java;components/camel-http/src/test/java/org/apache/camel/component/http/helper/GZIPHelperTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpConverterTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpGZipEncodingTest.java;components/camel-osgi/src/test/java/org/apache/camel/osgi/test/MyTypeConverter.java;,0
2697,Claus Ibsen,camel-spring,0,camel-spring - Spring 3.0.x - Add depends-on in the namespace handler to make it easy for end users to use Spring and Camel without considering ordering of their beans, camel spring camel spring spring add depend depend namespac handler make easi end user use spring camel without consid order bean,Spring 3.0.x behaves differently when discovering bean dependencies. For example if you have a &lt;routeBuilder ref='xxx'/&gt; in &lt;camelContext/&gt; than the xxx bean will not by default be dependent on the &lt;camelContext/&gt;. This causes Spring maybe to create the xxx before the camelContext. And you most likely want CamelContext to be created beforehand  so IoC allows you to inject CamelContext into that xxx or whatnot.See nabblehttp://old.nabble.com/Spring-3.0-and-Camel-2.2---Route-configure%28%29-called-before-Spring-beans-injected-ts28415437.htmlWe do already have logic for this in the namespace handler  but we need to add it to more places to have it working for all kind of camel types., spring behav differ discov bean depend depend exampl lt routeBuilder lt rout builder ref xxx gt ref xxx gt lt camelContext gt lt camel context gt xxx bean not default depend lt camelContext gt lt camel context gt caus spring mayb creat xxx camelContext camel context like want CamelContext camel context creat beforehand IoC Io allow inject CamelContext camel context xxx whatnot see whatnot see nabblehttp old nabbl com spring camel rout configur call spring bean inject ts htmlWe nabblehttp old nabbl com spring camel rout configur call spring bean inject ts html alreadi logic namespac handler need add place work kind camel type type,0,0,0,1,0,components/camel-spring/src/test/java/org/apache/camel/spring/issues/CamelRouteRefInjectionIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/MyInjectionRouteBuilder.java;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/CamelRouteRefInjectionIssueTest.xml;components/camel-spring/src/test/java/org/apache/camel/spring/issues/MyInjectionRouteBuilder.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/MyProcessor.java;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/CamelRouteRefInjectionIssueTest.xml;,0
2700,Jonathan Anstey,camel-cxf,0,cxfbean component should ignore the wsdlLocation in the POJO, cxfbean compon ignor wsdlLocation wsdl locat POJO,cxfbean component should ignore the wsdlLocation in the annotation in the POJO when starting the service. It should be using the JAXWS bean to create the service. Came across this bug when I (mistakenly) set the wsdlLocation to the http one published by the service  which of course wasn't up yet and I got the exception below. Fix for this coming soon.For Googlers out there  this ticket may fix this error message you may be getting:Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: cxfbean://jaxwsBean due to: Failed to create service. at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:437) at org.apache.camel.util.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:46) at org.apache.camel.model.RouteDefinition.resolveEndpoint(RouteDefinition.java:154) at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:109) at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:115) at org.apache.camel.model.SendDefinition.resolveEndpoint(SendDefinition.java:63) at org.apache.camel.model.SendDefinition.createProcessor(SendDefinition.java:57) at org.apache.camel.model.ToDefinition.createProcessor(ToDefinition.java:87) at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:286) at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:114) at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:640) ... 32 moreCaused by: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service. at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:93) at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.buildServiceFromWSDL(ReflectionServiceFactoryBean.java:396) at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.initializeServiceModel(ReflectionServiceFactoryBean.java:521) at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:271) at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.create(JaxWsServiceFactoryBean.java:177) at org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:100) at org.apache.cxf.frontend.ServerFactoryBean.create(ServerFactoryBean.java:105) at org.apache.cxf.jaxws.JaxWsServerFactoryBean.create(JaxWsServerFactoryBean.java:167) at org.apache.camel.component.cxf.cxfbean.CxfBeanEndpoint.createServer(CxfBeanEndpoint.java:104) at org.apache.camel.component.cxf.cxfbean.CxfBeanEndpoint.init(CxfBeanEndpoint.java:86) at org.apache.camel.component.cxf.cxfbean.CxfBeanComponent.createEndpoint(CxfBeanComponent.java:48) at org.apache.camel.impl.DefaultComponent.createEndpoint(DefaultComponent.java:78) at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:416) ... 42 moreCaused by: javax.wsdl.WSDLException: WSDLException: faultCode=PARSER_ERROR: java.lang.IllegalArgumentException: InputSource must have a ByteStream or CharacterStream at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:226) at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:179) at org.apache.cxf.wsdl11.WSDLServiceFactory.&lt;init&gt;(WSDLServiceFactory.java:91) ... 54 moreCaused by: java.lang.IllegalArgumentException: InputSource must have a ByteStream or CharacterStream at org.apache.cxf.staxutils.StaxUtils.createXMLStreamReader(StaxUtils.java:983) at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:217) ... 56 more, cxfbean compon ignor wsdlLocation wsdl locat annot POJO start servic servic use JAXWS bean creat servic servic came across bug mistakenli mistakenli set wsdlLocation wsdl locat http one publish servic cours yet got except fix come soon soon googler ticket may fix error messag may get caus get caus org apach camel ResolveEndpointFailedException org apach camel resolv endpoint fail except fail resolv endpoint endpoint cxfbean jaxwsBean cxfbean jaxw bean due fail creat servic servic org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java org apach camel util CamelContextHelper getMandatoryEndpoint CamelContextHelper java org apach camel util camel context helper get mandatori endpoint camel context helper java org apach camel model RouteDefinition resolveEndpoint RouteDefinition java org apach camel model rout definit resolv endpoint rout definit java org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java org apach camel model SendDefinition resolveEndpoint SendDefinition java org apach camel model send definit resolv endpoint send definit java org apach camel model SendDefinition createProcessor SendDefinition java org apach camel model send definit creat processor send definit java org apach camel model ToDefinition createProcessor ToDefinition java org apach camel model definit creat processor definit java org apach camel model ProcessorDefinition makeProcessor ProcessorDefinition java org apach camel model processor definit make processor processor definit java org apach camel model ProcessorDefinition addRoutes ProcessorDefinition java org apach camel model processor definit add rout processor definit java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java moreCaused caus org apach cxf servic factori ServiceConstructionException org apach cxf servic factori servic construct except fail creat servic servic org apach cxf wsdl WSDLServiceFactory lt init gt WSDLServiceFactory java org apach cxf wsdl WSDL servic factori lt init gt WSDL servic factori java org apach cxf servic factori ReflectionServiceFactoryBean buildServiceFromWSDL ReflectionServiceFactoryBean java org apach cxf servic factori reflect servic factori bean build servic WSDL reflect servic factori bean java org apach cxf servic factori ReflectionServiceFactoryBean initializeServiceModel ReflectionServiceFactoryBean java org apach cxf servic factori reflect servic factori bean initi servic model reflect servic factori bean java org apach cxf servic factori ReflectionServiceFactoryBean creat ReflectionServiceFactoryBean java org apach cxf servic factori reflect servic factori bean creat reflect servic factori bean java org apach cxf jaxw support JaxWsServiceFactoryBean creat JaxWsServiceFactoryBean java org apach cxf jaxw support jax Ws servic factori bean creat jax Ws servic factori bean java org apach cxf frontend AbstractWSDLBasedEndpointFactory createEndpoint AbstractWSDLBasedEndpointFactory java org apach cxf frontend abstract WSDL base endpoint factori creat endpoint abstract WSDL base endpoint factori java org apach cxf frontend ServerFactoryBean creat ServerFactoryBean java org apach cxf frontend server factori bean creat server factori bean java org apach cxf jaxw JaxWsServerFactoryBean creat JaxWsServerFactoryBean java org apach cxf jaxw jax Ws server factori bean creat jax Ws server factori bean java org apach camel compon cxf cxfbean CxfBeanEndpoint createServer CxfBeanEndpoint java org apach camel compon cxf cxfbean cxf bean endpoint creat server cxf bean endpoint java org apach camel compon cxf cxfbean CxfBeanEndpoint init CxfBeanEndpoint java org apach camel compon cxf cxfbean cxf bean endpoint init cxf bean endpoint java org apach camel compon cxf cxfbean CxfBeanComponent createEndpoint CxfBeanComponent java org apach camel compon cxf cxfbean cxf bean compon creat endpoint cxf bean compon java org apach camel impl DefaultComponent createEndpoint DefaultComponent java org apach camel impl default compon creat endpoint default compon java org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java moreCaused caus javax wsdl WSDLException javax wsdl WSDL except WSDLException WSDL except faultCode PARSER_ERROR fault code PARSER ERROR java lang IllegalArgumentException java lang illeg argument except InputSource input sourc must ByteStream byte stream CharacterStream charact stream org apach cxf wsdl WSDLManagerImpl loadDefinition WSDLManagerImpl java org apach cxf wsdl WSDL manag impl load definit WSDL manag impl java org apach cxf wsdl WSDLManagerImpl getDefinition WSDLManagerImpl java org apach cxf wsdl WSDL manag impl get definit WSDL manag impl java org apach cxf wsdl WSDLServiceFactory lt init gt WSDLServiceFactory java org apach cxf wsdl WSDL servic factori lt init gt WSDL servic factori java moreCaused caus java lang IllegalArgumentException java lang illeg argument except InputSource input sourc must ByteStream byte stream CharacterStream charact stream org apach cxf staxutil StaxUtils createXMLStreamReader StaxUtils java org apach cxf staxutil stax util creat XML stream reader stax util java org apach cxf wsdl WSDLManagerImpl loadDefinition WSDLManagerImpl java org apach cxf wsdl WSDL manag impl load definit WSDL manag impl java,1,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/cxfbean/CxfBeanEndpoint.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/cxfbean/CxfBeanWithWsdlLocationInBeanTest.java;components/camel-cxf/src/test/java/org/apache/camel/wsdl_first/PersonImplWithWsdl.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/cxfbean/CxfBeanWithWsdlLocationInBeanTest-context.xml;,0
2704,Claus Ibsen,camel-core,0,RoutingSlip - Let it be expression based, RoutingSlip rout slip let express base,Currently the Routing Slip EIP is a bit inflexible as it mandates the attached slip has been created beforehand.It would be nice if you could let it be expression based to generate the initial attached slip.Then end users can use a bean to generate the slip.This requires a change in the DSL which is not backwards compatible.But it makes the EIP in line with Recipient List and others which is expression based., current rout slip EIP bit inflex mandat attach slip creat beforehand beforehand would nice could let express base gener initi attach slip slip end user use bean gener slip slip requir chang DSL not backward compat compat make EIP line recipi list other express base base,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/RoutingSlip.java;camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;camel-core/src/main/java/org/apache/camel/processor/RoutingSlip.java;camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipPOJOTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/routingSlipIgnoreInvalidEndpoints.xml;components/camel-scala/src/main/scala/org/apache/camel/scala/dsl/DSL.scala;components/camel-scala/src/main/scala/org/apache/camel/scala/dsl/SAbstractDefinition.scala;components/camel-scala/src/main/scala/org/apache/camel/scala/dsl/builder/RouteBuilder.scala;components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/SRoutingSlipTest.scala;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/RoutingSlipDefinition.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/routingSlip.xml;camel-core/src/main/java/org/apache/camel/model/RoutingSlipDefinition.java;components/camel-web/src/main/java/org/apache/camel/web/util/ExpressionNodeRenderer.java;components/camel-web/src/test/java/org/apache/camel/web/groovy/RoutingSlipDSLTest.java;,0
2708,Gert Vanthienen,camel-core,0,File name lost when it starts with the same characters as the relative directory on the endpoint, file name lost start charact rel directori endpoint,When polling file from a directory using a relative file URI  the file name gets lost when it starts with the same characters as the directory name.E.g. a directory 'orders' containing 'orders-1719.xml' and 'orders-1819.xml'from('file:orders').process(new Processor() { public void process(Exchange exchange) { // there's no file name on the message here (exchange.getIn().getHeader(Exchange.FILE_NAME) returns null) }});, poll file directori use rel file URI file name get lost start charact directori name name directori order order contain order xml order xml order xml file order process new order xml file order process new processor processor public void process exchang process exchang exchang exchang no file name messag exchang getIn getHeader exchang FILE_NAME exchang get get header exchang FILE NAME return null null,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerRelativeFileNameTest.java;camel-core/src/test/java/org/apache/camel/component/file/stress/FileAsyncStressReadLockLockFileTest.java;camel-core/src/test/java/org/apache/camel/component/file/stress/FileAsyncStressReadLockNoneTest.java;camel-core/src/test/java/org/apache/camel/component/file/stress/FileAsyncStressReadLockRenameTest.java;camel-core/src/test/java/org/apache/camel/component/file/stress/FileAsyncStressTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerRelativeFileNameTest.java;,0
2716,Hadrian Zbarcea,null,0,Incomplete cleanup of jmx mbeans after context stop, incomplet cleanup jmx mbean context stop,There is a fair amount of cleanup on context stop  but it is incomplete. Most of it has to do with JMX and if one creates and starts a new CamelContext she may end up with managed objects pointing nowhere or have duplicates or other minor side-effects. One of the nasty side effects is that we are pretty much forced to use '&lt;forkMode&gt;pertest&lt;/forkMode&gt;' in our surefire plugin configuration  ensuring a clean slate for every test.For long running apps in which you may have multiple CamelContext running at various times during the lifetime of the application we must properly cleanup when stopping the context. I have a series of patches fixing that which I hope to finish before 2.3. Once we're comfortable and tested with multiple jdk implementations and versions  I'd change the forkMode to 'once'. In my local copy this reduces the test time in core from 40+ mins to under 15 mins. Since interactions between tests is still possible and might lead us on a wild-goose we could add another profile that uses the safer yet time consuming 'pertest' forkMode., fair amount cleanup context stop incomplet incomplet JMX one creat start new CamelContext camel context may end manag object point nowher duplic minor side effect side effect one nasti side effect pretti much forc use lt forkMode gt pertest lt forkMode gt lt fork mode gt pertest lt fork mode gt surefir plugin configur ensur clean slate everi test test long run app may multipl CamelContext camel context run variou time lifetim applic must properli cleanup stop context context seri patch fix hope finish comfort test multipl jdk implement version chang forkMode fork mode local copi reduc test time core min min min sinc interact test still possibl might lead us wild goos wild goos could add anoth profil use safer yet time consum pertest pertest forkMode fork mode,0,0,0,0,0,camel-core/pom.xml;camel-core/src/test/java/org/apache/camel/management/ManagedUnregisterCamelContextTest.java;,0
2731,Christian Müller,camel-bindy,0,Camel-bindy should be able to process fix length records, camel bindi camel bindi abl process fix length record,Camel-bindy should be able to process fix length records which has no separators:A sample line could looks like: 47111234567890654321098765432199999999999999994711 is the companyId1234567890 is the cardProgram6543210987654321 is the accountNumber9999999999999999 is the cardNumberCreated a POJO with the Camel bindy annotations:@CsvRecord(separator = '')public class CSVRecord implements Serializable { @DataField(pos = 1  length = 4) private String companyId; @DataField(pos = 2  length = 10) private String cardProgram; @DataField(pos = 3  length = 16) private String accountNumber; @DataField(pos = 4  length = 16) private String cardNumber; // getter and setter} See nabble for details., camel bindi camel bindi abl process fix length record no separ separ sampl line could look like like companyId compani Id cardProgram card program accountNumber account number cardNumberCreated card number creat POJO camel bindi annot CsvRecord separ annot csv record separ public class CSVRecord CSV record implement serializ DataField po data field po length privat string companyId compani Id DataField po data field po length privat string cardProgram card program DataField po data field po length privat string accountNumber account number DataField po data field po length privat string cardNumber card number getter setter setter see nabbl detail detail,0,0,1,0,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/DataField.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/FixedLengthRecord.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/fixed/BindyFixedLengthDataFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/util/AnnotationModelLoader.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/BindySimpleFixedLengthUnmarshallTest.java;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/BindySimpleFixedLengthUnmarshallTest-context.xml;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/DataField.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/marshall/simple/BindySimpleFixedLengthMarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/BindySimpleFixedLengthUnmarshallTest.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyCsvFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/fixed/BindyFixedLengthDataFormat.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/BindySimpleFixedLengthUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/marshall/simple/BindySimpleFixedLengthMarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/BindySimpleFixedLengthUnmarshallTest.java;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/BindySimpleFixedLengthUnmarshallTest-context.xml;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/marshall/simple/BindySimpleFixedLengthMarshallTest-context.xml;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/BindySimpleFixedLengthUnmarshallTest-context.xml;,0
2736,Claus Ibsen,camel-core,0,SendProcessor - When a route is started it should be able to warmup the Producer, SendProcessor send processor rout start abl warmup produc,In case you want to have Camel etc. to fail on startup in case a Producer cannot start  for example it needs a remote connection which fails.The producer would normally be created on-the-fly  eg a message needs to be send to it., case want camel etc etc fail startup case produc cannot start exampl need remot connect fail fail produc would normal creat fli fli eg messag need send,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java;camel-core/src/main/java/org/apache/camel/processor/SendProcessor.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileProcessStrategyFactory.java;camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedProcessor.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedSendProcessor.java;camel-core/src/main/java/org/apache/camel/processor/SendProcessor.java;camel-core/src/test/java/org/apache/camel/management/ManagedSendProcessorTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpComponent.java;components/camel-ibatis/src/test/java/org/apache/camel/component/ibatis/IBatisUnknownStatementTypeTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaSendToProcessorTest.java;,0
2743,Willem Jiang,null,0,HttpProducer should not sending the Http headers with low case, HttpProducer http produc not send http header low case,Here is the mail thread which discusses about it.http://old.nabble.com/camel-http-converts-headers-to-lower-case-tp28620717p28620717.html, mail thread discuss http old nabbl com camel http convert header lower case tp html http old nabbl com camel http convert header lower case tp html,0,0,0,1,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpHeaderTest.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpProducer.java;components/camel-http/src/main/java/org/apache/camel/component/http/DefaultHttpBinding.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/DefaultJettyHttpBinding.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpHeaderCaseTest.java;,0
2744,Glenn Moss,camel-core,0,AggregationStrategy returning null causes NPE, AggregationStrategy aggreg strategi return null caus NPE,When the AggregationStrategy's aggregate method returns null  the AggregateProcessor throws an NPE. While this is a result of user error  I think it would be easy to provide a more useful error indicating what the true problem is. This is the (not very helpful) error the user sees:ERROR | Caused by: [org.apache.camel.RuntimeCamelException - java.lang.NullPointerException]org.apache.camel.RuntimeCamelException: java.lang.NullPointerException at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1117) at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:104) at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:543) at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:482) at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:451) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:323) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:261) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:982) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:974) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:876) at java.lang.Thread.run(Thread.java:619)Caused by: java.lang.NullPointerException at org.apache.camel.processor.aggregate.AggregateProcessor.doAggregation(AggregateProcessor.java:227) at org.apache.camel.processor.aggregate.AggregateProcessor.process(AggregateProcessor.java:182) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) at org.apache.camel.processor.DelegateProcessor.processNext(DelegateProcessor.java:53) at org.apache.camel.processor.DelegateProcessor.proceed(DelegateProcessor.java:82) at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:97) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) at org.apache.camel.processor.RedeliveryErrorHandler.processExchange(RedeliveryErrorHandler.java:185) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:151) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:89) at org.apache.camel.processor.DefaultErrorHandler.process(DefaultErrorHandler.java:49) at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:228) at org.apache.camel.processor.UnitOfWorkProcessor.processNext(UnitOfWorkProcessor.java:70) at org.apache.camel.processor.DelegateProcessor.process(DelegateProcessor.java:48) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:84) ... 9 more, AggregationStrategy aggreg strategi aggreg method return null AggregateProcessor aggreg processor throw NPE NPE result user error think would easi provid use error indic true problem not help help error user see ERROR see ERROR caus org apach camel RuntimeCamelException org apach camel runtim camel except java lang NullPointerException org apach camel RuntimeCamelException java lang null pointer except org apach camel runtim camel except java lang NullPointerException java lang null pointer except org apach camel util ObjectHelper wrapRuntimeCamelException ObjectHelper java org apach camel util object helper wrap runtim camel except object helper java org apach camel compon jm EndpointMessageListener onMessage EndpointMessageListener java org apach camel compon jm endpoint messag listen messag endpoint messag listen java org springframework jm listen AbstractMessageListenerContainer doInvokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer invokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer doExecuteListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain execut listen abstract messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer doReceiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer receiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker invokeListener DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok invok listen default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker executeOngoingLoop DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok execut ongo loop default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker run DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok run default messag listen contain java java lang thread run thread java caus java lang thread run thread java caus java lang NullPointerException java lang null pointer except org apach camel processor aggreg AggregateProcessor doAggregation AggregateProcessor java org apach camel processor aggreg aggreg processor aggreg aggreg processor java org apach camel processor aggreg AggregateProcessor process AggregateProcessor java org apach camel processor aggreg aggreg processor process aggreg processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel processor DelegateProcessor processNext DelegateProcessor java org apach camel processor deleg processor process next deleg processor java org apach camel processor DelegateProcessor proceed DelegateProcessor java org apach camel processor deleg processor proceed deleg processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel processor RedeliveryErrorHandler processExchange RedeliveryErrorHandler java org apach camel processor redeliveri error handler process exchang redeliveri error handler java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor DefaultErrorHandler process DefaultErrorHandler java org apach camel processor default error handler process default error handler java org apach camel processor DefaultChannel process DefaultChannel java org apach camel processor default channel process default channel java org apach camel processor UnitOfWorkProcessor processNext UnitOfWorkProcessor java org apach camel processor unit work processor process next unit work processor java org apach camel processor DelegateProcessor process DelegateProcessor java org apach camel processor deleg processor process deleg processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel compon jm EndpointMessageListener onMessage EndpointMessageListener java org apach camel compon jm endpoint messag listen messag endpoint messag listen java,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateRepositoryReturnNullTest.java;,0
2748,Willem Jiang,null,0,camel-cxf feature doesn't include all cxf needs bundles, camel cxf camel cxf featur includ cxf need bundl,Current camel-cxf features doesn't include wss4j  saaj-imple  opensaml  fastinfoset bundle.We need to add these bundle into camel-cxf features., current camel cxf camel cxf featur includ wss wss saaj impl saaj impl opensaml fastinfoset bundl bundl need add bundl camel cxf camel cxf featur featur,0,0,0,0,0,platforms/karaf/features/pom.xml;platforms/karaf/features/src/main/resources/config.properties;platforms/karaf/features/src/main/resources/features-spring3.xml;platforms/karaf/features/src/main/resources/features.xml;platforms/karaf/pom.xml;,0
2755,Nathan Jensen,camel-core,0,VM endpoints with same name do not communicate if args don't match, VM endpoint name not commun arg match,If you send to a VM endpoint from one route and consume from the same endpoint in another route  but include an argument on only one of the routes  Camel sees them as two different routes. Therefore  the messages are never consumed. For example:&lt;camelContext id='sendNotifyContext' xmlns='http://camel.apache.org/schema/spring' errorHandlerRef='errorHandler'&gt; &lt;route id='sendToNotify'&gt; &lt;from uri='...' /&gt; .... &lt;to uri='vm:myNotify' /&gt; &lt;/route&gt;&lt;/camelContext&gt;&lt;camelContext id='receiveNotifyContext' xmlns='http://camel.apache.org/schema/spring' errorHandlerRef='errorHandler'&gt; &lt;route id='receiveNotify'&gt; &lt;from uri='vm:myNotify?size=2500' /&gt; .... &lt;to uri='...' /&gt; &lt;/route&gt;&lt;/camelContext&gt;The producer appears to send to vm:myNotify while the consumer is listening to a separate endpoint named vm:myNotify?size=2500  so the messages build up and are never received., send VM endpoint one rout consum endpoint anoth rout includ argument one rout camel see two differ rout rout therefor messag never consum consum exampl lt camelContext exampl lt camel context id sendNotifyContext id send notifi context xmln http camel apach org schema spring xmln http camel apach org schema spring errorHandlerRef errorHandler gt error handler ref error handler gt lt rout lt rout id sendToNotify gt id send notifi gt lt lt uri uri gt gt lt lt uri vm myNotify uri vm notifi gt gt lt rout gt lt camelContext gt lt camelContext lt rout gt lt camel context gt lt camel context id receiveNotifyContext id receiv notifi context xmln http camel apach org schema spring xmln http camel apach org schema spring errorHandlerRef errorHandler gt error handler ref error handler gt lt rout lt rout id receiveNotify gt id receiv notifi gt lt lt uri vm myNotify size uri vm notifi size gt gt lt lt uri uri gt gt lt rout gt lt camelContext gt lt rout gt lt camel context gt produc appear send vm myNotify vm notifi consum listen separ endpoint name vm myNotify size vm notifi size messag build never receiv receiv,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaComponent.java;camel-core/src/main/java/org/apache/camel/component/vm/VmComponent.java;camel-core/src/test/java/org/apache/camel/component/vm/VmUseSameQueueTest.java;,0
2763,Willem Jiang,camel-mail,0,MailBinding can't handle the subject header with NO_ASCII code rightly., MailBinding mail bind handl subject header NO_ASCII NO ASCII code rightli rightli,Here is the mail thread which discusses about it., mail thread discuss,0,0,0,0,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailRouteTest.java;,0
2769,Claus Ibsen,camel-core,0,OnCompletion - Let it be executed last so the internal on completions can be executed beforehand, OnCompletion complet let execut last intern complet execut beforehand,See nabblehttp://old.nabble.com/Problems-shutting-down-route-onCompletion-ts28707903.htmlThis requires some sort of marker / API changes or whatever to let Camel knows that its a OnCompletion synchronization so it should be executed last.We may need to add a priority option or the likes., see nabblehttp old nabbl com problem shut rout onCompletion ts htmlThis nabblehttp old nabbl com problem shut rout complet ts html requir sort marker API chang whatev let camel know OnCompletion complet synchron execut last last may need add prioriti option like like,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java;camel-core/src/main/java/org/apache/camel/impl/SynchronizationAdapter.java;camel-core/src/main/java/org/apache/camel/processor/OnCompletionProcessor.java;camel-core/src/main/java/org/apache/camel/spi/SynchronizationVetoable.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/main/java/org/apache/camel/util/Ordered.java;camel-core/src/main/java/org/apache/camel/util/OrderedComparator.java;camel-core/src/test/java/org/apache/camel/processor/OnCompletionShouldBeLastTest.java;camel-core/src/test/java/org/apache/camel/util/OrderedComparatorTest.java;,0
2773,Claus Ibsen,camel-bindy,0,Bindy - No @Section causes a null key being generated which causes a NumberFormatException, bindi No section section caus null key gener caus NumberFormatException number format except,See nabblehttp://old.nabble.com/Bindy-CSV-not-Marshaling-ts28719942.html, see nabblehttp old nabbl com bindi CSV not marshal ts html nabblehttp old nabbl com bindi CSV not marshal ts html,0,0,0,1,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyKeyValuePairFactory.java;components/camel-bindy/src/test/data/fix_simple/fix_simple.txt;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/CommonBindyTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindySimpleCsvUnmarshallBadIntegerTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fix/BindySimpleKeyValuePairMarshallDslTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fix/BindySimpleKeyValuePairWithoutSectionMarshallDslTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/fix/withoutsection/Order.java;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fix/BindySimpleKeyValuePairWithoutSectionMarshallDslTest-context.xml;,0
2778,Roland Knight,null,0,Escaped characters in http4 URLs do not work, escap charact http http URLs UR Ls not work,There is a bug in http4 HttpProducer that is unescaping URL query and path components too early. Patch fix attached., bug http http HttpProducer http produc unescap URL queri path compon earli earli patch fix attach attach,0,1,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http/src/main/java/org/apache/camel/component/http/helper/HttpProducerHelper.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpClientRouteTest.java;components/camel-http/src/main/java/org/apache/camel/component/http/helper/HttpProducerHelper.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpProducer.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/helper/HttpProducerHelper.java;components/camel-http4/src/test/java/org/apache/camel/component/http4/HttpPathTest.java;components/camel-http4/src/test/java/org/apache/camel/component/http4/HttpQueryTest.java;components/camel-http4/src/test/java/org/apache/camel/component/http4/handler/BasicValidationHandler.java;,0
2786,Claus Ibsen,camel-core,0,ManagementAgent should expose getter/setters for the JMX settings so you can set it easily from Java, ManagementAgent manag agent expos getter setter getter setter JMX set set easili java,Today you have to use a JVM system propertyYou can set the service URL path by system property.-Dorg.apache.camel.jmx.serviceUrlPath=&lt;path&gt;This should be possible to set from Java like this also:context.getManagementStrategy().getManagementAgent().setServiceUrlPath('foo ....');, today use JVM system propertyYou properti set servic URL path system properti dorg apach camel jmx serviceUrlPath lt path gt properti dorg apach camel jmx servic url path lt path gt possibl set java like also context getManagementStrategy getManagementAgent setServiceUrlPath foo also context get manag strategi get manag agent set servic url path foo,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/management/DefaultManagementAgent.java;camel-core/src/main/java/org/apache/camel/spi/ManagementAgent.java;camel-core/src/test/java/org/apache/camel/management/ManagedServiceUrlPathTest.java;,0
2798,Andreas Asmuss,camel-core,0,Aggregation raises NullPointerException if last file in batch is not to be aggregated., aggreg rais NullPointerException null pointer except last file batch not aggreg aggreg,When trying to aggregate files from a directory  it seems that camel-core raises a NullPointerException if the last file of the batch is a single file. That is it doesn't match the correlationExpression with any other files and therefore should just pass through. If such a file is the first file or in the middle of the files (alphabetically) this issue is not present.See:http://old.nabble.com/Aggregator-problem-with-files-(Camel-2.3)-td28778641.html#a28780522, tri aggreg file directori seem camel core camel core rais NullPointerException null pointer except last file batch singl file file match correlationExpression correl express file therefor pass file first file middl file alphabet alphabet issu not present see http old nabbl com aggreg problem file camel td html present see http old nabbl com aggreg problem file camel td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateExpressionTest.java;,0
2800,Claus Ibsen,camel-core,0,Graceful shutdown - Add option to shutdown manually added/started routes, grace shutdown add option shutdown manual ad start ad start rout,If you for example add routes later at runtime  then those where not enlisted on startup and thus not part of the process to be stopped.Those routes added manually should be part of this so they are also shutdown. There should be an option to control this behavior so you can turn it off  in the odd cases you dont want that., exampl add rout later runtim not enlist startup thu not part process stop stop rout ad manual part also shutdown shutdown option control behavior turn odd case dont want,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/test/java/org/apache/camel/impl/GracefulShutdownNoAutoStartOrderClashTest.java;camel-core/src/test/java/org/apache/camel/impl/ShutdownGracefulNoAutoStartedRoutesTest.java;camel-core/src/test/java/org/apache/camel/impl/SimpleShutdownGracefulNoAtuoStartedTest.java;,0
2805,Roman Kalukiewicz,null,0,It is impossible to put # sign in SQL statement in camel-sql, imposs put sign SQL statement camel sql camel sql,SqlProducer implementation turns all # characters into ? making it impossible to have # in the SQL statement., SqlProducer sql produc implement turn charact make imposs SQL statement statement,1,0,0,0,0,components/camel-sql/src/main/java/org/apache/camel/component/sql/SqlComponent.java;components/camel-sql/src/test/java/org/apache/camel/component/sql/SqlRouteTest.java;,0
2815,Darren Davison,null,0,camel-castor relies on specific  out of date version of Castor, camel castor camel castor reli specif date version castor,camel-castor specifies a non-flexible version dependency on Castor 1.2.0. Ideally should be changed to [1.2.0 2.0) to allow later versions of Castor to be deployed. Castor 1.2 was released in Feb 2008  1.3 was first released in Feb 2009, camel castor camel castor specifi non flexibl non flexibl version depend castor ideal chang allow later version castor deploy deploy castor releas feb first releas feb,0,0,0,0,0,components/camel-castor/pom.xml;,0
2821,Claus Ibsen,camel-ftp,0,camel-ftp - SFTP in fileExists should handle exception being thrown with id code stating no such file, camel ftp camel ftp SFTP fileExists file exist handl except thrown id code state no file,See nabblehttp://camel.465427.n5.nabble.com/camel-ftp-cannot-create-directory-using-sftp-tp479092p479092.html, see nabblehttp camel nabbl com camel ftp cannot creat directori use sftp tp html nabblehttp camel nabbl com camel ftp cannot creat directori use sftp tp html,0,0,0,1,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;,0
2824,Tarjei Huse,camel-core,0,Deadlock in org.apache.camel.util.DefaultTimeoutMap, deadlock org apach camel util DefaultTimeoutMap org apach camel util default timeout map,After running a camel route with a camel Aggregator for a while  I get a deadlock in org.apache.camel.util.DefaultTimeoutMap. A full processdump is attached to this bug.I have also tried to recreate this as failing testcase  but without any luck so far., run camel rout camel aggreg get deadlock org apach camel util DefaultTimeoutMap org apach camel util default timeout map full processdump attach bug bug also tri recreat fail testcas without luck far far,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/management/JmxNotificationEventNotifier.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/main/java/org/apache/camel/util/DefaultTimeoutMap.java;camel-core/src/main/java/org/apache/camel/util/TimeoutMap.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateFromWireTapTest.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregatorTest.java;camel-core/src/test/java/org/apache/camel/util/DefaultTimeoutMapTest.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/main/java/org/apache/camel/util/DefaultTimeoutMap.java;camel-core/src/main/java/org/apache/camel/util/TimeoutMap.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateTimeoutManualTest.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateTimeoutOnlyTest.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;,0
2833,Nick Heudecker,camel-http,0,Support for Binary Files in HttpProducer, support binari file HttpProducer http produc,Presently  the HTTP Component doesn't support transferring binary files. The attached patch adds support. Tested successfully using a file -&gt; http route with a PUT., present HTTP compon support transfer binari file file attach patch add support support test success use file gt gt http rout PUT PUT,0,1,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/file/JettyFileConsumerTest.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileConverter.java;camel-core/src/main/java/org/apache/camel/converter/IOConverter.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http/src/main/java/org/apache/camel/component/http/helper/GZIPHelper.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpProducer.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpBindingPreservePostFormUrlEncodedBodyTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyContentTypeTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/file/JettyFileConsumerTest.java;components/camel-jetty/src/test/resources/java.jpg;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpProducer.java;,0
2837,Christian Müller,null,0,CsvDataFromat delimiter should also be configurable in the XML/Spring DSL, CsvDataFromat csv data fromat delimit also configur XML spring XML spring DSL,The org.apache.camel.model.dataformat.CsvDataFormat doesn't support any attributes or nested elements in the XML DSL. So  currently it is not possible for the XML/Spring DSL to change the token delimiter as it is possible in the Java DSL.See Nabble, org apach camel model dataformat CsvDataFormat org apach camel model dataformat csv data format support attribut nest element XML DSL DSL current not possibl XML spring XML spring DSL chang token delimit possibl java DSL see DSL see nabbl,0,0,0,0,0,components/camel-csv/src/main/java/org/apache/camel/dataformat/csv/CsvDataFormat.java;components/camel-csv/src/test/java/org/apache/camel/dataformat/csv/CsvMarshalPipeDelimiterSpringTest.java;components/camel-csv/src/test/java/org/apache/camel/dataformat/csv/CsvMarshalPipeDelimiterTest.java;components/camel-csv/src/test/java/org/apache/camel/dataformat/csv/CsvUnmarshalPipeDelimiterSpringTest.java;components/camel-csv/src/test/java/org/apache/camel/dataformat/csv/CsvUnmarshalPipeDelimiterTest.java;components/camel-csv/src/test/resources/org/apache/camel/dataformat/csv/CsvMarshalPipeDelimiterSpringTest-context.xml;components/camel-csv/src/test/resources/org/apache/camel/dataformat/csv/CsvUnmarshalPipeDelimiterSpringTest-context.xml;camel-core/src/main/java/org/apache/camel/model/dataformat/CsvDataFormat.java;,0
2847,Claus Ibsen,camel-core,0,Thread Name Syntax - Do not output endpoint parameters to be less verbose, thread name syntax not output endpoint paramet less verbos,By default thread names from consumers have the endpoint uri in the name  but those can become longCamel Thread 1 - ftp://sms01@localhost:2121/autreq/err?delay=5000&amp;filter=%23conaxRequestFilter&amp;move=.processed&amp;passiveMode=true&amp;password=sms01]So we should change {$name} to be just the endpoint without all the parameters. Eg clip after the first ? so it becomesCamel Thread 1 - ftp://sms01@localhost:2121/autreq/err]So we should change it to be ${name} the new short handed syntax ${fullName} as now with everything, default thread name consum endpoint uri name becom longCamel long camel thread chang name name endpoint without paramet paramet Eg clip first becomesCamel becom camel thread chang name name new short hand syntax fullName full name everyth,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchange.java;camel-core/src/main/java/org/apache/camel/spi/ExecutorServiceStrategy.java;camel-core/src/main/java/org/apache/camel/util/concurrent/ExecutorServiceHelper.java;camel-core/src/test/java/org/apache/camel/impl/DefaultExecutorServiceStrategyTest.java;,0
2854,Michael Chen,camel-core,0,No consumers available on 'direct://xyz' endpoint, No consum avail direct xyz direct xyz endpoint,The following warning in log4j log shows up with no predictable reason:2010-06-24 14:07:01 090 WARN &#91;DefaultMessageListenerContainer-7:DirectProducer.java:42&#93; No consumers available on endpoint: Endpoint&#91;direct://UserCancelJobRequest&#93; to process: Exchange[JmsMessage: RunnerBase{locationToRunId='DV02YcABTE43HTRPATEGCBFk0m0'  jobrun_id=1234  requestOrigId='null'  secretKey='null'  replyToQueueOrTopic='null'  corrolationId='null'  requestCreationTime=Thu Jun 24 14:07:01 PDT 2010}]The endpoint &#91;direct://UserCancelJobRequest&#93; could be a number of different endpoints in our application and all of them are of 'direct:' type. When this happens  all messages that run through that endpoint will fail  and it will never recover unless the application is restarted.Also  if I restart the application and use that route immediately  that warning will not occur and the request will finish successfully. It seems to happen to routes that have not been used for a while after startup.When this happens  I can find the exact Camel endpoint/route/processor in JConsole  and nothing seems to be wrong. How can a 'direct:' endpoint runs out of consumer? Isn't the thread that product this warning THE thread to process the message?We recently upgraded from 5.2 to 5.3.2 and this starts to show up randomly. It is a show stopper!--Michael, follow warn log log log show no predict reason reason WARN DefaultMessageListenerContainer DirectProducer java default messag listen contain direct produc java No consum avail endpoint endpoint endpoint direct UserCancelJobRequest endpoint direct user cancel job request process process exchang JmsMessage exchang jm messag RunnerBase locationToRunId DV YcABTE HTRPATEGCBFk runner base locat run Id DV Yc ABTE HTRPATEGCB Fk jobrun_id jobrun_id requestOrigId null request orig Id null secretKey null secret key null replyToQueueOrTopic null repli queue topic null corrolationId null corrol Id null requestCreationTime thu request creation time thu jun PDT endpoint direct UserCancelJobRequest direct user cancel job request could number differ endpoint applic direct direct type type happen messag run endpoint fail never recov unless applic restart also restart also restart applic use rout immedi warn not occur request finish success success seem happen rout not use startup startup happen find exact camel endpoint rout processor endpoint rout processor JConsole consol noth seem wrong wrong direct direct endpoint run consum consum thread product warn thread process messag messag recent upgrad start show randomli randomli show stopper michael stopper michael,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/component/direct/DirectComponent.java;camel-core/src/main/java/org/apache/camel/component/direct/DirectConsumer.java;camel-core/src/main/java/org/apache/camel/component/direct/DirectEndpoint.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanInPipelineTest.java;camel-core/src/test/java/org/apache/camel/component/direct/SendingToAlotOfDifferentDirectEndpointTest.java;camel-core/src/test/java/org/apache/camel/impl/DefaultProducerTemplateTest.java;camel-core/src/test/java/org/apache/camel/issues/CoarseGrainedProcessorDefinitionIssueTest.java;camel-core/src/test/java/org/apache/camel/processor/PipelineMEPTest.java;camel-core/src/test/java/org/apache/camel/processor/TransformToInvalidEndpointTest.java;camel-core/src/test/java/org/apache/camel/processor/TransformToTest.java;camel-core/src/test/java/org/apache/camel/processor/ValidationWithHandlePipelineTest.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptSendToEndpointTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/ProducerTemplateMaximumCacheSizeTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/example/PojoDualCamelContextConsumerTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/example/pojoDualCamelContextConsumer.xml;,0
2867,Claus Ibsen,camel-core,0,convertBodyTo should handle null bodies, convertBodyTo convert bodi handl null bodi,If the body is null and you use convertBodyTo you will get a no type converter exception due body is null. Instead it should accept the null body and continue routing., bodi null use convertBodyTo convert bodi get no type convert except due bodi null null instead accept null bodi continu rout rout,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/ChoiceProcessor.java;camel-core/src/main/java/org/apache/camel/processor/ConvertBodyProcessor.java;camel-core/src/main/java/org/apache/camel/processor/DelegateAsyncProcessor.java;camel-core/src/main/java/org/apache/camel/processor/DelegateProcessor.java;camel-core/src/test/java/org/apache/camel/processor/ConvertBodyTest.java;camel-core/src/test/java/org/apache/camel/processor/async/AsyncEndpointTransformTest.java;,0
2889,Claus Ibsen,camel-core; camel-spring,0,Redelivery policy's retryUntil option should be renamed as retryWhile, redeliveri polici polici retryUntil retri option renam retryWhile retri,The semantics of retryUntil are a bit counter-intuitive. I would naturally expect retryUntil(predicate) to mean retry until predicate is true  but it actually means retry until predicate is false. If you change the name of the option to retryWhile  you would get the natural interpretation retry while predicate is true., semant retryUntil retri bit counter intuit counter intuit would natur expect retryUntil predic retri predic mean retri predic true actual mean retri predic fals fals chang name option retryWhile retri would get natur interpret retri predic true true,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/OnExceptionDefinition.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryPolicy.java;camel-core/src/test/java/org/apache/camel/issues/RetryContextScopedUntilRecipientListIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/RetryContextScopedUntilRecipientListParallelIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/RetryRouteScopedUntilRecipientListIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/RetryRouteScopedUntilRecipientListParallelIssueTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionRetryUntilTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionRetryUntilWithDefaultErrorHandlerTest.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/handler/CamelNamespaceHandler.java;components/camel-scala/src/main/scala/org/apache/camel/scala/dsl/SOnExceptionDefinition.scala;components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/OnExceptionTest.scala;,0
2891,james strachan,null,0,URIs for viewing a route as a language clashes with any other possible sub resource for routes (such as status), URIs UR view rout languag clash possibl sub resourc rout statu statu,rather than: {id}/{lang}we should use something like {id}/lang/{lang}so that it doesn't gobble up: {id}/status or {id}/somethingElse, rather id lang id lang use someth like id lang lang id lang lang gobbl id statu id statu id somethingElse id someth els,1,0,0,0,0,components/camel-web/src/main/java/org/apache/camel/web/resources/RoutesResource.java;components/camel-web/src/main/webapp/org/apache/camel/web/resources/RouteResource/index.jsp;,0
2892,james strachan,camel-web,0,remove ugly warnings running tests since upgrading to jetty 7, remov ugli warn run test sinc upgrad jetti,lets zap these...[ main] log WARN java.lang.ClassNotFoundException: org.eclipse.jetty.jsp.JettyLog, let zap main main log WARN java lang ClassNotFoundException java lang class not found except org eclips jetti jsp JettyLog org eclips jetti jsp jetti log,1,0,0,0,0,components/camel-web/pom.xml;,0
2903,Paul Mietz Egli,camel-cxf; camel-http,0,update camel-http and camel-cxf features to use Commons Codec 1.4, updat camel http camel http camel cxf camel cxf featur use common codec,The latest version of Commons Codec is available as an OSGi bundle  so it would be nice to update the features file for Camel 2.3 to use that version:&lt;bundle&gt;mvn:commons-codec/commons-codec/1.4&lt;/bundle&gt;I've been installing 1.4 by hand and removing the org.apache.servicemix.bundles.commons-codec/1.3_2 without any ill effects on camel-http., latest version common codec avail OSGi OS Gi bundl would nice updat featur file camel use version lt bundl gt mvn common codec common codec lt bundl gt version lt bundl gt mvn common codec common codec lt bundl gt instal hand remov org apach servicemix bundl common codec  org apach servicemix bundl common codec  without ill effect camel http camel http,0,0,0,0,0,platforms/karaf/features/src/main/resources/features-spring3.xml;platforms/karaf/features/src/main/resources/features.xml;,0
2909,Max Matveev,camel-jms,0,Oracle AQ does not support the JMSReplyTo property and therefore throws a 'JMS-102: Feature not supported' exception when the JMS provider tries to get it., oracl AQ not support JMSReplyTo JMS repli properti therefor throw JMS JMS featur not support support except JMS provid tri get,Oracle AQ does not support the JMSReplyTo property and therefore throws a 'JMS-102: Feature not supported' exception when the JMS provider tries to get it., oracl AQ not support JMSReplyTo JMS repli properti therefor throw JMS JMS featur not support support except JMS provid tri get,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;,0
2920,james strachan,camel-core,0,more eager validation of routes, eager valid rout,it seems you can dynamically create invalid routes which don't fail fast if there are errors.e.g.from('seda:foo').beanRef('doesNotExist'  'noMethodCalledThis')its only if a message is sent to 'seda:foo' that the whole thing barfs. We should maybe check that the to can be validated first before allowing the consumer to startup? If nothing else failing faster and earlier helps users spot errors sooner, seem dynam creat invalid rout fail fast error seda foo beanRef doesNotExist error seda foo bean ref not exist noMethodCalledThis no method call messag sent seda foo seda foo whole thing barf barf mayb check valid first allow consum startup startup noth els fail faster earlier help user spot error sooner,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/language/bean/BeanExpression.java;camel-core/src/main/java/org/apache/camel/model/BeanDefinition.java;camel-core/src/main/java/org/apache/camel/model/language/MethodCallExpression.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanRefNotFoundTest.java;camel-core/src/test/java/org/apache/camel/component/bean/MethodCallBeanRefNotFoundTest.java;camel-core/src/test/java/org/apache/camel/view/DotViewTest.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/model/BeanDefinition.java;camel-core/src/main/java/org/apache/camel/model/language/MethodCallExpression.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanInfoTest.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanRefMethodNotFoundTest.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanWithMethodHeaderTest.java;camel-core/src/test/java/org/apache/camel/component/bean/MethodCallBeanRefMethodNotFoundTest.java;camel-core/src/test/java/org/apache/camel/component/bean/MethodCallBeanRefNotFoundTest.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregatorBeanThrowExceptionTest.java;camel-core/src/test/java/org/apache/camel/view/DotViewTest.java;,0
2925,Hadrian Zbarcea,null,0,Use  forkMode=once for the surefire plugin to significantly speed up tests, use forkMode fork mode surefir plugin significantli speed test,We need to reduce the testing time in Camel since we got so many tests now. For this to work wee need to make sure there are no side effects outside of a test (which is not always simple).Side effects usually stem from using static fields in classes shared across multiple tests (such as caches of Exchanges  or whatnot)  which should be avoided., need reduc test time camel sinc got mani test work wee need make sure no side effect outsid test not alway simpl side simpl side effect usual stem use static field class share across multipl test cach exchang whatnot whatnot avoid avoid,0,0,0,0,0,0,0
2926,Ryan Callaghan,camel-core; camel-spring,0,Injecting Properties into the PropertiesComponent with Spring, inject properti PropertiesComponent properti compon spring,The component is quite nice - however a good improvement would be allowing properties to be injected through Spring.Currently there are two ways to do this using Spring.1) Declare a bean with an id of properties:&lt;bean id='properties' class='org.apache.camel.component.properties.PropertiesComponent'&gt; &lt;property name='location' value='classpath:com/mycompany/myprop.properties'/&gt;&lt;/bean&gt;This would be improved if we could simply say:&lt;bean id='properties' class='org.apache.camel.component.properties.PropertiesComponent'&gt; &lt;property name='location' ref='myPropertiesBean'/&gt;&lt;/bean&gt;This would allow properties to be declared in Spring using &lt;util:properties/&gt;. The same properties grouping could be injected into Camel as is injected into other beans.2) Inline within the camelContext defined in Spring:&lt;camelContext ...&gt; &lt;propertyPlaceholder id='properties' location='com/mycompany/myprop.properties'/&gt;&lt;/camelContext&gt;Similarly it would be nice to say:&lt;camelContext ...&gt; &lt;propertyPlaceholder id='properties' ref='myPropertiesBean' /&gt;&lt;/camelContext&gt;I noticed CAMEL-2791 is out there to access JVM system properties - it would be good to not have to load as a system property to access them in Camel., compon quit nice howev good improv would allow properti inject spring current spring current two way use spring spring declar bean id properti lt bean properti lt bean id properti id properti class org apach camel compon properti PropertiesComponent gt class org apach camel compon properti properti compon gt lt properti lt properti name locat name locat valu classpath com mycompani myprop properti gt lt bean gt valu classpath com mycompani myprop properti gt lt bean gt would improv could simpli say lt bean say lt bean id properti id properti class org apach camel compon properti PropertiesComponent gt class org apach camel compon properti properti compon gt lt properti lt properti name locat name locat ref myPropertiesBean gt lt bean gt ref properti bean gt lt bean gt would allow properti declar spring use lt util properti gt lt util properti gt properti group could inject camel inject bean bean inlin within camelContext camel context defin spring lt camelContext spring lt camel context gt gt lt propertyPlaceholder lt properti placehold id properti id properti locat com mycompani myprop properti gt lt camelContext gt similarli locat com mycompani myprop properti gt lt camel context gt similarli would nice say lt camelContext say lt camel context gt gt lt propertyPlaceholder lt properti placehold id properti id properti ref myPropertiesBean ref properti bean gt lt camelContext gt gt lt camel context gt notic CAMEL CAMEL access JVM system properti would good not load system properti access camel camel,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/properties/DefaultPropertiesResolver.java;camel-core/src/test/java/org/apache/camel/component/properties/PropertiesComponentRefTest.java;components/camel-spring/src/test/java/org/apache/camel/component/properties/SpringPropertiesComponentRefTest.java;components/camel-spring/src/test/resources/org/apache/camel/component/properties/SpringPropertiesComponentRefTest.xml;,0
2935,Martin Krasser,camel-core,0,Broken failure reporting via DefaultProucerTemplate.asyncCallback and Synchronization.onFailure, broken failur report via DefaultProucerTemplate asyncCallback default proucer templat async callback synchron onFailure synchron failur,The recent change in ProducerCache.sendProducerCache.java public void send(Endpoint endpoint  Exchange exchange) { try { sendExchange(endpoint  null  null  exchange); // RECENT CHANGE HERE: // ensure that CamelExecutionException is always thrown if (exchange.getException() != null) { exchange.setException(wrapCamelExecutionException(exchange  exchange.getException())); } } catch (Exception e) { throw wrapCamelExecutionException(exchange  e); } }that throws a CamelExecutionException if exchange.getException is not null  makes it impossible for DefaultProducerTemplate.asyncCallback to report failures (other than fault messages) asynchronously via Synchronization.onFailureDefaultProducerTemplate.java public Future&lt;Exchange&gt; asyncCallback(final Endpoint endpoint  final Exchange exchange  final Synchronization onCompletion) { Callable&lt;Exchange&gt; task = new Callable&lt;Exchange&gt;() { public Exchange call() throws Exception { // FIXME: exception is thrown in Camel 2.4 where a normal return with answer.getException != null was done in Camel 2.3 Exchange answer = send(endpoint  exchange); if (answer.isFailed()) { onCompletion.onFailure(answer); } else { // ... } return answer; } }; // ... }This was working in Camel 2.3 (but unfortunately there wasn't any test case for it). I attached a patch for DefaultProducerTemplateAsyncTest that demonstrates the problem. I didn't commit a fix yet because I'm unsure at the moment about the best way to fix that. Of course I tried a naive fix in the DefaultProducerTemplate.asyncCallback methods which causes the test (in the patch) to pass but I'd like to hear other opinions before I continue., recent chang ProducerCache sendProducerCache java produc cach send produc cach java public void send endpoint send endpoint endpoint exchang exchang exchang tri sendExchange endpoint send exchang endpoint null null exchang exchang RECENT CHANGE ensur CamelExecutionException camel execut except alway thrown exchang getException exchang get except null null exchang setException wrapCamelExecutionException exchang exchang set except wrap camel execut except exchang exchang getException exchang get except catch except except throw wrapCamelExecutionException exchang wrap camel execut except exchang throw CamelExecutionException camel execut except exchang getException exchang get except not null make imposs DefaultProducerTemplate asyncCallback default produc templat async callback report failur fault messag messag asynchron via synchron onFailureDefaultProducerTemplate java synchron failur default produc templat java public futur lt exchang gt futur lt exchang gt asyncCallback final async callback final endpoint endpoint final exchang exchang final synchron onCompletion complet callabl lt exchang gt callabl lt exchang gt task new callabl lt exchang gt callabl lt exchang gt public exchang call call throw except FIXME FIXME except thrown camel normal return answer getException answer get except null done camel exchang answer send endpoint send endpoint exchang exchang answer isFailed answer fail onCompletion onFailure answer complet failur answer els return answer answer work camel unfortun test case attach patch DefaultProducerTemplateAsyncTest default produc templat async test demonstr problem problem commit fix yet unsur moment best way fix cours tri naiv fix DefaultProducerTemplate asyncCallback default produc templat async callback method caus test patch patch pass like hear opinion continu continu,0,1,1,1,0,camel-core/src/main/java/org/apache/camel/ProducerTemplate.java;camel-core/src/main/java/org/apache/camel/impl/DefaultMessage.java;camel-core/src/main/java/org/apache/camel/impl/DefaultProducerTemplate.java;camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java;camel-core/src/test/java/org/apache/camel/impl/DefaultConsumerTemplateTest.java;camel-core/src/test/java/org/apache/camel/impl/DefaultProducerTemplateAsyncTest.java;camel-core/src/test/java/org/apache/camel/impl/DefaultProducerTemplateTest.java;camel-core/src/test/java/org/apache/camel/issues/Issue3Test.java;camel-core/src/test/java/org/apache/camel/processor/BeanInvocationThrowsExceptionTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpAuthMethodPriorityTest.java;,0
2937,Hadrian Zbarcea,null,0,StreamProducer does not close stream in camel-stream, StreamProducer stream produc not close stream camel stream camel stream,Since the stream could be System.out or System.err  the producer does not close the stream ever. It should close all streams with the noted exceptions., sinc stream could system system system err system err produc not close stream ever ever close stream note except except,0,0,0,0,0,0,0
2940,Charles Moulliard,null,0,org.apache.camel.component.test package is imported in camel-spring component - generates error on OSGI platform, org apach camel compon test org apach camel compon test packag import camel spring camel spring compon gener error OSGI platform,[ 86] [Installed ] [ ] [ 60] camel-spring (2.5.0.SNAPSHOT)karaf@root&gt; start 86Error executing command: Unresolved constraint in bundle org.apache.camel.camel-spring [86]: Unable to resolve 86.0: missing requirement [86.0] package; (&amp;(package=org.apache.camel.component.test)(version&gt;=2.5.0)(!(version&gt;=2.5.1))) - [86.0] package; (&amp;(package=org.apache.camel.component.test)(version&gt;=2.5.0)(!(version&gt;=2.5.1)))karaf@root&gt; headers 86camel-spring (86)-----------------Bnd-LastModified = 1278946400750Build-Jdk = 1.6.0_20Built-By = CharlesmBundle-Activator = org.apache.camel.osgi.ActivatorBundle-Description = Camel Spring supportBundle-DocURL = http://www.apache.org/Bundle-License = http://www.apache.org/licenses/LICENSE-2.0.txtBundle-ManifestVersion = 2Bundle-Name = camel-springBundle-SymbolicName = org.apache.camel.camel-springBundle-Vendor = The Apache Software FoundationBundle-Version = 2.5.0.SNAPSHOTCreated-By = Apache Maven Bundle PluginExport-Package = org.apache.camel.spring.spi;uses:='org.springframework.context org.apache.camel.spi org.springframework.beans.factory org.apache.camel org.springframework.beans.factory.config org.apache.camel.builder org.springframework.transaction org.apache.commons.logging org.apache.camel.processor.exceptionpolicy org.apache.camel.processor org.apache.camel.util org.apache.camel.model org.springframework.transaction.support';version='2.5.0.SNAPSHOT' org.apache.camel.spring.util;uses:='org.apache.camel org.springframework.context org.apache.camel.util org.apache.commons.logging org.springframework.beans.factory org.springframework.util';version='2.5.0.SNAPSHOT' org.apache.camel.spring.remoting;uses:='org.apache.camel.util org.springframework.remoting.support org.apache.camel.component.bean org.apache.camel org.springframework.beans org.springframework.context org.apache.camel.spi org.apache.camel.spring.util org.springframework.beans.factory';version='2.5.0.SNAPSHOT' org.apache.camel.spring;uses:='org.apache.camel.impl org.apache.camel.util org.apache.commons.logging org.apache.camel org.springframework.beans org.springframework.context org.springframework.util org.springframework.beans.factory.config org.apache.camel.spring.util javax.xml.bind.annotation org.springframework.beans.factory org.apache.camel.builder org.apache.camel.model.dataformat org.springframework.context.event org.apache.camel.model.config org.apache.camel.model org.apache.camel.spi org.apache.camel.spring.spi org.apache.camel.view org.springframework.context.support org.apache.camel.spring.handler javax.xml.bind org.apache.camel.component.bean org.apache.camel.component.event org.springframework.transaction org.springframework.transaction.support';version='2.5.0.SNAPSHOT' org.apache.camel.spring.handler;uses:='org.springframework.beans.factory.support org.springframework.core org.springframework.util org.springframework.beans.factory.xml org.w3c.dom org.springframework.beans org.springframework.beans.factory.config org.springframework.beans.factory.parsing org.apache.camel.model.dataformat org.apache.camel.model.config org.apache.camel.util org.apache.camel.model org.apache.camel.spring javax.xml.bind org.springframework.beans.factory org.apache.camel.view org.apache.commons.logging org.apache.camel.model.loadbalancer org.apache.camel.builder.xml org.apache.camel.spring.remoting org.apache.camel.spi org.apache.camel org.apache.camel.model.language org.apache.camel.processor';version='2.5.0.SNAPSHOT' org.apache.camel.osgi;uses:='org.osgi.framework org.apache.camel.impl org.springframework.osgi.context org.apache.commons.logging javax.xml.bind.annotation org.springframework.context org.apache.camel.spring org.apache.camel.model org.apache.camel.model.loadbalancer org.apache.camel org.apache.camel.model.language org.springframework.beans.factory.xml org.apache.camel.model.dataformat org.apache.camel.spring.handler org.apache.camel.model.config org.apache.camel.spi';version='2.5.0.SNAPSHOT' org.apache.camel.component;uses:='org.apache.camel.impl org.apache.commons.logging org.springframework.core.io org.apache.camel org.apache.camel.converter org.apache.camel.spi';version='2.5.0.SNAPSHOT' org.apache.camel.component.event;uses:='org.apache.camel org.springframework.context org.apache.camel.impl org.springframework.beans org.apache.camel.util org.apache.camel.processor.loadbalancer';version='2.5.0.SNAPSHOT' org.apache.camel.component.test;uses:='org.apache.camel.impl org.apache.camel.util org.apache.camel org.apache.commons.logging org.apache.camel.component.mock';version='2.5.0.SNAPSHOT' org.apache.camel.component.validator;uses:='javax.xml.transform org.springframework.core.io javax.xml.transform.stream org.apache.camel.processor.validation org.apache.camel.impl org.apache.camel.component org.apache.commons.logging org.apache.camel';version='2.5.0.SNAPSHOT' org.apache.camel.component.xslt;uses:='org.apache.camel.impl org.apache.camel.component org.apache.commons.logging org.apache.camel org.springframework.core.io org.apache.camel.builder.xml org.apache.camel.util javax.xml.transform org.apache.camel.converter.jaxp org.apache.camel.spi';version='2.5.0.SNAPSHOT'Ignore-Package = org.apache.camel.spring.remoting org.apache.camel.component org.apache.camel.component.validator org.apache.camel.component.xslt org.apache.camel.spring.spi org.apache.camel.spring org.apache.camel.osgi org.apache.camel.spring.handler org.apache.camel.component.event org.apache.camel.spring.utilImplementation-Title = Camel :: SpringImplementation-Vendor = The Apache Software FoundationImplementation-Vendor-Id = org.apache.camelImplementation-Version = 2.5-SNAPSHOTImport-Package = javax.xml.bind javax.xml.bind.annotation javax.xml.bind.annotation.adapters javax.xml.transform javax.xml.transform.stream org.apache.camel;version='[2.5.0 2.5.1)' org.apache.camel.builder;version='[2.5.0 2.5.1)' org.apache.camel.builder.xml;version='[2.5.0 2.5.1)' org.apache.camel.component.bean;version='[2.5.0 2.5.1)' org.apache.camel.component.mock;version='[2.5.0 2.5.1)' org.apache.camel.component.properties;version='[2.5.0 2.5.1)' org.apache.camel.component.test;version='[2.5.0 2.5.1)' org.apache.camel.converter;version='[2.5.0 2.5.1)' org.apache.camel.converter.jaxp;version='[2.5.0 2.5.1)' org.apache.camel.impl;version='[2.5.0 2.5.1)' org.apache.camel.impl.converter;version='[2.5.0 2.5.1)' org.apache.camel.management;version='[2.5.0 2.5.1)' org.apache.camel.model;version='[2.5.0 2.5.1)' org.apache.camel.model.config;version='[2.5.0 2.5.1)' org.apache.camel.model.dataformat;version='[2.5.0 2.5.1)' org.apache.camel.model.language;version='[2.5.0 2.5.1)' org.apache.camel.model.loadbalancer;version='[2.5.0 2.5.1)' org.apache.camel.processor;version='[2.5.0 2.5.1)' org.apache.camel.processor.exceptionpolicy;version='[2.5.0 2.5.1)' org.apache.camel.processor.interceptor;version='[2.5.0 2.5.1)' org.apache.camel.processor.loadbalancer;version='[2.5.0 2.5.1)' org.apache.camel.processor.validation;version='[2.5.0 2.5.1)' org.apache.camel.spi;version='[2.5.0 2.5.1)' org.apache.camel.util;version='[2.5.0 2.5.1)' org.apache.camel.view;version='[2.5.0 2.5.1)' org.apache.commons.logging org.osgi.framework;version='[1.3 2)' org.osgi.util.tracker;version='[1.3 2)' org.springframework.beans;version='[2.5 4)' org.springframework.beans.factory;version='[2.5 4)' org.springframework.beans.factory.config;version='[2.5 4)' org.springframework.beans.factory.parsing;version='[2.5 4)' org.springframework.beans.factory.support;version='[2.5 4)' org.springframework.beans.factory.xml;version='[2.5 4)' org.springframework.context;version='[2.5 4)' org.springframework.context.event;version='[2.5 4)' org.springframework.context.support;version='[2.5 4)' org.springframework.core;version='[2.5 4)' org.springframework.core.io;version='[2.5 4)' org.springframework.osgi.context;version='[1.2 2)' org.springframework.remoting.support;version='[2.5 4)' org.springframework.transaction;version='[2.5 4)' org.springframework.transaction.support;version='[2.5 4)' org.springframework.util;version='[2.5 4)' org.w3c.domManifest-Version = 1.0Specification-Title = Camel :: SpringSpecification-Vendor = The Apache Software FoundationSpecification-Version = 2.5-SNAPSHOTTool = Bnd-0.0.357, instal instal camel spring camel spring SNAPSHOT karaf root gt SNAPSHOT karaf root gt start error error execut command command unresolv constraint bundl org apach camel camel spring org apach camel camel spring unabl resolv miss requir packag packag amp packag org apach camel compon test version gt version gt amp packag org apach camel compon test version gt version gt packag packag amp packag org apach camel compon test version gt version gt karaf root gt amp packag org apach camel compon test version gt version gt karaf root gt header camel spring camel spring bnd LastModified bnd last modifi build jdk build jdk  built  built CharlesmBundle activ charlesm bundl activ org apach camel osgi ActivatorBundle descript org apach camel osgi activ bundl descript camel spring supportBundle DocURL support bundl doc URL bundl name bundl name camel springBundle SymbolicName camel spring bundl symbol name org apach camel camel springBundle vendor org apach camel camel spring bundl vendor apach softwar FoundationBundle version foundat bundl version SNAPSHOTCreated SNAPSHOT creat apach maven bundl PluginExport packag plugin export packag org apach camel spring spi use org springframework context org apach camel spring spi use org springframework context org apach camel spi org apach camel spi org springframework bean factori org springframework bean factori org apach camel org apach camel org springframework bean factori config org springframework bean factori config org apach camel builder org apach camel builder org springframework transact org springframework transact org apach common log org apach common log org apach camel processor exceptionpolici org apach camel processor exceptionpolici org apach camel processor org apach camel processor org apach camel util org apach camel util org apach camel model org apach camel model org springframework transact support version SNAPSHOT org springframework transact support version SNAPSHOT org apach camel spring util use org apach camel org apach camel spring util use org apach camel org springframework context org springframework context org apach camel util org apach camel util org apach common log org apach common log org springframework bean factori org springframework bean factori org springframework util version SNAPSHOT org springframework util version SNAPSHOT org apach camel spring remot use org apach camel util org apach camel spring remot use org apach camel util org springframework remot support org springframework remot support org apach camel compon bean org apach camel compon bean org apach camel org apach camel org springframework bean org springframework bean org springframework context org springframework context org apach camel spi org apach camel spi org apach camel spring util org apach camel spring util org springframework bean factori version SNAPSHOT org springframework bean factori version SNAPSHOT org apach camel spring use org apach camel impl org apach camel spring use org apach camel impl org apach camel util org apach camel util org apach common log org apach common log org apach camel org apach camel org springframework bean org springframework bean org springframework context org springframework context org springframework util org springframework util org springframework bean factori config org springframework bean factori config org apach camel spring util org apach camel spring util javax xml bind annot javax xml bind annot org springframework bean factori org springframework bean factori org apach camel builder org apach camel builder org apach camel model dataformat org apach camel model dataformat org springframework context event org springframework context event org apach camel model config org apach camel model config org apach camel model org apach camel model org apach camel spi org apach camel spi org apach camel spring spi org apach camel spring spi org apach camel view org apach camel view org springframework context support org springframework context support org apach camel spring handler org apach camel spring handler javax xml bind javax xml bind org apach camel compon bean org apach camel compon bean org apach camel compon event org apach camel compon event org springframework transact org springframework transact org springframework transact support version SNAPSHOT org springframework transact support version SNAPSHOT org apach camel spring handler use org springframework bean factori support org apach camel spring handler use org springframework bean factori support org springframework core org springframework core org springframework util org springframework util org springframework bean factori xml org springframework bean factori xml org dom org dom org springframework bean org springframework bean org springframework bean factori config org springframework bean factori config org springframework bean factori pars org springframework bean factori pars org apach camel model dataformat org apach camel model dataformat org apach camel model config org apach camel model config org apach camel util org apach camel util org apach camel model org apach camel model org apach camel spring org apach camel spring javax xml bind javax xml bind org springframework bean factori org springframework bean factori org apach camel view org apach camel view org apach common log org apach common log org apach camel model loadbalanc org apach camel model loadbalanc org apach camel builder xml org apach camel builder xml org apach camel spring remot org apach camel spring remot org apach camel spi org apach camel spi org apach camel org apach camel org apach camel model languag org apach camel model languag org apach camel processor version SNAPSHOT org apach camel processor version SNAPSHOT org apach camel osgi use org osgi framework org apach camel osgi use org osgi framework org apach camel impl org apach camel impl org springframework osgi context org springframework osgi context org apach common log org apach common log javax xml bind annot javax xml bind annot org springframework context org springframework context org apach camel spring org apach camel spring org apach camel model org apach camel model org apach camel model loadbalanc org apach camel model loadbalanc org apach camel org apach camel org apach camel model languag org apach camel model languag org springframework bean factori xml org springframework bean factori xml org apach camel model dataformat org apach camel model dataformat org apach camel spring handler org apach camel spring handler org apach camel model config org apach camel model config org apach camel spi version SNAPSHOT org apach camel spi version SNAPSHOT org apach camel compon use org apach camel impl org apach camel compon use org apach camel impl org apach common log org apach common log org springframework core io org springframework core io org apach camel org apach camel org apach camel convert org apach camel convert org apach camel spi version SNAPSHOT org apach camel spi version SNAPSHOT org apach camel compon event use org apach camel org apach camel compon event use org apach camel org springframework context org springframework context org apach camel impl org apach camel impl org springframework bean org springframework bean org apach camel util org apach camel util org apach camel processor loadbalanc version SNAPSHOT org apach camel processor loadbalanc version SNAPSHOT org apach camel compon test use org apach camel impl org apach camel compon test use org apach camel impl org apach camel util org apach camel util org apach camel org apach camel org apach common log org apach common log org apach camel compon mock version SNAPSHOT org apach camel compon mock version SNAPSHOT org apach camel compon valid use javax xml transform org apach camel compon valid use javax xml transform org springframework core io org springframework core io javax xml transform stream javax xml transform stream org apach camel processor valid org apach camel processor valid org apach camel impl org apach camel impl org apach camel compon org apach camel compon org apach common log org apach common log org apach camel version SNAPSHOT org apach camel version SNAPSHOT org apach camel compon xslt use org apach camel impl org apach camel compon xslt use org apach camel impl org apach camel compon org apach camel compon org apach common log org apach common log org apach camel org apach camel org springframework core io org springframework core io org apach camel builder xml org apach camel builder xml org apach camel util org apach camel util javax xml transform javax xml transform org apach camel convert jaxp org apach camel convert jaxp org apach camel spi version SNAPSHOT ignor packag org apach camel spi version SNAPSHOT ignor packag org apach camel spring remot org apach camel spring remot org apach camel compon org apach camel compon org apach camel compon valid org apach camel compon valid org apach camel compon xslt org apach camel compon xslt org apach camel spring spi org apach camel spring spi org apach camel spring org apach camel spring org apach camel osgi org apach camel osgi org apach camel spring handler org apach camel spring handler org apach camel compon event org apach camel compon event org apach camel spring utilImplementation titl org apach camel spring util implement titl camel SpringImplementation vendor spring implement vendor apach softwar FoundationImplementation vendor Id foundat implement vendor Id org apach camelImplementation version org apach camel implement version SNAPSHOTImport packag SNAPSHOT import packag javax xml bind javax xml bind javax xml bind annot javax xml bind annot javax xml bind annot adapt javax xml bind annot adapt javax xml transform javax xml transform javax xml transform stream javax xml transform stream org apach camel version org apach camel version org apach camel builder version org apach camel builder version org apach camel builder xml version org apach camel builder xml version org apach camel compon bean version org apach camel compon bean version org apach camel compon mock version org apach camel compon mock version org apach camel compon properti version org apach camel compon properti version org apach camel compon test version org apach camel compon test version org apach camel convert version org apach camel convert version org apach camel convert jaxp version org apach camel convert jaxp version org apach camel impl version org apach camel impl version org apach camel impl convert version org apach camel impl convert version org apach camel manag version org apach camel manag version org apach camel model version org apach camel model version org apach camel model config version org apach camel model config version org apach camel model dataformat version org apach camel model dataformat version org apach camel model languag version org apach camel model languag version org apach camel model loadbalanc version org apach camel model loadbalanc version org apach camel processor version org apach camel processor version org apach camel processor exceptionpolici version org apach camel processor exceptionpolici version org apach camel processor interceptor version org apach camel processor interceptor version org apach camel processor loadbalanc version org apach camel processor loadbalanc version org apach camel processor valid version org apach camel processor valid version org apach camel spi version org apach camel spi version org apach camel util version org apach camel util version org apach camel view version org apach camel view version org apach common log org apach common log org osgi framework version org osgi framework version org osgi util tracker version org osgi util tracker version org springframework bean version org springframework bean version org springframework bean factori version org springframework bean factori version org springframework bean factori config version org springframework bean factori config version org springframework bean factori pars version org springframework bean factori pars version org springframework bean factori support version org springframework bean factori support version org springframework bean factori xml version org springframework bean factori xml version org springframework context version org springframework context version org springframework context event version org springframework context event version org springframework context support version org springframework context support version org springframework core version org springframework core version org springframework core io version org springframework core io version org springframework osgi context version org springframework osgi context version org springframework remot support version org springframework remot support version org springframework transact version org springframework transact version org springframework transact support version org springframework transact support version org springframework util version org springframework util version org domManifest version org dom manifest version specif titl specif titl camel SpringSpecification vendor spring specif vendor apach softwar FoundationSpecification version foundat specif version SNAPSHOTTool SNAPSHOT tool bnd bnd,1,0,0,0,0,components/camel-spring/pom.xml;,0
2958,Christian Mouttet,camel-core,0,java.util.ConcurrentModificationException in Method org.apache.camel.util.CaseInsensitiveMap.putAll(), java util ConcurrentModificationException java util concurr modif except method org apach camel util CaseInsensitiveMap putAll org apach camel util case insensit map put,Every now and then I'm facing the ConcurrentModificationException. It very hard to reproduce. This is my stack trace:Failed delivery for exchangeId: ba969718-9044-4261-bc57-ca10aafb0a03. Exhausted after delivery attempt: 1 caught: java.util.ConcurrentModificationExceptionjava.util.ConcurrentModificationException: null at java.util.HashMap$HashIterator.nextEntry(HashMap.java:793) &#91;na:1.6.0_20&#93; at java.util.HashMap$KeyIterator.next(HashMap.java:828) &#91;na:1.6.0_20&#93; at org.apache.camel.util.CaseInsensitiveMap.putAll(CaseInsensitiveMap.java:86) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.impl.MessageSupport.copyFrom(MessageSupport.java:142) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.impl.DefaultMessage.copyFrom(DefaultMessage.java:52) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.util.ExchangeHelper.copyResults(ExchangeHelper.java:199) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:114) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.DelegateProcessor.processNext(DelegateProcessor.java:53) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:51) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.DelegateProcessor.processNext(DelegateProcessor.java:53) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.DelegateProcessor.proceed(DelegateProcessor.java:82) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:97) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processExchange(RedeliveryErrorHandler.java:185) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:151) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:89) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.DefaultErrorHandler.process(DefaultErrorHandler.java:49) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:228) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:75) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.UnitOfWorkProcessor.processNext(UnitOfWorkProcessor.java:70) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.processor.DelegateProcessor.process(DelegateProcessor.java:48) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) &#91;camel-core-2.3.0.jar:2.3.0&#93; at org.apache.camel.component.http.CamelServlet.service(CamelServlet.java:71) &#91;camel-http-2.3.0.jar:2.3.0&#93; at javax.servlet.http.HttpServlet.service(HttpServlet.java:831) &#91;javaee.jar:9.1&#93;...Looks like CaseInsensitiveMap isn't enough thread save. But I have no idea what other thread is modifies the map. Most of the time everything is ok., everi face ConcurrentModificationException concurr modif except hard reproduc reproduc stack trace fail trace fail deliveri exchangeId exchang Id ba bc ca aafb ba bc ca aafb exhaust deliveri attempt attempt caught caught java util ConcurrentModificationExceptionjava util ConcurrentModificationException java util concurr modif exceptionjava util concurr modif except null java util HashMap HashIterator nextEntry HashMap java java util hash map hash iter next entri hash map java na  na  java util HashMap KeyIterator next HashMap java java util hash map key iter next hash map java na  na  org apach camel util CaseInsensitiveMap putAll CaseInsensitiveMap java org apach camel util case insensit map put case insensit map java camel core jar camel core jar org apach camel impl MessageSupport copyFrom MessageSupport java org apach camel impl messag support copi messag support java camel core jar camel core jar org apach camel impl DefaultMessage copyFrom DefaultMessage java org apach camel impl default messag copi default messag java camel core jar camel core jar org apach camel util ExchangeHelper copyResults ExchangeHelper java org apach camel util exchang helper copi result exchang helper java camel core jar camel core jar org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java camel core jar camel core jar org apach camel processor DelegateProcessor processNext DelegateProcessor java org apach camel processor deleg processor process next deleg processor java camel core jar camel core jar org apach camel processor ChoiceProcessor process ChoiceProcessor java org apach camel processor choic processor process choic processor java camel core jar camel core jar org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java camel core jar camel core jar org apach camel processor DelegateProcessor processNext DelegateProcessor java org apach camel processor deleg processor process next deleg processor java camel core jar camel core jar org apach camel processor DelegateProcessor proceed DelegateProcessor java org apach camel processor deleg processor proceed deleg processor java camel core jar camel core jar org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java camel core jar camel core jar org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java camel core jar camel core jar org apach camel processor RedeliveryErrorHandler processExchange RedeliveryErrorHandler java org apach camel processor redeliveri error handler process exchang redeliveri error handler java camel core jar camel core jar org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java camel core jar camel core jar org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java camel core jar camel core jar org apach camel processor DefaultErrorHandler process DefaultErrorHandler java org apach camel processor default error handler process default error handler java camel core jar camel core jar org apach camel processor DefaultChannel process DefaultChannel java org apach camel processor default channel process default channel java camel core jar camel core jar org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java camel core jar camel core jar org apach camel processor UnitOfWorkProcessor processNext UnitOfWorkProcessor java org apach camel processor unit work processor process next unit work processor java camel core jar camel core jar org apach camel processor DelegateProcessor process DelegateProcessor java org apach camel processor deleg processor process deleg processor java camel core jar camel core jar org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java camel core jar camel core jar org apach camel compon http CamelServlet servic CamelServlet java org apach camel compon http camel servlet servic camel servlet java camel http jar camel http jar javax servlet http HttpServlet servic HttpServlet java javax servlet http http servlet servic http servlet java javae jar look javae jar look like CaseInsensitiveMap case insensit map enough thread save save no idea thread modifi map map time everyth ok ok,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/util/CaseInsensitiveMap.java;camel-core/src/test/java/org/apache/camel/util/CaseInsensitiveMapTest.java;,0
2960,Claus Ibsen,camel-jcr,0,Upgrade to JCR 2.x, upgrad JCR,camel-jcr is based on 1.x. We should upgrade to 2.x which takes a bit of pain due API changes and the likes., camel jcr camel jcr base upgrad take bit pain due API chang like like,0,1,0,0,0,components/camel-jcr/pom.xml;components/camel-jcr/src/test/java/org/apache/camel/component/jcr/JcrAuthTestBase.java;components/camel-jcr/src/test/resources/log4j.properties;components/camel-jcr/src/test/resources/repository_with_auth.xml;parent/pom.xml;platforms/karaf/features/pom.xml;platforms/karaf/features/src/main/resources/features.xml;,0
2964,Claus Ibsen,null,0,Upgrade to HawtDB 1.2, upgrad HawtDB hawt DB,,,0,0,0,0,0,components/camel-hawtdb/src/main/java/org/apache/camel/component/hawtdb/HawtDBFile.java;parent/pom.xml;,0
2969,Claus Ibsen,camel-core; camel-ftp,0,When polling consumers is shutdown  do less verbose logging for rollback strategies, poll consum shutdown less verbos log rollback strategi,To avoid logs having stacktraces or the likes which was caused by shutting down the application.See nabblehttp://camel.465427.n5.nabble.com/Camel-2-4-Shutdown-Exception-tp1479154p1479154.html, avoid log stacktrac like caus shut applic see applic see nabblehttp camel nabbl com camel shutdown except tp html nabblehttp camel nabbl com camel shutdown except tp html,0,0,0,1,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFilePollingConsumerPollStrategy.java;camel-core/src/main/java/org/apache/camel/impl/DefaultPollingConsumerPollStrategy.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFilePollingConsumerPollStrategy.java;,0
2970,Claus Ibsen,camel-jms,0,JmsProducer should support non blocking routing engine, JmsProducer jm produc support non block rout engin,The JMS component is the most complex  and we left out improvements on purpose as we wanted 2.4 out before.Now its time to let the JmsProducer in request/reply mode leverage async processing so threads are not blocked while waiting for reply., JMS compon complex left improv purpos want time let JmsProducer jm produc request repli request repli mode leverag async process thread not block wait repli repli,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/Requestor.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessageHelper.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/MessageSentCallback.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/CorrelationMap.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/MessageSelectorCreator.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/PersistentQueueReplyHandler.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/PersistentQueueReplyManager.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyHandler.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyHolder.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyManager.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyManagerSupport.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyHandler.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyManager.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/UnknownReplyMessageException.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/UseMessageIdAsCorrelationIdMessageSentCallback.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/package.html;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/DeferredRequestReplyMap.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/FailedToProcessResponse.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/FutureHandler.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/MessageSelectorProvider.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/PersistentReplyToFutureHandler.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/PersistentReplyToRequestor.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/ReplyHandler.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/Requestor.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/requestor/package.html;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsEndpointConfigurationTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteRequestReplyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/async/AsyncJmsInOutTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/async/AsyncJmsProducerTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsInOutIssueTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsInOutUseMessageIDasCorrelationIDTest.java;components/camel-jms/src/test/resources/log4j.properties;components/camel-test/src/main/java/org/apache/camel/test/CamelTestSupport.java;components/camel-test/src/main/java/org/apache/camel/test/junit4/CamelTestSupport.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyHandler.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/PersistentQueueReplyManager.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyManager.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsEndpointConfigurationTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsInOutPersistentReplyQueueTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/JMSTXInOutPersistentQueueTest.java;,0
2972,Andreas Asmuss,null,0,onException not working correctly when using routeContext, onException except not work correctli use routeContext rout context,When using a routeContext  the last (in the xml-file) defined route-scoped &lt;onException&gt; configuration is shared by the other routes in the context.http://camel.465427.n5.nabble.com/possible-onException-bug-when-using-routeContext-td1616244.html#a1616244, use routeContext rout context last xml file xml file defin rout scope rout scope lt onException gt lt except gt configur share rout context http camel nabbl com possibl onException bug use routeContext td html context http camel nabbl com possibl except bug use rout context td html,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/FailedToCreateConsumerException.java;camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/RecipientListProcessor.java;camel-core/src/main/java/org/apache/camel/processor/Splitter.java;camel-core/src/main/java/org/apache/camel/processor/exceptionpolicy/DefaultExceptionPolicyStrategy.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionAndDLCErrorHandlerIssueReverseTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionAndDLCErrorHandlerIssueTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionGlobalAndDLCErrorHandlerIssueReverseTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionGlobalAndDLCErrorHandlerIssueTest.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelContextFactoryBean.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/OneRouteRefOnExceptionAndDLCErrorHandlerTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/OneRouteRefOnExceptionAndTwoDLCErrorHandlerTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/OneRouteRefOnExceptionTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/OneRouteRefReverseOnExceptionAndDLCErrorHandlerTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/OneRouteRefReverseOnExceptionTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/TwoRouteRefOnExceptionAndDLCErrorHandlerTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/TwoRouteRefOnExceptionTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/TwoRouteRefReverseOnExceptionAndDLCErrorHandlerTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/TwoRouteRefReverseOnExceptionTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/config/OneRouteRefOnException.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/OneRouteRefOnExceptionAndDLCErrorHandler.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/OneRouteRefOnExceptionAndTwoDLCErrorHandler.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/OneRouteRefReverseOnException.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/OneRouteRefReverseOnExceptionAndDLCErrorHandler.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/TwoRouteRefOnException.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/TwoRouteRefOnExceptionAndDLCErrorHandler.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/TwoRouteRefReverseOnException.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/TwoRouteRefReverseOnExceptionAndDLCErrorHandler.xml;,0
2978,Sean Parsons,camel-netty,0,java.net.SocketException: Too many open files with Apache Camel(Netty TCP) 2.4.0., java net SocketException java net socket except mani open file apach camel netti camel netti TCP TCP,I've got a unit test that works fine with Apache Camel 2.3.0  but as soon as I upgraded to 2.4.0 it consistently started to fail.It performs a number of concurrent requests using this url:netty:tcp://localhost:2048?sync=trueIn both the client and server side of the unit test.There's also a sister test which does the same thing with Netty directly and that works in isolation  so it would appear something has been broken in the transition to 2.4.0. Previously this code was also using a beta version of Netty  but even updating that specific dependency has made no difference., got unit test work fine apach camel soon upgrad consist start fail fail perform number concurr request use url netti tcp localhost sync trueIn url netti tcp localhost sync true client server side unit test test also sister test thing netti directli work isol would appear someth broken transit previous code also use beta version netti even updat specif depend made no differ differ,0,0,1,1,0,components/camel-netty/src/main/java/org/apache/camel/component/netty/ClientPipelineFactory.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/Netty2978IssueTest.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/ClientPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyComponent.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyEndpoint.java;,0
2979,Andreas Asmuss,camel-ftp,0,FtpComponent: If login fails and disconnect=true another connection is opened., FtpComponent ftp compon login fail disconnect true disconnect true anoth connect open open,In a route such as below a second connection to the ftp server is opened if the login fails.&lt;route&gt;  &lt;from uri='ftp:localhost/inbox/?username=usr&amp;password=pwd&amp;disconnect=true&amp;consumer.delay=60s&amp;maximumReconnectAttempts=0' /&gt;  &lt;to uri='file:test_data' /&gt; &lt;/route&gt; Further description: http://camel.465427.n5.nabble.com/FTP-Try-login-once-and-disconnect-if-failure-td1692660.html#a1692660, rout second connect ftp server open login fail lt rout gt fail lt rout gt lt lt uri ftp localhost inbox usernam usr amp password pwd amp disconnect true amp consum delay amp maximumReconnectAttempts uri ftp localhost inbox usernam usr amp password pwd amp disconnect true amp consum delay amp maximum reconnect attempt gt gt lt lt uri file test_data uri file test_data gt gt lt rout gt lt rout gt descript descript,0,0,1,1,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileEndpoint.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpNoReconnectAttemptUnknownHostTest.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;,1
2980,Christian Müller,camel-jpa,0,camel-jpa doesn't use EntityManager.merge(entity) in the right way, camel jpa camel jpa use EntityManager merg entiti entiti manag merg entiti right way,The EntityManager.merge(entity) method returns the merged entity. The exchange in message body should be updated with the merged entity (what camel-jpa currently not do).I running into this problem  because after saving an entity in the database  the id field was still null. So  we don't know  which entity in the database is the corresponding to this entity... Have a look in the process method of JpaProducer and the Java doc from the EntityManager.Christian, EntityManager merg entiti entiti manag merg entiti method return merg entiti entiti exchang messag bodi updat merg entiti camel jpa camel jpa current not run problem save entiti databas id field still null null know entiti databas correspond entiti entiti look process method JpaProducer jpa produc java doc EntityManager christian entiti manag christian,0,0,0,0,0,components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaProducer.java;components/camel-jpa/src/test/java/org/apache/camel/component/jpa/AbstractJpaMethodTest.java;components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaUseMergeTest.java;components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaUsePersistTest.java;,0
2981,Patrick Dumontel,camel-http,0,DefaultHttpBinding's populateRequestParameters should be more flexible when checking the content type on POST, DefaultHttpBinding default http bind populateRequestParameters popul request paramet flexibl check content type POST,Line 126 in DefaultHttpBinding checks if the request's method is POST and the content type is 'application/x-www-form-urlencoded'. This unfortunately fails to populate the request parameters of a POST request where the content type includes the charset  e.g. 'application/x-www-form-urlencoded; charset=UTF-8'. Could the equals be changed to startsWith?, line DefaultHttpBinding default http bind check request request method POST content type applic www form urlencod applic www form urlencod unfortun fail popul request paramet POST request content type includ charset applic www form urlencod applic www form urlencod charset UTF charset UTF could equal chang startsWith start,0,0,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/DefaultHttpBinding.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/DefaultHttpBinding.java;,0
2986,Martin Krasser,camel-jetty,0,IllegalStateException in CamelContinuationServlet under heavy load, IllegalStateException illeg state except CamelContinuationServlet camel continu servlet heavi load,Reason is a race between continuation.suspend() and continuation.resume(). It can occur that continuation.resume() is executed before continuation.suspend() leading to an IllegalStateException thrown by Jetty:java.lang.IllegalStateException: DISPATCHED initial at org.eclipse.jetty.server.AsyncContinuation.dispatch(AsyncContinuation.java:364) at org.eclipse.jetty.server.AsyncContinuation.resume(AsyncContinuation.java:769) at org.apache.camel.component.jetty.CamelContinuationServlet$1.done(CamelContinuationServlet.java:85) at org.apache.camel.management.InstrumentationProcessor$1.done(InstrumentationProcessor.java:78) at org.apache.camel.processor.UnitOfWorkProcessor$1.done(UnitOfWorkProcessor.java:104) at org.apache.camel.processor.DefaultChannel$1.done(DefaultChannel.java:262) at org.apache.camel.processor.RedeliveryErrorHandler$1.done(RedeliveryErrorHandler.java:302) at org.apache.camel.management.InstrumentationProcessor$1.done(InstrumentationProcessor.java:78) at org.apache.camel.management.InstrumentationProcessor$1.done(InstrumentationProcessor.java:78)This is the case when an async completion callback is faster than the thread that is concurrently executing the if (continuation.isInitial()) block. I'll commit a fix soon that also follows the recommendations in http://wiki.eclipse.org/Jetty/Feature/Continuations to always call continuation.suspend() before registering the continuation with a callback handler., reason race continu suspend continu suspend continu resum continu resum occur continu resum continu resum execut continu suspend continu suspend lead IllegalStateException illeg state except thrown jetti java lang IllegalStateException jetti java lang illeg state except DISPATCHED initi org eclips jetti server AsyncContinuation dispatch AsyncContinuation java org eclips jetti server async continu dispatch async continu java org eclips jetti server AsyncContinuation resum AsyncContinuation java org eclips jetti server async continu resum async continu java org apach camel compon jetti CamelContinuationServlet done CamelContinuationServlet java org apach camel compon jetti camel continu servlet done camel continu servlet java org apach camel manag InstrumentationProcessor done InstrumentationProcessor java org apach camel manag instrument processor done instrument processor java org apach camel processor UnitOfWorkProcessor done UnitOfWorkProcessor java org apach camel processor unit work processor done unit work processor java org apach camel processor DefaultChannel done DefaultChannel java org apach camel processor default channel done default channel java org apach camel processor RedeliveryErrorHandler done RedeliveryErrorHandler java org apach camel processor redeliveri error handler done redeliveri error handler java org apach camel manag InstrumentationProcessor done InstrumentationProcessor java org apach camel manag instrument processor done instrument processor java org apach camel manag InstrumentationProcessor done InstrumentationProcessor java org apach camel manag instrument processor done instrument processor java case async complet callback faster thread concurr execut continu isInitial continu initi block block commit fix soon also follow recommend alway call continu suspend continu suspend regist continu callback handler handler,1,0,0,1,0,components/camel-jetty/src/main/java/org/apache/camel/component/jetty/CamelContinuationServlet.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/CamelMultipartFilter.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;,0
2988,Claus Ibsen,camel-core,0,Add removeEndpoints to CamelContext, add removeEndpoints remov endpoint CamelContext camel context,It should support uri patterns so you can remove all endpoints using wild cards etc.removeEndpoints('activemq:queue:foo*')removeEndpoints('ftp:*'), support uri pattern remov endpoint use wild card etc removeEndpoints activemq queue foo removeEndpoints ftp etc remov endpoint activemq queue foo remov endpoint ftp,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/CamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/util/DefaultTimeoutMap.java;camel-core/src/main/java/org/apache/camel/util/TimeoutMap.java;camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextTest.java;camel-core/src/test/java/org/apache/camel/util/DefaultTimeoutMapTest.java;,0
2993,Max Ullinger,camel-web,0,Enable the deletion of routes via REST in camel-web, enabl delet rout via REST camel web camel web,The camel-web allows a user to deploy and manipulate routes.It seems currently impossible to delete routes through camel-web.A delete operation on the route to be deleted would complete the REST interface: http://en.wikipedia.org/wiki/Representational_State_Transfer#RESTful_web_servicese.g.:RouteResource.java@Delete public void removeRoute() { getCamelContext().removeRouteDefinition(this.name); }, camel web camel web allow user deploy manipul rout rout seem current imposs delet rout camel web camel web delet oper rout delet would complet REST interfac interfac public void removeRoute remov rout getCamelContext removeRouteDefinition name get camel context remov rout definit name,0,0,1,0,0,components/camel-web/src/main/webapp/WEB-INF/org/apache/camel/web/resources/RoutesResource.index.ssp;components/camel-web/src/main/java/org/apache/camel/web/resources/RouteResource.java;components/camel-web/src/main/webapp/WEB-INF/org/apache/camel/web/resources/RoutesResource.index.ssp;components/camel-web/src/test/java/org/apache/camel/web/resources/RoutesTest.java;,0
3024,Claus Ibsen,camel-core,0,Adding routes straight from XML should have Camel prepare the RouteDefintion as its done like in camel-spring, ad rout straight XML camel prepar RouteDefintion rout defint done like camel spring camel spring,camel-spring does some preparation on the XML routes before they are added to CamelContext.When end users loads the XML routes themself using JAXB and add it straight to CamelContext  we should let camel-core prepare the routes as well., camel spring camel spring prepar XML rout ad CamelContext camel context end user load XML rout themself use JAXB add straight CamelContext camel context let camel core camel core prepar rout well well,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/RouteBuilder.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinition.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinitionHelper.java;camel-core/src/test/java/org/apache/camel/impl/CamelContextAddRouteDefinitionsFromXmlTest.java;camel-core/src/test/resources/org/apache/camel/impl/route3.xml;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelContextFactoryBean.java;,0
3030,Claus Ibsen,camel-velocity,0,Velocity - Let it be able to load resources from both classpath and file system out of the box, veloc let abl load resourc classpath file system box,See this blog entryhttp://www.thedwick.com/blog/2010/08/how-to-include-other-velocity-templates-from-apache-camel/We should pre configure Velocity to use both type of resource loaders., see blog entryhttp www thedwick com blog includ veloc templat apach camel entryhttp www thedwick com blog includ veloc templat apach camel pre configur veloc use type resourc loader loader,0,0,0,1,0,tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/VelocityTest.java;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/example.vm;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/header.vm;components/camel-velocity/src/main/java/org/apache/camel/component/velocity/VelocityEndpoint.java;components/camel-velocity/src/test/resources/org/apache/camel/component/velocity/letter.vm;,0
3035,james strachan,camel-web,0,provide an optional interface Endpoints can provide to generate a simple String ID which can be used within the class loader to make JMX / REST APIs simpler to avoid having to encode large URIs, provid option interfac endpoint provid gener simpl string ID use within class loader make JMX REST APIs AP simpler avoid encod larg URIs UR,rather than taking the URI and encoding it  it would be nice if endpoints could just generate their own unique ID on construction (then we don't have lifecycle issues of keeping track of endpoints coming and going and maintaining a parallel map of Endpoint -&gt; ID etc).We could use the same ID when registering endpoints with JMX etc, rather take URI encod would nice endpoint could gener uniqu ID construct lifecycl issu keep track endpoint come go maintain parallel map endpoint gt gt ID etc etc could use ID regist endpoint JMX etc,0,0,0,0,0,components/camel-web/pom.xml;components/camel-web/src/main/java/org/apache/camel/web/model/EndpointLink.java;components/camel-web/src/main/java/org/apache/camel/web/resources/EndpointsResource.java;components/camel-web/src/main/resources/logback.xml;components/camel-web/src/main/webapp/org/apache/camel/web/resources/CamelContextResource.index.ssp;camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java;camel-core/src/main/java/org/apache/camel/spi/HasId.java;camel-core/src/main/java/org/apache/camel/util/EndpointHelper.java;,0
3045,Richard Sinelle,camel-flatpack,0,Flatpack component : unable to set the delimiter parameter in spring config file, flatpack compon unabl set delimit paramet spring config file,It's not possible to set the delimiter parameter in spring configuration file or I don't find the way to do it !For example : &lt;route id='routeA'&gt; &lt;from uri='file:src/test/resources/csv?move=done/&amp;fileName=testfileRouteA.csv' /&gt; &lt;to uri='flatpack:delim:META-INF/Delimited.pzmap.xml?delimiter=;' /&gt;&lt;/route&gt;I get the following error :Exception in thread 'main' org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route routeA at: &gt;&gt;&gt; To&#91;flatpack:delim:META-INF/Delimited.pzmap.xml?ignoreFirstRecord=false&amp;splitRows=true&amp;delimiter=;&#93; &lt;&lt;&lt; in route: Route[[From[file:src/test/resources/csv?move=done/&amp;fileName=... because of Failed to resolve endpoint: flatpack://delim:META-INF/Delimited.pzmap.xml?delimiter=%3B&amp;ignoreFirstRecord=false&amp;splitRows=true due to: Could not find a suitable setter for property: delimiter as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: char with value ; at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1126) at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:103) at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:231) at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:97) at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:303) at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:911) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:428) at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139) at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:93) at org.apache.camel.spring.Main.createDefaultApplicationContext(Main.java:219) at org.apache.camel.spring.Main.doStart(Main.java:173) at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:56) at org.apache.camel.impl.MainSupport.run(MainSupport.java:114) at org.apache.camel.impl.MainSupport.run(MainSupport.java:291) at org.apache.camel.spring.Main.main(Main.java:97)If it's a bug  to solve it  it's just necessary to change the class org.apache.camel.component.flatpack.DelimitedEndpoint as below : change the flied definition like this (and getter/setter to): private String delimiter = ' '; private String textQualifier = '/''; and the the method createParser like this : public Parser createParser(Exchange exchange) throws InvalidPayloadException  IOException Unknown macro: { Reader bodyReader = ExchangeHelper.getMandatoryInBody(exchange  Reader.class); Resource resource = getResource(); if (delimiter == null || delimiter.equals(&quot;&quot;)) delimiter = &quot; &quot;; if (textQualifier == null || textQualifier.equals(&quot;&quot;)) textQualifier = &quot;&quot;&quot;; if (resource == null) { return getParserFactory().newDelimitedParser(bodyReader  delimiter.charAt(0)  textQualifier.charAt(0)); } else { return getParserFactory().newDelimitedParser(new InputStreamReader(resource.getInputStream())  bodyReader  delimiter.charAt(0)  textQualifier.charAt(0)  ignoreFirstRecord); } }, not possibl set delimit paramet spring configur file find way exampl lt rout lt rout id routeA gt id rout gt lt lt uri file src test resourc csv move done amp fileName testfileRouteA csv uri file src test resourc csv move done amp file name testfil rout csv gt gt lt lt uri flatpack delim META INF delimit pzmap xml delimit uri flatpack delim META INF delimit pzmap xml delimit gt lt rout gt gt lt rout gt get follow error except except thread main main org apach camel RuntimeCamelException org apach camel runtim camel except org apach camel FailedToCreateRouteException org apach camel fail creat rout except fail creat rout routeA rout gt gt gt gt gt gt flatpack delim META INF delimit pzmap xml ignoreFirstRecord fals amp splitRows true amp delimit flatpack delim META INF delimit pzmap xml ignor first record fals amp split row true amp delimit lt lt lt lt lt lt rout rout rout file src test resourc csv move done amp fileName rout file src test resourc csv move done amp file name fail resolv endpoint endpoint flatpack delim META INF delimit pzmap xml delimit amp ignoreFirstRecord fals amp splitRows true flatpack delim META INF delimit pzmap xml delimit amp ignor first record fals amp split row true due could not find suitabl setter properti properti delimit setter method type type java lang string java lang string nor type convers possibl possibl No type convert avail convert type type java lang string java lang string requir type type char valu org apach camel util ObjectHelper wrapRuntimeCamelException ObjectHelper java org apach camel util object helper wrap runtim camel except object helper java org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel spring spring camel context applic event spring camel context java org apach camel spring CamelContextFactoryBean onApplicationEvent CamelContextFactoryBean java org apach camel spring camel context factori bean applic event camel context factori bean java org springframework context event SimpleApplicationEventMulticaster multicastEvent SimpleApplicationEventMulticaster java org springframework context event simpl applic event multicast multicast event simpl applic event multicast java org springframework context support AbstractApplicationContext publishEvent AbstractApplicationContext java org springframework context support abstract applic context publish event abstract applic context java org springframework context support AbstractApplicationContext finishRefresh AbstractApplicationContext java org springframework context support abstract applic context finish refresh abstract applic context java org springframework context support AbstractApplicationContext refresh AbstractApplicationContext java org springframework context support abstract applic context refresh abstract applic context java org springframework context support ClassPathXmlApplicationContext lt init gt ClassPathXmlApplicationContext java org springframework context support class path xml applic context lt init gt class path xml applic context java org springframework context support ClassPathXmlApplicationContext lt init gt ClassPathXmlApplicationContext java org springframework context support class path xml applic context lt init gt class path xml applic context java org apach camel spring main createDefaultApplicationContext main java org apach camel spring main creat default applic context main java org apach camel spring main doStart main java org apach camel spring main start main java org apach camel impl ServiceSupport start ServiceSupport java org apach camel impl servic support start servic support java org apach camel impl MainSupport run MainSupport java org apach camel impl main support run main support java org apach camel impl MainSupport run MainSupport java org apach camel impl main support run main support java org apach camel spring main main main java org apach camel spring main main main java bug solv necessari chang class org apach camel compon flatpack DelimitedEndpoint org apach camel compon flatpack delimit endpoint chang fli definit like getter setter getter setter privat string delimit privat string textQualifier text qualifi method createParser creat parser like public parser createParser exchang creat parser exchang exchang exchang throw InvalidPayloadException invalid payload except IOException IO except unknown macro macro reader bodyReader bodi reader ExchangeHelper getMandatoryInBody exchang exchang helper get mandatori bodi exchang reader class reader class resourc resourc getResource get resourc delimit null delimit equal quot quot delimit equal quot quot delimit quot quot quot quot textQualifier text qualifi null textQualifier equal quot quot text qualifi equal quot quot textQualifier text qualifi quot quot quot quot quot quot resourc null null return getParserFactory newDelimitedParser bodyReader get parser factori new delimit parser bodi reader delimit charAt delimit char textQualifier charAt text qualifi char els return getParserFactory newDelimitedParser new get parser factori new delimit parser new InputStreamReader resourc getInputStream input stream reader resourc get input stream bodyReader bodi reader delimit charAt delimit char textQualifier charAt text qualifi char ignoreFirstRecord ignor first record,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/converter/ObjectConverter.java;camel-core/src/test/java/org/apache/camel/converter/ConverterTest.java;,0
3047,Paul Mietz Egli,camel-jetty,0,JettyHttpComponent.doStop() shuts down all servers in the VM  not just those associated with the component, JettyHttpComponent doStop jetti http compon stop shut server VM not associ compon,We are running several bundles in Karaf with separate Camel contexts  each of which uses the camel-jetty component to expose services over HTTP. Each bundle has an assigned port and may listen on multiple URIs. We noticed that when we updated or shut down one of these bundles  all of the Jetty servers in the other bundles would stop listening on their respective ports.The problem is that the map of ConnectorRef objects in JettyHttpComponent is static  and therefore shared across the entire VM. Changing this from static to an instance variable fixed the issue for us., run sever bundl karaf separ camel context use camel jetti camel jetti compon expos servic HTTP HTTP bundl assign port may listen multipl URIs UR notic updat shut one bundl jetti server bundl would stop listen respect port port problem map ConnectorRef connector ref object JettyHttpComponent jetti http compon static therefor share across entir VM VM chang static instanc variabl fix issu us us,0,1,0,0,0,components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringJettyNoConnectionRedeliveryTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringJettyNoConnectionTest.java;components/camel-jetty/src/test/resources/org/apache/camel/component/jetty/jetty-noconnection-redelivery.xml;components/camel-jetty/src/test/resources/org/apache/camel/component/jetty/jetty-noconnection.xml;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/OSGiIntegrationTestSupport.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/jetty/JettyProcessor.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/jetty/OSGiMulitJettyCamelContextsTest.java;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/jetty/CamelContext1.xml;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/jetty/CamelContext2.xml;,1
3048,Claus Ibsen,tooling,0,Archetype for creating component should have better sample component, archetyp creat compon better sampl compon,The current sample is based on Direct component which is a bad sample as its a very special component.We should do a HelloWorldComponent the producer will just print the message body to system out the consumer is scheduled and triggers every 5th second with a dummy exchange, current sampl base direct compon bad sampl special compon compon HelloWorldComponent hello world compon produc print messag bodi system consum schedul trigger everi th second dummi exchang,0,0,0,0,0,tooling/archetypes/camel-archetype-component/src/main/resources/META-INF/maven/archetype.xml;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/ReadMe.txt;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/java/DirectComponent.java;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/java/DirectConsumer.java;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/java/DirectEndpoint.java;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/java/DirectProducer.java;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/java/HelloWorldComponent.java;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/java/HelloWorldConsumer.java;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/java/HelloWorldEndpoint.java;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/java/HelloWorldProducer.java;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/resources/META-INF/services/org/apache/camel/component/direct;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/resources/META-INF/services/org/apache/camel/component/helloworld;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/test/java/HelloWorldComponentTest.java;,0
3050,Claus Ibsen,camel-spring,0,RouteBuilderRef should work out of the box with Spring 3 and dependency injection, RouteBuilderRef rout builder ref work box spring depend inject,Spring 3 changed internally how dependency resolution works. Its now worse as we have to play tricks in the Camel namespace handler to tell Camel the various pieces you can ref  should depend on Camel. Otherwise the dependency resolution in Spring is not working properly.This used to work like a charm in Spring 2.5.6., spring chang intern depend resolut work work wors play trick camel namespac handler tell camel variou piec ref depend camel camel otherwis depend resolut spring not work properli properli use work like charm spring,0,0,0,0,0,components/camel-spring/src/main/java/org/apache/camel/spring/handler/CamelNamespaceHandler.java;components/camel-spring/src/test/resources/org/apache/camel/spring/config/routeBuilderRef2.xml;,0
3060,Vid Cheruvu,camel-core,0,Out of Heap memory issues with Camel-File processing large files, heap memori issu camel file camel file process larg file,Camel-File component throws heap memory issue when processing csv file which is about 45MB with 218k Lines. http://camel.465427.n5.nabble.com/Java-heap-space-issue-with-reading-large-CSV-file-tt2638903.html#a2638903, camel file camel file compon throw heap memori issu process csv file MB MB line line,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileMessage.java;,1
3075,Claus Ibsen,camel-core,0,Simple language - Allow unlimited usage of and or operators in expression, simpl languag allow unlimit usag oper express,The simple language currently only allows using and or or operators once in the expression. We should allow unlimited usages of those., simpl languag current allow use oper express express allow unlimit usag,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguageSupport.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerPollStrategyTest.java;camel-core/src/test/java/org/apache/camel/language/SimpleOperatorTest.java;camel-core/src/test/resources/log4j.properties;,0
3077,John Ellis,null,0,Cache Component needs to check for null values during GET operations, cach compon need check null valu GET oper,EhCache often has a bit of lag time when invalidating expired cache elements  first setting the Element value to null and then removing the key. If you are hitting a cache rapidly one often will run across a key that is present in the cache that still has a null element entry.The logic for successfully key retrieval just needs to be slightly tweaked to check for null values., EhCache Eh cach often bit lag time invalid expir cach element first set element valu null remov key key hit cach rapidli one often run across key present cach still null element entri entri logic success key retriev need slightli tweak check null valu valu,0,1,0,0,0,components/camel-cache/pom.xml;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheProducer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java;,0
3081,Anand,camel-netty,0,netty timeout exception, netti timeout except,eventhough message was received by netty procuder  it thows a timeout exception after 30 secs. here is the route and log. as this is a basic functionality I think this is critical priority. from('netty:tcp://localhost:6205?textline=true&amp;sync=true').process(new Processor() { int i=0; public void process(Exchange exchange) throws Exception { String body = exchange.getIn().getBody(String.class); Thread.sleep(5000); exchange.getOut().setBody('Bye 1' + body); // if(i++%2==1) throw new IOException('custom exception'); } }); from('file:///test/test/response') .convertBodyTo(String.class) .threads(1) .to(ExchangePattern.InOut 'netty:tcp://localhost:6205?textline=true&amp;sync=true') .to('log:+++ reply++++');2010-08-25 11:33:29 963 &#91;1 - file:///test/test/response&#93; FileConsumer DEBUG Total 1 files to consume2010-08-25 11:33:29 963 &#91;1 - file:///test/test/response&#93; FileConsumer DEBUG About to process file: GenericFile&#91;C:/test/test/response/hello1.txt&#93; using exchange: Exchange[GenericFileMessage with file: GenericFile&#91;C:/test/test/response/hello1.txt&#93;]2010-08-25 11:33:31 510 [ Camel Thread 6 - Threads] SendProcessor DEBUG &gt;&gt;&gt;&gt; Endpoint&#91;tcp://localhost:6205&#93; Exchange&#91;GenericFileMessage with body: hello1&#93;2010-08-25 11:33:31 682 [ Camel Thread 6 - Threads] NettyProducer DEBUG Creating connector to address: localhost:62052010-08-25 11:33:31 682 [ Camel Thread 6 - Threads] NettyProducer DEBUG Writing body: hello12010-08-25 11:33:31 697 [ New I/O client worker #1-1] NettyProducer DEBUG Operation complete org.jboss.netty.channel.DefaultChannelFuture@944dbd2010-08-25 11:33:31 697 [ New I/O server worker #1-1] ServerChannelHandler DEBUG Incoming message: hello12010-08-25 11:33:36 697 [ New I/O server worker #1-1] ServerChannelHandler DEBUG Writing body: Bye 1hello12010-08-25 11:33:36 697 [ New I/O client worker #1-1] ClientChannelHandler DEBUG Message received: Bye 1hello12010-08-25 11:33:36 697 [ New I/O client worker #1-1] SendProcessor DEBUG &gt;&gt;&gt;&gt; Endpoint&#91;log://+++ reply++++&#93; Exchange&#91;GenericFileMessage with body: Bye 1hello1&#93;2010-08-25 11:33:36 713 [ New I/O client worker #1-1] +++ reply++++ INFO Exchange&#91;ExchangePattern:InOut  BodyType:String  Body:Bye 1hello1&#93;2010-08-25 11:33:36 713 [ New I/O client worker #1-1] GenericFileOnCompletion DEBUG Done processing file: GenericFile&#91;C:/test/test/response/hello1.txt&#93; using exchange: Exchange&#91;GenericFileMessage with body: Bye 1hello1&#93;2010-08-25 11:33:36 713 [ New I/O client worker #1-1] FileUtil DEBUG Tried 1 to delete file: C:/test/test/response/hello1.txt.camelLock with result: true2010-08-25 11:33:36 713 [ New I/O client worker #1-1] nericFileRenameProcessStrategy DEBUG Renaming file: GenericFile&#91;C:/test/test/response/hello1.txt&#93; to: GenericFile&#91;C:/test/test/response/.camel/hello1.txt&#93;2010-08-25 11:33:36 713 [ New I/O client worker #1-1] FileUtil DEBUG Tried 1 to rename file: C:/test/test/response/hello1.txt to: C:/test/test/response/.camel/hello1.txt with result: true2010-08-25 11:34:06 886 [ Hashed wheel timer #1] DefaultErrorHandler DEBUG Failed delivery for exchangeId: f5eb372d-a214-4418-a60f-62c0557768d2. On delivery attempt: 0 caught: org.apache.camel.ExchangeTimedOutException: The OUT message was not received within: 30000 millis. Exchange&#91;GenericFileMessage with body: Bye 1hello1&#93;2010-08-25 11:34:06 886 [ Hashed wheel timer #1] DefaultErrorHandler ERROR Failed delivery for exchangeId: f5eb372d-a214-4418-a60f-62c0557768d2. Exhausted after delivery attempt: 1 caught: org.apache.camel.ExchangeTimedOutException: The OUT message was not received within: 30000 millis. Exchange&#91;GenericFileMessage with body: Bye 1hello1&#93;org.apache.camel.ExchangeTimedOutException: The OUT message was not received within: 30000 millis. Exchange&#91;GenericFileMessage with body: Bye 1hello1&#93;, eventhough messag receiv netti procud thow timeout except sec sec rout log log basic function think critic prioriti prioriti netti tcp localhost textlin true amp sync true process new netti tcp localhost textlin true amp sync true process new processor processor int public void process exchang process exchang exchang exchang throw except string bodi exchang getIn getBody string class exchang get get bodi string class thread sleep thread sleep exchang getOut setBody bye exchang get set bodi bye bodi bodi throw new IOException custom IO except custom except except file test test respons file test test respons convertBodyTo string class convert bodi string class thread thread ExchangePattern InOut exchang pattern netti tcp localhost textlin true amp sync true netti tcp localhost textlin true amp sync true log log repli repli FileConsumer file consum DEBUG total file consum consum FileConsumer file consum DEBUG process file file GenericFile test test respons hello txt gener file test test respons hello txt use exchang exchang exchang GenericFileMessage exchang gener file messag file file GenericFile test test respons hello txt gener file test test respons hello txt camel thread thread thread SendProcessor send processor DEBUG gt gt gt gt gt gt gt gt endpoint tcp localhost endpoint tcp localhost exchang GenericFileMessage exchang gener file messag bodi bodi hello hello camel thread thread thread NettyProducer netti produc DEBUG creat connector address address localhost localhost camel thread thread thread NettyProducer netti produc DEBUG write bodi bodi hello hello new client worker NettyProducer netti produc DEBUG oper complet org jboss netti channel DefaultChannelFuture dbd org jboss netti channel default channel futur dbd new server worker ServerChannelHandler server channel handler DEBUG incom messag messag hello hello new server worker ServerChannelHandler server channel handler DEBUG write bodi bodi bye hello hello new client worker ClientChannelHandler client channel handler DEBUG messag receiv receiv bye hello hello new client worker SendProcessor send processor DEBUG gt gt gt gt gt gt gt gt endpoint log endpoint log repli repli exchang GenericFileMessage exchang gener file messag bodi bodi bye hello hello new client worker repli repli INFO exchang ExchangePattern InOut exchang exchang pattern BodyType string bodi type string bodi bye bodi bye hello hello new client worker GenericFileOnCompletion gener file complet DEBUG done process file file GenericFile test test respons hello txt gener file test test respons hello txt use exchang exchang exchang GenericFileMessage exchang gener file messag bodi bodi bye hello hello new client worker FileUtil file util DEBUG tri delet file file test test respons hello txt camelLock test test respons hello txt camel lock result result true true new client worker nericFileRenameProcessStrategy neric file renam process strategi DEBUG renam file file GenericFile test test respons hello txt gener file test test respons hello txt GenericFile test test respons camel hello txt gener file test test respons camel hello txt new client worker FileUtil file util DEBUG tri renam file file test test respons hello txt test test respons hello txt test test respons camel hello txt test test respons camel hello txt result result true true hash wheel timer DefaultErrorHandler default error handler DEBUG fail deliveri exchangeId exchang Id eb eb deliveri attempt attempt caught caught org apach camel ExchangeTimedOutException org apach camel exchang time except messag not receiv within within milli milli exchang GenericFileMessage exchang gener file messag bodi bodi bye hello hello hash wheel timer DefaultErrorHandler default error handler ERROR fail deliveri exchangeId exchang Id eb eb exhaust deliveri attempt attempt caught caught org apach camel ExchangeTimedOutException org apach camel exchang time except messag not receiv within within milli milli exchang GenericFileMessage exchang gener file messag bodi bodi bye hello org apach camel ExchangeTimedOutException hello org apach camel exchang time except messag not receiv within within milli milli exchang GenericFileMessage exchang gener file messag bodi bodi bye hello hello,1,0,0,0,0,components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultClientPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyConfiguration.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ClientChannelHandler.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyComponentWithConfigurationTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyCustomPipelineFactorySynchTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyExchangeTimeoutTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyInOutWithForcedNoResponseTest.java;,0
3082,Willem Jiang,camel-core,0,BeanConveter didn't try to covert the bean invocation argument rightly, BeanConveter bean convet tri covert bean invoc argument rightli,Here is the mail thread about it.http://camel.465427.n5.nabble.com/Bug-in-the-BeanConverter-class-td2653552.html#a2653552, mail thread http camel nabbl com bug BeanConverter class td html http camel nabbl com bug bean convert class td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanConverter.java;components/camel-spring/src/test/java/org/apache/camel/spring/remoting/Bean.java;components/camel-spring/src/test/java/org/apache/camel/spring/remoting/Invoker.java;components/camel-spring/src/test/java/org/apache/camel/spring/remoting/SpringRemotingBeanConverterTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/remoting/beanConverter.xml;,0
3091,Hadrian Zbarcea,camel-quartz,0,QuartzEndpoint does not set the job name properly, QuartzEndpoint quartz endpoint not set job name properli,Looks like the job.name argument is not se properly on the endpoint and defaults to the uri path.Another nastier issue (for which I should have probably created a separate issue) is that the uri gets messed up if it does not have the double slashes after the scheme (as in 'quartz:&lt;uri&gt;' vs 'quartz://&lt;uri&gt;') and the @cron argument contains '?'. The workaround (arguably) is to start the uri with 'quartz://...'.See nabble thread. Many thanks to SK for reporting this., look like job name job name argument not se properli endpoint default uri path anoth path anoth nastier issu probabl creat separ issu issu uri get mess not doubl slash scheme quartz lt uri gt quartz lt uri gt vs quartz lt uri gt quartz lt uri gt cron argument contain workaround arguabl arguabl start uri quartz see quartz see nabbl thread thread mani thank SK report,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/util/URISupport.java;camel-core/src/test/java/org/apache/camel/processor/SplitParallelTimeoutTest.java;camel-core/src/test/java/org/apache/camel/util/URISupportTest.java;components/camel-quartz/src/test/java/org/apache/camel/component/quartz/QuartzEndpointConfigureTest.java;,0
3113,Willem Jiang,camel-cxf,0,@QueryParam doesn't work for CxfBeans, QueryParam queri param work CxfBeans cxf bean,Charle report an issue&#91;1&#93;  after tracing the code I found the DefaultCxfBeanBinding doesn't put the http query string into the cxf message.So the @QueryParam will not take effect on the resource beans.&#91;1&#93;http://camel.465427.n5.nabble.com/camel-cxfbean-JAX-Rs-QueryParam-td2827252.html#a2827252, charl report issu issu trace code found DefaultCxfBeanBinding default cxf bean bind put http queri string cxf messag messag QueryParam queri param not take effect resourc bean http camel nabbl com camel cxfbean JAX Rs QueryParam td html bean http camel nabbl com camel cxfbean JAX Rs queri param td html,0,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/feature/AbstractDataFormatFeature.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfEndpointBean.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/cxfbean/DefaultCxfBeanBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/feature/AbstractDataFormatFeature.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfEndpointBean.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/cxfbean/CxfBeanTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/jaxrs/testbean/CustomerService.java;,0
3120,Claus Ibsen,null,0,hawtdb - Should work in OSGi, hawtdb work OSGi OS Gi,The decode method in ObjectCodec should wrap the causes stacktrace in the wrapped IOException.For example OSGi frameworks may be pesky and we want to be able to see whatever stacktrace it may thrown on you. public T decode(DataInput dataIn) throws IOException { int size = dataIn.readInt(); byte[] data = new byte[size]; dataIn.readFully(data); ByteArrayInputStream bytesIn = new ByteArrayInputStream(data); ObjectInputStream objectIn = new ObjectInputStream(bytesIn); try { return (T) objectIn.readObject(); } catch (ClassNotFoundException e) { throw new IOException(e.getMessage()); } }For being JDK 1.5 compatible you need to do it like public static IOException createIOException(String message  Throwable cause) { IOException answer = new IOException(message); answer.initCause(cause); return answer; }, decod method ObjectCodec object codec wrap caus stacktrac wrap IOException IO except exampl OSGi OS Gi framework may peski want abl see whatev stacktrac may thrown public decod DataInput decod data input dataIn data throw IOException IO except int size dataIn readInt data read int byte byte data new byte size byte size dataIn readFully data data read fulli data ByteArrayInputStream byte array input stream bytesIn byte new ByteArrayInputStream data byte array input stream data ObjectInputStream object input stream objectIn object new ObjectInputStream bytesIn object input stream byte tri return objectIn readObject object read object catch ClassNotFoundException class not found except throw new IOException getMessage IO except get messag JDK compat need like public static IOException IO except createIOException string creat IO except string messag throwabl caus caus IOException IO except answer new IOException messag IO except messag answer initCause caus answer init caus caus return answer answer,1,1,1,1,0,tests/camel-itest-osgi/pom.xml;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/hawtdb/HawtDBAggregateRouteTest.java;,0
3121,Claus Ibsen,camel-core,0,Splitter EIP - The sub exchanges should not contains on completions from original Exchange, splitter EIP sub exchang not contain complet origin exchang,See nabblehttp://camel.465427.n5.nabble.com/Camel-calling-commit-too-early-when-using-split-seda-file-endpoint-tp2830894p2830894.html, see nabblehttp camel nabbl com camel call commit earli use split seda file endpoint tp html nabblehttp camel nabbl com camel call commit earli use split seda file endpoint tp html,0,0,1,1,0,camel-core/src/test/java/org/apache/camel/processor/SplitterStreamingUoWIssueTest.java;camel-core/src/main/java/org/apache/camel/processor/Splitter.java;camel-core/src/test/java/org/apache/camel/processor/SplitterStreamingUoWIssueTest.java;camel-core/src/test/java/org/apache/camel/processor/SplitterUoWIssueTest.java;parent/pom.xml;,0
3123,Stephan Siano,camel-core,0,Performance/scalability issue for converter lookup, perform scalabl perform scalabl issu convert lookup,In a simple HTTP-&gt;HTTP proxy scenario (whith a Jetty or a servlet endpoint  that does not matter) I observe a very severe performance regression between Camel 2.2.0 (as in servicemix 4.2) and camel 2.4.0 running on a apache karaf 2.0.0 OSGi stack. On the same hardware I get a throughput of 3500 messages per second with Camel 2.2.0  but only 210 messages per second on Camel 2.4.0 (both servlet-&gt;HTTP). If I replace the http endpoint with a log endpoint the throughput will be about 1500 messages per second in both cases.I have done some profiling for this: The active CPU times as shown in the profiler remain approximately the same for both versions  however if I monitor wait times  I get very long wait times for org.apache.camel.impl.DefaultMessage.getHeader(java.lang.String java.lang.Class) calls. If I break this down I see the java.beans.PropertyEditorManager.findEditor(java.lang.Class) call in org.apache.camel.impl.converter.PropertyEditorTypeConverter.convertTo(java.lang.Class java.lang.Object). The findEditor() method is synchronized and initializes some class loading which takes some time.Why is it necessary to instantiate the type converter for each message?, simpl HTTP gt HTTP HTTP gt HTTP proxi scenario whith jetti servlet endpoint not matter matter observ sever perform regress camel servicemix camel run apach karaf OSGi OS Gi stack stack hardwar get throughput messag per second camel messag per second camel servlet gt HTTP servlet gt HTTP replac http endpoint log endpoint throughput messag per second case case done profil activ CPU time shown profil remain approxim version howev monitor wait time get long wait time org apach camel impl DefaultMessage getHeader java lang string org apach camel impl default messag get header java lang string java lang class java lang class call call break see java bean PropertyEditorManager findEditor java lang class java bean properti editor manag find editor java lang class call org apach camel impl convert PropertyEditorTypeConverter convertTo java lang class org apach camel impl convert properti editor type convert convert java lang class java lang object java lang object findEditor find editor method synchron initi class load take time time necessari instanti type convert messag messag,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/converter/PropertyEditorTypeConverter.java;camel-core/src/main/java/org/apache/camel/converter/ObjectConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/PropertyEditorTypeConverter.java;camel-core/src/test/java/org/apache/camel/converter/ObjectConverterTest.java;camel-core/src/test/resources/log4j.properties;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyConverter.java;components/camel-jetty/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpProxyRouteTest.java;components/camel-jetty/src/test/resources/log4j.properties;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/PropertyEditorTypeConverter.java;camel-core/src/test/java/org/apache/camel/converter/PropertyEditorTypeConverterIssueTest.java;camel-core/src/main/java/org/apache/camel/impl/converter/PropertyEditorTypeConverter.java;,0
3124,Ernst Bunders,camel-rss,0,polling of feeds in FeedEntryPollingConsumer is broken., poll feed FeedEntryPollingConsumer feed entri poll consum broken broken,The FeedEntryPollingConsumer class implements the poll() method for the 'splitEntries' mode of the RssEndpoint is broken.You can think of two ways that polling feeds could work:1) A feed is created  then one item is processed  then the delay  then process another item. This way the feed is kept between calls to poll().2) A feed is created  then all the items are processed  the feed is cleared  and then the delay.But the way it presently works:A feed is created  one items is processed  and the feed is cleared  then the delay  and again the feed is created and the next item is cleared.This is clearly wrong. Feed entries can be missed  because the index of the next item to process is stored over polls but the list isn't. Also this creates a big network overhead when polling very active feeds such as twitter search...This is easy to fix. In the below code:public void poll() throws Exception { Object feed = createFeed(); populateList(feed); while (hasNextEntry()) { Object entry = list.get(entryIndex--); boolean valid = true; if (entryFilter != null) { valid = entryFilter.isValidEntry(endpoint  feed  entry); } if (valid) { Exchange exchange = endpoint.createExchange(feed  entry); getProcessor().process(exchange); // return and wait for the next poll to continue from last time (this consumer is stateful) return; } }The return (at line 56 of org.apache.camel.component.feed.FeedEntryPollingConsumer) should be deleted., FeedEntryPollingConsumer feed entri poll consum class implement poll poll method splitEntries split entri mode RssEndpoint rss endpoint broken broken think two way poll feed could work work feed creat one item process delay process anoth item item way feed kept call poll poll feed creat item process feed clear delay delay way present work work feed creat one item process feed clear delay feed creat next item clear clear clearli wrong wrong feed entri miss index next item process store poll list also creat big network overhead poll activ feed twitter search search easi fix fix code public code public void poll poll throw except object feed createFeed creat feed populateList feed popul list feed hasNextEntry next entri object entri list get entryIndex list get entri index boolean valid true true entryFilter entri filter null null valid entryFilter isValidEntry endpoint entri filter valid entri endpoint feed entri entri valid valid exchang exchang endpoint createExchange feed endpoint creat exchang feed entri entri getProcessor process exchang get processor process exchang return wait next poll continu last time consum state state return return return line org apach camel compon feed FeedEntryPollingConsumer org apach camel compon feed feed entri poll consum delet delet,0,0,1,0,1,components/camel-atom/src/main/java/org/apache/camel/component/atom/AtomEntryPollingConsumer.java;components/camel-atom/src/main/java/org/apache/camel/component/feed/FeedEntryPollingConsumer.java;,0
3128,Claus Ibsen,camel-core,0,Using $ in endpoint uri causes thread name parser to fail, use endpoint uri caus thread name parser fail,See nabblehttp://camel.465427.n5.nabble.com/How-to-specify-route-to-folder-with-in-actual-name-tp2839895p2839895.html, see nabblehttp camel nabbl com specifi rout folder actual name tp html nabblehttp camel nabbl com specifi rout folder actual name tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/util/concurrent/ExecutorServiceHelper.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumeWithDollarInPathTest.java;camel-core/src/test/java/org/apache/camel/impl/DefaultExecutorServiceStrategyTest.java;,0
3129,Bruno Borges,camel-core,0,Support user-defined shutdown timeout for CamelTestSupport, support user defin user defin shutdown timeout CamelTestSupport camel test support,Would be nice if CamelTestSupport could allow user to define the Shutdown timeout of CamelContext.We at Neociclo are finding difficult to debug through JUnit tests because of the hard-coded 10s timeout.public void setUp() ... { ... context = createCamelContext(); assertValidContext(context); // reduce default shutdown timeout to avoid waiting for 300 seconds&#8211; context.getShutdownStrategy().setTimeout(10);++ context.getShutdownStrategy().setTimeout(getShutdownTimeout()); ...}+ protected int getShutdownTimeout() {+ return 10;+ }, would nice CamelTestSupport camel test support could allow user defin shutdown timeout CamelContext camel context neociclo find difficult debug JUnit unit test hard code hard code timeout public timeout public void setUp set context createCamelContext creat camel context assertValidContext context assert valid context context reduc default shutdown timeout avoid wait second second context getShutdownStrategy setTimeout context get shutdown strategi set timeout context getShutdownStrategy setTimeout getShutdownTimeout context get shutdown strategi set timeout get shutdown timeout protect int getShutdownTimeout get shutdown timeout return,0,1,0,0,0,components/camel-test/src/main/java/org/apache/camel/test/CamelTestSupport.java;components/camel-test/src/main/java/org/apache/camel/test/junit4/CamelTestSupport.java;,0
3136,Dmitry Drozdov,camel-cxf,0,cxfbean creates another instance of the class instead of directly using the referenced bean, cxfbean creat anoth instanc class instead directli use referenc bean,... this makes it impossible to inject properties to the @WebService class&lt;camelContext&gt; &lt;route&gt; &lt;from uri='....' /&gt; &lt;to uri='cxfbean:handler' /&gt; &lt;/route&gt;&lt;/camelContext&gt;&lt;bean id='handler' class='a.b.c.Handler'&gt; &lt;property name='prop1' value='5' /&gt;&lt;/bean&gt;when 'handler' is created by Spring  its 'prop1' is set to '5'when the cxfbean:handler is triggered  the 'prop1' is null  because CXF created another instance of Handler instead of using the one created by Spring, make imposs inject properti WebService web servic class lt camelContext gt class lt camel context gt lt rout gt lt rout gt lt lt uri uri gt gt lt lt uri cxfbean handler uri cxfbean handler gt gt lt rout gt lt camelContext gt lt bean lt rout gt lt camel context gt lt bean id handler id handler class handler gt class handler gt lt properti lt properti name prop name prop valu valu gt lt bean gt gt lt bean gt handler handler creat spring prop prop set cxfbean handler cxfbean handler trigger prop prop null CXF creat anoth instanc handler instead use one creat spring,0,0,1,0,1,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/cxfbean/CxfBeanEndpoint.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/cxfbean/CxfBeanWithWsdlLocationInBeanAndIoCTest.java;components/camel-cxf/src/test/java/org/apache/camel/wsdl_first/PersonImplWithWsdl.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/cxfbean/CxfBeanWithWsdlLocationInBeanAndIoCTest-context.xml;,0
3139,Claus Ibsen,camel-core,0,Use ActiveMQUuidGenerator as the default uuid generator as its faster than the JDK UUID generator, use ActiveMQUuidGenerator activ MQ uuid gener default uuid gener faster JDK UUID gener,The Java UUID is too slow. Switching back to AMQ based will improve performance.We should just have to switch to use the JDK UUID for the camel-gae component as it cannot use the AMQ based., java UUID slow slow switch back AMQ base improv perform perform switch use JDK UUID camel gae camel gae compon cannot use AMQ base base,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/ActiveMQUuidGenerator.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/MessageSupport.java;camel-core/src/test/java/org/apache/camel/impl/ActiveMQUuidGeneratorTest.java;camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextTest.java;camel-core/src/test/java/org/apache/camel/impl/JavaUuidGeneratorTest.java;camel-core/src/test/java/org/apache/camel/impl/SimpleUuidGeneratorTest.java;components/camel-gae/src/main/java/org/apache/camel/component/gae/context/GaeDefaultCamelContext.java;components/camel-gae/src/main/java/org/apache/camel/component/gae/context/GaeSpringCamelContext.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/DefaultJettyHttpBinding.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyContentExchange.java;components/camel-spring/src/test/java/org/apache/camel/spring/CamelContextFactoryBeanTest.java;,0
3140,Martin Krasser,camel-core,0,Context-sensitive setting of default UuidGenerator, context sensit context sensit set default UuidGenerator uuid gener,Use JavaUuidGenerator in GAE environment  otherwise use ActiveMQUuidGenerator as default UuidGenerator., use JavaUuidGenerator java uuid gener GAE environ otherwis use ActiveMQUuidGenerator activ MQ uuid gener default UuidGenerator uuid gener,0,0,1,0,0,0,0
3141,Achim Nierbeck,camel-core; camel-spring,0,Route autoStartup configurable through Property, rout autoStartup auto startup configur properti,Using Camel 2.4 I want to make the usage of a certain route configurable through properties. &lt;camelContext id='camel' trace='true' xmlns='http://camel.apache.org/schema/spring'&gt; &lt;route id='configurable_1' autoStartup='{{startup_1}}'&gt; &lt;from uri='direct:start_1'/&gt; &lt;to uri='mock:end_1'/&gt; &lt;/route&gt; &lt;route id='configurable_2' autoStartup='{{startup_2}}'&gt; &lt;from uri='direct:start_2'/&gt; &lt;to uri='mock:end_2'/&gt; &lt;/route&gt;&lt;/camelContext&gt;But if I do use the PropertyPlaceholder on the CamelContext like below it works. &lt;camelContext id='camel' trace='true' autoStartup='{{startup_context}}'So is this a bug or should this work this way?, use camel want make usag certain rout configur properti properti lt camelContext lt camel context id camel id camel trace true trace true xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt rout lt rout id configur id configur autoStartup startup gt auto startup startup gt lt lt uri direct start gt uri direct start gt lt lt uri mock end gt uri mock end gt lt rout gt lt rout gt lt rout lt rout id configur id configur autoStartup startup gt auto startup startup gt lt lt uri direct start gt uri direct start gt lt lt uri mock end gt uri mock end gt lt rout gt lt camelContext gt lt rout gt lt camel context gt use PropertyPlaceholder properti placehold CamelContext camel context like work work lt camelContext lt camel context id camel id camel trace true trace true autoStartup startup_context auto startup startup_context bug work way way,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinition.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinitionHelper.java;camel-core/src/main/java/org/apache/camel/util/CamelContextHelper.java;camel-core/src/test/java/org/apache/camel/impl/ActiveMQUuidGeneratorTest.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelContextFactoryBean.java;components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaConsumer.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/RouteAutoStartupPropertiesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/DefaultPackageScanClassResolverTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/config/RouteAutoStartupFalseTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/RouteAutoStartupTrueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/route.properties;,0
3143,Claes Redestad,osgi,0,OsgiDefaultCamelContext.getTypeConverterRegistry() returns null, OsgiDefaultCamelContext getTypeConverterRegistry osgi default camel context get type convert registri return null,The showed up when using dozer as shown in http://camel.apache.org/dozer-type-conversion.html  whose DozerTypeConverterLoader tries to get the type converter registry using: {{{TypeConverterRegistry registry = camelContext.getTypeConverterRegistry();}}}Plausible error:OsgiDefaultCamelContext.java @Override protected TypeConverter createTypeConverter() { return new OsgiTypeConverter(bundleContext  getInjector()); }DefaultCamelContext.javapublic TypeConverterRegistry getTypeConverterRegistry() { if (typeConverterRegistry == null) { // init type converter as its lazy if (typeConverter == null) { getTypeConverter(); } // type converter is usually the default one that also is the registry if (typeConverter instanceof DefaultTypeConverter) { typeConverterRegistry = (DefaultTypeConverter) typeConverter; } } return typeConverterRegistry; }Error:getTypeConverter() returns an OsgiTypeConverter OsgiTypeConverter does not inherit from DefaultTypeConverter  thus the instanceof returns false=&gt; null is returnedSolution:Lots of different ways to do this  and it's getting late here. In this case  maybe it's OsgiDefaultCamelContext's responsibility to also override getTypeConverterRegistry with something along the lines of:@Overridepublic TypeConverterRegistry getTypeConverterRegistry() { if (typeConverterRegistry == null) { // init type converter as its lazy if (typeConverter == null) { getTypeConverter(); } // type converter is usually the default one that also is the registry if (typeConverter instanceof OsgiDefaultTypeConverter) { typeConverterRegistry = ((OsgiDefaultTypeConverter) typeConverter).getRegistry(); } } return typeConverterRegistry; }We've employed an (ugly) workaround in a local version of DozerTypeConverterLoader.java: TypeConverter typeConverter = camelContext.getTypeConverter(); DefaultTypeConverter registry = null; if (typeConverter instanceof DefaultTypeConverter) { registry = (DefaultTypeConverter)typeConverter; } else if (typeConverter instanceof OsgiTypeConverter) { OsgiTypeConverter osgiTypeConverter = (OsgiTypeConverter)typeConverter; registry = osgiTypeConverter.getRegistry(); }, show use dozer shown whose DozerTypeConverterLoader dozer type convert loader tri get type convert registri use use TypeConverterRegistry type convert registri registri camelContext getTypeConverterRegistry plausibl camel context get type convert registri plausibl error OsgiDefaultCamelContext java error osgi default camel context java overrid overrid protect TypeConverter type convert createTypeConverter creat type convert return new OsgiTypeConverter bundleContext osgi type convert bundl context getInjector get injector DefaultCamelContext javapubl default camel context javapubl TypeConverterRegistry type convert registri getTypeConverterRegistry get type convert registri typeConverterRegistry type convert registri null null init type convert lazi typeConverter type convert null null getTypeConverter get type convert type convert usual default one also registri typeConverter type convert instanceof DefaultTypeConverter default type convert typeConverterRegistry type convert registri DefaultTypeConverter default type convert typeConverter type convert return typeConverterRegistry type convert registri error getTypeConverter error get type convert return OsgiTypeConverter osgi type convert OsgiTypeConverter osgi type convert not inherit DefaultTypeConverter default type convert thu instanceof return fals gt fals gt null returnedSolution lot return solut lot differ way get late case mayb OsgiDefaultCamelContext osgi default camel context respons also overrid getTypeConverterRegistry get type convert registri someth along line overridepubl overridepubl TypeConverterRegistry type convert registri getTypeConverterRegistry get type convert registri typeConverterRegistry type convert registri null null init type convert lazi typeConverter type convert null null getTypeConverter get type convert type convert usual default one also registri typeConverter type convert instanceof OsgiDefaultTypeConverter osgi default type convert typeConverterRegistry type convert registri OsgiDefaultTypeConverter osgi default type convert typeConverter getRegistry type convert get registri return typeConverterRegistry type convert registri employ ugli ugli workaround local version DozerTypeConverterLoader java dozer type convert loader java TypeConverter type convert typeConverter type convert camelContext getTypeConverter camel context get type convert DefaultTypeConverter default type convert registri null null typeConverter type convert instanceof DefaultTypeConverter default type convert registri DefaultTypeConverter typeConverter default type convert type convert els typeConverter type convert instanceof OsgiTypeConverter osgi type convert OsgiTypeConverter osgi type convert osgiTypeConverter osgi type convert OsgiTypeConverter typeConverter osgi type convert type convert registri osgiTypeConverter getRegistry osgi type convert get registri,1,0,1,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiTypeConverter.java;components/camel-dozer/src/main/java/org/apache/camel/converter/dozer/DozerTypeConverterLoader.java;components/camel-dozer/src/test/java/org/apache/camel/converter/dozer/DozerTypeConverterTest.java;components/camel-dozer/src/test/java/org/apache/camel/converter/dozer/SpringDozerTypeConverterTest.java;components/camel-dozer/src/test/java/org/apache/camel/converter/dozer/model/Address.java;components/camel-dozer/src/test/java/org/apache/camel/converter/dozer/model/Customer.java;components/camel-dozer/src/test/resources/application-context.xml;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/dozer/DozerTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/dozer/model/Address.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/dozer/model/Customer.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/dozer/service/Customer.java;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/dozer/CamelContext.xml;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/dozer/dozer-mapping.xml;,0
3144,Raphaël Luta,camel-core; camel-ftp,0,camel-ftp: fileExist=Fail not honored when producer works in FTP root path, camel ftp camel ftp fileExist fail file exist fail not honor produc work FTP root path,when using a route with ftp producer such as : &lt;to uri='ftp://user@host/?fileExist=Fail&amp;fileName=test&amp;password=mypass' /&gt;The route will not correctly fail if the fileName already exists.It will work in any sub-directory: &lt;to uri='ftp://user@host/mydir?fileExist=Fail&amp;fileName=test&amp;password=mypass' /&gt;The root cause of the bug is an incorrect test in org.apache.camel.util.FileUtil.onlyPath() in component camel-core.This method returns null when the parameter string is '/'. It should return '/'.The attached patch fixes the issue., use rout ftp produc lt lt uri ftp user host fileExist fail amp fileName test amp password mypass uri ftp user host file exist fail amp file name test amp password mypass gt gt rout not correctli fail fileName file name alreadi exist exist work sub directori sub directori lt lt uri ftp user host mydir fileExist fail amp fileName test amp password mypass uri ftp user host mydir file exist fail amp file name test amp password mypass gt gt root caus bug incorrect test org apach camel util FileUtil onlyPath org apach camel util file util path compon camel core camel core method return null paramet string return attach patch fix issu issu,1,1,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFile.java;camel-core/src/main/java/org/apache/camel/util/FileUtil.java;camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFile.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFile.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFile.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerRootFileExistFailTest.java;,0
3159,Claus Ibsen,camel-core,0,Aggregator EIP - Add option to ignore timeout completed, aggreg EIP add option ignor timeout complet,See nabblehttp://camel.465427.n5.nabble.com/Aggregator-Howto-remove-from-persistency-tp2852702p2852702.html&gt; I was thinking about something like a removeOnTimeout (default=false of&gt; course) that would use the existing completionTimeout attribute but change&gt; its behavior to remove the aggregated message instead of publishing it.&gt; &#8211;Yeah I can kinda see an use case for this. You are using the timeoutas a last resort to just say hey we could not aggregate this in letssay 4 hours.So lets just ignore the message.Having an option on the aggregate to just auto discard those messageon timeout would help there to avoid the CBR and checking yourself.Just wondering if this is a use case others use? Its still kindadangerous to discard messages., see nabblehttp camel nabbl com aggreg howto remov persist tp html gt nabblehttp camel nabbl com aggreg howto remov persist tp html gt think someth like removeOnTimeout remov timeout default fals default fals gt gt cours cours would use exist completionTimeout complet timeout attribut chang gt chang gt behavior remov aggreg messag instead publish gt gt yeah yeah kinda see use case use timeouta last resort say hey could not aggreg letssay hour hour let ignor messag messag option aggreg auto discard messageon timeout would help avoid CBR check wonder use case other use use still kindadanger discard messag messag,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/main/java/org/apache/camel/model/AggregateDefinition.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateDiscardOnTimeoutTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/aggregator/SpringAggregateDiscardOnTimeoutTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/aggregator/SpringAggregateDiscardOnTimeoutTest.xml;camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;components/camel-hawtdb/src/test/java/org/apache/camel/component/hawtdb/HawtDBAggregateDiscardOnTimeoutTest.java;,0
3160,Claus Ibsen,camel-core,0,Add alternative start token for simple language to avoid clash with Spring PropertyPlaceholder, add altern start token simpl languag avoid clash spring PropertyPlaceholder properti placehold,When using Spring property placeholders it will scan for ${ } tokens  which is the same set the Camel Simple language uses.This makes it harder to configure file endpoints where the file name is a simple expression because Spring interferes.So by introducing the $simple{ as alternative start token  we can avoid the clash., use spring properti placehold scan token set camel simpl languag use use make harder configur file endpoint file name simpl express spring interfer interfer introduc simpl simpl altern start token avoid clash clash,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/component/file/FileComponent.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguage.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguageSupport.java;camel-core/src/test/java/org/apache/camel/language/FileLanguageTest.java;camel-core/src/test/java/org/apache/camel/language/SimpleTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringPropertyPlaceholderFileEndpointIssueTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringPropertyPlaceholderFileEndpointIssueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringPropertyPlaceholderIssueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/myprop.properties;,0
3170,Claus Ibsen,camel-ftp,0,camel-ftp - Setting password and username using UserInfo on uri does not work, camel ftp camel ftp set password usernam use UserInfo user info uri not work,You should be able to set ftp endpoint uri as:'ftp://scott@localhost:' + getPort() + '/deletefile?password=tiger&amp;binary=false&amp;delete=true'And when using password and username in the userinfo part of the uri:'ftp://tiger:scott@localhost:' + getPort() + '/deletefile?binary=false&amp;delete=true'The latter didn't work, abl set ftp endpoint uri ftp scott localhost ftp scott localhost getPort get port deletefil password tiger amp binari fals amp delet true deletefil password tiger amp binari fals amp delet true use password usernam userinfo part uri ftp tiger scott localhost uri ftp tiger scott localhost getPort get port deletefil binari fals amp delet true deletefil binari fals amp delet true latter work,0,0,1,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConfiguration.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpDeleteFileScottTigerTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpDeleteFileTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpToBinarySampleTest.java;,0
3181,Adrian Trenaman,camel-cxf,0,Confusing IllegalArgumentException when address attribute isn't specified on CXF endpoint., confus IllegalArgumentException illeg argument except address attribut specifi CXF endpoint endpoint,If you create CXF endpoint  like this  without the address attribute   &lt;cxf:cxfEndpoint id='greeting' wsdlURL='greeting.wsdl' serviceClass='tutorial.hanbo.webservice.Greeting' &gt; &lt;/cxf:cxfEndpoint&gt; ... then you get a really confusing error when you deploy the endpoint in ServiceMix: the error is Caused by: java.lang.IllegalArgumentException: endpointUri is not specified and org.apache.camel.component.cxf.CxfSpringEndpoint does not implement createEndpointUri() to create a default value at org.apache.camel.impl.DefaultEndpoint.getEndpointUri(DefaultEndpoint.java:83) at org.apache.camel.management.DefaultManagementLifecycleStrategy.onEndpointAdd(DefaultManagementLifecycleStrategy.java:205) at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:386) We find that if you explicitly set the address then the problem goes away (see below) &lt;cxf:cxfEndpoint id='greeting' wsdlURL='greeting.wsdl' address='http://localhost:9000/GreeterContext/SOAPMessageService' serviceClass='tutorial.hanbo.webservice.Greeting' &gt; &lt;/cxf:cxfEndpoint&gt; On camel-cxf web page  the 'address' attribute is not mentioned anywhere in the table of URI properties  so you might be lead to believe that it's not necessary., creat CXF endpoint like without address attribut lt cxf cxfEndpoint lt cxf cxf endpoint id greet id greet wsdlURL greet wsdl wsdl URL greet wsdl serviceClass tutori hanbo webservic greet servic class tutori hanbo webservic greet gt gt lt cxf cxfEndpoint gt lt cxf cxf endpoint gt get realli confus error deploy endpoint ServiceMix servic mix error caus java lang IllegalArgumentException java lang illeg argument except endpointUri endpoint uri not specifi org apach camel compon cxf CxfSpringEndpoint org apach camel compon cxf cxf spring endpoint not implement createEndpointUri creat endpoint uri creat default valu org apach camel impl DefaultEndpoint getEndpointUri DefaultEndpoint java org apach camel impl default endpoint get endpoint uri default endpoint java org apach camel manag DefaultManagementLifecycleStrategy onEndpointAdd DefaultManagementLifecycleStrategy java org apach camel manag default manag lifecycl strategi endpoint add default manag lifecycl strategi java org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java find explicitli set address problem goe away see lt cxf cxfEndpoint lt cxf cxf endpoint id greet id greet wsdlURL greet wsdl wsdl URL greet wsdl address http localhost GreeterContext SOAPMessageService address http localhost greeter context SOAP messag servic serviceClass tutori hanbo webservic greet servic class tutori hanbo webservic greet gt gt lt cxf cxfEndpoint gt lt cxf cxf endpoint gt camel cxf camel cxf web page address address attribut not mention anywher tabl URI properti might lead believ not necessari necessari,1,0,1,0,0,components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/WsdlFirstBeansPayloadMode.xml;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/WsdlFirstProcessor.xml;,0
3188,Brian Feaver,camel-core,0,Concurrent consumers on seda endpoint can cause content routing to mismatch, concurr consum seda endpoint caus content rout mismatch,When consuming concurrently from a seda endpoint  when the route contains a content router based on the header  it will randomly route through the wrong choice.In my specific case  I was consuming from an activemq queue  which would receive messages with a header that would then determine which route it would follow. It would randomly send messages down the wrong path. When I turned on tracing  it would behave itself. It also behaved itself when I limited it to only a single consumer. I was  however  able to duplicate it with the unit test below. Due to the concurrency issue  the test can occasionally pass  but run it a couple times and it should fail. It'll either receive 2 messages when it should have only gotten 1  or it will get no messages when it should have gotten 1.ConcurrencyTest.javaimport org.apache.camel.EndpointInject;import org.apache.camel.Produce;import org.apache.camel.ProducerTemplate;import org.apache.camel.builder.RouteBuilder;import org.apache.camel.component.mock.MockEndpoint;import org.apache.camel.test.CamelTestSupport;public class ConcurrencyTest extends CamelTestSupport { @EndpointInject(uri = 'mock:result') protected MockEndpoint resultEndpoint; @EndpointInject(uri = 'mock:otherResult') protected MockEndpoint otherResultEndpoint; @Produce(uri = 'seda:start') protected ProducerTemplate template; public void testSendMatchingMessage() throws Exception { String expectedBody = '&lt;matched/&gt;'; resultEndpoint.expectedBodiesReceived(expectedBody); otherResultEndpoint.expectedBodiesReceived(expectedBody); template.sendBodyAndHeader(expectedBody  'myDirection'  'send'); template.sendBodyAndHeader(expectedBody  'myDirection'  'received'); resultEndpoint.assertIsSatisfied(); } @Override protected RouteBuilder createRouteBuilder() { return new RouteBuilder() { public void configure() { from('seda:start?concurrentConsumers=10')// from('seda:start?concurrentConsumers=1') .choice() .when(header('myDirection').isEqualTo('send')).to('mock:result') .when(header('myDirection').isEqualTo('received')).to('mock:otherResult'); } }; }}, consum concurr seda endpoint rout contain content router base header randomli rout wrong choic choic specif case consum activemq queue would receiv messag header would determin rout would follow follow would randomli send messag wrong path path turn trace would behav also behav limit singl consum consum howev abl duplic unit test due concurr issu test occasion pass run coupl time fail fail either receiv messag gotten get no messag gotten ConcurrencyTest javaimport concurr test javaimport org apach camel EndpointInject import org apach camel endpoint inject import org apach camel produc import org apach camel produc import org apach camel ProducerTemplate import org apach camel produc templat import org apach camel builder RouteBuilder import org apach camel builder rout builder import org apach camel compon mock MockEndpoint import org apach camel compon mock mock endpoint import org apach camel test CamelTestSupport public org apach camel test camel test support public class ConcurrencyTest concurr test extend CamelTestSupport camel test support EndpointInject uri endpoint inject uri mock result mock result protect MockEndpoint mock endpoint resultEndpoint result endpoint EndpointInject uri endpoint inject uri mock otherResult mock result protect MockEndpoint mock endpoint otherResultEndpoint result endpoint produc uri produc uri seda start seda start protect ProducerTemplate produc templat templat templat public void testSendMatchingMessage test send match messag throw except string expectedBody expect bodi lt match gt lt match gt resultEndpoint expectedBodiesReceived expectedBody result endpoint expect bodi receiv expect bodi otherResultEndpoint expectedBodiesReceived expectedBody result endpoint expect bodi receiv expect bodi templat sendBodyAndHeader expectedBody templat send bodi header expect bodi myDirection direct send send templat sendBodyAndHeader expectedBody templat send bodi header expect bodi myDirection direct receiv receiv resultEndpoint assertIsSatisfied result endpoint assert satisfi overrid overrid protect RouteBuilder rout builder createRouteBuilder creat rout builder return new RouteBuilder rout builder public void configur configur seda start concurrentConsumers seda start concurr consum seda start concurrentConsumers seda start concurr consum choic choic header myDirection isEqualTo send mock result header direct equal send mock result header myDirection isEqualTo receiv mock otherResult header direct equal receiv mock result,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/BinaryPredicate.java;camel-core/src/main/java/org/apache/camel/builder/BinaryPredicateSupport.java;camel-core/src/main/java/org/apache/camel/processor/ChoiceProcessor.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/test/java/org/apache/camel/builder/PredicateBuilderConcurrentTest.java;camel-core/src/test/java/org/apache/camel/builder/PredicateBuilderTest.java;camel-core/src/test/java/org/apache/camel/issues/CBRConcurrencyIssueTest.java;,1
3193,Christian Schneider,camel-jms,0,request/reply over JMS using temporary queues - if connection lost the temporary queue is not re-created which causes the producer to not work anymore, request repli request repli JMS use temporari queue connect lost temporari queue not creat creat caus produc not work anymor,To recreate the problem you need a route with a jms inout endpoint that is configured to use a temporary destination for replies. Till now I was only able to show the problem with tibco ems. Start broker Start the jms consumer that replies to the request Start the route Send a request/reoply exchange (should work) Stop the broker Wait long enough for the client to do a full reconnect (I used connectionFactory.setReconnAttemptCount(1) on the client so I do not have to wait so long) Start the broker -&gt; The jms component will do a full new connect Send a request/reoply exchange -&gt; Now a InvalidDestination Exception happensThe client route will not work anymore until a restart as it creates the temporary destination only once and it is invalid now., recreat problem need rout jm inout endpoint configur use temporari destin repli repli till abl show problem tibco em em start broker start jm consum repli request start rout send request reopli request reopli exchang work work stop broker wait long enough client full reconnect use connectionFactory setReconnAttemptCount connect factori set reconn attempt count client not wait long long start broker gt gt jm compon full new connect send request reopli request reopli exchang gt gt InvalidDestination invalid destin except happensThe happen client rout not work anymor restart creat temporari destin invalid,0,1,1,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyManager.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/temp/JmsReconnectTest.java;,0
3201,S. Ali Tokmen,camel-cxf,0,The CxfConsumer's getContinuation method might throw NPE, CxfConsumer cxf consum getContinuation get continu method might throw NPE,HelloWhen trying the latest CAMEL 2.5.0 SNAPSHOT  I got a NPE:java.lang.NullPointerException at org.apache.camel.component.cxf.CxfConsumer$1.getContinuation(CxfConsumer.java:129) at org.apache.camel.component.cxf.CxfConsumer$1.invoke(CxfConsumer.java:65) at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)..., HelloWhen hello tri latest CAMEL SNAPSHOT got NPE java lang NullPointerException NPE java lang null pointer except org apach camel compon cxf CxfConsumer getContinuation CxfConsumer java org apach camel compon cxf cxf consum get continu cxf consum java org apach camel compon cxf CxfConsumer invok CxfConsumer java org apach camel compon cxf cxf consum invok cxf consum java org apach cxf interceptor ServiceInvokerInterceptor run ServiceInvokerInterceptor java org apach cxf interceptor servic invok interceptor run servic invok interceptor java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java,1,1,0,0,0,0,0
3202,Norman Maurer,camel-core,0,Add Exchange creation time to the exchange as property, add exchang creation time exchang properti,Sometimes it would be really nice to access the exchange creation time from a processor. This can be of use for many tasks  like statistics etc., sometim would realli nice access exchang creation time processor processor use mani task like statist etc etc,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java;camel-core/src/test/java/org/apache/camel/processor/ExchangeCreatedTimestampTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/DefaultTraceEventMessageTest.java;,0
3220,Claus Ibsen,camel-core,0,Threads - Should allow using 0 in core pool size, thread allow use core pool size,See nabblehttp://camel.465427.n5.nabble.com/ThreadPoolExecutor-configuration-tp3207845p3207845.html, see nabblehttp camel nabbl com ThreadPoolExecutor configur tp html nabblehttp camel nabbl com thread pool executor configur tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/ThreadsDefinition.java;camel-core/src/test/java/org/apache/camel/processor/ThreadsZeroInCoreAndMaxPoolTest.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExecutorServiceStrategy.java;camel-core/src/test/java/org/apache/camel/processor/ThreadsZeroInCoreAndMaxPoolTest.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExecutorServiceStrategy.java;,0
3222,Claus Ibsen,camel-core,0,Route definitions should use boxed types and lazy evaluate defaults in the getter, rout definit use box type lazi evalu default getter,When you output a route definition as XML then all the boolean types and whatnot get outputted using their default values.For example inheritErrorHandler=true.This reduces the XML and keeps it much smaller., output rout definit XML boolean type whatnot get output use default valu valu exampl inheritErrorHandler true inherit error handler true reduc XML keep much smaller smaller,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/main/java/org/apache/camel/model/DelayDefinition.java;camel-core/src/main/java/org/apache/camel/model/DynamicRouterDefinition.java;camel-core/src/main/java/org/apache/camel/model/IdempotentConsumerDefinition.java;camel-core/src/main/java/org/apache/camel/model/InterceptSendToEndpointDefinition.java;camel-core/src/main/java/org/apache/camel/model/LogDefinition.java;camel-core/src/main/java/org/apache/camel/model/OnCompletionDefinition.java;camel-core/src/main/java/org/apache/camel/model/OnExceptionDefinition.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinition.java;camel-core/src/main/java/org/apache/camel/model/RoutingSlipDefinition.java;camel-core/src/main/java/org/apache/camel/model/SamplingDefinition.java;camel-core/src/main/java/org/apache/camel/model/ThreadPoolProfileDefinition.java;camel-core/src/main/java/org/apache/camel/model/ThreadsDefinition.java;camel-core/src/main/java/org/apache/camel/model/ThrottleDefinition.java;camel-core/src/main/java/org/apache/camel/model/WireTapDefinition.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;components/camel-scala/src/main/scala/org/apache/camel/scala/dsl/SThrottleDefinition.scala;,0
3223,Madhav Bhargava,camel-core,0,GenericFileProducer.writeFile method creates instance of un-used InputStream, GenericFileProducer writeFile gener file produc write file method creat instanc un use un use InputStream input stream,org.apache.camel.component.file.GenericFileProducerMethod: writeFileThis method has the following statement:InputStream payload = exchange.getIn().getBody(InputStream.class);This internally results in calling a TypeConverter to convert an object into InputStream type. However this InputStream has not been used and is eventually closed in the finally block. In the same method calling method storeFile on FileOperations (boolean success = operations.storeFile(fileName  exchange) also opens an InputStream on the same message., org apach camel compon file GenericFileProducerMethod org apach camel compon file gener file produc method writeFileThis write file method follow statement InputStream statement input stream payload exchang getIn getBody InputStream class exchang get get bodi input stream class intern result call TypeConverter type convert convert object InputStream input stream type type howev InputStream input stream not use eventu close final block block method call method storeFile store file FileOperations file oper boolean success oper storeFile fileName oper store file file name exchang exchang also open InputStream input stream messag messag,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;,0
3231,Beat Glattfelder,null,0,JMX MBeans not registered for initiators, JMX MBeans bean not regist initi,registering the Initiator before it has been started will not register the sessions mbeans with JMX. So the acceptors are ther  but no initiators., regist initi start not regist session mbean JMX JMX acceptor ther no initi initi,0,0,1,1,0,components/camel-quickfix/src/main/java/org/apache/camel/component/quickfixj/QuickfixjEngine.java;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/QuickfixjEngineTest.java;,0
3237,Mário Homem,camel-xmpp,0,XmppEndPoint - setting login to false when creating an account results in no action, XmppEndPoint xmpp end point set login fals creat account result no action,XmppEndPoint myXmppEndPoint = new XmppEndPoint();(...)myXmppEndPoint.setCreateAccount(true);myXmppEndPoint .setLogin(false);(...)This will result in 'no action' in xmpp server  if setLogin true the account is created and the user stays online.I believe it's because of the logic used in createConnection() method of XmppEndPoint that could be changed to:if (!connection.isAuthenticated()) { if (user != null) { if (LOG.isDebugEnabled()) { LOG.debug('Logging in to XMPP as user: ' + user + ' on connection: ' + getConnectionMessage(connection)); } if (password == null) { LOG.warn('No password configured for user: ' + user + ' on connection: ' + getConnectionMessage(connection)); } if (createAccount) { AccountManager accountManager = new AccountManager(connection); accountManager.createAccount(user  password); } if(login){ if (resource != null) { connection.login(user  password  resource); } else { connection.login(user  password); } } } else { if (LOG.isDebugEnabled()) { LOG.debug('Logging in anonymously to XMPP on connection: ' + getConnectionMessage(connection)); } connection.loginAnonymously(); }, XmppEndPoint xmpp end point myXmppEndPoint xmpp end point new XmppEndPoint myXmppEndPoint setCreateAccount true myXmppEndPoint xmpp end point xmpp end point set creat account true xmpp end point setLogin fals set login fals result no action action xmpp server setLogin set login true account creat user stay onlin onlin believ logic use createConnection creat connect method XmppEndPoint xmpp end point could chang connect isAuthenticated connect authent user null null LOG isDebugEnabled LOG debug enabl LOG debug log LOG debug log XMPP user user user connect connect getConnectionMessage connect get connect messag connect password null null LOG warn No LOG warn No password configur user user user connect connect getConnectionMessage connect get connect messag connect createAccount creat account AccountManager account manag accountManager account manag new AccountManager connect account manag connect accountManager createAccount user account manag creat account user password password login login resourc null null connect login user connect login user password resourc resourc els connect login user connect login user password password els LOG isDebugEnabled LOG debug enabl LOG debug log LOG debug log anonym XMPP connect connect getConnectionMessage connect get connect messag connect connect loginAnonymously connect login anonym,0,1,1,0,0,components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppEndpoint.java;,0
3242,Claus Ibsen,null,0,RetryWhile is missing on the errorHandler DSL, RetryWhile retri miss errorHandler error handler DSL,You can only use retryWhile on the onException. It should be possible from errorHandler as well., use retryWhile retri onException except possibl errorHandler error handler well well,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java;camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/main/java/org/apache/camel/processor/DefaultErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/test/java/org/apache/camel/processor/onexception/DefaultErrorHandlerRetryWhileTest.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/ErrorHandlerDefinition.java;components/camel-spring/src/main/java/org/apache/camel/spring/ErrorHandlerDefinition.java;components/camel-spring/src/main/java/org/apache/camel/spring/handler/ErrorHandlerDefinitionParser.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandler.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringDefaultErrorHandlerRetryWhileTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/DefaultErrorHandlerRetryWhileTest.xml;,0
3260,Claus Ibsen,camel-core,0,Let LazyLoadingTypeConverter load the converters from camel-core on startup, let LazyLoadingTypeConverter lazi load type convert load convert camel core camel core startup,When using lazy loading type converter and Spring XML you will trigger the type converters to be loaded on startup due XML configuration needs to convert from String -&gt; other types etc.So we should let Camel always load the type converters from camel-core as they are essential. Then the package scanning converters can be loaded on demand later., use lazi load type convert spring XML trigger type convert load startup due XML configur need convert string gt gt type etc etc let camel alway load type convert camel core camel core essenti essenti packag scan convert load demand later later,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/converter/ObjectConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/converter/BaseTypeConverterRegistry.java;camel-core/src/main/java/org/apache/camel/impl/converter/CorePackageScanClassResolver.java;camel-core/src/main/java/org/apache/camel/impl/converter/CoreTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/EnumTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/LazyLoadingTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/osgi/Activator.java;camel-core/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;camel-core/src/test/java/org/apache/camel/ContextTestSupport.java;camel-core/src/test/java/org/apache/camel/builder/PredicateBinaryCoerceRouteTest.java;camel-core/src/test/java/org/apache/camel/converter/InstanceDummyFallbackConverter.java;camel-core/src/test/java/org/apache/camel/converter/InstanceMethodWithExchangeTestConverter.java;camel-core/src/test/java/org/apache/camel/converter/MyFallbackPromoteConverter.java;camel-core/src/test/java/org/apache/camel/converter/PurchaseOrderConverter.java;camel-core/src/test/java/org/apache/camel/converter/StaticDummyFallbackConverter.java;camel-core/src/test/java/org/apache/camel/converter/StaticMethodWithExchangeTestConverter.java;camel-core/src/test/java/org/apache/camel/converter/myconverter/InstanceDummyFallbackConverter.java;camel-core/src/test/java/org/apache/camel/converter/myconverter/InstanceMethodWithExchangeTestConverter.java;camel-core/src/test/java/org/apache/camel/converter/myconverter/MyFallbackPromoteConverter.java;camel-core/src/test/java/org/apache/camel/converter/myconverter/PurchaseOrderConverter.java;camel-core/src/test/java/org/apache/camel/converter/myconverter/StaticDummyFallbackConverter.java;camel-core/src/test/java/org/apache/camel/converter/myconverter/StaticMethodWithExchangeTestConverter.java;camel-core/src/test/java/org/apache/camel/processor/SimpleMockNoLazyTypeConverterTest.java;camel-core/src/test/resources/META-INF/services/org/apache/camel/TypeConverter;camel-core/src/test/resources/log4j.properties;components/camel-blueprint/pom.xml;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/BlueprintCamelContext.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiComponentResolver.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiDefaultCamelContext.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiTypeConverter.java;components/camel-core-osgi/src/test/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerDirectoriesNotMatchedTest.java;components/camel-groovy/pom.xml;components/camel-groovy/src/test/java/org/apache/camel/language/groovy/GroovyInvokeMethodTest.java;components/camel-groovy/src/test/java/org/apache/camel/language/groovy/GroovyLanguageTest.java;components/camel-groovy/src/test/java/org/apache/camel/language/groovy/GroovySetFixedHeaderTest.java;components/camel-groovy/src/test/java/org/apache/camel/language/groovy/GroovySetHeaderTest.java;components/camel-groovy/src/test/java/org/apache/camel/processor/groovy/GroovyFilterTest.java;components/camel-groovy/src/test/resources/org/apache/camel/processor/groovy/groovyFilter.xml;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyMinMaxThreadPoolTest.java;components/camel-juel/pom.xml;components/camel-juel/src/test/java/org/apache/camel/language/juel/JuelLanguageTest.java;components/camel-juel/src/test/java/org/apache/camel/language/juel/JuelTest.java;components/camel-juel/src/test/java/org/apache/camel/language/juel/NullBodyTest.java;components/camel-juel/src/test/java/org/apache/camel/language/juel/issues/XsltLosesHeaderTest.java;components/camel-juel/src/test/java/org/apache/camel/processor/juel/SimulatorTest.java;components/camel-msv/pom.xml;components/camel-msv/src/test/java/org/apache/camel/component/validator/msv/RelaxNGRouteTest.java;components/camel-mvel/pom.xml;components/camel-mvel/src/test/java/org/apache/camel/language/mvel/MvelTest.java;components/camel-ognl/pom.xml;components/camel-ognl/src/test/java/org/apache/camel/language/ognl/OgnlInvokeMethodTest.java;components/camel-ognl/src/test/java/org/apache/camel/language/ognl/OgnlTest.java;components/camel-ognl/src/test/java/org/apache/camel/language/ognl/patterns/FilterTest.java;components/camel-script/pom.xml;components/camel-script/src/test/java/org/apache/camel/builder/script/example/AnyLanguageFilterTest.java;components/camel-script/src/test/java/org/apache/camel/builder/script/example/BeanShellFilterTest.java;components/camel-script/src/test/java/org/apache/camel/builder/script/example/GroovyFilterTest.java;components/camel-script/src/test/java/org/apache/camel/builder/script/example/JavaScriptFilterTest.java;components/camel-script/src/test/java/org/apache/camel/builder/script/example/PythonFilterTest.java;components/camel-script/src/test/java/org/apache/camel/builder/script/example/RubyFilterTest.java;components/camel-script/src/test/java/org/apache/camel/builder/script/example/XPathFilterTest.java;components/camel-script/src/test/java/org/apache/camel/language/script/JavaScriptLanguageTest.java;components/camel-script/src/test/java/org/apache/camel/language/script/PythonLanguageTest.java;components/camel-spring/src/main/java/org/apache/camel/osgi/OsgiSpringCamelContext.java;components/camel-spring/src/test/java/org/apache/camel/spring/SpringTestSupport.java;components/camel-test/src/main/java/org/apache/camel/test/CamelTestSupport.java;components/camel-test/src/main/java/org/apache/camel/test/LanguageTestSupport.java;components/camel-test/src/main/java/org/apache/camel/test/junit4/CamelTestSupport.java;components/camel-test/src/main/java/org/apache/camel/test/junit4/LanguageTestSupport.java;components/camel-test/src/test/java/org/apache/camel/test/patterns/DebugNoLazyTypeConverterTest.java;components/camel-testng/src/main/java/org/apache/camel/testng/CamelTestSupport.java;components/camel-testng/src/main/java/org/apache/camel/testng/LanguageTestSupport.java;components/camel-testng/src/test/java/org/apache/camel/testng/patterns/DebugNoLazyTypeConverterTest.java;components/camel-testng/src/test/java/org/apache/camel/testng/patterns/DebugTest.java;components/camel-testng/src/test/java/org/apache/camel/testng/patterns/FilterTest.java;,0
3266,ext2,camel-core,0,support the Ordered Interceptor Strategy configured in spring, support order interceptor strategi configur spring,Now spring support user to configure their own Interceptor Strategy  but it cannot specifiy the wrap order of the interceptor strategy.So we need to support a feature to let the user define the interceptor's order:user can choice to implement the org.apache.camel.util.Ordered interface for the customed interceptor strategy ;if the interceptor strategy does support a Ordered interface  the camel context will loaded the interceptor-strategies and wrapper the process by the order;For example if I write two interceptor-strategy(A   B)  if A's order is 0  and B's order is 1. the camel will always wrapper the processor as {A{B{Processor}}., spring support user configur interceptor strategi cannot specifiy wrap order interceptor strategi strategi need support featur let user defin interceptor interceptor order user order user choic implement org apach camel util order org apach camel util order interfac custom interceptor strategi interceptor strategi support order interfac camel context load interceptor strategi interceptor strategi wrapper process order order exampl write two interceptor strategi interceptor strategi order order camel alway wrapper processor processor processor,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/processor/DefaultChannel.java;camel-core/src/main/java/org/apache/camel/processor/DefaultChannel.java;camel-core/src/test/java/org/apache/camel/processor/intercept/DualInterceptSimpleRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/InterceptorStrategyNotOrderedTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/InterceptorStrategyOrderedTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/SpringInterceptorStrategyOrderedTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/InterceptorStrategyOrderedTest.xml;,0
3275,Claus Ibsen,camel-core,0,CaseInsensitiveMap concurrency issue, CaseInsensitiveMap case insensit map concurr issu,&#91;10/25/2010 -:- 03:27:22 PM&#93; &lt;tarjei&gt; cibsen: I get a few of these errors on a route using SEDA queues:&#91;10/25/2010 -:- 03:27:43 PM&#93; &lt;tarjei&gt; Caused by: &#91;java.util.ConcurrentModificationException - null&#93;&#91;10/25/2010 -:- 03:27:44 PM&#93; &lt;tarjei&gt; java.util.ConcurrentModificationException&#91;10/25/2010 -:- 03:27:44 PM&#93; &lt;tarjei&gt; at java.util.HashMap$HashIterator.nextEntry(HashMap.java:810)&#91;10/25/2010 -:- 03:27:44 PM&#93; &lt;tarjei&gt; at java.util.HashMap$EntryIterator.next(HashMap.java:851)&#91;10/25/2010 -:- 03:27:44 PM&#93; &lt;tarjei&gt; at java.util.HashMap$EntryIterator.next(HashMap.java:849)&#91;10/25/2010 -:- 03:27:46 PM&#93; &lt;tarjei&gt; at org.apache.camel.util.CaseInsensitiveMap.entrySet(CaseInsensitiveMap.java:120)&#91;10/25/2010 -:- 03:27:49 PM&#93; &lt;tarjei&gt; at org.apache.camel.util.CaseInsensitiveMap.putAll(CaseInsensitiveMap.java:86)&#91;10/25/2010 -:- 03:27:51 PM&#93; &lt;tarjei&gt; at org.apache.camel.impl.MessageSupport.copyFrom(MessageSupport.java:142)&#91;10/25/2010 -:- 03:27:54 PM&#93; &lt;tarjei&gt; at org.apache.camel.impl.DefaultMessage.copyFrom(DefaultMessage.java:52)&#91;10/25/2010 -:- 03:27:56 PM&#93; &lt;tarjei&gt; at org.apache.camel.util.ExchangeHelper.copyResults(ExchangeHelper.java:215)&#91;10/25/2010 -:- 03:27:59 PM&#93; &lt;tarjei&gt; at org.apache.camel.processor.Pipeline.process(Pipeline.java:128)&#91;10/25/2010 -:- 03:28:01 PM&#93; &lt;tarjei&gt; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:99)&#91;10/25/2010 -:- 03:28:05 PM&#93; &lt;tarjei&gt; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:70)&#91;10/25/2010 -:- 03:28:08 PM&#93; &lt;tarjei&gt; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;10/25/2010 -:- 03:28:11 PM&#93; &lt;tarjei&gt; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;10/25/2010 -:- 03:28:14 PM&#93; &lt;tarjei&gt; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;10/25/2010 -:- 03:28:17 PM&#93; &lt;tarjei&gt; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:70)&#91;10/25/2010 -:- 03:28:20 PM&#93; &lt;tarjei&gt; at org.apache.camel.component.seda.SedaConsumer.sendToConsumers(SedaConsumer.java:170)&#91;10/25/2010 -:- 03:28:23 PM&#93; &lt;tarjei&gt; at org.apache.camel.component.seda.SedaConsumer.run(SedaConsumer.java:112)&#91;10/25/2010 -:- 03:28:25 PM&#93; &lt;tarjei&gt; at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&#91;10/25/2010 -:- 03:28:28 PM&#93; &lt;tarjei&gt; at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&#91;10/25/2010 -:- 03:28:31 PM&#93; &lt;tarjei&gt; at java.lang.Thread.run(Thread.java:636)&#91;10/25/2010 -:- 03:28:34 PM&#93; &lt;tarjei&gt; It seems to me to be an error completely within Camel so I thought I'd report it.&#91;10/25/2010 -:- 03:30:26 PM&#93; &lt;tarjei&gt; I got the error about 10/30 times having run about 5m messages through the different routes running in that jvm&#91;10/25/2010 -:- 03:51:36 PM&#93; &lt;cibsen&gt; and do your prod server have more cpu cores?&#91;10/25/2010 -:- 03:51:42 PM&#93; &lt;cibsen&gt; ibm  sun jdk?&#91;10/25/2010 -:- 03:51:51 PM&#93; &lt;tarjei&gt; Yes - 4. This is openjdk&#91;10/25/2010 -:- 03:51:54 PM&#93; &lt;tarjei&gt; both places&#91;10/25/2010 -:- 03:52:03 PM&#93; &lt;cibsen&gt; what os?&#91;10/25/2010 -:- 03:52:22 PM&#93; &lt;tarjei&gt; Centos 5&#91;10/25/2010 -:- 03:52:36 PM&#93; &lt;cibsen&gt; yeah kinda figured when you said openjdk&#91;10/25/2010 -:- 03:53:06 PM&#93; &lt;tarjei&gt; 1.6.0-17, PM PM lt tarjei gt lt tarjei gt cibsen cibsen get error rout use SEDA queue queue PM PM lt tarjei gt lt tarjei gt caus java util ConcurrentModificationException java util concurr modif except null null PM PM lt tarjei gt lt tarjei gt java util ConcurrentModificationException java util concurr modif except PM PM lt tarjei gt lt tarjei gt java util HashMap HashIterator nextEntry HashMap java java util hash map hash iter next entri hash map java PM PM lt tarjei gt lt tarjei gt java util HashMap EntryIterator next HashMap java java util hash map entri iter next hash map java PM PM lt tarjei gt lt tarjei gt java util HashMap EntryIterator next HashMap java java util hash map entri iter next hash map java PM PM lt tarjei gt lt tarjei gt org apach camel util CaseInsensitiveMap entrySet CaseInsensitiveMap java org apach camel util case insensit map entri set case insensit map java PM PM lt tarjei gt lt tarjei gt org apach camel util CaseInsensitiveMap putAll CaseInsensitiveMap java org apach camel util case insensit map put case insensit map java PM PM lt tarjei gt lt tarjei gt org apach camel impl MessageSupport copyFrom MessageSupport java org apach camel impl messag support copi messag support java PM PM lt tarjei gt lt tarjei gt org apach camel impl DefaultMessage copyFrom DefaultMessage java org apach camel impl default messag copi default messag java PM PM lt tarjei gt lt tarjei gt org apach camel util ExchangeHelper copyResults ExchangeHelper java org apach camel util exchang helper copi result exchang helper java PM PM lt tarjei gt lt tarjei gt org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java PM PM lt tarjei gt lt tarjei gt org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java PM PM lt tarjei gt lt tarjei gt org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java PM PM lt tarjei gt lt tarjei gt org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java PM PM lt tarjei gt lt tarjei gt org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java PM PM lt tarjei gt lt tarjei gt org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java PM PM lt tarjei gt lt tarjei gt org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java PM PM lt tarjei gt lt tarjei gt org apach camel compon seda SedaConsumer sendToConsumers SedaConsumer java org apach camel compon seda seda consum send consum seda consum java PM PM lt tarjei gt lt tarjei gt org apach camel compon seda SedaConsumer run SedaConsumer java org apach camel compon seda seda consum run seda consum java PM PM lt tarjei gt lt tarjei gt java util concurr ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurr thread pool executor run worker thread pool executor java PM PM lt tarjei gt lt tarjei gt java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java PM PM lt tarjei gt lt tarjei gt java lang thread run thread java java lang thread run thread java PM PM lt tarjei gt lt tarjei gt seem error complet within camel thought report PM PM lt tarjei gt lt tarjei gt got error time run messag differ rout run jvm jvm PM PM lt cibsen gt lt cibsen gt prod server cpu core core PM PM lt cibsen gt lt cibsen gt ibm sun jdk jdk PM PM lt tarjei gt lt tarjei gt ye openjdk openjdk PM PM lt tarjei gt lt tarjei gt place place PM PM lt cibsen gt lt cibsen gt os os PM PM lt tarjei gt lt tarjei gt cento PM PM lt cibsen gt lt cibsen gt yeah kinda figur said openjdk openjdk PM PM lt tarjei gt lt tarjei gt,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/util/CaseInsensitiveMap.java;camel-core/src/test/java/org/apache/camel/util/CaseInsensitiveMapTest.java;,0
3276,Claus Ibsen,camel-core,0,Multicast with pipeline may cause wrong aggregated exchange, multicast pipelin may caus wrong aggreg exchang,This is a problem when using 2 set of nested pipeline and doing a transform as the first processor in that pipeline from('direct:start').multicast(new SumAggregateBean()) .pipeline().transform(bean(IncreaseOne.class)).bean(new IncreaseTwo()).to('log:foo').end() .pipeline().transform(bean(IncreaseOne.class)).bean(new IncreaseTwo()).to('log:bar').end() .end() .to('mock:result');, problem use set nest pipelin transform first processor pipelin direct start multicast new direct start multicast new SumAggregateBean sum aggreg bean pipelin transform bean IncreaseOne class bean new pipelin transform bean increas one class bean new IncreaseTwo log foo end increas two log foo end pipelin transform bean IncreaseOne class bean new pipelin transform bean increas one class bean new IncreaseTwo log bar end increas two log bar end end end mock result mock result,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java;camel-core/src/test/java/org/apache/camel/component/seda/SedaWaitForTaskCompleteTest.java;camel-core/src/test/java/org/apache/camel/component/vm/VmWaitForTaskCompleteTest.java;camel-core/src/test/java/org/apache/camel/impl/DefaultProducerTemplateAsyncTest.java;camel-core/src/test/java/org/apache/camel/issues/MulticastPipelineAggregateIssueTest.java;components/camel-amqp/src/test/java/org/apache/camel/component/amqp/AMQPRouteTest.java;components/camel-crypto/src/test/java/org/apache/camel/component/crypto/SignatureTests.java;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/CryptoDataFormatTest.java;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/HMACAccumulatorTest.java;components/camel-jdbc/src/test/java/org/apache/camel/component/jdbc/JdbcPreserveHeadersTest.java;,0
3279,Claus Ibsen,camel-core,0,Let custom Processor be managed in JMX when implementing ManagementAware, let custom processor manag JMX implement ManagementAware manag awar,See nabblehttp://camel.465427.n5.nabble.com/manage-Camel-Processor-using-JMX-tp3235454p3235454.html, see nabblehttp camel nabbl com manag camel processor use JMX tp html nabblehttp camel nabbl com manag camel processor use JMX tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/management/DefaultManagementAgent.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementNamingStrategy.java;camel-core/src/main/java/org/apache/camel/management/JmxMBeanAssembler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCustomProcessor.java;camel-core/src/main/java/org/apache/camel/model/ProcessDefinition.java;camel-core/src/main/java/org/apache/camel/util/IntrospectionSupport.java;camel-core/src/test/java/org/apache/camel/builder/RouteBuilderTest.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationCustomMBeanTest.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingDefaultsTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedCustomProcessorTest.java;camel-core/src/test/java/org/apache/camel/management/MultiInstanceProcessorTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/TraceInterceptorFactoryCreatesHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/TraceInterceptorSubclassFactory.java;camel-core/src/test/java/org/apache/camel/util/IntrospectionSupportTest.java;examples/pom.xml;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/impl/CamelPostProcessorHelper.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/JmxMBeanAssembler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedBeanProcessor.java;camel-core/src/test/java/org/apache/camel/issues/SplitterThrowExceptionInExpressionTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedCustomBeanTest.java;,0
3284,Fernando Ribeiro,camel-restlet,0,Multiple Endpoints with the Same Port in Restlet Component, multipl endpoint port restlet compon,It should be possible to have several endpoints using the same port  the more it takes to rely on a HTTP server external to the component., possibl sever endpoint use port take reli HTTP server extern compon compon,0,0,0,0,0,components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletTwoEndpointsTest.java;,0
3293,Claus Ibsen,camel-core,0,Add exception.stacktrace to Simple language, add except stacktrac except stacktrac simpl languag,So you can output the stracktrace. It should grab the stacktrace and print it to a String as output., output stracktrac stracktrac grab stacktrac print string output output,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/Builder.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguage.java;camel-core/src/test/java/org/apache/camel/language/SimpleTest.java;,0
3309,Bengt Rodehav,camel-ftp,0,Stepwise change of directory unfit for production (ftp/ftps/sftp), stepwis chang directori unfit product ftp ftp sftp ftp ftp sftp,In Camel 2.5  the logic for changing directory for ftp/ftps/sftp has changed in order to fix the problems discussed in the following thread: http://camel.465427.n5.nabble.com/How-to-change-directory-while-using-sftp-component-td2806817.html#a2807611In Camel 2.5 changing of the remote directory is now done in a stepwise manner. This is a strategy not fit for production since it assumes that the logged in ftp/ftps/sftp user has access to all intermediate directories all the way down to its home directory. This is rarely the case.Also  when testing ftp/sftp on Serv-U  a Windows based ftp/ftps/sftp server  it turns out that it reports the current directory in a 'Windows way'  e g /C:/temp/servu/user/sample/file2sftp. The topmost folder is not '/' but '/C:'. This also breaks the new stepwise way of changing directory since it always tries to change to '/' if an absolute path is used.I propose to introduce a configuration property to enable/disable stepwise changing of directories where disabling it should be the default. I will upload a patch shortly., camel logic chang directori ftp ftp sftp ftp ftp sftp chang order fix problem discuss follow thread thread camel chang remot directori done stepwis manner manner strategi not fit product sinc assum log ftp ftp sftp ftp ftp sftp user access intermedi directori way home directori directori rare case also case also test ftp sftp ftp sftp serv serv window base ftp ftp sftp ftp ftp sftp server turn report current directori window window way way temp servu user sampl file sftp temp servu user sampl file sftp topmost folder not also break new stepwis way chang directori sinc alway tri chang absolut path use use propos introduc configur properti enabl disabl enabl disabl stepwis chang directori disabl default default upload patch shortli shortli,0,1,1,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConfiguration.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFileToFtpNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFileToFtpTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpDeleteFileNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpDirectoryToBinaryFilesNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpFilterNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpFilterTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpKeepLastModifiedNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpKeepLastModifiedTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFileAbsoluteFolderRecursiveNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFileAbsoluteFolderRecursiveTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFileNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFilePostfixNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFilePostfixTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFilePrefixNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFilePrefixTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFileRecursiveNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFileRecursiveTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFileTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFileToHiddenFolderRecursiveNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpMoveFileToHiddenFolderRecursiveTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpNoEndpointPathRelativeMoveToAbsoluteNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpNoEndpointPathRelativeMoveToAbsoluteTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveDeleteNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveDeleteTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveFilePostfixNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveFilePostfixTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveFilePrefixNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveFilePrefixTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveNoopNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpPreMoveNoopTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpRecursiveNoopNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpRecursiveNoopTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSimpleNoEndpointPathRelativeMoveToAbsoluteNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSimpleNoEndpointPathRelativeMoveToAbsoluteTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSimpleNoEndpointPathRelativeMoveToRelativeNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSimpleNoEndpointPathRelativeMoveToRelativeTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSimpleRelativeMoveToAbsoluteNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSimpleRelativeMoveToAbsoluteTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSimpleRelativeMoveToRelativeNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSimpleRelativeMoveToRelativeTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/manual/FtpConsumerNotStepwiseCamelManualTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/manual/FtpConsumerNotStepwiseCamelRecursiveManualTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/manual/FtpConsumerNotStepwiseCamelRecursiveToAbsoluteManualTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleConsumeAbsoluteNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleConsumeNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleConsumeRecursiveNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/manual/FtpConsumerCamelManualTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/manual/FtpConsumerCamelRecursiveManualTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/manual/FtpConsumerCamelRecursiveToAbsoluteManualTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/manual/FtpConsumerScottManualTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/manual/FtpConsumerScottRecursiveManualTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleProduceNotStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleProduceTest.java;,0
3319,Willem Jiang,null,0,cxfEndpoint of camel-cxf doesn't support  the shcemaLocation element, cxfEndpoint cxf endpoint camel cxf camel cxf support shcemaLocation shcema locat element,Here is the mail thread&#91;1&#93; which discusses about it.&#91;1&#93;http://camel.465427.n5.nabble.com/camel-cxf-exception-when-parsing-cxf-schemaLocation-element-td3253254.html#a3253254, mail thread thread discuss http camel nabbl com camel cxf except pars cxf schemaLocation element td html http camel nabbl com camel cxf except pars cxf schema locat element td html,0,0,0,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfEndpointBean.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/NamespaceHandler.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfSpringRouterTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanWithBusTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeansRouterTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/CxfEndpointBeans.xml;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/spring/CxfEndpointBeans.xml;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/jaxrs/CxfRsSpringEndpointTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/jaxrs/CxfRsSpringEndpointBeans.xml;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfRsClientFactoryBeanDefinitionParser.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfRsServerFactoryBeanDefinitionParser.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfRsClientFactoryBeanTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfRsServerFactoryBeanTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/spring/CxfRsClientFactoryBeans.xml;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/spring/CxfRsServerFactoryBeans.xml;,0
3335,Sergey Zhemzhitsky,camel-jpa,0,NPE occurs without @Entity annotation, NPE occur without entiti entiti annot,Here is code from the org.apache.camel.component.jpa.JpaConsumer classprotected String getEntityName(Class&lt;?&gt; clazz) { Entity entity = clazz.getAnnotation(Entity.class); // Check if the property name has been defined for Entity annotation if (!entity.name().equals('')) { // line 307 return entity.name(); } else { return null; }}When trying to consume entities from jpa endpoint exception occursjava.lang.NullPointerException at org.apache.camel.component.jpa.JpaConsumer.getEntityName(JpaConsumer.java:307) at org.apache.camel.component.jpa.JpaConsumer.createQueryFactory(JpaConsumer.java:287) at org.apache.camel.component.jpa.JpaConsumer.getQueryFactory(JpaConsumer.java:196) at org.apache.camel.component.jpa.JpaConsumer$1.doInJpa(JpaConsumer.java:83) at org.apache.camel.component.jpa.JpaTemplateTransactionStrategy$1$1.doInJpa(JpaTemplateTransactionStrategy.java:82) at org.springframework.orm.jpa.JpaTemplate.execute(JpaTemplate.java:183) at org.springframework.orm.jpa.JpaTemplate.execute(JpaTemplate.java:146) at org.apache.camel.component.jpa.JpaTemplateTransactionStrategy$1.doInTransaction(JpaTemplateTransactionStrategy.java:80) at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130) at org.apache.camel.component.jpa.JpaTemplateTransactionStrategy.execute(JpaTemplateTransactionStrategy.java:78) at org.apache.camel.component.jpa.JpaConsumer.poll(JpaConsumer.java:79) at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:98) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317) at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619)This is because there is no @Entity annotation and persistence is configured by means of orm.xml.To fix the problem change line 307 toif (entity != null &amp;&amp; !entity.name().equals('')), code org apach camel compon jpa JpaConsumer org apach camel compon jpa jpa consum classprotect string getEntityName class lt gt get entiti name class lt gt clazz clazz entiti entiti clazz getAnnotation entiti class clazz get annot entiti class check properti name defin entiti annot entiti name equal entiti name equal line return entiti name entiti name els return null null tri consum entiti jpa endpoint except occursjava lang NullPointerException occursjava lang null pointer except org apach camel compon jpa JpaConsumer getEntityName JpaConsumer java org apach camel compon jpa jpa consum get entiti name jpa consum java org apach camel compon jpa JpaConsumer createQueryFactory JpaConsumer java org apach camel compon jpa jpa consum creat queri factori jpa consum java org apach camel compon jpa JpaConsumer getQueryFactory JpaConsumer java org apach camel compon jpa jpa consum get queri factori jpa consum java org apach camel compon jpa JpaConsumer doInJpa JpaConsumer java org apach camel compon jpa jpa consum jpa jpa consum java org apach camel compon jpa JpaTemplateTransactionStrategy doInJpa JpaTemplateTransactionStrategy java org apach camel compon jpa jpa templat transact strategi jpa jpa templat transact strategi java org springframework orm jpa JpaTemplate execut JpaTemplate java org springframework orm jpa jpa templat execut jpa templat java org springframework orm jpa JpaTemplate execut JpaTemplate java org springframework orm jpa jpa templat execut jpa templat java org apach camel compon jpa JpaTemplateTransactionStrategy doInTransaction JpaTemplateTransactionStrategy java org apach camel compon jpa jpa templat transact strategi transact jpa templat transact strategi java org springframework transact support TransactionTemplate execut TransactionTemplate java org springframework transact support transact templat execut transact templat java org apach camel compon jpa JpaTemplateTransactionStrategy execut JpaTemplateTransactionStrategy java org apach camel compon jpa jpa templat transact strategi execut jpa templat transact strategi java org apach camel compon jpa JpaConsumer poll JpaConsumer java org apach camel compon jpa jpa consum poll jpa consum java org apach camel impl ScheduledPollConsumer run ScheduledPollConsumer java org apach camel impl schedul poll consum run schedul poll consum java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRunAndReset FutureTask java java util concurr futur task sync inner run reset futur task java java util concurr FutureTask runAndReset FutureTask java java util concurr futur task run reset futur task java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask runPeriodic ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run period schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java no entiti entiti annot persist configur mean orm xml orm xml fix problem chang line toif entiti null amp amp amp amp entiti name equal entiti name equal,1,0,1,0,0,components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaConsumer.java;,0
3336,S. Ali Tokmen,camel-quartz,0,Quartz component has minor issues with old versions of Quartz, quartz compon minor issu old version quartz,HelloI have run into two issues using camel-quartz with old versions of Quartz (Quartz 1.6 and 1.7):1. With Quartz 1.6  at shutdown  I get a message:2010-11-12 02:41:22 965 DefaultShutdownStrategy.shutdownNow Error occurred while shutting down route: Consumer[quartz://importAnnuaireAgentsTimer?cron=0+30+2+*+*+%3F]. This exception will be ignored.java.lang.NoSuchMethodError: org.quartz.SchedulerMetaData.isJobStoreClustered()Z at org.apache.camel.component.quartz.QuartzComponent.isClustered(QuartzComponent.java:278) at org.apache.camel.component.quartz.QuartzComponent.removeJob(QuartzComponent.java:238) at org.apache.camel.component.quartz.QuartzEndpoint.removeTrigger(QuartzEndpoint.java:84) at org.apache.camel.component.quartz.QuartzEndpoint.consumerStopped(QuartzEndpoint.java:221) at org.apache.camel.component.quartz.QuartzConsumer.doStop(QuartzConsumer.java:44) at org.apache.camel.impl.ServiceSupport.stop(ServiceSupport.java:98) at org.apache.camel.impl.ServiceSupport.stop(ServiceSupport.java:122) at org.apache.camel.util.ServiceHelper.stopService(ServiceHelper.java:99) at org.apache.camel.impl.DefaultShutdownStrategy.shutdownNow(DefaultShutdownStrategy.java:235) at org.apache.camel.impl.DefaultShutdownStrategy$ShutdownTask.run(DefaultShutdownStrategy.java:386) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) at java.util.concurrent.FutureTask.run(FutureTask.java:138) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619)2. Starting of a delayed timer fails. I think warning the user would be a better idea.Patch is attached (it basically catches the NoSuchMethodError exceptions and acts accordingly), HelloI hello run two issu use camel quartz camel quartz old version quartz quartz quartz quartz shutdown get messag messag DefaultShutdownStrategy shutdownNow default shutdown strategi shutdown error occur shut rout rout consum quartz importAnnuaireAgentsTimer cron consum quartz import annuair agent timer cron except ignor java lang NoSuchMethodError ignor java lang No method error org quartz SchedulerMetaData isJobStoreClustered org quartz schedul meta data job store cluster org apach camel compon quartz QuartzComponent isClustered QuartzComponent java org apach camel compon quartz quartz compon cluster quartz compon java org apach camel compon quartz QuartzComponent removeJob QuartzComponent java org apach camel compon quartz quartz compon remov job quartz compon java org apach camel compon quartz QuartzEndpoint removeTrigger QuartzEndpoint java org apach camel compon quartz quartz endpoint remov trigger quartz endpoint java org apach camel compon quartz QuartzEndpoint consumerStopped QuartzEndpoint java org apach camel compon quartz quartz endpoint consum stop quartz endpoint java org apach camel compon quartz QuartzConsumer doStop QuartzConsumer java org apach camel compon quartz quartz consum stop quartz consum java org apach camel impl ServiceSupport stop ServiceSupport java org apach camel impl servic support stop servic support java org apach camel impl ServiceSupport stop ServiceSupport java org apach camel impl servic support stop servic support java org apach camel util ServiceHelper stopService ServiceHelper java org apach camel util servic helper stop servic servic helper java org apach camel impl DefaultShutdownStrategy shutdownNow DefaultShutdownStrategy java org apach camel impl default shutdown strategi shutdown default shutdown strategi java org apach camel impl DefaultShutdownStrategy ShutdownTask run DefaultShutdownStrategy java org apach camel impl default shutdown strategi shutdown task run default shutdown strategi java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java java util concurr FutureTask run FutureTask java java util concurr futur task run futur task java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java start delay timer fail fail think warn user would better idea patch idea patch attach basic catch NoSuchMethodError No method error except act accordingli accordingli,1,1,0,0,0,components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzComponent.java;,0
3343,Boris Terzic,camel-cxf,0,CxfRsInvoker produces NullpointerException when no ContinuationProvider is set in the InMessage, CxfRsInvoker cxf Rs invok produc NullpointerException nullpoint except no ContinuationProvider continu provid set InMessage messag,In my usage of CXF-RS with Camel through the camel-cxf component I ran into a NullpointerException  the specific case is described in some detail on StackOverflow: http://stackoverflow.com/questions/4198461/why-do-i-get-a-nullpointerexception-when-invoking-the-cxf-rs-endpoint-of-a-camel Specifically I run into a NullpointerException:Caused by: java.lang.NullPointerException at org.apache.camel.component.cxf.jaxrs.CxfRsInvoker.getContinuation(CxfRsInvoker.java:63) at org.apache.camel.component.cxf.jaxrs.CxfRsInvoker.performInvocation(CxfRsInvoker.java:52) at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:89) ... 33 moreI was assuming I was misconfiguring something but didn't find any alternative way so I started digging in the camel-cxf source code.I found that such a 'getContinuation' method also exists for the org.apache.camel.component.cxf.CxfConsumer as well as for the CxfRsInvoker (where it was failing for me). However in the case of the CxfConsumer there is a guard on the ContinuationProvider so that if it is null  then null is returned:return provider == null ? null : provider.getContinuation();CxfRsInvoker does not have this guard  but it does have code to deal with a 'null' Continuation at the calling site (line 52  in performInvocation). Therefore I assumed this was a bug and patched the guard into the CxfRsInvoker as well.My program now seems to work correctly. I assume this is a bug.For completeness sake  this is what getContinuation now looks like for me: private Continuation getContinuation(Exchange cxfExchange) { ContinuationProvider provider = (ContinuationProvider)cxfExchange.getInMessage().get(ContinuationProvider.class.getName()); return provider == null ? null : provider.getContinuation(); }, usag CXF RS CXF RS camel camel cxf camel cxf compon ran NullpointerException nullpoint except specif case describ detail StackOverflow stack overflow specif run NullpointerException caus nullpoint except caus java lang NullPointerException java lang null pointer except org apach camel compon cxf jaxr CxfRsInvoker getContinuation CxfRsInvoker java org apach camel compon cxf jaxr cxf Rs invok get continu cxf Rs invok java org apach camel compon cxf jaxr CxfRsInvoker performInvocation CxfRsInvoker java org apach camel compon cxf jaxr cxf Rs invok perform invoc cxf Rs invok java org apach cxf servic invok AbstractInvoker invok AbstractInvoker java org apach cxf servic invok abstract invok invok abstract invok java moreI assum misconfigur someth find altern way start dig camel cxf camel cxf sourc code code found getContinuation get continu method also exist org apach camel compon cxf CxfConsumer org apach camel compon cxf cxf consum well CxfRsInvoker cxf Rs invok fail howev case CxfConsumer cxf consum guard ContinuationProvider continu provid null null return return return return provid null null provid getContinuation CxfRsInvoker provid get continu cxf Rs invok not guard code deal null null continu call site line performInvocation perform invoc therefor assum bug patch guard CxfRsInvoker cxf Rs invok well well program seem work correctli correctli assum bug bug complet sake getContinuation get continu look like privat continu getContinuation exchang get continu exchang cxfExchange cxf exchang ContinuationProvider continu provid provid ContinuationProvider cxfExchange getInMessage get ContinuationProvider class getName continu provid cxf exchang get messag get continu provid class get name return provid null null provid getContinuation provid get continu,1,0,1,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/CxfRsInvoker.java;,0
3351,Tracy Snell,camel-irc,0,camel-irc component silently fails on nick collision, camel irc camel irc compon silent fail nick collis,When the camel-irc component connects to an irc server and there's a nick collision it silently fails. Also note there is no camel-irc component in Jira., camel irc camel irc compon connect irc server nick collis silent fail fail also note no camel irc camel irc compon jira jira,0,1,0,0,0,components/camel-irc/pom.xml;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcComponent.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcConfiguration.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcConsumer.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcEndpoint.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcProducer.java;components/camel-irc/src/test/java/org/apache/camel/component/irc/IrcConfigurationTest.java;,0
3356,Richard Kettelerij,camel-bindy,0,Hard coded locale in Bindy DatePatternFormat, hard code local bindi DatePatternFormat date pattern format,As reported by a user from the community (http://camel.465427.n5.nabble.com/Bindy-Dateformat-Parsing-exception-td3276981.html)  the locale of SimpeDateFormat in bindy's DatePatternFormat class is hard coded to FRANCE., report user commun http camel nabbl com bindi dateformat pars except td html http camel nabbl com bindi dateformat pars except td html local SimpeDateFormat simp date format bindi bindi DatePatternFormat date pattern format class hard code FRANCE FRANCE,0,1,0,0,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/FormatFactory.java;,0
3359,Claus Ibsen,camel-ftp,0,Add option on FTP component so you can set which path separator char to use (eg windows vs unix), add option FTP compon set path separ char use eg window vs unix unix,For example if you use a windows platform and want to upload files to a remote linux FTP server  and the FTP server don't understand path separators using either / or / char, exampl use window platform want upload file remot linux FTP server FTP server understand path separ use either char,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;camel-core/src/main/java/org/apache/camel/util/FileUtil.java;camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConfiguration.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerFileWithPathPathSeparatorAutoNoStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerFileWithPathPathSeparatorUnixNoStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerFileWithPathPathSeparatorWindowsNoStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/UriConfigurationTest.java;,0
3377,Claus Ibsen,camel-spring-integration,0,spring-integration - Should have better configuration validation, spring integr spring integr better configur valid,See nabblehttp://camel.465427.n5.nabble.com/Integration-camel-and-spring-integration-tp3284105p3284105.html, see nabblehttp camel nabbl com integr camel spring integr tp html nabblehttp camel nabbl com integr camel spring integr tp html,0,0,0,1,0,components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationBinding.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationComponent.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationConsumer.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationEndpoint.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationHelper.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationMessage.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationProducer.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/AbstractCamelAdapter.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/CamelSourceAdapter.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/CamelTargetAdapter.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/config/AbstractCamelContextBeanDefinitionParaser.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/config/CamelSourceAdapterParser.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/config/CamelSourceAdpaterParser.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/config/CamelTargetAdapterParser.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/config/NamespaceHandler.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/converter/SpringIntegrationConverter.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/HelloWorldService.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationChannelConverterTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationOneWayConsumerTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationTwoWayConsumerTest.java;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/adapter/CamelSource.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/adapter/CamelTarget.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/oneWayConsumer.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/producer.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/springChannelConverter.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/twoWayConsumer.xml;,0
3389,Claus Ibsen,camel-core,0,PackageHelper - issue with version numbers which contains non decimal, PackageHelper packag helper issu version number contain non decim,See more herehttp://fusesource.com/forums/thread.jspa?threadID=2447&amp;tstart=0, see herehttp fusesourc com forum thread jspa threadID amp tstart herehttp fusesourc com forum thread jspa thread ID amp tstart,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/util/PackageHelper.java;,0
3399,Claus Ibsen,camel-core; jmx,0,Tidying up strategy for managing resources in JMX, tidi strategi manag resourc JMX,The management strategy should be1) use ManagementAware if implemented on bean2) use @ManagedResource if provided on bean3) otherwise use defaultConsider using fallback from 1-&gt;2 which is the current behavior. If we change this we will break backwards compatibility.But in essence we should had Camel fail if (1) cannot be registered  and not just fallback to use (2) as it does today., manag strategi use ManagementAware manag awar implement bean bean use ManagedResource manag resourc provid bean bean otherwis use defaultConsider default consid use fallback gt gt current behavior behavior chang break backward compat compat essenc camel fail cannot regist not fallback use today today,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/component/timer/TimerEndpoint.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/JmxMBeanAssembler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCamelContext.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedComponent.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedConsumer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCounter.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCustomProcessor.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedDelayer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedEndpoint.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedErrorHandler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedEventNotifier.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedInstance.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedPerformanceCounter.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedProcessor.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedProducer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedProducerCache.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedRoute.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedScheduledPollConsumer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedSendProcessor.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedService.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedThrottler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedThrottlingInflightRoutePolicy.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedTracer.java;camel-core/src/main/java/org/apache/camel/spi/ManagementAware.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/test/java/org/apache/camel/management/ManagedCustomProcessorTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsTemporaryQueueEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsTemporaryTopicEndpoint.java;,0
3402,Jean-Baptiste Onofré,camel-guice,0,Use ServiceMix guice bundle, use ServiceMix servic mix guic bundl,In order to avoid to go on the googlecode maven repository  I provided a ServiceMix OSGi bundle for guice.This bundle could be used by Camel in the Karaf features descriptor., order avoid go googlecod maven repositori provid ServiceMix servic mix OSGi OS Gi bundl guic guic bundl could use camel karaf featur descriptor descriptor,0,1,0,0,0,components/camel-guice/pom.xml;parent/pom.xml;platforms/karaf/features/pom.xml;platforms/karaf/features/src/main/resources/features-spring2.xml;platforms/karaf/features/src/main/resources/features.xml;,0
3403,Claus Ibsen,camel-core,0,InterceptSendToEndpoint should check for if stop DSL has been used, InterceptSendToEndpoint intercept send endpoint check stop DSL use,See nabblehttp://camel.465427.n5.nabble.com/InterceptSendToEndpoint-Http-Component-tp3296620p3296620.html, see nabblehttp camel nabbl com InterceptSendToEndpoint http compon tp html nabblehttp camel nabbl com intercept send endpoint http compon tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/processor/PipelineHelper.java;camel-core/src/main/java/org/apache/camel/spi/ManagementAware.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptSendToEndpointWithStopTest.java;,1
3416,Claus Ibsen,camel-core,0,DefaultTimeoutMap should force scheduler in contructor, DefaultTimeoutMap default timeout map forc schedul contructor,See nabblehttp://camel.465427.n5.nabble.com/Do-I-have-to-give-a-ScheduledExecutorService-instance-when-initializing-DefualtTimeoutMap-tp3298252p3298252.html, see nabblehttp camel nabbl com give ScheduledExecutorService instanc initi DefualtTimeoutMap tp html nabblehttp camel nabbl com give schedul executor servic instanc initi defualt timeout map tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/util/DefaultTimeoutMap.java;camel-core/src/main/java/org/apache/camel/util/TimeoutMapEntry.java;camel-core/src/test/java/org/apache/camel/util/DefaultTimeoutMapTest.java;,0
3425,Claus Ibsen,camel-blueprint,0,CamelContext is started twice when using camel-blueprint, CamelContext camel context start twice use camel blueprint camel blueprint,For example if you run the testRouteWithAllComponents test in CamelBlueprintTest in tests/camel-itest-osgi you will see a lot of logging. But notice[RMI TCP Connection(1)-10.0.1.2] INFO org.apache.camel.core.osgi.OsgiDefaultCamelContext - Apache Camel 2.6-SNAPSHOT (CamelContext: 67-camel-2) is starting[RMI TCP Connection(1)-10.0.1.2] INFO org.apache.camel.core.osgi.OsgiDefaultCamelContext - Apache Camel 2.6-SNAPSHOT (CamelContext: 67-camel-2) started in 0.147 secondsThen blueprint does something[Blueprint Extender: 3] INFO org.apache.camel.blueprint.BlueprintCamelContext - Apache Camel 2.6-SNAPSHOT (CamelContext: 4-camel-5) is starting[Blueprint Extender: 3] INFO org.apache.camel.blueprint.BlueprintCamelContext - Apache Camel 2.6-SNAPSHOT (CamelContext: 4-camel-5) started in 0.071 secondsAnd likewise both CamelContext's is shutdown when the test completes. There are logging events for that as well.Pay attention to the name of the 1st CamelContext 67-camel-2. This is the correct name as its based on the bundle id  our end user Camel application is given. This ensures that the CamelContext from his application has a name which is unique and refers to the bundle id as well.Now if you look at the 2nd CamelContext being started its given another name 4-camel-5. That id is most likely using a shared bundle id with a low number. For example camel-blueprint or camel-core bundle  or something like that. In essence camel-blueprint should only create one CamelContext and it should use the 67-camel-2 as the name of the CamelContext (eg. include the bundle id of the end user application)., exampl run testRouteWithAllComponents test rout compon test CamelBlueprintTest camel blueprint test test camel itest osgi test camel itest osgi see lot log log notic RMI notic RMI TCP connect connect INFO org apach camel core osgi OsgiDefaultCamelContext org apach camel core osgi osgi default camel context apach camel SNAPSHOT SNAPSHOT CamelContext camel context camel camel start RMI start RMI TCP connect connect INFO org apach camel core osgi OsgiDefaultCamelContext org apach camel core osgi osgi default camel context apach camel SNAPSHOT SNAPSHOT CamelContext camel context camel camel start secondsThen second blueprint someth blueprint someth blueprint extend extend INFO org apach camel blueprint BlueprintCamelContext org apach camel blueprint blueprint camel context apach camel SNAPSHOT SNAPSHOT CamelContext camel context camel camel start blueprint start blueprint extend extend INFO org apach camel blueprint BlueprintCamelContext org apach camel blueprint blueprint camel context apach camel SNAPSHOT SNAPSHOT CamelContext camel context camel camel start secondsAnd second likewis CamelContext camel context shutdown test complet complet log event well pay well pay attent name st CamelContext camel context camel camel correct name base bundl id end user camel applic given given ensur CamelContext camel context applic name uniqu refer bundl id well well look nd CamelContext camel context start given anoth name camel camel id like use share bundl id low number number exampl camel blueprint camel blueprint camel core camel core bundl someth like essenc camel blueprint camel blueprint creat one CamelContext camel context use camel camel name CamelContext camel context eg eg includ bundl id end user applic applic,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/BlueprintCamelContext.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/blueprint/AbstractIntegrationTest.java;,0
3430,Claus Ibsen,camel-core,0,InterceptSendToEndpoint has issues with interception http endpoints which has multiple parameters, InterceptSendToEndpoint intercept send endpoint issu intercept http endpoint multipl paramet,See nabblehttp://camel.465427.n5.nabble.com/interceptSendToEndpoint-with-dynamic-endpoint-tp3301978p3301978.htmlThe issue is when any endpoints have parameters which may be re-ordered when the endpoint is normalized., see nabblehttp camel nabbl com interceptSendToEndpoint dynam endpoint tp htmlThe nabblehttp camel nabbl com intercept send endpoint dynam endpoint tp html issu endpoint paramet may order order endpoint normal normal,0,0,0,1,0,components/camel-http/src/test/java/org/apache/camel/component/http/HttpInterceptSendToEndpointTest.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationCustomMBeanTest.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptSendToEndpointWithParametersTest.java;,0
3441,Claus Ibsen,camel-core,0,DataFormat - Support for CamelContextAware injection and start/stop callbacks with Service, DataFormat data format support CamelContextAware camel context awar inject start stop start stop callback servic,This allows custom DataFormat to do any initialization logic in start and stop methods from Service.Also they will get access to CamelContext by implementing CamelContextAware, allow custom DataFormat data format initi logic start stop method servic also servic also get access CamelContext camel context implement CamelContextAware camel context awar,0,0,0,0,0,components/camel-jaxb/src/test/java/org/apache/camel/example/DataFormatTest.java;camel-core/src/main/java/org/apache/camel/processor/DefaultChannel.java;camel-core/src/main/java/org/apache/camel/processor/MarshalProcessor.java;camel-core/src/main/java/org/apache/camel/processor/UnmarshalProcessor.java;camel-core/src/test/java/org/apache/camel/processor/DataFormatServiceTest.java;components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/JaxbDataFormat.java;components/camel-jaxb/src/test/java/org/apache/camel/example/DataFormatTest.java;,0
3458,Claus Ibsen,camel-bindy,0,Bindy should support clipping fields if they exceed maximum length allowed when using fixed length, bindi support clip field exceed maximum length allow use fix length,Adding a new option to bindy annotation /** * Indicates to clip data in the field if it exceeds the allowed length when using fixed length. */ boolean clip() default false;Then if enabled it will clip the data so it can fit the length.Also now Camel throws an exception if the data is too long and you have clip set as false., ad new option bindi annot indic clip data field exce allow length use fix length length boolean clip clip default fals fals enabl clip data fit length also length also camel throw except data long clip set fals fals,0,0,1,0,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyCsvFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyKeyValuePairFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/DataField.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fix/BindySimpleKeyValuePairWithoutSectionMarshallDslTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/marshall/simple/BindySimpleFixedLengthMarshallWithClipAndTrimTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/marshall/simple/BindySimpleFixedLengthMarshallWithClipTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/marshall/simple/BindySimpleFixedLengthMarshallWithNoClipTest.java;,0
3478,Hendy Irawan,camel-xmpp,0,Camel-XMPP Consumer doesn't pass XMPP headers, camel XMPP camel XMPP consum pass XMPP header,XMPP Consumer should pass XMPP headers as message headers  just like XMPP Producer accepts message headers as XMPP headers., XMPP consum pass XMPP header messag header like XMPP produc accept messag header XMPP header header,0,1,0,0,0,components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppBinding.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConstants.java;,0
3486,Claus Ibsen,camel-core,0,NotifyBuilder - Should throw exception if it hasn't been created and matches is invoked, NotifyBuilder notifi builder throw except creat match invok,This helps use of NotifyBuilder as matches doesn't operate until you have created the notifier., help use NotifyBuilder notifi builder match oper creat notifi notifi,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/builder/NotifyBuilder.java;camel-core/src/test/java/org/apache/camel/builder/NotifyBuilderTest.java;,0
3488,Marco Zapletal,camel-jpa,0,Some of JpaTraceEventMessage's attributes require @Lob annotation, JpaTraceEventMessage jpa trace event messag attribut requir lob lob annot,JpaTraceEventMessage has a bunch of String attributes defined. Applying no annotations on String attributes of an @Entity result in generated database columns with a constrained length (e.g.  using EclipseLink and MySQL  a String attribute of an @Entity is mapped to a VARCHAR(255) field).Several values of JpaTraceEventMessage are probably carrying values larger than 255 characters. Using JPAs @Lob annotation tackles this problem by generating (C)LOB fields. The attached patch defines the @Lob annotation on attributes which are expected to carry such large values., JpaTraceEventMessage jpa trace event messag bunch string attribut defin defin appli no annot string attribut entiti entiti result gener databas column constrain length use EclipseLink eclips link MySQL SQL string attribut entiti entiti map VARCHAR VARCHAR field sever field sever valu JpaTraceEventMessage jpa trace event messag probabl carri valu larger charact charact use JPAs JP lob lob annot tackl problem gener LOB LOB field field attach patch defin lob lob annot attribut expect carri larg valu valu,0,1,0,0,0,components/camel-jpa/src/main/java/org/apache/camel/processor/interceptor/jpa/JpaTraceEventMessage.java;,0
3489,Steven Lewis,camel-bindy,0,BindyCsvDataFormat broken for pipe delimited files, BindyCsvDataFormat bindi csv data format broken pipe delimit file,Attempting to unmarshall a pipe delimited CSV file into a POJO using Bindy causese the first and last character the the line processed to be dropped. It appears that the BindyCsvDataFormat class removes the first and the last character from the line read from the CSV if the seperator is &gt; 1 characters in length (see below or line 162-165 in BindyCsvDataFormat). For pipe delimited files  you need to specify | as the seperator  as | is not evaluated correctly as a java regex by the split fuction. This leads to the first and last character for the line being parsed being dropped. From the comments it appears a 'fix' was added to remove the first and last character of the line when the seperator contains quotes or double quotes. Making this determination using the length of the seperator  rather than evaluating using a regex seems to be a poor solution that breaks other CSV delimiters.See Attached for an code example., attempt unmarshal pipe delimit CSV file POJO use bindi causes first last charact line process drop drop appear BindyCsvDataFormat bindi csv data format class remov first last charact line read CSV seper gt gt charact length see line BindyCsvDataFormat bindi csv data format pipe delimit file need specifi seper not evalu correctli java regex split fuction fuction lead first last charact line pars drop drop comment appear fix fix ad remov first last charact line seper contain quot doubl quot quot make determin use length seper rather evalu use regex seem poor solut break CSV delimit see delimit see attach code exampl exampl,1,0,0,1,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/csv/BindyCsvDataFormat.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindyDoubleQuotesCsvUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindyInlinedQuotesCsvUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindyPipeDelimiterTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindySingleQuotesCsvUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/simple/pipeline/MyData.java;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/csv/BindyInlinedQuotesCsvUnmarshallTest-context.xml;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/csv/BindySingleQuotesCsvUnmarshallTest-context.xml;,0
3493,Jim Newsham,null,0,ConcurrentModificationException in DefaultCamelContext.removeRouteDefinitions(), ConcurrentModificationException concurr modif except DefaultCamelContext removeRouteDefinitions default camel context remov rout definit,I get the following exception in DefaultCamelContext.removeRouteDefinitions(). We are removing route definitions from multiple threads. I see synchronization in various other methods  but not this one. Caused by: java.util.ConcurrentModificationException at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:372) at java.util.AbstractList$Itr.next(AbstractList.java:343) at java.util.AbstractCollection.removeAll(AbstractCollection.java:336) at org.apache.camel.impl.DefaultCamelContext.removeRouteDefinitions(DefaultCamelContext.java:588), get follow except DefaultCamelContext removeRouteDefinitions default camel context remov rout definit remov rout definit multipl thread thread see synchron variou method not one one caus java util ConcurrentModificationException java util concurr modif except java util AbstractList itr checkForComodification AbstractList java java util abstract list itr check comodif abstract list java java util AbstractList itr next AbstractList java java util abstract list itr next abstract list java java util AbstractCollection removeAll AbstractCollection java java util abstract collect remov abstract collect java org apach camel impl DefaultCamelContext removeRouteDefinitions DefaultCamelContext java org apach camel impl default camel context remov rout definit default camel context java,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;,0
3530,Craig McDaniel,camel-scala,0,Additional TypeConverters, addit TypeConverters type convert,Add TypeConverters to scala.xml.Elem from String  DOM Document  and DOM Node., add TypeConverters type convert scala xml elem scala xml elem string DOM document DOM node node,0,1,0,0,0,0,0
3531,Craig McDaniel,camel-scala,0,scala - xpath not working together with choice/when, scala xpath not work togeth choic choic,When using the Scala DSL  xpath expressions inside when() do not work as expected. As an example: 'direct:a' ==&gt; { choice { when (xpath('//hello')) to ('mock:english') when (xpath('//hallo')) { to ('mock:dutch') to ('mock:german') } otherwise to ('mock:french') } }// Send messages'direct:a' ! ('&lt;hello/&gt;'  '&lt;hallo/&gt;'  '&lt;hellos/&gt;')Here we should receive 1 message in each of the mocks. For whatever reason  all 3 messages go to mock:english. Similar routes work as expected with the Java DSL., use scala DSL xpath express insid not work expect expect exampl exampl direct direct gt gt choic xpath hello xpath hello mock english mock english xpath hallo xpath hallo mock dutch mock dutch mock german mock german otherwis mock french mock french send messag direct messag direct lt hello gt lt hello gt lt hallo gt lt hallo gt lt hello gt lt hello gt receiv messag mock mock whatev reason messag go mock english mock english similar rout work expect java DSL DSL,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/test/java/org/apache/camel/builder/xml/XPathContentBasedRouterTest.java;camel-core/src/test/java/org/apache/camel/converter/ObjectHelperTest.java;components/camel-scala/src/main/scala/org/apache/camel/scala/dsl/SChoiceDefinition.scala;components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/XPathContentBasedRouterTest.scala;,0
3533,Pablo Gra/~na,tooling,0,classpath problem with camel:dot and provided dependencies, classpath problem camel dot camel dot provid depend,camel:dot in is failing with a class not found exception when the application context instantiates a class in a jar with provided scope.If in your maven project you have: &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt;and in your application context there is  for example  a subclass of ServletContextListener  mvn camel:dot fails with:...Caused by: java.lang.ClassNotFoundException:javax.servlet.ServletContextListener at java.net.URLClassLoader$1.run(URLClassLoader.java:217) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:205) at java.lang.ClassLoader.loadClass(ClassLoader.java:321) at java.lang.ClassLoader.loadClass(ClassLoader.java:266) ... 92 moreIf you change it to: &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt;then camel-maven-plugin correctly generates the output. The fact isthat the servlet-api jar must not be included in the final war.I don't know the correct way to fix this. One option would be to add the includePluginDependencies option in the plugin and add the provided jars as runtime dependencies of the plugin.The other  very easy to implement  option would be to change the requiresDependencyResolution from runtime to test.The third option would be to make the requiresDependencyResolution configurable.Attached is a patch for the 2nd option (lazy me)., camel dot camel dot fail class not found except applic context instanti class jar provid scope scope maven project lt depend gt lt depend gt lt groupId gt javax servlet lt groupId gt lt group Id gt javax servlet lt group Id gt lt artifactId gt servlet api lt artifactId gt lt artifact Id gt servlet api lt artifact Id gt lt version gt lt version gt lt version gt lt version gt lt scope gt provid lt scope gt lt scope gt provid lt scope gt lt depend gt lt depend gt applic context exampl subclass ServletContextListener servlet context listen mvn camel dot camel dot fail caus caus java lang ClassNotFoundException javax servlet ServletContextListener java lang class not found except javax servlet servlet context listen java net URLClassLoader run URLClassLoader java java net URL class loader run URL class loader java java secur AccessController doPrivileged nativ java secur access control privileg nativ method method java net URLClassLoader findClass URLClassLoader java java net URL class loader find class URL class loader java java lang ClassLoader loadClass ClassLoader java java lang class loader load class class loader java java lang ClassLoader loadClass ClassLoader java java lang class loader load class class loader java moreIf chang lt depend gt lt depend gt lt groupId gt javax servlet lt groupId gt lt group Id gt javax servlet lt group Id gt lt artifactId gt servlet api lt artifactId gt lt artifact Id gt servlet api lt artifact Id gt lt version gt lt version gt lt version gt lt version gt lt scope gt compil lt scope gt lt scope gt compil lt scope gt lt depend gt lt depend gt camel maven plugin camel maven plugin correctli gener output output fact isthat servlet api servlet api jar must not includ final war war know correct way fix one option would add includePluginDependencies includ plugin depend option plugin add provid jar runtim depend plugin plugin easi implement option would chang requiresDependencyResolution requir depend resolut runtim test test third option would make requiresDependencyResolution requir depend resolut configur attach configur attach patch nd option lazi,1,0,1,1,0,tooling/maven/camel-maven-plugin/src/main/java/org/apache/camel/maven/DotMojo.java;,0
3535,Brian Feaver,camel-core,0,Aggregation fails to call onComplete for exchanges if the aggregation is after a bean or process., aggreg fail call onComplete complet exchang aggreg bean process process,When creating a route that contains an aggregation  if that aggregation is preceded by a bean or process  it will fail to call AggregateOnCompletion.onComplete(). I've attached a unit test that can show you the behavior. Trace level loggging will need to be enabled to see the difference. With the call to the bean  it won't show the following log entry:TRACE org.apache.camel.processor.aggregate.AggregateProcessor - Aggregated exchange onComplete: Exchange[Message: ab]If you remove the bean call  it'll start calling onComplete() again.What I've noticed is that if this call is not made  it ends up in a memory leak since the inProgressCompleteExchanges HashSet in AggregateProcessor never has any exchange ID's removed., creat rout contain aggreg aggreg preced bean process fail call AggregateOnCompletion onComplete aggreg complet complet attach unit test show behavior behavior trace level logg need enabl see differ differ call bean show follow log entri TRACE entri TRACE org apach camel processor aggreg AggregateProcessor org apach camel processor aggreg aggreg processor aggreg exchang onComplete complet exchang messag exchang messag ab ab remov bean call start call onComplete complet notic call not made end memori leak sinc inProgressCompleteExchanges progress complet exchang HashSet hash set AggregateProcessor aggreg processor never exchang ID ID remov remov,0,0,0,1,0,camel-core/src/test/java/org/apache/camel/processor/aggregator/BeanBeforeAggregateIssueTest.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/BeanBeforeAggregateIssueTest.java;,0
3538,Claus Ibsen,camel-core,0,PollingConsumerPollStrategy - Add information to commit how many messages was polled, PollingConsumerPollStrategy poll consum poll strategi add inform commit mani messag poll,See nabblehttp://camel.465427.n5.nabble.com/how-to-find-out-if-a-ftp-file-consumer-has-finished-reading-all-files-available-tp3337532p3337532.htmlHaving the number of messages polled allows end users to react accordingly. For example if there is 0 then they can do something special., see nabblehttp camel nabbl com find ftp file consum finish read file avail tp htmlHaving nabblehttp camel nabbl com find ftp file consum finish read file avail tp html number messag poll allow end user react accordingli accordingli exampl someth special special,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/BatchConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;camel-core/src/main/java/org/apache/camel/impl/DefaultPollingConsumerPollStrategy.java;camel-core/src/main/java/org/apache/camel/impl/DefaultScheduledPollConsumer.java;camel-core/src/main/java/org/apache/camel/impl/LimitedPollingConsumerPollStrategy.java;camel-core/src/main/java/org/apache/camel/impl/ScheduledPollConsumer.java;camel-core/src/main/java/org/apache/camel/spi/PollingConsumerPollStrategy.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerPollStrategyNotBeginTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerPollStrategyPolledMessagesTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerPollStrategyRollbackThrowExceptionTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerPollStrategyStopOnRollbackTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerPollStrategyTest.java;camel-core/src/test/java/org/apache/camel/impl/MockScheduledPollConsumer.java;camel-core/src/test/java/org/apache/camel/impl/ScheduledPollConsumerTest.java;components/camel-atom/src/main/java/org/apache/camel/component/feed/FeedEntryPollingConsumer.java;components/camel-atom/src/main/java/org/apache/camel/component/feed/FeedPollingConsumer.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsConsumer.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpSimulateNetworkIssueRecoverTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerThrowExceptionOnLoginFailedTest.java;components/camel-ibatis/src/main/java/org/apache/camel/component/ibatis/IBatisPollingConsumer.java;components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaConsumer.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-snmp/src/main/java/org/apache/camel/component/snmp/SnmpOIDPoller.java;,0
3540,João Loureiro,null,0,Jt400DataQueueConsumer incorrectly implements timeout semantics (jt400 component), Jt DataQueueConsumer Jt data queue consum incorrectli implement timeout semant jt jt compon compon,Jt400DataQueueConsumer implementation of receive(long) passes the timeout argument directly to com.ibm.as400.access.DataQueue.read(int)  not performing unit conversion. However  Jt400DataQueueConsumer.receive(long) accepts milliseconds  whereas DataQueue.read(int) accepts seconds as the time unit.Also  invoking Jt400DataQueueConsumer.receive() results in a call to DataQueue.read()  which is not a blocking call; on the contrary  it will not wait for entries.Code snippet below.Jt400DataQueueConsumer.java DataQueue queue = endpoint.getDataQueue(); try { DataQueueEntry entry; if (timeout &gt;= 0) { entry = queue.read((int)timeout); } else { entry = queue.read(); }Note that the submitted patch floors the timeout value when converting to seconds  but different rounding might be desired  which should be specified in the class documentation., Jt DataQueueConsumer Jt data queue consum implement receiv long receiv long pass timeout argument directli com ibm access DataQueue read int com ibm access data queue read int not perform unit convers convers howev Jt DataQueueConsumer receiv long Jt data queue consum receiv long accept millisecond wherea DataQueue read int data queue read int accept second time unit also unit also invok Jt DataQueueConsumer receiv Jt data queue consum receiv result call DataQueue read data queue read not block call call contrari not wait entri code entri code snippet Jt DataQueueConsumer java Jt data queue consum java DataQueue data queue queue endpoint getDataQueue endpoint get data queue tri DataQueueEntry data queue entri entri entri timeout gt gt entri queue read int timeout queue read int timeout els entri queue read queue read note note submit patch floor timeout valu convert second differ round might desir specifi class document document,1,1,1,1,0,camel-core/src/main/java/org/apache/camel/impl/PollingConsumerSupport.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400DataQueueConsumer.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400DataQueueProducer.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400DataQueueConsumerTest.java;,0
3555,Claus Ibsen,camel-jms,0,camel-jms - Improve logic waiting for ReplyTo destination to be computed when doing request/reply, camel jm camel jm improv logic wait ReplyTo repli destin comput request repli request repli,When you use request/reply over JMS a JMSReplyTo destination must be computed which happens async by the MessageListenerContainer which is to listen for the replies.The currently logic uses some low-level thread wait/notify scheme.We should change that to use the concurrency API using a countdown latch. That's much better., use request repli request repli JMS JMSReplyTo JMS repli destin must comput happen async MessageListenerContainer messag listen contain listen repli repli current logic use low level low level thread wait notifi wait notifi scheme scheme chang use concurr API use countdown latch latch much better better,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/PersistentQueueReplyManager.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyManagerSupport.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyManager.java;components/camel-jms/src/test/resources/log4j.properties;,0
3559,Claus Ibsen,camel-core,0,Aggregator - The completionFromBatchConsumer option dont aggregate the last incoming exchange, aggreg completionFromBatchConsumer complet batch consum option dont aggreg last incom exchang,See nabblehttp://camel.465427.n5.nabble.com/Last-Aggregated-Exchange-lost-Aggregator-with-a-Batch-Consumer-and-persistent-AggregationRepository-tp3346214p3346214.html, see nabblehttp camel nabbl com last aggreg exchang lost aggreg batch consum persist AggregationRepository tp html nabblehttp camel nabbl com last aggreg exchang lost aggreg batch consum persist aggreg repositori tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/test/java/org/apache/camel/issues/AggregatorWithBatchConsumingIssueTest.java;,0
3560,Claus Ibsen,camel-core,0,Detect uncaught exceptions in UoWProcessor to ensure UoW is done even for those uncaught exceptions, detect uncaught except UoWProcessor Uo processor ensur UoW Uo done even uncaught except,The Camel routing engines will handle this in 99.9% of the cases  but when you shutdown a Spring AC then Spring may stop beans in whatever order and this can cause those beans to fail operating during a graceful shutdown. And in worst case exceptions is thrown in situations where they are not normally done.To cater for that and other situations the UoWProcessor should detect this and act accordingly.This ensure the in flight registry will be tracked and we are not stuck with a missing inflight message  causing Camel to wait for the 300 sec timeout to shutdown.For example just try hitting ctrl + c in that camel-example-management and you can see such an example., camel rout engin handl case shutdown spring AC spring may stop bean whatev order caus bean fail oper grace shutdown shutdown worst case except thrown situat not normal done done cater situat UoWProcessor Uo processor detect act accordingli accordingli ensur flight registri track not stuck miss inflight messag caus camel wait sec timeout shutdown shutdown exampl tri hit ctrl camel exampl manag camel exampl manag see exampl exampl,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/processor/UnitOfWorkProcessor.java;examples/camel-example-management/src/main/resources/META-INF/spring/camel-context.xml;camel-core/src/main/java/org/apache/camel/processor/UnitOfWorkProcessor.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;,0
3562,Ashwin Karpe,camel-bindy,0,BindyFixedLengthDataFormat does a trim on Fixed Length record, BindyFixedLengthDataFormat bindi fix length data format trim fix length record,BindyFixedLengthDataFormat does a trim on Fixed Length record  although Fixed Length recordare strictly positional in nature and may contain lot of fillers with empty spaces  doing a trim causes Bindy to fail the message length validation and exception is thrown on message length // Read the line String line = scanner.nextLine().trim(); Should be changed to // Read the line String line = scanner.nextLine(); Or a conditional option should be provided in FixedLengthRecord annotation whether or not to trim the entire record, BindyFixedLengthDataFormat bindi fix length data format trim fix length record although fix length recordar strictli posit natur may contain lot filler empti space trim caus bindi fail messag length valid except thrown messag length read line string line scanner nextLine trim scanner next line trim chang read line string line scanner nextLine scanner next line condit option provid FixedLengthRecord fix length record annot whether not trim entir record,0,1,1,0,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/trimfield/BindySimpleFixedLengthUnmarshallTrimFieldTest.java;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/trimfield/BindySimpleFixedLengthUnmarshallTrimFieldTest-context.xml;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/fixed/BindyFixedLengthDataFormat.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/notrim/BindySimpleFixedLengthNoTrimUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/trim/BindySimpleFixedLengthUnmarshallTest.java;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/notrim/BindySimpleFixedLengthNoTrimUnmarshallTest-context.xml;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/BindySimpleFixedLengthUnmarshallTest-context.xml;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/FixedLengthRecord.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/FixedLengthRecord.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/notrim/BindySimpleFixedLengthNoTrimUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/trim/BindySimpleFixedLengthUnmarshallTest.java;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/trim/BindySimpleFixedLengthUnmarshallTest-context.xml;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/FixedLengthRecord.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/fixed/BindyFixedLengthDataFormat.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/BindySimpleFixedLengthUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/notrim/BindySimpleFixedLengthNoTrimUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/trim/BindySimpleFixedLengthUnmarshallTest.java;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/BindySimpleFixedLengthUnmarshallTest-context.xml;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/notrim/BindySimpleFixedLengthNoTrimUnmarshallTest-context.xml;components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/trim/BindySimpleFixedLengthUnmarshallTest-context.xml;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/trim/BindySimpleFixedLengthUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/unmarshall/simple/BindySimpleFixedLengthUnmarshallTest.java;,0
3565,Andreas Asmuss,camel-core,0,When Camel loads properties Camel should remove spaces (trim) from the end of the line., camel load properti camel remov space trim trim end line line,If Camel reads a property from a properties-file that has a space at the end of a line like:some.property = theValue &lt;---Camel will resolve 'theValue ' and then crash at route creation. Should be 'theValue'., camel read properti properti file properti file space end line like properti like properti theValue valu lt camel lt camel resolv theValue valu crash rout creation creation theValue valu,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/properties/DefaultPropertiesResolver.java;camel-core/src/test/java/org/apache/camel/component/properties/PropertiesComponentLoadPropertiesFromFileTrimValuesTest.java;,0
3568,Hadrian Zbarcea,tooling,0,Update archetypes to use new descriptor format, updat archetyp use new descriptor format,Camel archetypes use the old descriptor format and give the following output:[INFO] ********************* End of debug info from resources from generated POM ***********************[INFO] project created from Old (1.x) Archetype in dir: /w1/apache/camel/projects/camel-xxxWe need to update to use the archetype-metadata.xml descriptor, camel archetyp use old descriptor format give follow output INFO output INFO end debug info resourc gener POM INFO INFO project creat old archetyp dir dir apach camel project camel xxxWe apach camel project camel xxx need updat use archetyp metadata xml archetyp metadata xml descriptor,1,0,0,0,0,tooling/archetypes/camel-archetype-java/pom.xml;tooling/archetypes/camel-archetype-java/src/main/resources/META-INF/maven/archetype-metadata.xml;tooling/archetypes/camel-archetype-java/src/main/resources/META-INF/maven/archetype.xml;tooling/archetypes/camel-archetype-java/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-java/src/main/resources/archetype-resources/src/main/java/MyRouteBuilder.java;tooling/archetypes/camel-archetype-activemq/src/main/resources/archetype-resources/src/main/resources/log4j.properties;tooling/archetypes/camel-archetype-webconsole/pom.xml;tooling/archetypes/camel-archetype-webconsole/src/main/resources/META-INF/maven/archetype-metadata.xml;tooling/archetypes/camel-archetype-webconsole/src/main/resources/META-INF/maven/archetype.xml;tooling/archetypes/camel-archetype-webconsole/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-webconsole/src/main/resources/archetype-resources/src/main/resources/log4j.properties;tooling/archetypes/camel-archetype-webconsole/src/main/resources/archetype-resources/src/main/webapp/WEB-INF/applicationContext.xml;,0
3570,Claus Ibsen,camel-snmp,0,camel-snmp - Should mask password in the endpoint class, camel snmp camel snmp mask password endpoint class,See nabblehttp://camel.465427.n5.nabble.com/password-shown-in-plain-text-in-the-log-file-while-starting-amp-stopping-context-td3347883.htmlThe password should be masked which can be done by overriding toString and mask it in the output., see nabblehttp camel nabbl com password shown plain text log file start amp stop context td htmlThe nabblehttp camel nabbl com password shown plain text log file start amp stop context td html password mask done overrid toString string mask output output,0,0,0,1,0,components/camel-snmp/src/main/java/org/apache/camel/component/snmp/SnmpEndpoint.java;,1
3573,Christian Müller,null,0,In some places we use ObjectHelper.loadClass() instead of ClassResolver.resolveClass(), place use ObjectHelper loadClass object helper load class instead ClassResolver resolveClass class resolv resolv class,see Nabble, see nabbl,0,1,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsHelper.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsPollingConsumer.java;,0
3584,Claus Ibsen,camel-core,0,Concurrent writes to the same file has race condition, concurr write file race condit,See nabblehttp://camel.465427.n5.nabble.com/Using-Splitter-and-file-producer-with-option-fileExist-Append-failed-tp3353618p3353618.htmlWe need to synchronize on the file name to avoid concurrent writes to the same file., see nabblehttp camel nabbl com use splitter file produc option fileExist append fail tp htmlWe nabblehttp camel nabbl com use splitter file produc option file exist append fail tp html need synchron file name avoid concurr write file file,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;camel-core/src/main/java/org/apache/camel/util/concurrent/ExecutorServiceHelper.java;camel-core/src/test/java/org/apache/camel/component/file/FileConcurrentWriteAppendSameFileTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileProducer.java;,0
3588,Claus Ibsen,camel-jms; camel-jpa,0,JMS spec and JPA spec JARs should not be compile scoped by provided, JMS spec JPA spec JARs JA Rs not compil scope provid,See nabblehttp://camel.465427.n5.nabble.com/dependency-compile-scope-to-geronimo-XYZ-VERSION-spec-in-camel-jpa-amp-camel-jms-td3356320.html#a3356541, see nabblehttp camel nabbl com depend compil scope geronimo XYZ VERSION spec camel jpa amp camel jm td html nabblehttp camel nabbl com depend compil scope geronimo XYZ VERSION spec camel jpa amp camel jm td html,0,0,0,1,0,components/camel-amqp/pom.xml;,0
3595,Mikael Jørgensen,camel-ftp,0,FTP rename fails, FTP renam fail,(This is related to the user group discussion http://camel.465427.n5.nabble.com/Problem-renaming-existing-file-in-FTP-td3307670.html)When using a tmpPrefix when uploading  the rename from the tmp-file to the destination file fails  if the destination file is already present  even though the option fileExist=Override is used.We have the problem on just a few destination servers which all seems to be windows machines.I have fetched the 2.4 branch of camel-ftp to find out why it does not work  since the unit test you refer to in your previous post do excercise the problem.It appears that the cause of the problem is  that the FtpOperations.existsFile fails to return true  which then causes the code not to enter the part where it deletes the exisiting file.The reason for the FtpOperations.existsFile to return false  is  that the list of existing files has the directoryname prepended  e.g. I'm trying to upload Test.REN to folder test/rename  and in the code 'if (existing.equals(onlyName))' existing=test/rename/Test.REN and onlyName=Test.REN - which returns false - but causes the later rename to fail as the target folder did contain the Test.REN. My guess is that it is server dependent whether the returned list of names in the directory include the directory name or not?To fix this I have added the following line of code before the if-statementexisting = FileUtil.stripPath(FileUtil.normalizePath(existing));So it will strip the path part of the file name before comparing it to onlyName., relat user group discuss use tmpPrefix tmp prefix upload renam tmp file tmp file destin file fail destin file alreadi present even though option fileExist overrid file exist overrid use use problem destin server seem window machin machin fetch branch camel ftp camel ftp find not work sinc unit test refer previou post excercis problem problem appear caus problem FtpOperations existsFile ftp oper exist file fail return true caus code not enter part delet exisit file file reason FtpOperations existsFile ftp oper exist file return fals list exist file directorynam prepend tri upload test REN test REN folder test renam test renam code exist equal onlyName exist equal name exist test renam test REN exist test renam test REN onlyName test REN name test REN return fals caus later renam fail target folder contain test REN test REN guess server depend whether return list name directori includ directori name not not fix ad follow line code statementexist statementexist FileUtil stripPath FileUtil normalizePath exist file util strip path file util normal path exist strip path part file name compar onlyName name,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/util/FileUtil.java;camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;,0
3600,Claus Ibsen,camel-core,0,ServiceHelper - Avoid started/stopping service if already started/stopped, ServiceHelper servic helper avoid start stop start stop servic alreadi start stop start stop,We should optimize ServiceHelper to detect if the service is already started/stopped (if it extends ServiceSupport  as then it provides state).Also DefaultEndpoint should extends ServiceSupport to provide state so we know if the endpoint is started/stopped.This avoid double starting or stopping services which is not needed.And some custom components may not work well if they are started twice  just because Camel handles it lifecycle and invokes start multiple times.Also refine the logging in ServiceHelper from TRACE to DEBUG level so its easier to spot the lifecycle., optim ServiceHelper servic helper detect servic alreadi start stop start stop extend ServiceSupport servic support provid state also state also DefaultEndpoint default endpoint extend ServiceSupport servic support provid state know endpoint start stop start stop avoid doubl start stop servic not need need custom compon may not work well start twice camel handl lifecycl invok start multipl time also time also refin log ServiceHelper servic helper TRACE DEBUG level easier spot lifecycl lifecycl,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultRoute.java;camel-core/src/main/java/org/apache/camel/impl/RouteService.java;camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/management/ManagedManagementStrategy.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedEndpoint.java;camel-core/src/main/java/org/apache/camel/processor/SendProcessor.java;camel-core/src/main/java/org/apache/camel/util/LRUCache.java;camel-core/src/main/java/org/apache/camel/util/ServiceHelper.java;camel-core/src/test/java/org/apache/camel/management/ManagedRegisterEndpointTest.java;camel-core/src/test/java/org/apache/camel/processor/Endpoint2MustBeStartedBeforeSendProcessorTest.java;camel-core/src/test/java/org/apache/camel/processor/EndpointMustBeStartedBeforeSendProcessorTest.java;camel-core/src/test/resources/log4j.properties;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/cxfbean/CxfBeanEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfEndpointBean.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessageListenerContainer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyEndpoint.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzEndpoint.java;components/camel-quickfix/src/main/java/org/apache/camel/component/quickfixj/QuickfixjEndpoint.java;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/QuickfixjComponentTest.java;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletEndpoint.java;components/camel-spring/src/main/java/org/apache/camel/component/test/TestEndpoint.java;,0
3612,Jonathan Anstey,tooling,0,Include test directories in the archetypes, includ test directori archetyp,A reader of Camel in Action pointed out that typically folks write unit tests for their projects so we should of course add the test directories (empty or not) to the archetypes (http://www.manning-sandbox.com/thread.jspa?threadID=41702&amp;tstart=0). I agree but of course this is not possible with the current archetype descriptor we are using. Will do this once CAMEL-3611 is complete., reader camel action point typic folk write unit test project cours add test directori empti not not archetyp http www man sandbox com thread jspa threadID amp tstart http www man sandbox com thread jspa thread ID amp tstart agre cours not possibl current archetyp descriptor use use CAMEL CAMEL complet complet,0,0,0,1,0,tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/src/main/resources/log4j.properties;tooling/archetypes/camel-archetype-java/src/main/resources/META-INF/maven/archetype-metadata.xml;tooling/archetypes/camel-archetype-java/src/main/resources/archetype-resources/src/main/java/MyRouteBuilder.java;tooling/archetypes/camel-archetype-java/src/main/resources/archetype-resources/src/main/resources/log4j.properties;tooling/archetypes/camel-archetype-spring/src/main/resources/META-INF/maven/archetype-metadata.xml;tooling/archetypes/camel-archetype-web/src/main/resources/archetype-resources/src/main/resources/log4j.properties;tooling/archetypes/camel-archetype-webconsole/src/main/resources/META-INF/maven/archetype-metadata.xml;,0
3616,Rob Davies,camel-sql,0,camel-josql doesnot export org.apache.camel.language.sql.*, camel josql camel josql doesnot export org apach camel languag sql org apach camel languag sql,,,0,0,0,0,0,components/camel-josql/pom.xml;,0
3617,Jean-Michel Morel,camel-core,0,Inconsistent filename value when move attribute is used with File component, inconsist filenam valu move attribut use file compon,Unless I miss a point  when I use the following endpoint  the file:name value is incorrect and is equal to file:absolute.path&lt;endpoint id='fileEndpoint' uri='file:${queue.input.folder}?recursive=true&amp;include=.*/.dat&amp;move=${queue.done.folder}/$simple{file:name}&amp;moveFailed=${queue.failed.folder}/$simple{file:name}' /&gt;${queue.input.folder}  ${queue.done.folder} and ${queue.failed.folder} are absolute paths resolved by Spring.In fact  Camel tries to move the file to ${queue.done.folder}/${queue.input.folder}/$simple{file:name}I've also tried using $simple{header.CamelFileName} instead of $simple{file:name} and it gives the same result.For now  I've found a workaround using a processor which put the CamelFileName header value into a 'destFile' property &lt;endpoint id='fileEndpoint' uri='file:${queue.input.folder}?recursive=true&amp;include=.*/.dat&amp;move=${queue.done.folder}/$simple{property.destFile}&amp;moveFailed=${queue.failed.folder}/$simple{property.destFile}' /&gt;, unless miss point use follow endpoint file name file name valu incorrect equal file absolut path lt endpoint file absolut path lt endpoint id fileEndpoint id file endpoint uri file queue input folder recurs true amp includ dat amp move queue done folder simpl file name amp moveFailed queue fail folder simpl file name uri file queue input folder recurs true amp includ dat amp move queue done folder simpl file name amp move fail queue fail folder simpl file name gt queue input folder gt queue input folder queue done folder queue done folder queue fail folder queue fail folder absolut path resolv spring spring fact camel tri move file queue done folder queue input folder simpl file name queue done folder queue input folder simpl file name also tri use simpl header CamelFileName simpl header camel file name instead simpl file name simpl file name give result result found workaround use processor put CamelFileName camel file name header valu destFile dest file properti lt endpoint lt endpoint id fileEndpoint id file endpoint uri file queue input folder recurs true amp includ dat amp move queue done folder simpl properti destFile amp moveFailed queue fail folder simpl properti destFile uri file queue input folder recurs true amp includ dat amp move queue done folder simpl properti dest file amp move fail queue fail folder simpl properti dest file gt gt,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/builder/xml/DefaultTransformErrorHandler.java;camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/test/java/org/apache/camel/component/file/FileAbsolutePathIssueTest.java;camel-core/src/test/resources/log4j.properties;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerExpressionTest.java;,0
3624,Christian Müller,camel-smpp,0,camel-smpp should unbind from SMSC before disconnecting, camel smpp camel smpp unbind SMSC disconnect,See Nabble, see nabbl,0,0,0,0,0,components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppConsumer.java;components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppProducer.java;components/camel-smpp/src/test/java/org/apache/camel/component/smpp/SmppConsumerTest.java;components/camel-smpp/src/test/java/org/apache/camel/component/smpp/SmppProducerTest.java;,0
3633,Claus Ibsen,camel-quartz,0,Force disable Quartz UpdateChecker, forc disabl quartz UpdateChecker updat checker,This is really terrible that Terracotta added a 'malware' kinda feature in Quartz that automatic checks if there is a new version of Quartz. WTF that doesn't work nice in enterprises  where they want to be in control of their communication.We should force disabling this.See more details here:http://forums.terracotta.org/forums/posts/list/3395.page#19058https://jira.terracotta.org/jira/browse/QTZ-29, realli terribl terracotta ad malwar malwar kinda featur quartz automat check new version quartz quartz WTF work nice enterpris want control commun commun forc disabl see see detail http forum terracotta org forum post list page http jira terracotta org jira brows QTZ http forum terracotta org forum post list page http jira terracotta org jira brows QTZ,0,0,0,1,0,components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzComponent.java;components/camel-quartz/src/test/java/org/apache/camel/component/quartz/QuartzNameCollisionTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/quartz/QuartzCronRouteTest.java;,0
3637,Jean-Baptiste Onofré,null,0,Mistake in camel-eventAdmin feature, mistak camel eventAdmin camel event admin featur,The Camel Karaf feature camel-eventAdmin is not correct.The features is described as follow:&lt;feature name='camel-eventAdmin' version='2.6.0'&gt; &lt;feature version='2.6.0'&gt;camel-core&lt;/feature&gt; &lt;bundle&gt;mvn:org.apache.camel/camel-eventAdmin/2.6.0&lt;/bundle&gt;&lt;/feature&gt;but the camel-eventAdmin artifact correct name is camel-eventadmin:http://repo2.maven.org/maven2/org/apache/camel/camel-eventadmin/2.6.0/camel-eventadmin-2.6.0.jarThis typo mistake provides:Downloading: http://repo1.maven.org/maven2/org/apache/camel/camel-eventAdmin/2.6.0/camel-eventAdmin-2.6.0.jar&#91;INFO&#93; Unable to find resource 'org.apache.camel:camel-eventAdmin:jar:2.6.0' in repository central (http://repo1.maven.org/maven2)&#91;INFO&#93; ------------------------------------------------------------------------&#91;ERROR&#93; BUILD FAILURE&#91;INFO&#93; ------------------------------------------------------------------------&#91;INFO&#93; Can't resolve bundle org.apache.camel:camel-eventAdmin:jar:2.6.0&#91;INFO&#93; ------------------------------------------------------------------------I'm gonna submit a patch to fix that., camel karaf featur camel eventAdmin camel event admin not correct correct featur describ follow lt featur follow lt featur name camel eventAdmin name camel event admin version gt version gt lt featur lt featur version gt camel core lt featur gt version gt camel core lt featur gt lt bundl gt mvn org apach camel camel eventAdmin lt bundl gt lt featur gt lt bundl gt mvn org apach camel camel event admin lt bundl gt lt featur gt camel eventAdmin camel event admin artifact correct name camel eventadmin http repo maven org maven org apach camel camel eventadmin camel eventadmin jarThis camel eventadmin http repo maven org maven org apach camel camel eventadmin camel eventadmin jar typo mistak provid download provid download unabl find resourc org apach camel camel eventAdmin jar org apach camel camel event admin jar repositori central http repo maven org maven INFO http repo maven org maven INFO ERROR ERROR BUILD FAILURE INFO FAILURE INFO INFO INFO resolv bundl org apach camel camel eventAdmin jar INFO org apach camel camel event admin jar INFO gonna submit patch fix,1,1,0,1,0,platforms/karaf/features/src/main/resources/features.xml;,0
3638,Christian Schneider,osgi,0,Upgrade maven-bundle-plugin to version 1.3.4, upgrad maven bundl plugin maven bundl plugin version,According to Guillaume Nodet we should try to upgrade to the 1.3.4 version of the maven bundle plugin as it simplyfies several osgi related definitions.I will do a full build before committing but as far as I know we do not test in osgi so we need some testing in osgi too. Perhaps Willem can run some servicemix tests., accord guillaum nodet tri upgrad version maven bundl plugin simplyfi sever osgi relat definit definit full build commit far know not test osgi need test osgi perhap willem run servicemix test test,0,0,0,0,0,pom.xml;,0
3644,Claus Ibsen,null,0,camel-core-xml - Add getter/sett for endpoints, camel core xml camel core xml add getter sett getter sett endpoint,We have listed @XmlElement(name = 'endpoint'  required = false) private List&lt;CamelEndpointFactoryBean&gt; endpoints;in the camel-spring  but we dont have getter/setter.We should enforce this by adding getter/setter in camel-core-xml which we have for most of the stuff., list XmlElement name xml element name endpoint endpoint requir fals fals privat list lt CamelEndpointFactoryBean gt list lt camel endpoint factori bean gt endpoint endpoint camel spring camel spring dont getter setter getter setter enforc ad getter setter getter setter camel core xml camel core xml stuff stuff,0,0,1,0,0,components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelConsumerTemplateFactoryBean.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelContextFactoryBean.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelEndpointFactoryBean.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelProducerTemplateFactoryBean.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelThreadPoolFactoryBean.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/scan/AntPathMatcher.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/scan/PatternBasedPackageScanFilter.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java;,0
3647,Christian Müller,camel-core,0,Fix the Sonar Blocker: Performance - Maps and sets of URLs can be performance hogs, fix sonar blocker blocker perform map set URLs UR Ls perform hog,The Camel Sonar Pilot lists 4 blocker for Camel &#91;1&#93;. All in org.apache.camel.impl.converter.AnnotationTypeConverterLoader because it use the URL.equals() and URL.hashCode() methods.You can find the explanation in &#91;2&#93; why this is not a good idea. I would like to change it url.toURI()? Any doubt?&#91;1&#93; http://sonar.apache.org/drilldown/violations/org.apache.camel:camel?priority=BLOCKER#&#91;2&#93; http://michaelscharf.blogspot.com/2006/11/javaneturlequals-and-hashcode-make.html, camel sonar pilot list blocker camel org apach camel impl convert AnnotationTypeConverterLoader org apach camel impl convert annot type convert loader use URL equal URL equal URL hashCode URL hash code method method find explan not good idea idea would like chang url toURI url URI doubt doubt,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/osgi/Activator.java;,0
3650,Jaco van Tonder,camel-smpp,0,SMSC initiated unbind spawns exponential amounts of reconnect threads, SMSC initi unbind spawn exponenti amount reconnect thread,It took me a bit of time to put my finger on this problem.When an unbind PDU is sent from the SMSC side to a camel-smpp endpoint  a cascading amount reconnect threads are spawned by the reconnect code. I can reliably re-produce this problem having a simple smpp consumer to a SMSC / simulator and issuing an unbind from the SMSC / simulator.Here are some logs (I have added additional debug messages to the SmppConsumer to show the object references and state of the SmppSession objects):, took bit time put finger problem problem unbind PDU sent SMSC side camel smpp camel smpp endpoint cascad amount reconnect thread spawn reconnect code code reliabl produc produc problem simpl smpp consum SMSC simul issu unbind SMSC simul simul log ad addit debug messag SmppConsumer smpp consum show object refer state SmppSession smpp session object object,1,0,0,0,0,0,0
3654,Claus Ibsen,camel-core,0,BinaryPredicate - Dont store state to ensure thread safety, BinaryPredicate binari predic dont store state ensur thread safeti,We should introduce a new matches method which is used by mock's when they report failure messages. The new method should return the failure message which ensures we dont have to store state on the binary predicate instance., introduc new match method use mock mock report failur messag messag new method return failur messag ensur dont store state binari predic instanc instanc,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/BinaryPredicate.java;camel-core/src/main/java/org/apache/camel/builder/BinaryPredicateSupport.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/util/PredicateAssertHelper.java;,0
3666,Fernando Ribeiro,camel-restlet,0,Make Content-Type HTTP Header Optional, make content type content type HTTP header option,As per section 7.2.1 of RFC 2616  any HTTP/1.1 message containing an entity-body SHOULD (not MUST) include a Content- Type header field defining the media type of that body.The populateExchangeFromRestletRequest method of the DefaultRestletBinding class  unlike others in the same class  needs to be changed:if (request.getEntity().getMediaType().equals(MediaType.APPLICATION_WWW_FORM)) { ...} else { inMessage.setBody(request.getEntity().getStream());}, per section RFC HTTP HTTP messag contain entiti bodi entiti bodi not MUST MUST includ content content type header field defin media type bodi bodi populateExchangeFromRestletRequest popul exchang restlet request method DefaultRestletBinding default restlet bind class unlik other class need chang chang request getEntity getMediaType equal MediaType APPLICATION_WWW_FORM request get entiti get media type equal media type APPLICATION WWW FORM els inMessage setBody request getEntity getStream messag set bodi request get entiti get stream,0,1,1,0,0,components/camel-restlet/src/main/java/org/apache/camel/component/restlet/DefaultRestletBinding.java;components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletPostContentTest.java;components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletProducerConcurrentTest.java;,0
3672,Rob Davies,null,0,Make it easier to derive from the Camel model, make easier deriv camel model,In order to facilitate the building of derivations of Camel  some methods in builder and model need to use accessors for member variables  and types to allow for sub types, order facilit build deriv camel method builder model need use accessor member variabl type allow sub type,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/RouteBuilder.java;camel-core/src/main/java/org/apache/camel/model/FilterDefinition.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinition.java;,0
3678,Claus Ibsen,camel-core,0,Java DSL - Allow load balancer to be used inside CBR, java DSL allow load balanc use insid CBR,We should allow to use the load balancer inside the CBR  in eg the when predicate.See nabblehttp://camel.465427.n5.nabble.com/DISCUSS-Java-DSL-caveat-with-the-Content-Based-Router-td3389083.html, allow use load balanc insid CBR eg predic see predic see nabblehttp camel nabbl com DISCUSS java DSL caveat content base router td html nabblehttp camel nabbl com DISCUSS java DSL caveat content base router td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/ToDefinition.java;camel-core/src/test/java/org/apache/camel/processor/CBRWithLoadBalancerTest.java;camel-core/src/test/java/org/apache/camel/processor/CBRWithMulticastTest.java;,0
3690,Claus Ibsen,camel-core,0,Endpoints may be shutdown twice as they are tracked in two lists in CamelContext, endpoint may shutdown twice track two list CamelContext camel context,Endpoint is a Service which means they are listed in both a endpoint and service list. They should only be listed in the endpoint list.This avoids issues with endpoints may be shutdown twice when Camel shutdown.See nabblehttp://camel.465427.n5.nabble.com/QuartzComponent-do-not-delete-quartz-worker-threads-when-shutdown-Camel-tp3393728p3393728.html, endpoint servic mean list endpoint servic list list list endpoint list list avoid issu endpoint may shutdown twice camel shutdown see shutdown see nabblehttp camel nabbl com QuartzComponent not delet quartz worker thread shutdown camel tp html nabblehttp camel nabbl com quartz compon not delet quartz worker thread shutdown camel tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/test/java/org/apache/camel/impl/EndpointShutdownOnceTest.java;,0
3708,Claus Ibsen,camel-core; camel-spring,0,Tidy up AST model to proper support output or not, tidi AST model proper support output not,We should tidy up the model  so they clearly indicate if outputs supported no outputseg when an EIP supports output  they can be nested/added to it  eg in XML its like&lt;split&gt; &lt;output 1&gt; &lt;output 2&gt;&lt;/split&gt;But some EIPs indicate they support output  but they dont. For example &lt;to&gt; should not support output as it doesn't make sense.We should introduce a isOutputSupported on the ProcessorDefinition and then check each EIP.This will cause changes to the XSD in that regard EIPs which really didn't support output (eg it was hacked that way in Java code) but the XSD would allow outputs  eg&lt;to uri='xxx'&gt; &lt;output 1&gt; &lt;output 2&gt;&lt;/to&gt;Now this would not be possible and you would have to do&lt;to uri='xxx'/&gt;&lt;output 1&gt;&lt;output 2&gt;This will in fact reduce the XSD and make it more concise when outputs is supported or not., tidi model clearli indic output support no outputseg EIP support output nest ad nest ad eg XML like lt split gt like lt split gt lt output lt output gt gt lt output lt output gt lt split gt gt lt split gt EIPs EI Ps indic support output dont dont exampl lt gt lt gt not support output make sens sens introduc isOutputSupported output support ProcessorDefinition processor definit check EIP EIP caus chang XSD regard EIPs EI Ps realli support output eg hack way java code code XSD would allow output eg lt eg lt uri xxx gt uri xxx gt lt output lt output gt gt lt output lt output gt lt gt gt lt gt would not possibl would lt lt uri xxx gt lt output uri xxx gt lt output gt lt output gt lt output gt gt fact reduc XSD make concis output support not not,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/AggregateDefinition.java;camel-core/src/main/java/org/apache/camel/model/CatchDefinition.java;camel-core/src/main/java/org/apache/camel/model/ChoiceDefinition.java;camel-core/src/main/java/org/apache/camel/model/ConvertBodyDefinition.java;camel-core/src/main/java/org/apache/camel/model/DelayDefinition.java;camel-core/src/main/java/org/apache/camel/model/EnrichDefinition.java;camel-core/src/main/java/org/apache/camel/model/ExpressionNode.java;camel-core/src/main/java/org/apache/camel/model/LoadBalanceDefinition.java;camel-core/src/main/java/org/apache/camel/model/LogDefinition.java;camel-core/src/main/java/org/apache/camel/model/NoOutputDefinition.java;camel-core/src/main/java/org/apache/camel/model/NoOutputExpressionNode.java;camel-core/src/main/java/org/apache/camel/model/OnCompletionDefinition.java;camel-core/src/main/java/org/apache/camel/model/OnExceptionDefinition.java;camel-core/src/main/java/org/apache/camel/model/OutputDefinition.java;camel-core/src/main/java/org/apache/camel/model/PollEnrichDefinition.java;camel-core/src/main/java/org/apache/camel/model/ProcessDefinition.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/RemoveHeaderDefinition.java;camel-core/src/main/java/org/apache/camel/model/RemoveHeadersDefinition.java;camel-core/src/main/java/org/apache/camel/model/RemovePropertyDefinition.java;camel-core/src/main/java/org/apache/camel/model/ResequenceDefinition.java;camel-core/src/main/java/org/apache/camel/model/RollbackDefinition.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinition.java;camel-core/src/main/java/org/apache/camel/model/SamplingDefinition.java;camel-core/src/main/java/org/apache/camel/model/SendDefinition.java;camel-core/src/main/java/org/apache/camel/model/SetExchangePatternDefinition.java;camel-core/src/main/java/org/apache/camel/model/SetFaultBodyDefinition.java;camel-core/src/main/java/org/apache/camel/model/SetOutHeaderDefinition.java;camel-core/src/main/java/org/apache/camel/model/StopDefinition.java;camel-core/src/main/java/org/apache/camel/model/ThreadsDefinition.java;camel-core/src/main/java/org/apache/camel/model/ThrottleDefinition.java;camel-core/src/main/java/org/apache/camel/model/ThrowExceptionDefinition.java;camel-core/src/main/java/org/apache/camel/model/ToDefinition.java;camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java;camel-core/src/main/java/org/apache/camel/model/WhenDefinition.java;camel-core/src/main/java/org/apache/camel/model/loadbalancer/RandomLoadBalancerDefinition.java;,0
3709,Søren Markert,camel-core,0,interceptFrom and from(Endpoint) don't work together, interceptFrom intercept endpoint endpoint work togeth,When using interceptFrom(String) together with from(Endpoint)  the below Exception occurs during the routes building process. Looking at RoutesDefinition.java:217 reveals  that the FromDefintion just created has no URI. That causes the comparison to all the interceptFroms' URIs to fail. As far as I can tell  the way to fix this would be to add setUri(myEndpoint.getEndpointUri()) in the constructor FromDefinition(Endpoint endpoint).Below the stack trace  there is a unit test that demonstrates the issue. Until it if fixed  it can be easily circumvented by adding the commented-out line  and then change to from('myEndpoint').org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: null due to: null at org.apache.camel.util.EndpointHelper.matchEndpoint(EndpointHelper.java:109) at org.apache.camel.model.RoutesDefinition.route(RoutesDefinition.java:217) at org.apache.camel.model.RoutesDefinition.from(RoutesDefinition.java:167) at org.apache.camel.builder.RouteBuilder.from(RouteBuilder.java:101) at dk.mobilethink.adc2.endpoint.UnsetUriTest$1.configure(UnsetUriTest.java:18) at org.apache.camel.builder.RouteBuilder.checkInitialized(RouteBuilder.java:318) at org.apache.camel.builder.RouteBuilder.configureRoutes(RouteBuilder.java:273) at org.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:259) at org.apache.camel.impl.DefaultCamelContext.addRoutes(DefaultCamelContext.java:612) at org.apache.camel.test.CamelTestSupport.setUp(CamelTestSupport.java:111) at junit.framework.TestCase.runBare(TestCase.java:132) at org.apache.camel.test.TestSupport.runBare(TestSupport.java:65) at junit.framework.TestResult$1.protect(TestResult.java:110) at junit.framework.TestResult.runProtected(TestResult.java:128) at junit.framework.TestResult.run(TestResult.java:113) at junit.framework.TestCase.run(TestCase.java:124) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83) at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)Caused by: java.lang.NullPointerException at org.apache.camel.util.UnsafeUriCharactersEncoder.encode(UnsafeUriCharactersEncoder.java:56) at org.apache.camel.util.URISupport.normalizeUri(URISupport.java:162) at org.apache.camel.util.EndpointHelper.matchEndpoint(EndpointHelper.java:107) ... 24 morepackage dk.mobilethink.adc2.endpoint;import org.apache.camel.Endpoint;import org.apache.camel.builder.RouteBuilder;import org.apache.camel.test.CamelTestSupport;public class UnsetUriTest extends CamelTestSupport { @Override protected RouteBuilder createRouteBuilder() throws Exception { return new RouteBuilder() { public void configure() throws Exception { interceptFrom('URI1').to('irrelevantURI'); Endpoint myEndpoint = getContext().getComponent('direct').createEndpoint('ignoredURI'); // getContext().addEndpoint('myEndpoint'  myEndpoint); from(myEndpoint) .inOnly('log:foo'); } }; } public void testNothing() { }}, use interceptFrom string intercept string togeth endpoint endpoint except occur rout build process process look RoutesDefinition java rout definit java reveal FromDefintion defint creat no URI URI caus comparison interceptFroms intercept from URIs UR fail fail far tell way fix would add setUri myEndpoint getEndpointUri set uri endpoint get endpoint uri constructor FromDefinition endpoint definit endpoint endpoint endpoint stack trace unit test demonstr issu issu fix easili circumv ad comment comment line chang myEndpoint org apach camel ResolveEndpointFailedException endpoint org apach camel resolv endpoint fail except fail resolv endpoint endpoint null due null org apach camel util EndpointHelper matchEndpoint EndpointHelper java org apach camel util endpoint helper match endpoint endpoint helper java org apach camel model RoutesDefinition rout RoutesDefinition java org apach camel model rout definit rout rout definit java org apach camel model RoutesDefinition RoutesDefinition java org apach camel model rout definit rout definit java org apach camel builder RouteBuilder RouteBuilder java org apach camel builder rout builder rout builder java dk mobilethink adc endpoint UnsetUriTest configur UnsetUriTest java dk mobilethink adc endpoint unset uri test configur unset uri test java org apach camel builder RouteBuilder checkInitialized RouteBuilder java org apach camel builder rout builder check initi rout builder java org apach camel builder RouteBuilder configureRoutes RouteBuilder java org apach camel builder rout builder configur rout rout builder java org apach camel builder RouteBuilder addRoutesToCamelContext RouteBuilder java org apach camel builder rout builder add rout camel context rout builder java org apach camel impl DefaultCamelContext addRoutes DefaultCamelContext java org apach camel impl default camel context add rout default camel context java org apach camel test CamelTestSupport setUp CamelTestSupport java org apach camel test camel test support set camel test support java junit framework TestCase runBare TestCase java junit framework test case run bare test case java org apach camel test TestSupport runBare TestSupport java org apach camel test test support run bare test support java junit framework TestResult protect TestResult java junit framework test result protect test result java junit framework TestResult runProtected TestResult java junit framework test result run protect test result java junit framework TestResult run TestResult java junit framework test result run test result java junit framework TestCase run TestCase java junit framework test case run test case java junit framework TestSuite runTest TestSuite java junit framework test suit run test test suit java junit framework TestSuite run TestSuite java junit framework test suit run test suit java org junit intern runner JUnit ClassRunner run JUnit ClassRunner java org junit intern runner unit class runner run unit class runner java org eclips jdt intern junit runner JUnit TestReference run JUnit TestReference java org eclips jdt intern junit runner unit test refer run unit test refer java org eclips jdt intern junit runner TestExecution run TestExecution java org eclips jdt intern junit runner test execut run test execut java org eclips jdt intern junit runner RemoteTestRunner runTests RemoteTestRunner java org eclips jdt intern junit runner remot test runner run test remot test runner java org eclips jdt intern junit runner RemoteTestRunner runTests RemoteTestRunner java org eclips jdt intern junit runner remot test runner run test remot test runner java org eclips jdt intern junit runner RemoteTestRunner run RemoteTestRunner java org eclips jdt intern junit runner remot test runner run remot test runner java org eclips jdt intern junit runner RemoteTestRunner main RemoteTestRunner java caus org eclips jdt intern junit runner remot test runner main remot test runner java caus java lang NullPointerException java lang null pointer except org apach camel util UnsafeUriCharactersEncoder encod UnsafeUriCharactersEncoder java org apach camel util unsaf uri charact encod encod unsaf uri charact encod java org apach camel util URISupport normalizeUri URISupport java org apach camel util URI support normal uri URI support java org apach camel util EndpointHelper matchEndpoint EndpointHelper java org apach camel util endpoint helper match endpoint endpoint helper java morepackag dk mobilethink adc endpoint import dk mobilethink adc endpoint import org apach camel endpoint import org apach camel endpoint import org apach camel builder RouteBuilder import org apach camel builder rout builder import org apach camel test CamelTestSupport public org apach camel test camel test support public class UnsetUriTest unset uri test extend CamelTestSupport camel test support overrid overrid protect RouteBuilder rout builder createRouteBuilder creat rout builder throw except return new RouteBuilder rout builder public void configur configur throw except interceptFrom URI irrelevantURI intercept URI irrelev URI endpoint myEndpoint endpoint getContext getComponent direct createEndpoint ignoredURI get context get compon direct creat endpoint ignor URI getContext addEndpoint myEndpoint get context add endpoint endpoint myEndpoint endpoint myEndpoint endpoint inOnly log foo log foo public void testNothing test noth,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinition.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinitionHelper.java;camel-core/src/main/java/org/apache/camel/model/RoutesDefinition.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptFromEndpointInstanceTest.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptFromEndpointNotUriTest.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptFromEndpointRefTest.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptFromEndpointRefUriTest.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelContextFactoryBean.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringInterceptFromEndpointRefTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringInterceptFromEndpointRefTest.xml;camel-core/src/main/java/org/apache/camel/model/FromDefinition.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptFromEndpointNotUriTest.java;camel-core/src/main/java/org/apache/camel/model/InterceptDefinition.java;camel-core/src/main/java/org/apache/camel/model/InterceptFromDefinition.java;camel-core/src/test/java/org/apache/camel/processor/SimpleMockTest.java;,0
3711,Claus Ibsen,camel-core; camel-spring,0,OnException - The order they are defined in the RouteBuilder / XML should be preserved when you have multiple of the same exception type, OnException except order defin RouteBuilder rout builder XML preserv multipl except type,When you have 2+ of onException(MyExcpetion.class) then the order may get reversed  in the logic which prepares the routes. The logic should cater for clashes and ensure orders is preserved.This currently only occurs for XML based routes. The Java DSL works., onException MyExcpetion class except excpet class order may get revers logic prepar rout rout logic cater clash ensur order preserv preserv current occur XML base rout rout java DSL work work,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/RouteDefinitionHelper.java;camel-core/src/test/java/org/apache/camel/processor/exceptionpolicy/DefaultExceptionPolicyStrategyUsingWhenTest.java;,0
3714,Jim Newsham,camel-jms,0,camel-jms: testConnectionOnStartup does not test connection for producers, camel jm camel jm testConnectionOnStartup test connect startup not test connect produc,I have a camel context which configures jms producers  but no jms consumers. With this configuration  the 'testConnectionOnStartup' jms option did not test the connection when I started the camel context. I have discovered that (with the current implementation) the 'testConnectionOnStartup' option only applies to consumers. I see that it is implemented in JmsConsumer.doStart() -&gt; JmsConsumer.testConnectionOnStartup(). It would be useful if this option could also applied to producers.As a workaround  I configured a dummy route and a dummy jms consumer., camel context configur jm produc no jm consum consum configur testConnectionOnStartup test connect startup jm option not test connect start camel context context discov current implement implement testConnectionOnStartup test connect startup option appli consum consum see implement JmsConsumer doStart jm consum start gt gt JmsConsumer testConnectionOnStartup jm consum test connect startup would use option could also appli produc produc workaround configur dummi rout dummi jm consum consum,0,1,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsTestConnectionOnStartupTest.java;,0
3715,Claus Ibsen,camel-http,0,Sending to http endpoint may double encoding parameters, send http endpoint may doubl encod paramet,See nabbleThe workaround is to use either HTTP_URI or HTTP_QUERY as a header with the parameters. Then they are not double encoded.Also the HTTP_URI should be placeholder resolved  so we can use port or the likes to inject the port number dynamic., see nabbleThe nabbl workaround use either HTTP_URI HTTP URI HTTP_QUERY HTTP QUERY header paramet paramet not doubl encod also encod also HTTP_URI HTTP URI placehold resolv use port like inject port number dynam dynam,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/util/URISupport.java;camel-core/src/test/java/org/apache/camel/util/URISupportTest.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;components/camel-http/src/main/java/org/apache/camel/component/http/helper/HttpHelper.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpComponent.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/helper/HttpHelper.java;components/camel-http4/src/test/java/org/apache/camel/component/http4/HttpQueryTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpClientRouteTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpEndpointUriEncodingIssueTest.java;,0
3721,Claus Ibsen,camel-core,0,Camel properties component - Add support for using jvm system/env in location, camel properti compon add support use jvm system env system env locat,For example you may want to say {{location=${karaf.hom}/etc/myprop.properties}}.eg where karaf.home is a jvm system property.Take a look at simple as we may want to be able to lookup environment variable also., exampl may want say locat karaf hom etc myprop properti eg locat karaf hom etc myprop properti eg karaf home karaf home jvm system properti take properti take look simpl may want abl lookup environ variabl also also,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/properties/PropertiesComponent.java;camel-core/src/test/java/org/apache/camel/component/properties/PropertiesComponentLocationWithJvmPropertyTest.java;camel-core/src/test/java/org/apache/camel/component/properties/PropertiesComponentLocationWithTwoJvmPropertyTest.java;camel-core/src/test/java/org/apache/camel/component/properties/PropertiesComponentTest.java;,0
3722,Claus Ibsen,camel-blueprint; camel-core; camel-spring,0,ThreadPoolProfile - Use string types so its much easier to use property placeholders, ThreadPoolProfile thread pool profil use string type much easier use properti placehold,In the XML DSL you can use threadPoolProfile to define profiles for thread pools. People may want to use property placeholders for min/max values etc. Using xs:string is thus much easier to do that. We do that for some of the others such as &lt;jmxAgent&gt;, XML DSL use threadPoolProfile thread pool profil defin profil thread pool pool peopl may want use properti placehold min max min max valu etc etc use xs string xs string thu much easier other lt jmxAgent gt lt jmx agent gt,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/ThreadPoolBuilder.java;camel-core/src/main/java/org/apache/camel/component/properties/DefaultPropertiesParser.java;camel-core/src/main/java/org/apache/camel/model/ThreadPoolProfileDefinition.java;camel-core/src/test/java/org/apache/camel/component/properties/OptionalPropertiesDslInvalidSyntaxTest.java;camel-core/src/test/java/org/apache/camel/component/properties/PropertiesComponentRegistryTest.java;camel-core/src/test/java/org/apache/camel/component/properties/PropertiesComponentTest.java;camel-core/src/test/java/org/apache/camel/util/URISupportTest.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelContextFactoryBean.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelThreadPoolFactoryBean.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/SpringCamelContextThreadPoolProfilesWithPlaceholderTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/config/SpringCamelContextThreadPoolProfilesWithPlaceholderTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/config/pool.properties;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/ThreadsExternalThreadPoolFactoryBeanTest.xml;,0
3729,Dragisa Krsmanovic,camel-jaxb,0,JAXB marshaling broken in 2.6.0, JAXB marshal broken,This used to work in 2.5.0 but in 2.6.0 it throws:Caused by: javax.xml.bind.JAXBException: class com.ask.ugc.camel.Jask3061$Foo nor any of its super class is known to this context. at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getBeanInfo(JAXBContextImpl.java:594) at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:482) at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:315) at com.sun.xml.bind.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:244) at javax.xml.bind.helpers.AbstractMarshallerImpl.marshal(AbstractMarshallerImpl.java:75) at org.apache.camel.converter.jaxb.JaxbDataFormat.marshal(JaxbDataFormat.java:117) at org.apache.camel.converter.jaxb.JaxbDataFormat.marshal(JaxbDataFormat.java:96)...@ContextConfiguration( locations = 'foo.bar.JaxbBug$ContextConfig'  loader = JavaConfigContextLoader.class)public class JaxbBug extends AbstractTestNGSpringContextTests { @EndpointInject(uri = 'mock:end') protected MockEndpoint mockEndpoint; @Produce(uri = 'direct:test') protected ProducerTemplate producer; @Test @DirtiesContext public void testJaxbMarshalling() throws InterruptedException { mockEndpoint.expectedMessageCount(1); producer.sendBody(new Foo()); mockEndpoint.assertIsSatisfied(); } @Configuration public static class ContextConfig extends SingleRouteCamelConfiguration { @Bean public RouteBuilder route() { return new RouteBuilder() { @Override public void configure() throws Exception { JaxbDataFormat jaxb = new JaxbDataFormat(JAXBContext.newInstance(Foo.class)); from('direct:test').marshal(jaxb).to('mock:end'); } }; } } @XmlRootElement public static class Foo { String bar; public String getBar() { return bar; } public void setBar(String bar) { this.bar = bar; } }}, use work throw caus throw caus javax xml bind JAXBException javax xml bind JAXB except class com ask ugc camel jask foo com ask ugc camel jask foo nor super class known context context com sun xml bind runtim JAXBContextImpl getBeanInfo JAXBContextImpl java com sun xml bind runtim JAXB context impl get bean info JAXB context impl java com sun xml bind runtim XMLSerializer childAsRoot XMLSerializer java com sun xml bind runtim XML serial child root XML serial java com sun xml bind runtim MarshallerImpl write MarshallerImpl java com sun xml bind runtim marshal impl write marshal impl java com sun xml bind runtim MarshallerImpl marshal MarshallerImpl java com sun xml bind runtim marshal impl marshal marshal impl java javax xml bind helper AbstractMarshallerImpl marshal AbstractMarshallerImpl java javax xml bind helper abstract marshal impl marshal abstract marshal impl java org apach camel convert jaxb JaxbDataFormat marshal JaxbDataFormat java org apach camel convert jaxb jaxb data format marshal jaxb data format java org apach camel convert jaxb JaxbDataFormat marshal JaxbDataFormat java ContextConfiguration org apach camel convert jaxb jaxb data format marshal jaxb data format java context configur locat foo bar JaxbBug ContextConfig foo bar jaxb bug context config loader JavaConfigContextLoader class public java config context loader class public class JaxbBug jaxb bug extend AbstractTestNGSpringContextTests abstract test NG spring context test EndpointInject uri endpoint inject uri mock end mock end protect MockEndpoint mock endpoint mockEndpoint mock endpoint produc uri produc uri direct test direct test protect ProducerTemplate produc templat produc produc test test DirtiesContext dirti context public void testJaxbMarshalling test jaxb marshal throw InterruptedException interrupt except mockEndpoint expectedMessageCount mock endpoint expect messag count produc sendBody new produc send bodi new foo foo mockEndpoint assertIsSatisfied mock endpoint assert satisfi configur configur public static class ContextConfig context config extend SingleRouteCamelConfiguration singl rout camel configur bean bean public RouteBuilder rout builder rout rout return new RouteBuilder rout builder overrid overrid public void configur configur throw except JaxbDataFormat jaxb data format jaxb new JaxbDataFormat JAXBContext newInstance foo class jaxb data format JAXB context new instanc foo class direct test marshal jaxb mock end direct test marshal jaxb mock end XmlRootElement xml root element public static class foo string bar bar public string getBar get bar return bar bar public void setBar string set bar string bar bar bar bar bar bar,1,0,1,0,0,components/camel-jaxb/pom.xml;components/camel-jaxb/src/test/java/org/apache/camel/jaxb/JaxbDataFormatIssueTest.java;components/camel-jaxb/src/test/java/org/apache/camel/jaxb/JaxbDataFormatIssueUsingSpringJavaConfigTest.java;components/camel-jaxb/src/test/resources/log4j.properties;,0
3731,Claus Ibsen,camel-core,0,IgnoreInvalidEndpoint should log invalid endpoints at DEBUG level, IgnoreInvalidEndpoint ignor invalid endpoint log invalid endpoint DEBUG level,Currently its logged at INFO level with full stacktrace. If end user enabled this option we should only log it at DEBUG level to avoid spamming production logs.See nabblehttp://camel.465427.n5.nabble.com/camel-recipientList-with-ignoreInvalidEndpoints-true-tp3404103p3404103.html, current log INFO level full stacktrac stacktrac end user enabl option log DEBUG level avoid spam product log see log see nabblehttp camel nabbl com camel recipientList ignoreInvalidEndpoints true tp html nabblehttp camel nabbl com camel recipi list ignor invalid endpoint true tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/RecipientListProcessor.java;camel-core/src/main/java/org/apache/camel/processor/RoutingSlip.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanDefinitionParser.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanBusSettingTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/CxfDispatchMessageBeans.xml;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/CxfDispatchPayloadBeans.xml;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/spring/CxfEndpointBeansBusSetting.xml;,0
3733,Willem Jiang,camel-core; camel-test,0,Add comments on the CamelContextTestSupport class to tell user to start the camel context manually when the test doesn't use the RouteBuilder, add comment CamelContextTestSupport camel context test support class tell user start camel context manual test use RouteBuilder rout builder,Current CamelContextTestSupport class will not start the camelcontext if the isUseRouteBuilder() return false.If the component that is used by template needs to be started  your test method will get the NPE or some strange error.And you can these load when shutting down the camel context.Mar 1  2011 4:31:29 PM org.apache.camel.test.junit4.CamelTestSupport tearDownINFO: Testing done: com.fusesource.example.camel.cxf.jms.HelloWorldClient@e49d67cMar 1  2011 4:31:29 PM org.apache.camel.impl.DefaultCamelContext doStopINFO: Apache Camel 2.6.0-fuse-00-00 (CamelContext:camel-1) is shutting downMar 1  2011 4:31:29 PM org.apache.camel.impl.DefaultCamelContext createManagementStrategyINFO: JMX is disabled. Using DefaultManagementStrategy.Mar 1  2011 4:31:29 PM org.apache.camel.impl.DefaultShutdownStrategy doShutdownINFO: Starting to graceful shutdown 0 routes (timeout 10 seconds)Mar 1  2011 4:31:29 PM org.apache.camel.impl.DefaultShutdownStrategy doShutdownINFO: Graceful shutdown of 0 routes completed in 0 secondsMar 1  2011 4:31:29 PM org.apache.camel.impl.DefaultCamelContext doStopINFO: Uptime: not startedMar 1  2011 4:31:29 PM org.apache.camel.impl.DefaultCamelContext doStopINFO: Apache Camel 2.6.0-fuse-00-00 (CamelContext: camel-1) is shutdown in 0.023 seconds, current CamelContextTestSupport camel context test support class not start camelcontext isUseRouteBuilder use rout builder return fals fals compon use templat need start test method get NPE strang error error load shut camel context mar context mar PM org apach camel test junit CamelTestSupport org apach camel test junit camel test support tearDownINFO tear INFO test done done com fusesourc exampl camel cxf jm HelloWorldClient cMar com fusesourc exampl camel cxf jm hello world client mar PM org apach camel impl DefaultCamelContext org apach camel impl default camel context doStopINFO stop INFO apach camel fuse fuse CamelContext camel camel context camel shut downMar mar PM org apach camel impl DefaultCamelContext org apach camel impl default camel context createManagementStrategyINFO creat manag strategi INFO JMX disabl disabl use DefaultManagementStrategy mar default manag strategi mar PM org apach camel impl DefaultShutdownStrategy org apach camel impl default shutdown strategi doShutdownINFO shutdown INFO start grace shutdown rout timeout second mar second mar PM org apach camel impl DefaultShutdownStrategy org apach camel impl default shutdown strategi doShutdownINFO shutdown INFO grace shutdown rout complet secondsMar second mar PM org apach camel impl DefaultCamelContext org apach camel impl default camel context doStopINFO stop INFO uptim uptim not startedMar start mar PM org apach camel impl DefaultCamelContext org apach camel impl default camel context doStopINFO stop INFO apach camel fuse fuse CamelContext camel context camel camel shutdown second,1,0,0,0,0,camel-core/src/test/java/org/apache/camel/ContextTestSupport.java;camel-core/src/test/java/org/apache/camel/ContextTestSupport.java;components/camel-test/src/main/java/org/apache/camel/test/CamelTestSupport.java;components/camel-test/src/main/java/org/apache/camel/test/junit4/CamelTestSupport.java;,0
3738,Claus Ibsen,camel-core,0,Let log  log eip and mock producer be async processor, let log log eip mock produc async processor,We should prefer to use the async processor for the Camel EIPs and components when possible. This avoids the tiny overhead of having a sync to async adapter (implemented using a converter)., prefer use async processor camel EIPs EI Ps compon possibl possibl avoid tini overhead sync async adapt implement use convert convert,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/util/AsyncProcessorHelper.java;camel-core/src/main/java/org/apache/camel/component/log/LogEndpoint.java;camel-core/src/main/java/org/apache/camel/component/log/LogProducer.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/processor/LogProcessor.java;camel-core/src/main/java/org/apache/camel/util/AsyncProcessorHelper.java;,0
3749,Marco Crivellaro,camel-ftp,0,sftp producer runs in exception fileName does not contain any path information, sftp produc run except fileName file name not contain path inform,When the fileName uri option does not contain any folder information  ie: 'fileName=filename.txt' the producer runs in exceptionThe exception is thrown when the producer calls ls method of jsch ChannelSftp passing an empty string as directory parameter in org.apache.camel.component.file.remote.SftpOperations.existsFile line 704sample URI: sftp://user@hostname:22?disconnect=true&amp;eagerDeleteTargetFile=false%3Bstepwise%3Dfalse&amp;fileName=SYSTEM01&amp;password=******&amp;soTimeout=30000&amp;tempFileName=%24%7Bfile%3Aname.noext%7D.tmpStack trace:[2011-03-03 14:40:40 827][RecipientList (thread #4)][ERROR][org.apache.camel.processor.DefaultErrorHandler][] Failed delivery for exchangeId: ID-******-33331-1299163043684-0-10. Exhausted after delivery attempt: 1 caught: org.apache.camel.component.file.GenericFileOperationFailedExcept on: org.apache.camel.component.file.GenericFileOperationFailedException: at org.apache.camel.component.file.remote.SftpOperations.existsFile(SftpOperations.java:727) at org.apache.camel.component.file.GenericFileProducer.processExchange(GenericFileProducer.java:130) at org.apache.camel.component.file.remote.RemoteFileProducer.process(RemoteFileProducer.java:50) at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:103) at org.apache.camel.processor.MulticastProcessor.doProcessParallel(MulticastProcessor.java:716) at org.apache.camel.processor.MulticastProcessor.access$100(MulticastProcessor.java:78) at org.apache.camel.processor.MulticastProcessor$1.call(MulticastProcessor.java:282) at org.apache.camel.processor.MulticastProcessor$1.call(MulticastProcessor.java:274) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) at java.util.concurrent.FutureTask.run(FutureTask.java:138) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) at java.util.concurrent.FutureTask.run(FutureTask.java:138) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619) Caused by: 4: at com.jcraft.jsch.ChannelSftp.ls(ChannelSftp.java:1353) at org.apache.camel.component.file.remote.SftpOperations.existsFile(SftpOperations.java:704) ... 20 more Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: 0 at java.lang.String.charAt(String.java:686) at com.jcraft.jsch.ChannelSftp.remoteAbsolutePath(ChannelSftp.java:2367) at com.jcraft.jsch.ChannelSftp.ls(ChannelSftp.java:1185) ... 21 more, fileName file name uri option not contain folder inform ie ie fileName filenam txt file name filenam txt produc run exceptionThe except except thrown produc call ls method jsch ChannelSftp channel sftp pass empti string directori paramet org apach camel compon file remot SftpOperations existsFile org apach camel compon file remot sftp oper exist file line sampl URI URI sftp user hostnam disconnect true amp eagerDeleteTargetFile fals bstepwis dfals amp fileName SYSTEM amp password amp soTimeout amp tempFileName bfile anam noext tmpStack sftp user hostnam disconnect true amp eager delet target file fals bstepwis dfals amp file name SYSTEM amp password amp timeout amp temp file name bfile anam noext tmp stack trace trace RecipientList recipi list thread ERROR org apach camel processor DefaultErrorHandler ERROR org apach camel processor default error handler fail deliveri exchangeId exchang Id ID ID exhaust deliveri attempt attempt caught caught org apach camel compon file GenericFileOperationFailedExcept org apach camel compon file gener file oper fail except org apach camel compon file GenericFileOperationFailedException org apach camel compon file gener file oper fail except org apach camel compon file remot SftpOperations existsFile SftpOperations java org apach camel compon file remot sftp oper exist file sftp oper java org apach camel compon file GenericFileProducer processExchange GenericFileProducer java org apach camel compon file gener file produc process exchang gener file produc java org apach camel compon file remot RemoteFileProducer process RemoteFileProducer java org apach camel compon file remot remot file produc process remot file produc java org apach camel impl convert AsyncProcessorTypeConverter ProcessorToAsyncProcessorBridge process AsyncProcessorTypeConverter java org apach camel impl convert async processor type convert processor async processor bridg process async processor type convert java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor MulticastProcessor doProcessParallel MulticastProcessor java org apach camel processor multicast processor process parallel multicast processor java org apach camel processor MulticastProcessor access MulticastProcessor java org apach camel processor multicast processor access multicast processor java org apach camel processor MulticastProcessor call MulticastProcessor java org apach camel processor multicast processor call multicast processor java org apach camel processor MulticastProcessor call MulticastProcessor java org apach camel processor multicast processor call multicast processor java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java java util concurr FutureTask run FutureTask java java util concurr futur task run futur task java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java java util concurr FutureTask run FutureTask java java util concurr futur task run futur task java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java caus com jcraft jsch ChannelSftp ls ChannelSftp java com jcraft jsch channel sftp ls channel sftp java org apach camel compon file remot SftpOperations existsFile SftpOperations java org apach camel compon file remot sftp oper exist file sftp oper java caus java lang StringIndexOutOfBoundsException java lang string index bound except string index rang rang java lang string charAt string java java lang string char string java com jcraft jsch ChannelSftp remoteAbsolutePath ChannelSftp java com jcraft jsch channel sftp remot absolut path channel sftp java com jcraft jsch ChannelSftp ls ChannelSftp java com jcraft jsch channel sftp ls channel sftp java,1,0,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpProduceTempFileTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleProduceTest.java;,0
3756,Christian Müller,examples,0,Add an example which use CXF bean binding and the OSGI HTTP Service (e.g. PAX Web with jetty), add exampl use CXF bean bind OSGI HTTP servic PAX web jetti jetti,Please see Nabble for details., pleas see nabbl detail detail,0,1,0,0,0,examples/camel-example-cxf-osgi/README.txt;examples/camel-example-cxf-osgi/pom.xml;examples/camel-example-cxf-osgi/src/main/java/org/apache/camel/example/reportincident/ReportIncidentRoutes.java;examples/camel-example-cxf-osgi/src/main/resources/META-INF/LICENSE.txt;examples/camel-example-cxf-osgi/src/main/resources/META-INF/NOTICE.txt;examples/camel-example-cxf-osgi/src/main/resources/META-INF/spring/camel-context.xml;examples/camel-example-cxf-osgi/src/main/resources/META-INF/wsdl/report_incident.wsdl;examples/pom.xml;examples/camel-example-cxf-osgi/README.txt;,0
3759,Christian Müller,null,0,After switching to slf4j  we can get rid of the 'isTraceEnabled'  'isDebugEnabled' and 'isInfoEnabled' statements, switch slf slf get rid isTraceEnabled trace enabl isDebugEnabled debug enabl isInfoEnabled info enabl statement,we can get rid of the 'isTraceEnabled'  'isDebugEnabled' and 'isInfoEnabled' statements with slf4j and uselogger.debug('Temperature set to {}. Old temperature was {}.'  t  oldT);insteadchristian-muellers-macbook-pro:camel cmueller$ egrep -r 'isTraceEnabled|isDebugEnabled|isInfoEnabled]' . | wc -l 1485, get rid isTraceEnabled trace enabl isDebugEnabled debug enabl isInfoEnabled info enabl statement slf slf uselogg debug temperatur uselogg debug temperatur set old temperatur oldT insteadchristian mueller macbook pro camel old insteadchristian mueller macbook pro camel cmueller cmueller egrep isTraceEnabled isDebugEnabled isInfoEnabled trace enabl debug enabl info enabl wc,0,0,0,0,0,components/camel-atom/src/main/java/org/apache/camel/component/atom/UpdatedDateFilter.java;components/camel-bam/src/main/java/org/apache/camel/bam/model/ActivityState.java;components/camel-bam/src/main/java/org/apache/camel/bam/processor/ActivityMonitorEngine.java;components/camel-bam/src/main/java/org/apache/camel/bam/processor/BamProcessorSupport.java;components/camel-bam/src/main/java/org/apache/camel/bam/processor/JpaBamProcessor.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyCsvFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyKeyValuePairFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/csv/BindyCsvDataFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/fixed/BindyFixedLengthDataFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/kvp/BindyKeyValuePairDataFormat.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/BlueprintComponentResolver.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/BlueprintDataFormatResolver.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/BlueprintLanguageResolver.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/ContextScanRouteBuilderFinder.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/PackageScanRouteBuilderFinder.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheConsumer.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheEventListener.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheProducer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedMessageBodyReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedTokenReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheValidate.java;components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheConsumerFIFOTest.java;components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheConsumerTest.java;components/camel-cache/src/test/java/org/apache/camel/processor/cache/CacheBasedBodyReplacerTest.java;components/camel-cache/src/test/java/org/apache/camel/processor/cache/CacheBasedTokenReplacerTest.java;components/camel-cache/src/test/java/org/apache/camel/processor/cache/CacheBasedXPathElementReplacerTest.java;components/camel-context/src/main/java/org/apache/camel/component/context/LocalContextComponent.java;components/camel-context/src/main/java/org/apache/camel/component/context/QualifiedContextComponent.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiCamelContextPublisher.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiComponentResolver.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiDataFormatResolver.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiLanguageResolver.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelContextFactoryBean.java;components/camel-cxf-transport/src/main/java/org/apache/camel/component/cxf/transport/CamelConduit.java;components/camel-cxf-transport/src/main/java/org/apache/camel/component/cxf/transport/CamelDestination.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfClientCallback.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfHeaderFilterStrategy.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/DefaultCxfBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/cxfbean/CxfBeanDestination.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/cxfbean/CxfBeanTransportFactory.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/CxfRsEndpoint.java;components/camel-exec/src/main/java/org/apache/camel/component/exec/impl/DefaultExecBinding.java;components/camel-flatpack/src/main/java/org/apache/camel/component/flatpack/FlatpackComponent.java;components/camel-freemarker/src/main/java/org/apache/camel/component/freemarker/FreemarkerEndpoint.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpEndpoint.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpsEndpoint.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpsOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileProducer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-hawtdb/src/main/java/org/apache/camel/component/hawtdb/HawtDBAggregationRepository.java;components/camel-hawtdb/src/main/java/org/apache/camel/component/hawtdb/HawtDBFile.java;components/camel-hawtdb/src/test/java/org/apache/camel/component/hawtdb/HawtDBAggregateLoadAndRecoverTest.java;components/camel-hawtdb/src/test/java/org/apache/camel/component/hawtdb/HawtDBAggregateLoadConcurrentTest.java;components/camel-hawtdb/src/test/java/org/apache/camel/component/hawtdb/HawtDBAggregateLoadTest.java;components/camel-hl7/src/main/java/org/apache/camel/component/hl7/HL7MLLPDecoder.java;components/camel-hl7/src/main/java/org/apache/camel/component/hl7/HL7MLLPEncoder.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpEndpoint.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpProducer.java;components/camel-ibatis/src/main/java/org/apache/camel/component/ibatis/IBatisConsumer.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcComponent.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcConsumer.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcEndpoint.java;components/camel-irc/src/main/java/org/apache/camel/component/irc/IrcProducer.java;components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcProducer.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/DefaultJettyHttpBinding.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyContentExchange.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpProducer.java;components/camel-jing/src/main/java/org/apache/camel/component/validator/jing/JingComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConsumer.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyManagerSupport.java;components/camel-jpa/src/main/java/org/apache/camel/component/jpa/JpaConsumer.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400PgmProducer.java;components/camel-kestrel/src/main/java/org/apache/camel/component/kestrel/KestrelComponent.java;components/camel-kestrel/src/main/java/org/apache/camel/component/kestrel/KestrelConsumer.java;components/camel-kestrel/src/main/java/org/apache/camel/component/kestrel/KestrelProducer.java;components/camel-ldap/src/main/java/org/apache/camel/component/ldap/LdapProducer.java;components/camel-lucene/src/main/java/org/apache/camel/component/lucene/LuceneIndexer.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailProducer.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/security/DummyTrustManager.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mybatis/src/main/java/org/apache/camel/component/mybatis/MyBatisConsumer.java;components/camel-nagios/src/main/java/org/apache/camel/component/nagios/NagiosProducer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultClientPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultServerPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyConfiguration.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyConsumer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyProducer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ClientChannelHandler.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ServerChannelHandler.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyCustomPipelineFactoryAsynchTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyCustomPipelineFactorySynchTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettySSLTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyTCPAsyncTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyTCPSyncNotLazyChannelTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyUDPAsyncTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyUDPObjectSyncTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyUDPSyncTest.java;components/camel-printer/src/main/java/org/apache/camel/component/printer/PrinterOperations.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzComponent.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzEndpoint.java;components/camel-quartz/src/main/java/org/apache/camel/routepolicy/quartz/ScheduledRoutePolicy.java;components/camel-quickfix/src/main/java/org/apache/camel/component/quickfixj/QuickfixjEngine.java;components/camel-quickfix/src/main/java/org/apache/camel/component/quickfixj/QuickfixjProducer.java;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/examples/routing/FixMessageRouter.java;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/DefaultRestletBinding.java;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/MethodBasedRouter.java;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletComponent.java;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletConsumer.java;components/camel-routebox/src/main/java/org/apache/camel/component/routebox/RouteboxServiceSupport.java;components/camel-routebox/src/main/java/org/apache/camel/component/routebox/direct/RouteboxDirectProducer.java;components/camel-routebox/src/main/java/org/apache/camel/component/routebox/seda/RouteboxSedaConsumer.java;components/camel-routebox/src/main/java/org/apache/camel/component/routebox/strategy/RouteboxDispatcher.java;components/camel-routebox/src/test/java/org/apache/camel/component/routebox/RouteboxDefaultContextAndRouteBuilderTest.java;components/camel-routebox/src/test/java/org/apache/camel/component/routebox/RouteboxDirectProducerOnlyTest.java;components/camel-routebox/src/test/java/org/apache/camel/component/routebox/RouteboxDirectTest.java;components/camel-routebox/src/test/java/org/apache/camel/component/routebox/RouteboxDispatchMapTest.java;components/camel-routebox/src/test/java/org/apache/camel/component/routebox/RouteboxSedaTest.java;components/camel-routebox/src/test/java/org/apache/camel/component/routebox/demo/BookCatalog.java;components/camel-rss/src/main/java/org/apache/camel/component/rss/UpdatedDateFilter.java;components/camel-saxon/src/main/java/org/apache/camel/component/xquery/XQueryBuilder.java;components/camel-saxon/src/main/java/org/apache/camel/component/xquery/XQueryComponent.java;components/camel-script/src/main/java/org/apache/camel/builder/script/ScriptBuilder.java;components/camel-shiro/src/main/java/org/apache/camel/component/shiro/security/ShiroSecurityPolicy.java;components/camel-sip/src/main/java/org/apache/camel/component/sip/listener/SipPresenceAgentListener.java;components/camel-sip/src/main/java/org/apache/camel/component/sip/listener/SipSubscriptionListener.java;components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppConsumer.java;components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppProducer.java;components/camel-snmp/src/main/java/org/apache/camel/component/snmp/SnmpEndpoint.java;components/camel-snmp/src/main/java/org/apache/camel/component/snmp/SnmpOIDPoller.java;components/camel-snmp/src/main/java/org/apache/camel/component/snmp/SnmpTrapConsumer.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationConsumer.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationProducer.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/adapter/CamelSourceAdapter.java;components/camel-spring-javaconfig/src/main/java/org/apache/camel/spring/javaconfig/test/JavaConfigContextLoader.java;components/camel-spring-security/src/main/java/org/apache/camel/component/spring/security/SpringSecurityAuthorizationPolicy.java;components/camel-spring/src/main/java/org/apache/camel/component/ResourceBasedEndpoint.java;components/camel-spring/src/main/java/org/apache/camel/component/test/TestEndpoint.java;components/camel-spring/src/main/java/org/apache/camel/component/validator/ValidatorComponent.java;components/camel-spring/src/main/java/org/apache/camel/component/xslt/XsltComponent.java;components/camel-spring/src/main/java/org/apache/camel/osgi/CamelContextFactory.java;components/camel-spring/src/main/java/org/apache/camel/osgi/CamelContextFactoryBean.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java;components/camel-spring/src/main/java/org/apache/camel/spring/ContextScanRouteBuilderFinder.java;components/camel-spring/src/main/java/org/apache/camel/spring/PackageScanRouteBuilderFinder.java;components/camel-spring/src/main/java/org/apache/camel/spring/SpringCamelContext.java;components/camel-spring/src/main/java/org/apache/camel/spring/handler/CamelNamespaceHandler.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandler.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java;components/camel-sql/src/main/java/org/apache/camel/processor/aggregate/jdbc/JdbcAggregationRepository.java;components/camel-sql/src/test/java/org/apache/camel/processor/aggregate/jdbc/JdbcAggregateLoadAndRecoverTest.java;components/camel-sql/src/test/java/org/apache/camel/processor/aggregate/jdbc/JdbcAggregateLoadConcurrentTest.java;components/camel-sql/src/test/java/org/apache/camel/processor/aggregate/jdbc/JdbcAggregateLoadTest.java;components/camel-stream/src/main/java/org/apache/camel/component/stream/StreamConsumer.java;components/camel-stream/src/main/java/org/apache/camel/component/stream/StreamEndpoint.java;components/camel-stream/src/main/java/org/apache/camel/component/stream/StreamProducer.java;components/camel-stringtemplate/src/main/java/org/apache/camel/component/stringtemplate/StringTemplateEndpoint.java;components/camel-velocity/src/main/java/org/apache/camel/component/velocity/VelocityEndpoint.java;components/camel-web/src/main/java/org/apache/camel/web/resources/RouteResource.java;components/camel-web/src/main/java/org/apache/camel/web/resources/RoutesResource.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppComponent.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppEndpoint.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppGroupChatProducer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppLogger.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java;camel-core/src/main/java/org/apache/camel/builder/xml/XPathBuilder.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/JmxMBeanAssembler.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;components/camel-dozer/src/main/java/org/apache/camel/converter/dozer/DozerTypeConverterLoader.java;components/camel-nagios/src/main/java/org/apache/camel/component/nagios/NagiosEventNotifier.java;components/camel-snmp/src/main/java/org/apache/camel/component/snmp/SnmpTrapConsumer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppGroupChatProducer.java;camel-core/src/main/java/org/apache/camel/builder/xml/XsltUriResolver.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileOnCompletion.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileChangedExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileLockExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileProcessStrategySupport.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/MarkerFileExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/language/LanguageProducer.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/component/mock/TimeClause.java;camel-core/src/main/java/org/apache/camel/component/properties/PropertiesComponent.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaConsumer.java;camel-core/src/main/java/org/apache/camel/impl/CamelPostProcessorHelper.java;camel-core/src/main/java/org/apache/camel/impl/ConsumerCache.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java;camel-core/src/main/java/org/apache/camel/impl/DefaultComponentResolver.java;camel-core/src/main/java/org/apache/camel/impl/DefaultConsumer.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExecutorServiceStrategy.java;camel-core/src/main/java/org/apache/camel/impl/DefaultLanguageResolver.java;camel-core/src/main/java/org/apache/camel/impl/DefaultPackageScanClassResolver.java;camel-core/src/main/java/org/apache/camel/impl/DefaultProducer.java;camel-core/src/main/java/org/apache/camel/impl/DefaultServicePool.java;camel-core/src/main/java/org/apache/camel/impl/DefaultShutdownStrategy.java;camel-core/src/main/java/org/apache/camel/impl/InterceptSendToEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/LimitedPollingConsumerPollStrategy.java;camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java;camel-core/src/main/java/org/apache/camel/impl/RoutePolicySupport.java;camel-core/src/main/java/org/apache/camel/impl/RouteService.java;camel-core/src/main/java/org/apache/camel/impl/ScheduledPollConsumer.java;camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/converter/BaseTypeConverterRegistry.java;camel-core/src/main/java/org/apache/camel/impl/osgi/Activator.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguageSupport.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementAgent.java;camel-core/src/main/java/org/apache/camel/management/PublishEventNotifier.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/RouteDefinition.java;camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java;camel-core/src/main/java/org/apache/camel/processor/BatchProcessor.java;camel-core/src/main/java/org/apache/camel/processor/ChoiceProcessor.java;camel-core/src/main/java/org/apache/camel/processor/DefaultChannel.java;camel-core/src/main/java/org/apache/camel/processor/DelayProcessorSupport.java;camel-core/src/main/java/org/apache/camel/processor/FilterProcessor.java;camel-core/src/main/java/org/apache/camel/processor/LoopProcessor.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/OnCompletionProcessor.java;camel-core/src/main/java/org/apache/camel/processor/Pipeline.java;camel-core/src/main/java/org/apache/camel/processor/PipelineHelper.java;camel-core/src/main/java/org/apache/camel/processor/PollEnricher.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryPolicy.java;camel-core/src/main/java/org/apache/camel/processor/SendProcessor.java;camel-core/src/main/java/org/apache/camel/processor/TryProcessor.java;camel-core/src/main/java/org/apache/camel/processor/WireTapProcessor.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/FileIdempotentRepository.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/IdempotentConsumer.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/IdempotentOnCompletion.java;camel-core/src/main/java/org/apache/camel/processor/loadbalancer/FailOverLoadBalancer.java;camel-core/src/main/java/org/apache/camel/processor/validation/PredicateValidatingProcessor.java;camel-core/src/main/java/org/apache/camel/util/DefaultTimeoutMap.java;camel-core/src/main/java/org/apache/camel/util/EndpointHelper.java;camel-core/src/main/java/org/apache/camel/util/EventHelper.java;camel-core/src/main/java/org/apache/camel/util/FileUtil.java;camel-core/src/main/java/org/apache/camel/util/ServiceHelper.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/ContextScanRouteBuilderFinder.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/PackageScanRouteBuilderFinder.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheProducer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedTokenReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheValidate.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdProducer.java;components/camel-context/src/main/java/org/apache/camel/component/context/LocalContextComponent.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiComponentResolver.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiDataFormatResolver.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiLanguageResolver.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiPackageScanClassResolver.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiTypeConverter.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/utils/BundleDelegatingClassLoader.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelContextFactoryBean.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfConsumer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfHeaderFilterStrategy.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/DefaultCxfBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/SoapMessageHeaderFilter.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/cxfbean/CxfBeanDestination.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/cxfbean/DefaultCxfBeanBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/CxfRsInvoker.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/CxfRsProducer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/DefaultCxfRsBinding.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/util/CxfEndpointUtils.java;components/camel-eventadmin/src/main/java/org/apache/camel/component/eventadmin/EventAdminConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileProducer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-hawtdb/src/main/java/org/apache/camel/component/hawtdb/HawtDBAggregationRepository.java;components/camel-hawtdb/src/main/java/org/apache/camel/component/hawtdb/HawtDBFile.java;components/camel-http/src/main/java/org/apache/camel/component/http/CamelServlet.java;components/camel-ibatis/src/main/java/org/apache/camel/component/ibatis/IBatisConsumer.java;components/camel-ibatis/src/main/java/org/apache/camel/component/ibatis/IBatisProducer.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessage.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/PersistentQueueReplyManager.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyManagerSupport.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyManager.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400DataQueueConsumer.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400PgmProducer.java;components/camel-kestrel/src/main/java/org/apache/camel/component/kestrel/KestrelConsumer.java;components/camel-ldap/src/main/java/org/apache/camel/component/ldap/LdapProducer.java;components/camel-lucene/src/main/java/org/apache/camel/component/lucene/LuceneIndexer.java;components/camel-lucene/src/main/java/org/apache/camel/component/lucene/LuceneSearcher.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMultipartAlternativeTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMultipartAlternativeWithContentTypeTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MimeMultipartAlternativeWithLongerFilenameTest.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaHelper.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-mybatis/src/main/java/org/apache/camel/component/mybatis/MyBatisConsumer.java;components/camel-mybatis/src/main/java/org/apache/camel/component/mybatis/MyBatisProducer.java;components/camel-nagios/src/main/java/org/apache/camel/component/nagios/NagiosEventNotifier.java;components/camel-nagios/src/main/java/org/apache/camel/component/nagios/NagiosProducer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyHelper.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ClientChannelHandler.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ServerChannelHandler.java;components/camel-paxlogging/src/main/java/org/apache/camel/component/paxlogging/PaxLoggingConsumer.java;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletProducer.java;components/camel-routebox/src/main/java/org/apache/camel/component/routebox/RouteboxConfiguration.java;components/camel-routebox/src/main/java/org/apache/camel/component/routebox/seda/RouteboxSedaProducer.java;components/camel-spring/src/main/java/org/apache/camel/component/xslt/XsltComponent.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelBeanPostProcessor.java;components/camel-spring/src/main/java/org/apache/camel/spring/ContextScanRouteBuilderFinder.java;components/camel-spring/src/main/java/org/apache/camel/spring/PackageScanRouteBuilderFinder.java;components/camel-spring/src/main/java/org/apache/camel/spring/util/SpringAntPathMatcherFileFilter.java;components/camel-sql/src/main/java/org/apache/camel/processor/aggregate/jdbc/JdbcAggregationRepository.java;components/camel-stream/src/main/java/org/apache/camel/component/stream/StreamConsumer.java;components/camel-stream/src/main/java/org/apache/camel/component/stream/StreamProducer.java;components/camel-syslog/src/main/java/org/apache/camel/component/syslog/Rfc3164SyslogConverter.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppBinding.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/FileIdempotentRepository.java;components/camel-dozer/src/main/java/org/apache/camel/converter/dozer/DozerTypeConverterLoader.java;components/camel-exec/src/main/java/org/apache/camel/component/exec/ExecProducer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-nagios/src/main/java/org/apache/camel/component/nagios/NagiosEventNotifier.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzComponent.java;component,0
3769,Alfred Hiebl,camel-mail,0,Mail component issue with starttls option, mail compon issu starttl option,The problem occurs when I read from a pop3 endpoint and send to an smtp endpoint in the same camel context with the mail.pop3.starttls.enable=true and mail.smtp.starttls.enable=true options.Required Java options for starttls are set:-Djavax.net.ssl.trustStore=D:/test/xxx.jks-Djavax.net.ssl.trustStorePassword=yyyWhen I only configure one of either route  everything works fine. When I configure both  I get the following exception:AUTH LOGINC: STAT530 Must issue STARTTLS command firstSTARTTLSS: +OK 0 0C: NOOP220 begin TLS negotiationS: +OKC: RSETS: +OKC: QUITAUTH LOGINS: +OK POP3 server closing connection503 wrong state for AUTH command2011-03-03 10:08:36 797 &#91;foo&#93; ERROR DefaultErrorHandler - Failed delivery for exchangeId: ID-E6500-ahi-61446-1299143304838-0-2. Exhausted after delivery attempt: 1 caught: org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 503 wrong state for AUTH commandorg.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 503 wrong state for AUTH command at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:392)&#91;org.springframework.context.support-3.0.5.RELEASE.jar:3.0.5.RELEASE&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)&#91;org.springframework.context.support-3.0.5.RELEASE.jar:3.0.5.RELEASE&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:355)&#91;org.springframework.context.support-3.0.5.RELEASE.jar:3.0.5.RELEASE&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:344)&#91;org.springframework.context.support-3.0.5.RELEASE.jar:3.0.5.RELEASE&#93; at org.apache.camel.component.mail.MailProducer.process(MailProducer.java:44)&#91;camel-mail-2.6.0.jar:2.6.0&#93; at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:70)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:104)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:272)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:98)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:70)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:70)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:70)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:70)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:125)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:102)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:70)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.RoutePolicyProcessor.process(RoutePolicyProcessor.java:75)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:70)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:91)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:104)&#91;camel-core-2.6.0.jar:2.6.0&#93; at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:49)&#91;camel-core-2.6.0.jar:2.6.0&#93; at java.util.TimerThread.mainLoop(Unknown Source)&#91;:1.5.0_22&#93; at java.util.TimerThread.run(Unknown Source)&#91;:1.5.0_22&#93;The problem seems to be in org.apache.camel.component.mail.MailConfiguration.createJavaMailSender() where it uses the same mail session for both connection; see Session.getDefaultInstance below if (session != null) { answer.setSession(session); } else { // use our authenticator that does no live user interaction but returns the already configured username and password Session session; try { session = Session.getDefaultInstance(answer.getJavaMailProperties()  getAuthenticator()); } catch (Throwable t) { // fallback as default instance may not be allowed on some systems session = Session.getInstance(answer.getJavaMailProperties()  getAuthenticator()); } answer.setSession(session); }This is because getDefaultInstance creates a Session object the first time it is called. Then it caches that Session and returns it for all subsequent calls. It also ignores the new and different properties for the second route.See also http://camel.465427.n5.nabble.com/Mail-component-with-starttls-td3409505.html, problem occur read pop pop endpoint send smtp endpoint camel context mail pop starttl enabl true mail pop starttl enabl true mail smtp starttl enabl true mail smtp starttl enabl true option requir option requir java option starttl set djavax net ssl trustStore test xxx jk djavax net ssl trustStorePassword yyyWhen set djavax net ssl trust store test xxx jk djavax net ssl trust store password yyy configur one either rout everyth work fine fine configur get follow except AUTH except AUTH LOGINC LOGINC STAT STAT must issu STARTTLS command firstSTARTTLSS first STARTTLSS OK OK NOOP NOOP begin TLS negotiationS negoti OKC OKC RSETS RSETS OKC OKC QUITAUTH LOGINS LOGINS OK OK POP POP server close connect connect wrong state AUTH command command foo foo ERROR DefaultErrorHandler default error handler fail deliveri exchangeId exchang Id ID ahi ID ahi exhaust deliveri attempt attempt caught caught org springframework mail MailAuthenticationException org springframework mail mail authent except authent fail fail nest except javax mail AuthenticationFailedException javax mail authent fail except wrong state AUTH commandorg springframework mail MailAuthenticationException commandorg springframework mail mail authent except authent fail fail nest except javax mail AuthenticationFailedException javax mail authent fail except wrong state AUTH command org springframework mail javamail JavaMailSenderImpl doSend JavaMailSenderImpl java org springframework context support RELEASE jar RELEASE org springframework mail javamail java mail sender impl send java mail sender impl java org springframework context support RELEASE jar RELEASE org springframework mail javamail JavaMailSenderImpl send JavaMailSenderImpl java org springframework context support RELEASE jar RELEASE org springframework mail javamail java mail sender impl send java mail sender impl java org springframework context support RELEASE jar RELEASE org springframework mail javamail JavaMailSenderImpl send JavaMailSenderImpl java org springframework context support RELEASE jar RELEASE org springframework mail javamail java mail sender impl send java mail sender impl java org springframework context support RELEASE jar RELEASE org springframework mail javamail JavaMailSenderImpl send JavaMailSenderImpl java org springframework context support RELEASE jar RELEASE org springframework mail javamail java mail sender impl send java mail sender impl java org springframework context support RELEASE jar RELEASE org apach camel compon mail MailProducer process MailProducer java camel mail jar org apach camel compon mail mail produc process mail produc java camel mail jar org apach camel impl convert AsyncProcessorTypeConverter ProcessorToAsyncProcessorBridge process AsyncProcessorTypeConverter java camel core jar org apach camel impl convert async processor type convert processor async processor bridg process async processor type convert java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor SendProcessor doInAsyncProducer SendProcessor java camel core jar org apach camel processor send processor async produc send processor java camel core jar org apach camel impl ProducerCache doInAsyncProducer ProducerCache java camel core jar org apach camel impl produc cach async produc produc cach java camel core jar org apach camel processor SendProcessor process SendProcessor java camel core jar org apach camel processor send processor process send processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process next deleg async processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel manag InstrumentationProcessor process InstrumentationProcessor java camel core jar org apach camel manag instrument processor process instrument processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process next deleg async processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel processor interceptor TraceInterceptor process TraceInterceptor java camel core jar org apach camel processor interceptor trace interceptor process trace interceptor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java camel core jar org apach camel processor redeliveri error handler process error handler redeliveri error handler java camel core jar org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java camel core jar org apach camel processor redeliveri error handler process redeliveri error handler java camel core jar org apach camel processor DefaultChannel process DefaultChannel java camel core jar org apach camel processor default channel process default channel java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor pipelin process pipelin java camel core jar org apach camel processor pipelin process pipelin java camel core jar org apach camel processor pipelin process pipelin java camel core jar org apach camel processor pipelin process pipelin java camel core jar org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java camel core jar org apach camel processor unit work processor process unit work processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process next deleg async processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel processor RoutePolicyProcessor process RoutePolicyProcessor java camel core jar org apach camel processor rout polici processor process rout polici processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process next deleg async processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel manag InstrumentationProcessor process InstrumentationProcessor java camel core jar org apach camel manag instrument processor process instrument processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel compon timer TimerConsumer sendTimerExchange TimerConsumer java camel core jar org apach camel compon timer timer consum send timer exchang timer consum java camel core jar org apach camel compon timer TimerConsumer run TimerConsumer java camel core jar org apach camel compon timer timer consum run timer consum java camel core jar java util TimerThread mainLoop unknown java util timer thread main loop unknown sourc  sourc  java util TimerThread run unknown java util timer thread run unknown sourc  sourc  problem seem org apach camel compon mail MailConfiguration createJavaMailSender org apach camel compon mail mail configur creat java mail sender use mail session connect connect see session getDefaultInstance session get default instanc session null null answer setSession session answer set session session els use authent no live user interact return alreadi configur usernam password session session session tri session session getDefaultInstance answer getJavaMailProperties session get default instanc answer get java mail properti getAuthenticator get authent catch throwabl throwabl fallback default instanc may not allow system session session getInstance answer getJavaMailProperties session get instanc answer get java mail properti getAuthenticator get authent answer setSession session answer set session session getDefaultInstance get default instanc creat session object first time call call cach session return subsequ call call also ignor new differ properti second rout see rout see also,1,0,1,0,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;,0
3779,ben,camel-http,0,HttpProducer drops authentification parameters., HttpProducer http produc drop authentif paramet paramet,Hi  I run into the following problem with Camel 2.6.0:An HTML file contain an URI lists of files to be downloaded from a web server to the local file system.The HTML file is parsed via a Java Bean Splitter. The Java Bean Splitter produces a Set of URI strings.These files should be downloaded from a web server to the local file system. The files are protected with BASIC authentification.The extraction and the splitting of the download URIs works quite well with the Java Bean Splitter.The Java Bean Splitter produces URI like: http4://download.acme.com/file_1.txt?username=foo&amp;password=baaHere's the setup:&lt;route&gt; &lt;from uri='file:///tmp/files_to_retrieve/' /&gt; &lt;method bean='prepareDownLoadUri' method='parseIndexHtml' /&gt; &lt;setHeader headerName='CamelHttpMethod'&gt; &lt;constant&gt;GET&lt;/constant&gt; &lt;/setHeader&gt; &lt;setHeader headerName='CamelHttpUri'&gt; &lt;simple&gt;${body}&lt;/simple&gt; &lt;/setHeader&gt; &lt;to uri='http4://download.acme.com/' /&gt; &lt;to uri='bean:saveFileProcessor' /&gt;&lt;/route&gt;&lt;bean id='prepareDownLoadUri' class='com.acme.PrepareDownLoadUri' /&gt;&lt;bean id='saveFileProcessor' class='com.acme.SaveFileProcessor' /&gt;The injection of the URIs from the Splitter into the HttpProducer  works quite well. I debugged into the HttpProducer and it seems  that the HttpProducer does not provide the unterlying http client (in this case Apache HttpClient 4) with the authentification settings from the URI.At first  the queryString is extracted from the Exchange-Header (if provided)HttpProducer.createMethod()  line 273String url = HttpHelper.createURL(exchange  getEndpoint());The url string contains the URI produces by the splitter including the authentification parameters: http4://download.acme.com/file_1.txt?username=foo&amp;password=baaThen the HttpProducer assembles a new URI for the requests. The new URI is assembled from parts of the string url (line 273) and other parameters from the Exchange Header: HttpProducer.createMethod()  lines 285-300 // is a query string provided in the endpoint URI or in a header (header overrules endpoint) String queryString = exchange.getIn().getHeader(Exchange.HTTP_QUERY  String.class); if (queryString == null) { queryString = getEndpoint().getHttpUri().getRawQuery(); } StringBuilder builder = new StringBuilder(uri.getScheme()).append('://').append(uri.getHost()); if (uri.getPort() != -1) { builder.append(':').append(uri.getPort()); } if (uri.getPath() != null) { builder.append(uri.getRawPath()); } if (queryString != null) { builder.append('?'); builder.append(queryString); } HttpRequestBase httpRequest = methodToUse.createMethod(builder.toString());The problem is  in the assembling of the new URI  the authentification parameters are dropped. One possible solution could be:  check for authentification parameters in the url (line 273) and extract them. build the credentials  AuthScheme and provide it to the underlying http client.thanks in advance ben, Hi run follow problem camel HTML file contain URI list file download web server local file system system HTML file pars via java bean splitter splitter java bean splitter produc set URI string string file download web server local file system system file protect BASIC authentif authentif extract split download URIs UR work quit well java bean splitter splitter java bean splitter produc URI like like http download acm com file txt usernam foo amp password baaHere http download acm com file txt usernam foo amp password baa setup lt rout gt setup lt rout gt lt lt uri file tmp files_to_retrieve uri file tmp files_to_retrieve gt gt lt method lt method bean prepareDownLoadUri bean prepar load uri method parseIndexHtml method pars index html gt gt lt setHeader lt set header headerName CamelHttpMethod gt header name camel http method gt lt constant gt GET lt constant gt lt constant gt GET lt constant gt lt setHeader gt lt set header gt lt setHeader lt set header headerName CamelHttpUri gt header name camel http uri gt lt simpl gt bodi lt simpl gt lt simpl gt bodi lt simpl gt lt setHeader gt lt set header gt lt lt uri http download acm com uri http download acm com gt gt lt lt uri bean saveFileProcessor uri bean save file processor gt lt rout gt lt bean gt lt rout gt lt bean id prepareDownLoadUri id prepar load uri class com acm PrepareDownLoadUri class com acm prepar load uri gt lt bean gt lt bean id saveFileProcessor id save file processor class com acm SaveFileProcessor class com acm save file processor gt gt inject URIs UR splitter HttpProducer http produc work quit well well debug HttpProducer http produc seem HttpProducer http produc not provid unterli http client case apach HttpClient http client authentif set URI URI first queryString queri string extract exchang header exchang header provid HttpProducer createMethod provid http produc creat method line string string url HttpHelper createURL exchang http helper creat URL exchang getEndpoint get endpoint url string contain URI produc splitter includ authentif paramet paramet http download acm com file txt usernam foo amp password baaThen http download acm com file txt usernam foo amp password baa HttpProducer http produc assembl new URI request request new URI assembl part string url line paramet exchang header header HttpProducer createMethod http produc creat method line queri string provid endpoint URI header header overrul endpoint endpoint string queryString queri string exchang getIn getHeader exchang HTTP_QUERY exchang get get header exchang HTTP QUERY string class string class queryString queri string null null queryString queri string getEndpoint getHttpUri getRawQuery get endpoint get http uri get raw queri StringBuilder string builder builder new StringBuilder uri getScheme append append uri getHost string builder uri get scheme append append uri get host uri getPort uri get port builder append append uri getPort builder append append uri get port uri getPath uri get path null null builder append uri getRawPath builder append uri get raw path queryString queri string null null builder append builder append builder append queryString builder append queri string HttpRequestBase http request base httpRequest http request methodToUse createMethod builder toString method use creat method builder string problem assembl new URI authentif paramet drop drop one possibl solut could check authentif paramet url line extract build credenti AuthScheme auth scheme provid underli http client thank client thank advanc ben,0,0,1,1,1,components/camel-http4/src/test/java/org/apache/camel/component/http4/HttpQueryTest.java;,1
3782,Jonathan Anstey,null,0,option to force sending original JMS message, option forc send origin JMS messag,When using mapJmsMessage=false you would think that Camel would send along the original JMS message. However  if you touch the Camel Message headers (get or set) this effectively disables the mapJmsMessage option. I came across this issue when using the failover loadbalancer. We should add an option to force Camel to send along the orginal JMS message., use mapJmsMessage fals map jm messag fals would think camel would send along origin JMS messag messag howev touch camel messag header get set set effect disabl mapJmsMessage map jm messag option option came across issu use failov loadbalanc loadbalanc add option forc camel send along orgin JMS messag messag,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsLoadBalanceFailoverWithForceSendOriginalJmsMessageTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsLoadBalanceFailoverWithForceSendOriginalJmsMessageTest.java;,0
3788,Ashwin Karpe,camel-http,0,HTTP Producer seems to send an empty body request on redelivery when the original request fails due to a connection timeout, HTTP produc seem send empti bodi request redeliveri origin request fail due connect timeout,Camel HTTP Producer is throwing an exception when it encounters a connection timeout. However instead of preserving the original message it is treating it processing the exception output. When connected to a redelivery meachanism  this results in an exception message being sent as input to the HTTP Consumer. The older versions of Camel behaved differently on read timeout. In Camel 1.x  in a read timeout  the Exception is thrown and the input message to the producer is passed through the pipeline. Now there is a difference: An exception is thrown and the output of the HTTP Producer is passed through the pipeline. Need to study why and what changed since Camel 1.x and ensure that the above does not happen.For more details  please check out the following nabble entryhttp://camel.465427.n5.nabble.com/Http-route-returning-with-200-but-also-getting-read-timed-out-td3741631.html#a3897410Cheers Ashwin..., camel HTTP produc throw except encount connect timeout timeout howev instead preserv origin messag treat process except output output connect redeliveri meachan result except messag sent input HTTP consum consum older version camel behav differ read timeout timeout camel read timeout except thrown input messag produc pass pipelin pipelin differ differ except thrown output HTTP produc pass pipelin pipelin need studi chang sinc camel ensur not happen happen detail pleas check follow nabbl entryhttp camel nabbl com http rout return also get read time td html cheer entryhttp camel nabbl com http rout return also get read time td html cheer ashwin ashwin,0,0,0,1,0,components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpProducer.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;,0
3789,Maria Iracheta,camel-core,0,org.apache.camel.component.file.strategy.MarkerFileExclusiveReadLockStrategy is not thread-safe, org apach camel compon file strategi MarkerFileExclusiveReadLockStrategy org apach camel compon file strategi marker file exclus read lock strategi not thread safe thread safe,MarkerFileExclusiveReadLockStrategy is not thread-safe. When I run a File endpoint with more than one thread the MarkerFileExclusiveReadLockStrategy only deletes the last file to start being processed. The MarkerFileExclusiveReadLockStrategy uses global variables: private File lock; private String lockFileName; and gives them values on the acquireExclusiveReadLock method. When another thread calls the releaseExclusiveReadLock method it uses the global variables to delete the locked file. That means that if another thread came and called the acquireExclusiveReadLock it would have changed the values on the global variables. If lock and lockFileName are not global variables the problem seems to disappear and I can a multithreaded File endpoint and not locked file is left undeleted., MarkerFileExclusiveReadLockStrategy marker file exclus read lock strategi not thread safe thread safe run file endpoint one thread MarkerFileExclusiveReadLockStrategy marker file exclus read lock strategi delet last file start process process MarkerFileExclusiveReadLockStrategy marker file exclus read lock strategi use global variabl variabl privat file lock lock privat string lockFileName lock file name give valu acquireExclusiveReadLock acquir exclus read lock method method anoth thread call releaseExclusiveReadLock releas exclus read lock method use global variabl delet lock file file mean anoth thread came call acquireExclusiveReadLock acquir exclus read lock would chang valu global variabl variabl lock lockFileName lock file name not global variabl problem seem disappear multithread file endpoint not lock file left undelet undelet,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileRenameProcessStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/MarkerFileExclusiveReadLockStrategy.java;camel-core/src/test/java/org/apache/camel/component/file/strategy/MarkerFileExclusiveReadLockStrategyTest.java;,0
3793,Jean-Michel Morel,camel-core,0,Try to copy file when rename fails, tri copi file renam fail,I have a setup where I use file component to move files after being processed ou when processing fails.As I have no troubles neither on my development workstation neither on local directory on my linux environnement. It fails when the monitored directory is a NFS mounted directory pointing to a Windows 2008 Server shared directory.While it's not a camel bug  the generated logs are just useless because we can't get the reason of failure.Investigating the source code tells me that the File.renameTo method is used (with the three times try hack for Windows   so I can't get any further information on the reason.Could you implement a fallback strategy like copy the file and delete the original one ? (should it be made optional)To workaround this  I currently do the move operations manually by invoking the FileUtils.moveTo(...) from commons-io (which implements exactly the fallback method I described on renameTo failure).But  I have side effects as I'm forced to use the noop attribute.(in fact  it doesn't explain why the rename fails  but it works  and should it be a failure I'll get an explicit error message)., setup use file compon move file process ou process fail fail no troubl neither develop workstat neither local directori linux environn environn fail monitor directori NFS mount directori point window server share directori directori not camel bug gener log useless get reason failur investig failur investig sourc code tell file renameTo file renam method use three time tri hack window get inform reason could reason could implement fallback strategi like copi file delet origin one made option option workaround current move oper manual invok FileUtils moveTo file util move common io common io implement exactli fallback method describ renameTo renam failur failur side effect forc use noop attribut attribut fact explain renam fail work failur get explicit error messag messag,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/main/java/org/apache/camel/util/FileUtil.java;,0
3794,Christian Müller,camel-aws,0,Polish the aws component, polish aw compon,,,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java;camel-core/src/test/java/org/apache/camel/impl/DefaultEndpointTest.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsComponent.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsConfiguration.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsConstants.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsConsumer.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsEndpoint.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsProducer.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/integration/SqsComponentIntegrationTest.java;,1
3797,Dejan Bosanac,null,0,Web Console: NPE when browsing routes with no description, web consol consol NPE brows rout no descript,When some of the routes does not have a description NPE will be thrown  because of the code${i.getDescription.getText}To prevent it  just use${i.getDescriptionText}, rout not descript NPE thrown code getDescription getText code get descript get text prevent use getDescriptionText use get descript text,0,1,0,0,0,components/camel-web/src/main/webapp/WEB-INF/org/apache/camel/web/resources/RoutesResource.index.ssp;,0
3799,Hadrian Zbarcea,tooling,0,maven eclipse goal failure, maven eclips goal failur,The error is:[ERROR] BUILD ERROR[INFO] ------------------------------------------------------------------------[INFO] Request to merge when 'filtering' is not identical. Original=resource src/main/resources: output=target/classes  include=[]  exclude=[**/*.java]  test=false  filtering=false  merging with=resource src/main/resources: output=target/classes  include=[**/archetype-metadata.xml]  exclude=[**/*.java]  test=false  filtering=trueand it seems to be resolved in the upcoming maven-eclipse-plugin:2.9.0 (see MECLIPSE-576). An update to the new release of the plugin  once available  should resolve this., error ERROR ERROR BUILD ERROR INFO ERROR INFO INFO INFO request merg filter filter not ident ident origin resourc origin resourc src main resourc src main resourc output target class output target class includ includ exclud java exclud java test fals test fals filter fals filter fals merg resourc resourc src main resourc src main resourc output target class output target class includ archetyp metadata xml includ archetyp metadata xml exclud java exclud java test fals test fals filter trueand filter trueand seem resolv upcom maven eclips plugin maven eclips plugin see MECLIPSE MECLIPSE updat new releas plugin avail resolv,1,0,0,0,0,0,0
3804,Rob van de Meulengraaf,null,0,The camel-cometd component does not support a custom SecurityPolicy or Extension as described on http://cometd.org/documentation/howtos/authentication, camel cometd camel cometd compon not support custom SecurityPolicy secur polici extens describ,The camel-cometd component does not support a custom SecurityPolicy or Extension as described on http://cometd.org/documentation/howtos/authenticationA simple solution is to add setters for SecurityPolicy and Extension to the component. If these attributes are set then also set them on the underlying AbstractBayeux class.About the patch:The existing unit test is based on an interactive scenario that involves human intervention. A similar test is made that uses an extension and another one is made that needs authentication. To provide feedback on a failed authentication a cometd listener is used. The version of the cometd-dojo extension used does not support listeners so this dojo extension has also been upgraded to 1.1.4., camel cometd camel cometd compon not support custom SecurityPolicy secur polici extens describ simpl solut add setter SecurityPolicy secur polici extens compon compon attribut set also set underli AbstractBayeux abstract bayeux class class patch patch exist unit test base interact scenario involv human intervent intervent similar test made use extens anoth one made need authent authent provid feedback fail authent cometd listen use use version cometd dojo cometd dojo extens use not support listen dojo extens also upgrad,0,1,0,1,0,components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdComponent.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdConsumer.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdConverters.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdEndpoint.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdProducer.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdProducerConsumer.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveAuthenticatedMain.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveExtensionMain.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveMain.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerTest.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslCometdProducerConsumerTest.java;components/camel-cometd/src/test/resources/webapp/authenticated.html;components/camel-cometd/src/test/resources/webapp/dojo/dojo/dojo.js;components/camel-cometd/src/test/resources/webapp/dojo/dojo/dojo.js.uncompressed.js;components/camel-cometd/src/test/resources/webapp/dojo/dojo/dojo.xd.js;components/camel-cometd/src/test/resources/webapp/dojo/dojo/dojo.xd.js.uncompressed.js;components/camel-cometd/src/test/resources/webapp/dojo/dojo/io/iframe.js;components/camel-cometd/src/test/resources/webapp/dojo/dojo/io/script.js;components/camel-cometd/src/test/resources/webapp/dojo/dojox/cometd.js;components/camel-cometd/src/test/resources/webapp/dojo/dojox/cometd.js.uncompressed.js;components/camel-cometd/src/test/resources/webapp/dojo/dojox/cometd.xd.js;components/camel-cometd/src/test/resources/webapp/dojo/dojox/cometd.xd.js.uncompressed.js;components/camel-cometd/src/test/resources/webapp/dojo/dojox/cometd/ack.js;components/camel-cometd/src/test/resources/webapp/dojo/dojox/cometd/reload.js;components/camel-cometd/src/test/resources/webapp/dojo/dojox/cometd/timestamp.js;components/camel-cometd/src/test/resources/webapp/dojo/dojox/cometd/timesync.js;components/camel-cometd/src/test/resources/webapp/dojo/org/cometd.js;components/camel-cometd/src/test/resources/webapp/index.html;,1
3812,Maximilien Wiktorowski,camel-core,0,BeanInfo not reset when new bean looked up, BeanInfo bean info not reset new bean look,In camel-bean  when a bean is looked-up and it is not the same bean as the previous one beanInfo has to be reset.This is done in getBean() method of org.apache.camel.component.bean.RegistryBean but the test is placed after setting bean=value so beanInfo is never reset :if (value != bean) {  bean = value;  processor = null;  if (!ObjectHelper.equal(ObjectHelper.type(bean)  ObjectHelper.type(value))) { beanInfo = null; }, camel bean camel bean bean look look not bean previou one beanInfo bean info reset reset done getBean get bean method org apach camel compon bean RegistryBean org apach camel compon bean registri bean test place set bean valu bean valu beanInfo bean info never reset valu bean bean bean valu valu processor null null ObjectHelper equal ObjectHelper type bean object helper equal object helper type bean ObjectHelper type valu object helper type valu beanInfo bean info null null,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/bean/RegistryBean.java;,0
3824,Joshua Watkins,null,0,Allow cometd component to send message headers with the message, allow cometd compon send messag header messag,Currently the cometd component ignores message headers. ======Code snippet from CometdConsumer.java: Message message = new DefaultMessage(); message.setBody(data); Exchange exchange = endpoint.createExchange(); exchange.setIn(message);======Exchange message headers should be maintained (perhaps with a flag?)., current cometd compon ignor messag header header code code snippet CometdConsumer java cometd consum java messag messag new DefaultMessage default messag messag setBody data messag set bodi data exchang exchang endpoint createExchange endpoint creat exchang exchang setIn messag exchang exchang set messag exchang messag header maintain perhap flag flag,0,1,0,1,0,components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdBinding.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdComponent.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdConsumer.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdProducer.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerTest.java;,0
3828,Guillaume Nodet,camel-jms,0,camel-jms default cache level should be CACHE_NONE when transaction is enabled, camel jm camel jm default cach level CACHE_NONE CACHE NONE transact enabl,I lost a huge amount of time chasing the problem as the default value just screw the whole transaction (the session is created outside the transaction and cached  so usually not enlisted in the tx)., lost huge amount time chase problem default valu screw whole transact session creat outsid transact cach usual not enlist tx tx,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsEndpointConfigurationTest.java;components/camel-jms/src/test/resources/org/apache/camel/component/jms/issues/JmsSpringSimpleTXResequencerTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/issues/TransactionErrorHandlerRedeliveryDelayTest-context.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/spring.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/AbstractTransactionTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/ActiveMQWithoutTransactionManager.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JMSTransactionErrorHandlerTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JMSTransactionThrottlingRoutePolicyTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JMSTransactionalClientTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JMSTransactionalClientWithRollbackTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JMXTXUseOriginalBodyTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JMXTXUseOriginalBodyWithDLCErrorHandlerTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JMXTXUseOriginalBodyWithTXErrorHandlerTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JmsToJmsTransactedSecurityTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JmsToJmsTransactedTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/JmsTransacted-context.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/RouteIdTransactedTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/TransactedAsyncUsingThreadsTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/TransactionErrorHandlerBuilderAsSpringBeanTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/TransactionErrorHandlerCustomerSpringParserTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/TransactionInterceptSendToEndpointTest.xml;components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/TransactionMinimalConfigurationTest.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/hawtdb/JmsToHawtDBAggregateTest.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/jms/FileToJmsTest-context.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/jms/JmsPollingConsumerTest-context.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/tx/JmsToHttpTXTest-context.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/tx/JmsToHttpTXWithOnExceptionAndNoTransactionErrorHandlerConfiguredTest-context.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/tx/JmsToHttpTXWithOnExceptionTest-context.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/tx/JmsToHttpTXWithRollbackTest-context.xml;,0
3834,Steve Gansemer,camel-smpp,0,SmppProducer sends incorrect data_coding parameter, SmppProducer smpp produc send incorrect data_coding paramet,The dataCoding parameter on the SMPP uri allows for a value of 0 4  or 8. Our aggregator expects the data_coding parameter on the SMPP request from the SmppProducer to be 0=SMSC Default Alphabet. However  when 0  4  or 8 is specified for the dataCoding parameter  the actual value sent on the smpp request is 1  5  or 9. It appears the MessageClass.Class1 on the GeneralDataCoding object in SmppProducer is masking an additional 1 to the byte value.It seems the dataCoding parameter should allow you to specify the actual value that is needed as defined by the SMPP Protocol specification., dataCoding data code paramet SMPP uri allow valu aggreg expect data_coding paramet SMPP request SmppProducer smpp produc SMSC SMSC default alphabet alphabet howev specifi dataCoding data code paramet actual valu sent smpp request appear MessageClass class messag class class GeneralDataCoding gener data code object SmppProducer smpp produc mask addit byte valu valu seem dataCoding data code paramet allow specifi actual valu need defin SMPP protocol specif specif,0,0,0,0,0,components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppProducer.java;components/camel-smpp/src/test/java/org/apache/camel/component/smpp/SmppProducerTest.java;,0
3849,Piotr Klimczak,camel-cache,0,OSGi - No possibility to enable ehcache clustering as: ehcache.xml is ignored and there is no possibility to set cacheManagerFactory described camel-cache docs, OSGi OS Gi No possibl enabl ehcach cluster ehcach xml ehcach xml ignor no possibl set cacheManagerFactory cach manag factori describ camel cach camel cach doc,This bug is caused by more than one problem as:1. camel-cache bundle provides ehcache.xml config which is ignored so then default ehcache-failsafe.xml is taken by ehcache bundle.2. according to camel-cache docs there is a way to set cacheManagerFactory but it seems to be not implemented asa) default CacheManagerFactory instance is created when when CacheComponent is instantiated.b) setter method: public void setCacheManagerFactory(CacheManagerFactory cacheManagerFactory) is used just nowhere.c) there is no suitable filed in class CacheConfigurationAll above problems cause camel-cache to be not able to work in java- clustered world as default failsafe config. is really failsafe- w/o clustering., bug caus one problem camel cach camel cach bundl provid ehcach xml ehcach xml config ignor default ehcach failsaf xml ehcach failsaf xml taken ehcach bundl bundl accord camel cach camel cach doc way set cacheManagerFactory cach manag factori seem not implement asa asa default CacheManagerFactory cach manag factori instanc creat CacheComponent cach compon instanti instanti setter method method public void setCacheManagerFactory CacheManagerFactory set cach manag factori cach manag factori cacheManagerFactory cach manag factori use nowher nowher no suitabl file class CacheConfigurationAll cach configur problem caus camel cach camel cach not abl work java java cluster world default failsaf config config realli failsaf failsaf cluster cluster,1,0,0,0,1,tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/cache/CacheTest.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheComponent.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheManagerFactory.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/DefaultCacheManagerFactory.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedMessageBodyReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedTokenReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheValidate.java;components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheManagerFactoryRefTest.java;,0
3852,Claus Ibsen,camel-cache,0,camel-cache - Should use Camel style constant keys, camel cach camel cach use camel style constant key,The CacheConstant use all upper cases and they are not using the Camel style which we should use.It should be'CamelCacheAdd' instead of 'ADD'and so forth.This also ensures those headers is not propagated over remote transports as they should not.In fact we should consider removing those headers in the camel-cache code as they are just input parameters to control the operation., CacheConstant cach constant use upper case not use camel style use use CamelCacheAdd camel cach add instead ADD ADD forth forth also ensur header not propag remot transport not not fact consid remov header camel cach camel cach code input paramet control oper oper,0,1,0,0,1,components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheConstants.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheEndpoint.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheProducer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedMessageBodyReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedTokenReplacer.java;components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java;components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheProducerTest.java;components/camel-cache/src/test/java/org/apache/camel/processor/cache/CacheBasedBodyReplacerTest.java;components/camel-cache/src/test/java/org/apache/camel/processor/cache/CacheBasedTokenReplacerTest.java;components/camel-cache/src/test/java/org/apache/camel/processor/cache/CacheBasedXPathElementReplacerTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/cache/CacheTest.java;,0
3861,Claus Ibsen,camel-web,0,camel-web - Cannot browse endpoints if messages was consumed from jms queue, camel web camel web cannot brows endpoint messag consum jm queue,You get a NPE if you brows the endpoint.Caused by: java.lang.NullPointerException at org.apache.camel.web.resources.$scalate$ExchangeResource_index_ssp$$anonfun$$scalate$render$2.apply(ExchangeResource.index.ssp.scala:46) at org.apache.camel.web.resources.$scalate$ExchangeResource_index_ssp$$anonfun$$scalate$render$2.apply(ExchangeResource.index.ssp.scala:40) at scala.collection.Iterator$class.foreach(Iterator.scala:631), get NPE brow endpoint caus endpoint caus java lang NullPointerException java lang null pointer except org apach camel web resourc scalat ExchangeResource_index_ssp anonfun scalat render appli ExchangeResource index ssp scala org apach camel web resourc scalat exchang Resource_index_ssp anonfun scalat render appli exchang resourc index ssp scala org apach camel web resourc scalat ExchangeResource_index_ssp anonfun scalat render appli ExchangeResource index ssp scala org apach camel web resourc scalat exchang Resource_index_ssp anonfun scalat render appli exchang resourc index ssp scala scala collect iter class foreach iter scala scala collect iter class foreach iter scala,1,0,0,0,0,components/camel-web/src/main/webapp/WEB-INF/org/apache/camel/web/resources/ExchangeResource.index.ssp;,0
3873,Claus Ibsen,camel-xmpp,0,camel-xmpp - Should stop and clean session  so hot-deploy works, camel xmpp camel xmpp stop clean session hot deploy hot deploy work,See this stacktrace14:10:55 806 | ERROR | ExtenderThread-8 | ContextLoaderListener | 72 - org.springframework.osgi.extender - 1.2.0 | Application context refresh failed (OsgiBundleXmlApplicationContext(bundle=qbus-camel-osgi  config=osgibundle:/META-INF/spring/*.xml))org.apache.camel.FailedToCreateProducerException: Failed to create Producer for endpoint: Endpoint[xmpp://articleRoute@localhost?password=******&amp;room=mechatron%40conference.mw-pc]. Reason: java.lang.NullPointerException at org.apache.camel.impl.ProducerCache.doGetProducer(ProducerCache.java:362)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ProducerCache.acquireProducer(ProducerCache.java:93)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ProducerCache.startProducer(ProducerCache.java:124)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.processor.SendProcessor.doStart(SendProcessor.java:146)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:65)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:74)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.processor.DelegateAsyncProcessor.doStart(DelegateAsyncProcessor.java:77)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:65)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:74)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.processor.DelegateAsyncProcessor.doStart(DelegateAsyncProcessor.java:77)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.processor.interceptor.TraceInterceptor.doStart(TraceInterceptor.java:429)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:65)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:74)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.processor.RedeliveryErrorHandler.doStart(RedeliveryErrorHandler.java:847)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:65)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:74)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.processor.DefaultChannel.doStart(DefaultChannel.java:146)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:65)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:86)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.processor.MulticastProcessor.doStart(MulticastProcessor.java:893)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:65)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:74)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.processor.DelegateAsyncProcessor.doStart(DelegateAsyncProcessor.java:77)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:65)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:74)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.processor.DelegateAsyncProcessor.doStart(DelegateAsyncProcessor.java:77)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:65)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.RouteService.startChildService(RouteService.java:250)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.RouteService.warmUp(RouteService.java:146)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.DefaultCamelContext.doWarmUpRoutes(DefaultCamelContext.java:1800)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:1726)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:1528)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1420)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1321)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.spring.SpringCamelContext.doStart(SpringCamelContext.java:164)[75:org.apache.camel.camel-spring:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:65)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1299)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.spring.SpringCamelContext.maybeStart(SpringCamelContext.java:203)[75:org.apache.camel.camel-spring:2.6.0.fuse-01-09] at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:101)[75:org.apache.camel.camel-spring:2.6.0.fuse-01-09] at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:238)[75:org.apache.camel.camel-spring:2.6.0.fuse-01-09] at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:97)[61:org.springframework.context:3.0.5.RELEASE] at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:303)[61:org.springframework.context:3.0.5.RELEASE] at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:911)[61:org.springframework.context:3.0.5.RELEASE] at org.springframework.osgi.context.support.AbstractOsgiBundleApplicationContext.finishRefresh(AbstractOsgiBundleApplicationContext.java:235)[71:org.springframework.osgi.core:1.2.0] at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext$4.run(AbstractDelegatedExecutionApplicationContext.java:358)[71:org.springframework.osgi.core:1.2.0] at org.springframework.osgi.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)[71:org.springframework.osgi.core:1.2.0] at org.springframework.osgi.context.support.AbstractDelegatedExecutionApplicationContext.completeRefresh(AbstractDelegatedExecutionApplicationContext.java:320)[71:org.springframework.osgi.core:1.2.0] at org.springframework.osgi.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor$CompleteRefreshTask.run(DependencyWaiterApplicationContextExecutor.java:136)[72:org.springframework.osgi.extender:1.2.0] at java.lang.Thread.run(Thread.java:619)[:1.6.0_14]Caused by: java.lang.NullPointerException at org.jivesoftware.smackx.muc.MultiUserChat$1.connectionCreated(MultiUserChat.java:84)[247:org.apache.servicemix.bundles.smack:3.1.0.2] at org.jivesoftware.smack.XMPPConnection.initConnection(XMPPConnection.java:957)[247:org.apache.servicemix.bundles.smack:3.1.0.2] at org.jivesoftware.smack.XMPPConnection.connectUsingConfiguration(XMPPConnection.java:904)[247:org.apache.servicemix.bundles.smack:3.1.0.2] at org.jivesoftware.smack.XMPPConnection.connect(XMPPConnection.java:1415)[247:org.apache.servicemix.bundles.smack:3.1.0.2] at org.apache.camel.component.xmpp.XmppEndpoint.createConnection(XmppEndpoint.java:140)[248:org.apache.camel.camel-xmpp:2.6.0.fuse-01-09] at org.apache.camel.component.xmpp.XmppGroupChatProducer.doStart(XmppGroupChatProducer.java:76)[248:org.apache.camel.camel-xmpp:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:65)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:52)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] at org.apache.camel.impl.ProducerCache.doGetProducer(ProducerCache.java:360)[68:org.apache.camel.camel-core:2.6.0.fuse-01-09] ... 65 more, see stacktrac stacktrac ERROR ExtenderThread extend thread ContextLoaderListener context loader listen org springframework osgi extend org springframework osgi extend applic context refresh fail OsgiBundleXmlApplicationContext bundl qbu camel osgi osgi bundl xml applic context bundl qbu camel osgi config osgibundl META INF spring xml org apach camel FailedToCreateProducerException config osgibundl META INF spring xml org apach camel fail creat produc except fail creat produc endpoint endpoint endpoint xmpp articleRoute localhost password amp room mechatron confer mw pc endpoint xmpp articl rout localhost password amp room mechatron confer mw pc reason reason java lang NullPointerException java lang null pointer except org apach camel impl ProducerCache doGetProducer ProducerCache java org apach camel camel core fuse org apach camel impl produc cach get produc produc cach java org apach camel camel core fuse org apach camel impl ProducerCache acquireProducer ProducerCache java org apach camel camel core fuse org apach camel impl produc cach acquir produc produc cach java org apach camel camel core fuse org apach camel impl ProducerCache startProducer ProducerCache java org apach camel camel core fuse org apach camel impl produc cach start produc produc cach java org apach camel camel core fuse org apach camel processor SendProcessor doStart SendProcessor java org apach camel camel core fuse org apach camel processor send processor start send processor java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel util ServiceHelper startService ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel util ServiceHelper startServices ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel processor DelegateAsyncProcessor doStart DelegateAsyncProcessor java org apach camel camel core fuse org apach camel processor deleg async processor start deleg async processor java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel util ServiceHelper startService ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel util ServiceHelper startServices ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel processor DelegateAsyncProcessor doStart DelegateAsyncProcessor java org apach camel camel core fuse org apach camel processor deleg async processor start deleg async processor java org apach camel camel core fuse org apach camel processor interceptor TraceInterceptor doStart TraceInterceptor java org apach camel camel core fuse org apach camel processor interceptor trace interceptor start trace interceptor java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel util ServiceHelper startService ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel util ServiceHelper startServices ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel processor RedeliveryErrorHandler doStart RedeliveryErrorHandler java org apach camel camel core fuse org apach camel processor redeliveri error handler start redeliveri error handler java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel util ServiceHelper startService ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel util ServiceHelper startServices ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel processor DefaultChannel doStart DefaultChannel java org apach camel camel core fuse org apach camel processor default channel start default channel java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel util ServiceHelper startService ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel util ServiceHelper startServices ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel processor MulticastProcessor doStart MulticastProcessor java org apach camel camel core fuse org apach camel processor multicast processor start multicast processor java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel util ServiceHelper startService ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel util ServiceHelper startServices ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel processor DelegateAsyncProcessor doStart DelegateAsyncProcessor java org apach camel camel core fuse org apach camel processor deleg async processor start deleg async processor java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel util ServiceHelper startService ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel util ServiceHelper startServices ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel processor DelegateAsyncProcessor doStart DelegateAsyncProcessor java org apach camel camel core fuse org apach camel processor deleg async processor start deleg async processor java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel util ServiceHelper startService ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel impl RouteService startChildService RouteService java org apach camel camel core fuse org apach camel impl rout servic start child servic rout servic java org apach camel camel core fuse org apach camel impl RouteService warmUp RouteService java org apach camel camel core fuse org apach camel impl rout servic warm rout servic java org apach camel camel core fuse org apach camel impl DefaultCamelContext doWarmUpRoutes DefaultCamelContext java org apach camel camel core fuse org apach camel impl default camel context warm rout default camel context java org apach camel camel core fuse org apach camel impl DefaultCamelContext safelyStartRouteServices DefaultCamelContext java org apach camel camel core fuse org apach camel impl default camel context safe start rout servic default camel context java org apach camel camel core fuse org apach camel impl DefaultCamelContext doStartOrResumeRoutes DefaultCamelContext java org apach camel camel core fuse org apach camel impl default camel context start resum rout default camel context java org apach camel camel core fuse org apach camel impl DefaultCamelContext doStartCamel DefaultCamelContext java org apach camel camel core fuse org apach camel impl default camel context start camel default camel context java org apach camel camel core fuse org apach camel impl DefaultCamelContext doStart DefaultCamelContext java org apach camel camel core fuse org apach camel impl default camel context start default camel context java org apach camel camel core fuse org apach camel spring SpringCamelContext doStart SpringCamelContext java org apach camel camel spring fuse org apach camel spring spring camel context start spring camel context java org apach camel camel spring fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel camel core fuse org apach camel impl default camel context start default camel context java org apach camel camel core fuse org apach camel spring SpringCamelContext maybeStart SpringCamelContext java org apach camel camel spring fuse org apach camel spring spring camel context mayb start spring camel context java org apach camel camel spring fuse org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel camel spring fuse org apach camel spring spring camel context applic event spring camel context java org apach camel camel spring fuse org apach camel spring CamelContextFactoryBean onApplicationEvent CamelContextFactoryBean java org apach camel camel spring fuse org apach camel spring camel context factori bean applic event camel context factori bean java org apach camel camel spring fuse org springframework context event SimpleApplicationEventMulticaster multicastEvent SimpleApplicationEventMulticaster java org springframework context RELEASE org springframework context event simpl applic event multicast multicast event simpl applic event multicast java org springframework context RELEASE org springframework context support AbstractApplicationContext publishEvent AbstractApplicationContext java org springframework context RELEASE org springframework context support abstract applic context publish event abstract applic context java org springframework context RELEASE org springframework context support AbstractApplicationContext finishRefresh AbstractApplicationContext java org springframework context RELEASE org springframework context support abstract applic context finish refresh abstract applic context java org springframework context RELEASE org springframework osgi context support AbstractOsgiBundleApplicationContext finishRefresh AbstractOsgiBundleApplicationContext java org springframework osgi core org springframework osgi context support abstract osgi bundl applic context finish refresh abstract osgi bundl applic context java org springframework osgi core org springframework osgi context support AbstractDelegatedExecutionApplicationContext run AbstractDelegatedExecutionApplicationContext java org springframework osgi core org springframework osgi context support abstract deleg execut applic context run abstract deleg execut applic context java org springframework osgi core org springframework osgi util intern PrivilegedUtils executeWithCustomTCCL PrivilegedUtils java org springframework osgi core org springframework osgi util intern privileg util execut custom TCCL privileg util java org springframework osgi core org springframework osgi context support AbstractDelegatedExecutionApplicationContext completeRefresh AbstractDelegatedExecutionApplicationContext java org springframework osgi core org springframework osgi context support abstract deleg execut applic context complet refresh abstract deleg execut applic context java org springframework osgi core org springframework osgi extend intern depend startup DependencyWaiterApplicationContextExecutor CompleteRefreshTask run DependencyWaiterApplicationContextExecutor java org springframework osgi extend org springframework osgi extend intern depend startup depend waiter applic context executor complet refresh task run depend waiter applic context executor java org springframework osgi extend java lang thread run thread java  caus java lang thread run thread java  caus java lang NullPointerException java lang null pointer except org jivesoftwar smackx muc MultiUserChat connectionCreated MultiUserChat java org apach servicemix bundl smack org jivesoftwar smackx muc multi user chat connect creat multi user chat java org apach servicemix bundl smack org jivesoftwar smack XMPPConnection initConnection XMPPConnection java org apach servicemix bundl smack org jivesoftwar smack XMPP connect init connect XMPP connect java org apach servicemix bundl smack org jivesoftwar smack XMPPConnection connectUsingConfiguration XMPPConnection java org apach servicemix bundl smack org jivesoftwar smack XMPP connect connect use configur XMPP connect java org apach servicemix bundl smack org jivesoftwar smack XMPPConnection connect XMPPConnection java org apach servicemix bundl smack org jivesoftwar smack XMPP connect connect XMPP connect java org apach servicemix bundl smack org apach camel compon xmpp XmppEndpoint createConnection XmppEndpoint java org apach camel camel xmpp fuse org apach camel compon xmpp xmpp endpoint creat connect xmpp endpoint java org apach camel camel xmpp fuse org apach camel compon xmpp XmppGroupChatProducer doStart XmppGroupChatProducer java org apach camel camel xmpp fuse org apach camel compon xmpp xmpp group chat produc start xmpp group chat produc java org apach camel camel xmpp fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel impl ServiceSupport start ServiceSupport java org apach camel camel core fuse org apach camel impl servic support start servic support java org apach camel camel core fuse org apach camel util ServiceHelper startService ServiceHelper java org apach camel camel core fuse org apach camel util servic helper start servic servic helper java org apach camel camel core fuse org apach camel impl ProducerCache doGetProducer ProducerCache java org apach camel camel core fuse org apach camel impl produc cach get produc produc cach java org apach camel camel core fuse,1,0,0,0,0,components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppComponent.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppEndpoint.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppGroupChatProducer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java;,0
3891,Willem Jiang,null,0,Avoiding to process the bean which value is null in CamelBeanPostProcessor, avoid process bean valu null CamelBeanPostProcessor camel bean post processor,When user use the FactoryBean to return a null object within Spring 2.x  the CamelBeanPostProcessor will throw a NPE exception.Although this issue can't be reproduced within Spring 3.x  we should consider to put the NP check in the CamelBeanPostProcessor as an enhancement., user use FactoryBean factori bean return null object within spring CamelBeanPostProcessor camel bean post processor throw NPE except although except although issu reproduc within spring consid put NP check CamelBeanPostProcessor camel bean post processor enhanc enhanc,0,0,0,0,0,components/camel-spring/src/main/java/org/apache/camel/spring/CamelBeanPostProcessor.java;,0
3905,Piotr Klimczak,camel-cache,0,camel-cache exception message: CamelCacheOperation not specified in the message header [CamelCacheKey], camel cach camel cach except messag messag CamelCacheOperation camel cach oper not specifi messag header CamelCacheKey camel cach key,Caused by: net.sf.ehcache.CacheException: CamelCacheOperation not specified in the message header &#91;CamelCacheKey&#93;Sound like a mistake? Or maybe my English is so bad? as this message doesn't make sense for me...Simply it should be:Caused by: net.sf.ehcache.CacheException: CamelCacheOperation header not specified in message, caus net sf ehcach CacheException net sf ehcach cach except CamelCacheOperation camel cach oper not specifi messag header CamelCacheKey sound camel cach key sound like mistak mistak mayb english bad bad messag make sens simpli simpli caus caus net sf ehcach CacheException net sf ehcach cach except CamelCacheOperation camel cach oper header not specifi messag,1,1,0,0,0,components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheProducer.java;,0
3908,Donald Whytock,camel-mail,0,Prevent 'FolderNotOpen' exception when closing out an email exchange, prevent FolderNotOpen folder not open except close email exchang,When an email exchange is complete it should set either the SEEN or DELETED flags in the folder on the email server. But if the folder isn't open  either because of automatic closing or timeout  attempting to set the flag results in a FolderNotOpen exception. The attached version of MailConsumer includes a check in processCommit() that opens the folder if it's not open at exchange completion., email exchang complet set either SEEN DELETED flag folder email server server folder open either automat close timeout attempt set flag result FolderNotOpen folder not open except except attach version MailConsumer mail consum includ check processCommit process commit open folder not open exchang complet complet,0,0,1,0,1,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;,0
3912,Roberto Rojas,camel-core,0,Consumer URI parameters ignored after Route Restart, consum URI paramet ignor rout restart,The URI parameters for a consumer appear to be ignored or disappear when the route where this consumer defined gets restarted.One example could be JPA query passed in the URI and is used to filter the results from the consumer.The attached test case shows this.Look at the Readme.txt  camel-context.xml  and JPARouteRestartTest class for more information.Also  took a stab at fixing the problem and provided a patch with a possible solution. I ran the unit tests after that change and all passed., URI paramet consum appear ignor disappear rout consum defin get restart one restart one exampl could JPA queri pass URI use filter result consum consum attach test case show look look readm txt readm txt camel context xml camel context xml JPARouteRestartTest JPA rout restart test class inform also inform also took stab fix problem provid patch possibl solut solut ran unit test chang pass pass,0,1,0,0,1,camel-core/src/main/java/org/apache/camel/impl/ScheduledPollConsumer.java;camel-core/src/main/java/org/apache/camel/impl/ScheduledPollEndpoint.java;camel-core/src/test/java/org/apache/camel/impl/ScheduledPollEndpointConfigureConsumerRestartTest.java;,0
3917,Akitoshi Yoshida,camel-cxf,0,CxfPayloadConverter may start failing to convert a CxfPayload to a Node, CxfPayloadConverter cxf payload convert may start fail convert CxfPayload cxf payload node,There is an issue with CxfPayloadConverter that can lead to a failure in converting the CxfPayload into something which is actually convertible. This problem happens when you try to convert a CxfPayload instance that has an empty body list into a Node instance. This returns null and subsequently registers this type mapping key (CxfPayload-&gt;Node) in org.apache.camel.impl.converter.BaseTypeConverterRegistry's conversion-misses table. Because of this  a subsequent conversion using a CxfPayload instance with an non empty body list will permanently fail.I am attaching a modified CxfPayloadConversionTest that includes testCxfPayloadToNode that illustrates this problem. Currently  the last assertion of this test is failing when this issue is present.I think we can fix this problem by returning Void.TYPE instead of a null for this case.In this way  the conversion is regarded as a success and there will be no entry in the conversion-misses table.So  I am also attaching the modiefied CxfPayloadConverter class that can handle this test case., issu CxfPayloadConverter cxf payload convert lead failur convert CxfPayload cxf payload someth actual convert convert problem happen tri convert CxfPayload cxf payload instanc empti bodi list node instanc instanc return null subsequ regist type map key CxfPayload gt node cxf payload gt node org apach camel impl convert BaseTypeConverterRegistry org apach camel impl convert base type convert registri convers miss convers miss tabl tabl subsequ convers use CxfPayload cxf payload instanc non empti bodi list perman fail fail attach modifi CxfPayloadConversionTest cxf payload convers test includ testCxfPayloadToNode test cxf payload node illustr problem problem current last assert test fail issu present present think fix problem return void TYPE void TYPE instead null case case way convers regard success no entri convers miss convers miss tabl tabl also attach modiefi CxfPayloadConverter cxf payload convert class handl test case case,0,1,0,0,1,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/converter/CxfPayloadConverter.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/converter/CxfPayloadConverterTest.java;,0
3936,Baptiste Gaillard,camel-sql,0,JdbcAggregationRepository count (*) is not working with MySQL 5.0, JdbcAggregationRepository jdbc aggreg repositori count not work MySQL SQL,The JdbcAggregationRepository makes a  'SELECT COUNT (*) FROM....' SQL request at line 131 in the source code. This appears to be incorrect with MySQL because theire is a space between COUNT and (. By replacing the request with  'SELECT COUNT(*) FROM....' (without the white space) the bug is corrected for MySQL (I think it should be tested with other database without the space). This request can be tested with Mysql Query Browser (the returned error is the same as the one encountered when we execute the JdbcAggregationRepository with Camel). The exception returned is the following:  ERROR DefaultErrorHandler - Failed delivery for exchangeId: ID:COE-WRKST2-1749-1304443569312-2:2:1:88:1. Exhausted after delivery attempt: 1 caught: org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT COUNT (*) FROM aggregation_repo_0 WHERE id = ?]; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '*) FROM aggregation_repo_0 WHERE id = '92'' at line 1org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [SELECT COUNT (*) FROM aggregation_repo_0 WHERE id = ?]; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '*) FROM aggregation_repo_0 WHERE id = '92'' at line 1 at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:233) at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72) at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:602) at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:636) at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:665) at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:673) at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:728) at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:744) at org.springframework.jdbc.core.JdbcTemplate.queryForInt(JdbcTemplate.java:775) at org.apache.camel.processor.aggregate.jdbc.JdbcAggregationRepository$1.doInTransaction(JdbcAggregationRepository.java:131) at org.apache.camel.processor.aggregate.jdbc.JdbcAggregationRepository$1.doInTransaction(JdbcAggregationRepository.java:114) at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130) at org.apache.camel.processor.aggregate.jdbc.JdbcAggregationRepository.add(JdbcAggregationRepository.java:114) at org.apache.camel.processor.aggregate.AggregateProcessor.doAggregation(AggregateProcessor.java:251) at org.apache.camel.processor.aggregate.AggregateProcessor.process(AggregateProcessor.java:189) at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89) at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208) at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:103) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85) at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:84) at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:560) at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:498) at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:263) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1050) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:947) at java.lang.Thread.run(Thread.java:662)Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '*) FROM aggregation_repo_0 WHERE id = '92'' at line 1 at sun.reflect.GeneratedConstructorAccessor83.newInstance(Unknown Source) at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27) at java.lang.reflect.Constructor.newInstance(Constructor.java:513) at com.mysql.jdbc.Util.handleNewInstance(Util.java:409) at com.mysql.jdbc.Util.getInstance(Util.java:384) at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1054) at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3566) at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3498) at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1959) at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2113) at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2568) at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2113) at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2275) at org.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96) at org.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96) at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:643) at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:586) ... 42 more, JdbcAggregationRepository jdbc aggreg repositori make SELECT SELECT COUNT SQL request line sourc code code appear incorrect MySQL SQL their space COUNT replac request SELECT SELECT COUNT COUNT without white space space bug correct MySQL SQL think test databas without space space request test mysql queri browser return error one encount execut JdbcAggregationRepository jdbc aggreg repositori camel camel except return follow follow ERROR DefaultErrorHandler default error handler fail deliveri exchangeId exchang Id ID COE WRKST ID COE WRKST exhaust deliveri attempt attempt caught caught org springframework jdbc BadSqlGrammarException org springframework jdbc bad sql grammar except PreparedStatementCallback prepar statement callback bad SQL grammar SELECT SELECT COUNT aggregationrepo id nest except com mysql jdbc except jdbc MySQLSyntaxErrorException com mysql jdbc except jdbc SQL syntax error except error SQL syntax syntax check manual correspond MySQL SQL server version right syntax use near aggregationrepo id line org springframework jdbc BadSqlGrammarException org springframework jdbc bad sql grammar except PreparedStatementCallback prepar statement callback bad SQL grammar SELECT SELECT COUNT aggregationrepo id nest except com mysql jdbc except jdbc MySQLSyntaxErrorException com mysql jdbc except jdbc SQL syntax error except error SQL syntax syntax check manual correspond MySQL SQL server version right syntax use near aggregationrepo id line org springframework jdbc support SQLErrorCodeSQLExceptionTranslator doTranslate SQLErrorCodeSQLExceptionTranslator java org springframework jdbc support SQL error code SQL except translat translat SQL error code SQL except translat java org springframework jdbc support AbstractFallbackSQLExceptionTranslator translat AbstractFallbackSQLExceptionTranslator java org springframework jdbc support abstract fallback SQL except translat translat abstract fallback SQL except translat java org springframework jdbc core JdbcTemplate execut JdbcTemplate java org springframework jdbc core jdbc templat execut jdbc templat java org springframework jdbc core JdbcTemplate queri JdbcTemplate java org springframework jdbc core jdbc templat queri jdbc templat java org springframework jdbc core JdbcTemplate queri JdbcTemplate java org springframework jdbc core jdbc templat queri jdbc templat java org springframework jdbc core JdbcTemplate queri JdbcTemplate java org springframework jdbc core jdbc templat queri jdbc templat java org springframework jdbc core JdbcTemplate queryForObject JdbcTemplate java org springframework jdbc core jdbc templat queri object jdbc templat java org springframework jdbc core JdbcTemplate queryForObject JdbcTemplate java org springframework jdbc core jdbc templat queri object jdbc templat java org springframework jdbc core JdbcTemplate queryForInt JdbcTemplate java org springframework jdbc core jdbc templat queri int jdbc templat java org apach camel processor aggreg jdbc JdbcAggregationRepository doInTransaction JdbcAggregationRepository java org apach camel processor aggreg jdbc jdbc aggreg repositori transact jdbc aggreg repositori java org apach camel processor aggreg jdbc JdbcAggregationRepository doInTransaction JdbcAggregationRepository java org apach camel processor aggreg jdbc jdbc aggreg repositori transact jdbc aggreg repositori java org springframework transact support TransactionTemplate execut TransactionTemplate java org springframework transact support transact templat execut transact templat java org apach camel processor aggreg jdbc JdbcAggregationRepository add JdbcAggregationRepository java org apach camel processor aggreg jdbc jdbc aggreg repositori add jdbc aggreg repositori java org apach camel processor aggreg AggregateProcessor doAggregation AggregateProcessor java org apach camel processor aggreg aggreg processor aggreg aggreg processor java org apach camel processor aggreg AggregateProcessor process AggregateProcessor java org apach camel processor aggreg aggreg processor process aggreg processor java org apach camel impl convert AsyncProcessorTypeConverter ProcessorToAsyncProcessorBridge process AsyncProcessorTypeConverter java org apach camel impl convert async processor type convert processor async processor bridg process async processor type convert java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor DefaultChannel process DefaultChannel java org apach camel processor default channel process default channel java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel compon jm EndpointMessageListener onMessage EndpointMessageListener java org apach camel compon jm endpoint messag listen messag endpoint messag listen java org springframework jm listen AbstractMessageListenerContainer doInvokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer invokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer doExecuteListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain execut listen abstract messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer doReceiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer receiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker invokeListener DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok invok listen default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker executeOngoingLoop DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok execut ongo loop default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker run DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok run default messag listen contain java java lang thread run thread java caus java lang thread run thread java caus com mysql jdbc except jdbc MySQLSyntaxErrorException com mysql jdbc except jdbc SQL syntax error except error SQL syntax syntax check manual correspond MySQL SQL server version right syntax use near aggregationrepo id line sun reflect GeneratedConstructorAccessor newInstance unknown sun reflect gener constructor accessor new instanc unknown sourc sourc sun reflect DelegatingConstructorAccessorImpl newInstance DelegatingConstructorAccessorImpl java sun reflect deleg constructor accessor impl new instanc deleg constructor accessor impl java java lang reflect constructor newInstance constructor java java lang reflect constructor new instanc constructor java com mysql jdbc util handleNewInstance util java com mysql jdbc util handl new instanc util java com mysql jdbc util getInstance util java com mysql jdbc util get instanc util java com mysql jdbc SQLError createSQLException SQLError java com mysql jdbc SQL error creat SQL except SQL error java com mysql jdbc MysqlIO checkErrorPacket MysqlIO java com mysql jdbc mysql IO check error packet mysql IO java com mysql jdbc MysqlIO checkErrorPacket MysqlIO java com mysql jdbc mysql IO check error packet mysql IO java com mysql jdbc MysqlIO sendCommand MysqlIO java com mysql jdbc mysql IO send command mysql IO java com mysql jdbc MysqlIO sqlQueryDirect MysqlIO java com mysql jdbc mysql IO sql queri direct mysql IO java com mysql jdbc ConnectionImpl execSQL ConnectionImpl java com mysql jdbc connect impl exec SQL connect impl java com mysql jdbc PreparedStatement executeInternal PreparedStatement java com mysql jdbc prepar statement execut intern prepar statement java com mysql jdbc PreparedStatement executeQuery PreparedStatement java com mysql jdbc prepar statement execut queri prepar statement java org apach common dbcp DelegatingPreparedStatement executeQuery DelegatingPreparedStatement java org apach common dbcp deleg prepar statement execut queri deleg prepar statement java org apach common dbcp DelegatingPreparedStatement executeQuery DelegatingPreparedStatement java org apach common dbcp deleg prepar statement execut queri deleg prepar statement java org springframework jdbc core JdbcTemplate doInPreparedStatement JdbcTemplate java org springframework jdbc core jdbc templat prepar statement jdbc templat java org springframework jdbc core JdbcTemplate execut JdbcTemplate java org springframework jdbc core jdbc templat execut jdbc templat java,1,0,0,0,0,components/camel-sql/src/main/java/org/apache/camel/processor/aggregate/jdbc/JdbcAggregationRepository.java;,0
3942,Jean-Christophe Delmas,camel-core,0,AnnotationTypeConverterLoader fails for folders containing spaces, AnnotationTypeConverterLoader annot type convert loader fail folder contain space,This problem appears when jar dependencies with type converters have path containing space characters.In my case  the camel-mail-2.7.1.jar jar is located in my local maven repository.I get this error during my project startup: [...]Caused by: java.net.URISyntaxException: Illegal character in opaque part at index 22: jar:file:/D:/Documents and Settings/501915291/.m2/repository/org/apache/camel/camel-mail/2.7.1/camel-mail-2.7.1.jar!/META-INF/services/org/apache/camel/TypeConverter at java.net.URI$Parser.fail(URI.java:2809) at java.net.URI$Parser.checkChars(URI.java:2982) at java.net.URI$Parser.parse(URI.java:3019) at java.net.URI.&lt;init&gt;(URI.java:578) at java.net.URL.toURI(URL.java:918) at org.apache.camel.impl.converter.AnnotationTypeConverterLoader.findPackages(AnnotationTypeConverterLoader.java:118) at org.apache.camel.impl.converter.AnnotationTypeConverterLoader.findPackageNames(AnnotationTypeConverterLoader.java:108) at org.apache.camel.impl.converter.AnnotationTypeConverterLoader.load(AnnotationTypeConverterLoader.java:69) ... 63 moreFIX:findPackages method in AnnotationTypeConverterLoader shouldn't use URIs to store already visited jars., problem appear jar depend type convert path contain space charact charact case camel mail jar camel mail jar jar locat local maven repositori repositori get error project startup startup caus caus java net URISyntaxException java net URI syntax except illeg charact opaqu part index jar file document jar file document set repositori org apach camel camel mail camel mail jar META INF servic org apach camel TypeConverter set repositori org apach camel camel mail camel mail jar META INF servic org apach camel type convert java net URI parser fail URI java java net URI parser fail URI java java net URI parser checkChars URI java java net URI parser check char URI java java net URI parser pars URI java java net URI parser pars URI java java net URI lt init gt URI java java net URI lt init gt URI java java net URL toURI URL java java net URL URI URL java org apach camel impl convert AnnotationTypeConverterLoader findPackages AnnotationTypeConverterLoader java org apach camel impl convert annot type convert loader find packag annot type convert loader java org apach camel impl convert AnnotationTypeConverterLoader findPackageNames AnnotationTypeConverterLoader java org apach camel impl convert annot type convert loader find packag name annot type convert loader java org apach camel impl convert AnnotationTypeConverterLoader load AnnotationTypeConverterLoader java org apach camel impl convert annot type convert loader load annot type convert loader java moreFIX findPackages FIX find packag method AnnotationTypeConverterLoader annot type convert loader use URIs UR store alreadi visit jar jar,1,1,0,0,0,camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/converter/CoreTypeConverterLoader.java;,0
3949,Claus Ibsen,camel-core,0,Sending a message to log endpoint should not convert payload to StreamCache, send messag log endpoint not convert payload StreamCache stream cach,We should not automatic try to convert the payload to a StreamCache if you send a message to a log endpoint. StreamCache newBody = message.getBody(StreamCache.class); if (newBody != null) { message.setBody(newBody); }Only if people have explicit enabled stream cache we can safely log it.Otherwise we should not output streams in the log.We should use the extractBodyForLogging from MessageHelper instead which cater for this., not automat tri convert payload StreamCache stream cach send messag log endpoint endpoint StreamCache stream cach newBody new bodi messag getBody StreamCache class messag get bodi stream cach class newBody new bodi null null messag setBody newBody messag set bodi new bodi peopl explicit enabl stream cach safe log otherwis otherwis not output stream log log use extractBodyForLogging extract bodi log MessageHelper messag helper instead cater,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/log/LogFormatter.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchange.java;camel-core/src/main/java/org/apache/camel/impl/DefaultMessage.java;camel-core/src/main/java/org/apache/camel/util/MessageHelper.java;camel-core/src/test/java/org/apache/camel/component/log/LogInputStreamTest.java;camel-core/src/test/java/org/apache/camel/impl/LogDebugBodyStreamsTest.java;,1
3950,Jimmy Rueedi,camel-web,0,Route cannot be started within web-console  if autoStartup='false' is set in camel.xml, rout cannot start within web consol web consol autoStartup fals auto startup fals set camel xml camel xml,When a route has autoStartup='false' set in the camel.xml  it cannot be started anymore in the web- console.In the logfile  an entry is generated  similar to this:'Cannot start route route2 as its configured with autoStartup=false | org.apache.camel.spring.SpringCamelContext | qtp7446303-52'If a route does not have autoStartup='false'  it can be stopped and started normally (as before with ActiveMQ 5.4.2 / Camel 2.4.0)Reproduce steps: Configure a route with '&lt;route autoStartup='false'&gt;' Start the ActiveMQ Service Navigate to 'http://server.domain.tld:8161/camel/routes try to start the route with the button 'Start' check the logfile 'activemq.log', rout autoStartup fals auto startup fals set camel xml camel xml cannot start anymor web web consol consol logfil entri gener similar cannot cannot start rout rout rout configur autoStartup fals auto startup fals org apach camel spring SpringCamelContext org apach camel spring spring camel context qtp qtp rout not autoStartup fals auto startup fals stop start normal ActiveMQ activ MQ camel reproduc reproduc step step configur rout lt rout lt rout autoStartup fals gt auto startup fals gt start ActiveMQ activ MQ servic navig http server domain tld camel rout http server domain tld camel rout tri start rout button start start check logfil activemq log activemq log,0,0,0,0,1,components/camel-web/src/main/java/org/apache/camel/web/resources/RouteStatusResource.java;components/camel-web/src/main/webapp/WEB-INF/applicationContext.xml;,0
3964,Teiva Harsanyi,camel-script,0,Script arguments, script argument,As I said here : http://fusesource.com/forums/thread.jspa?threadID=2946&amp;tstart=0  the ScriptEngine class (http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngine.html) provides a put method which enable to add a Java object into the created script  thanks to the JSR-223. But Camel does not provide a 'bridge' to this method.So I propose to pass the arguments via the header map of the message.Indeed  on client side  I created a Map&lt;String  Object&gt; which contains the future scripts arguments. Then I put this map into the header.Next on the camel-script component  I check a particular key (a public static final attribute that I added) and if the value returned is a Map  I try to add the Map's objects with the engine.put(String  Object) method., said ScriptEngine script engin class http download oracl com javas doc api javax script ScriptEngine html http download oracl com javas doc api javax script script engin html provid put method enabl add java object creat script thank JSR JSR camel not provid bridg bridg method method propos pass argument via header map messag inde messag inde client side creat map lt string map lt string object gt object gt contain futur script argument argument put map header next header next camel script camel script compon check particular key public static final attribut ad ad valu return map tri add map map object engin put string engin put string object object method method,0,1,0,1,0,components/camel-script/src/main/java/org/apache/camel/builder/script/ScriptBuilder.java;components/camel-script/src/test/java/org/apache/camel/builder/script/JavaScriptExpressionTest.java;,0
3968,Claus Ibsen,camel-soap,0,camel-soap - Add support for multiple parameters, camel soap camel soap add support multipl paramet,camel-soap is limited to only work with one parameter.There is some code that throws an exception stating multiple parameters is not supported.We should add support for that.See nabblehttp://camel.465427.n5.nabble.com/Multiple-parameters-in-CXF-service-method-tp4386208p4386208.html, camel soap camel soap limit work one paramet paramet code throw except state multipl paramet not support support add support see see nabblehttp camel nabbl com multipl paramet CXF servic method tp html nabblehttp camel nabbl com multipl paramet CXF servic method tp html,0,1,0,1,0,components/camel-soap/pom.xml;components/camel-soap/src/main/java/org/apache/camel/dataformat/soap/SoapJaxbDataFormat.java;components/camel-soap/src/main/java/org/apache/camel/dataformat/soap/name/MethodInfo.java;components/camel-soap/src/main/java/org/apache/camel/dataformat/soap/name/ServiceInterfaceStrategy.java;components/camel-soap/src/test/java/org/apache/camel/converter/soap/name/ServiceInterfaceStrategyTest.java;components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/MultiPartClientMarshalTest.java;components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/MultiPartCustomerServiceImpl.java;components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/MultiPartCxfServerTest.java;components/camel-soap/src/test/resources/org/apache/camel/dataformat/soap/MultiPartCustomerService.wsdl;components/camel-soap/src/test/resources/org/apache/camel/dataformat/soap/MultiPartCxfServerTest-context.xml;,0
3971,Claus Ibsen,camel-core,0,Dumping route to XML created by Java DSL using an expression may not output the actual used expression, dump rout XML creat java DSL use express may not output actual use express,See this unit testManagedCamelContextDumpRoutesAsXmlTestThe route in Java DSL from('seda:bar').routeId('myOtherRoute') .filter().header('bar') .to('mock:bar') .end();And the output in XML &lt;route group='org.apache.camel.management.ManagedCamelContextDumpRoutesAsXmlTest$1' id='myOtherRoute'&gt; &lt;from uri='seda:bar'/&gt; &lt;filter id='filter1'&gt; &lt;expressionDefinition/&gt; &lt;to uri='mock:bar' id='to2'/&gt; &lt;/filter&gt; &lt;/route&gt;The same example created by Spring XML  outputs the XML correct, see unit testManagedCamelContextDumpRoutesAsXmlTestThe test manag camel context dump rout xml test rout java DSL seda bar routeId myOtherRoute seda bar rout Id rout filter header bar filter header bar mock bar mock bar end end output XML lt rout lt rout group org apach camel manag ManagedCamelContextDumpRoutesAsXmlTest group org apach camel manag manag camel context dump rout xml test id myOtherRoute gt id rout gt lt lt uri seda bar gt uri seda bar gt lt filter lt filter id filter gt id filter gt lt expressionDefinition gt lt express definit gt lt lt uri mock bar uri mock bar id gt id gt lt filter gt lt filter gt lt rout gt lt rout gt exampl creat spring XML output XML correct,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/builder/ExpressionClauseSupport.java;camel-core/src/main/java/org/apache/camel/component/mock/AssertionClause.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/model/AggregateDefinition.java;camel-core/src/main/java/org/apache/camel/model/CatchDefinition.java;camel-core/src/main/java/org/apache/camel/model/ChoiceDefinition.java;camel-core/src/main/java/org/apache/camel/model/ExpressionNode.java;camel-core/src/main/java/org/apache/camel/model/IdempotentConsumerDefinition.java;camel-core/src/main/java/org/apache/camel/model/OnCompletionDefinition.java;camel-core/src/main/java/org/apache/camel/model/OnExceptionDefinition.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/ResequenceDefinition.java;camel-core/src/main/java/org/apache/camel/model/SplitDefinition.java;camel-core/src/main/java/org/apache/camel/model/TryDefinition.java;camel-core/src/main/java/org/apache/camel/model/WhenDefinition.java;camel-core/src/main/java/org/apache/camel/model/language/ExpressionDefinition.java;camel-core/src/test/java/org/apache/camel/management/ManagedCamelContextDumpRoutesAsXmlTest.java;camel-core/src/test/java/org/apache/camel/util/DumpModelAsXmlAggregateRouteTest.java;camel-core/src/test/java/org/apache/camel/util/DumpModelAsXmlChoiceFilterRouteTest.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;,0
3973,Claus Ibsen,camel-core; jmx,0,Add send body operations to managed CamelContext so you can pass in headers as well, add send bodi oper manag CamelContext camel context pass header well,Currently we only support sendBody / requestBody on ManagedCamelContext. We should add operations that includes a map of headers. Then we supports sending a message that has headers as well.Also the existing operations should accept a java.lang.Object as body instead of a fixed String., current support sendBody send bodi requestBody request bodi ManagedCamelContext manag camel context add oper includ map header header support send messag header well also well also exist oper accept java lang object java lang object bodi instead fix string string,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCamelContext.java;camel-core/src/test/java/org/apache/camel/management/ManagedCamelContextAutoStartupTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedCamelContextSuspendResumeTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedCamelContextSuspendStartTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedCamelContextTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedRouteAutoStartupTest.java;,0
3974,Richard Kettelerij,camel-spring-ws,0,Spring-WS producer doesn't propagate headers, spring WS spring WS produc propag header,The Spring-WS producer only sets the body of the exchange  headers aren't propagated.See Nabble: http://camel.465427.n5.nabble.com/spring-ws-component-not-propagating-in-headers-to-out-message-td4393731.html, spring WS spring WS produc set bodi exchang header propag see propag see nabbl nabbl,0,1,0,1,0,components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceProducer.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/ProducerLocalRouteTest.java;components/camel-spring-ws/src/test/resources/org/apache/camel/component/spring/ws/ProducerLocalRouteTest-context.xml;,0
3982,Claus Straube,camel-hazelcast,0,Updated Hazelcast to version 1.9.3, updat hazelcast version,Updated Hazelcast to version 1.9.3. This offers some major bugfixes in Hazelcast and new functionality in the camel camponent (e.g. list inserting by index)., updat hazelcast version offer major bugfix hazelcast new function camel campon list insert index index,0,1,0,0,0,components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastListProducerTest.java;parent/pom.xml;platforms/karaf/features/src/main/resources/features.xml;,0
3994,Alfred Hiebl,camel-core,0,Java DSL - New means to explicitly end try/catch blocks, java DSL new mean explicitli end tri catch tri catch block,We are facing a problem with split() in combination with doTry/doCatch().Could you add a method 'endDoTry()' to the ProcessorDefinition? My use case is this: @Override public void configure() throws Exception { from('timer://myTimer?period=10000) .log('begin') .setBody(constant('x y z')) .doTry() .log('processing') .split(body()) .log('split') .end() .endDoTry() // would need some way like this to get back to the TryDefinition .doCatch(Exception.class) .log('Exception') .end(); }I tested this by adding endDoTry() to the ProcessorDefinition  and it works just fine. public TryDefinition endDoTry() { return (TryDefinition) this; }An endDoCatch in the TryDefinition would be great too. Is it possible that these endXXX() methods get added to 2.6.0  not just 2.7.0 or trunk?See also: http://camel.465427.n5.nabble.com/Route-with-choice-and-split-td4375184.html, face problem split split combin doTry doCatch could tri catch could add method endDoTry end tri ProcessorDefinition processor definit use case overrid overrid public void configur configur throw except timer myTimer period timer timer period log begin log begin setBody constant set bodi constant doTry tri log process log process split bodi split bodi log split log split end end endDoTry end tri would need way like get back TryDefinition tri definit doCatch except class catch except class log except log except end end test ad endDoTry end tri ProcessorDefinition processor definit work fine fine public TryDefinition tri definit endDoTry end tri return TryDefinition tri definit endDoCatch end catch TryDefinition tri definit would great possibl endXXX end XXX method get ad not trunk see trunk see also also,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/test/java/org/apache/camel/processor/DoTryCatchWithSplitterTest.java;,0
4010,Laurentiu Trica,camel-ftp,0,Camel FTP component fails to process multiple files at once from a specified folder, camel FTP compon fail process multipl file specifi folder,Camel FTP component fails to process multiple files at once from a specified folder (let's assume the folder is /in).When the consumer connects to a ftp account and finds a list of  let's say  3 files  it will try to retrieve them in parallel but this is not handled properly.As you can see from the below FTP server log  this is what Camel FTP does: it changes the current directory to /in retrieves the file it changes the current directory to / the second (probably) thread changes the directory to /in retreives the second file the first (probably) thread sends a delete command but it sends it as if it were in the root folder but it is actually in the /in folder the FTP gives an error that the file doesn't exist somehow the FTP Component blocks itself on the first file...See my comments in the following log starting with *****(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 257 '/' is current directory.(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; CWD in(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 250 CWD successful. '/in' is current directory.(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; PASV(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 227 Entering Passive Mode (192 168 0 25 228 206)(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; RETR WS_1001_1.xml(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 150 Connection accepted(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; SSL connection for data connection established(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 226 Transfer OK(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; CWD /(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 250 CWD successful. '/' is current directory.(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; PWD(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 257 '/' is current directory.(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; CWD in(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 250 CWD successful. '/in' is current directory.(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; PASV(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 227 Entering Passive Mode (192 168 0 25 228 207)(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; RETR WS_1001_2.xml(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 150 Connection accepted(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; DELE in/WS_1001_1.xml ***** The location is already /in  should be DELE WS_1001_1.xml(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 550 File not found(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; PASV(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 227 Entering Passive Mode (192 168 0 25 228 208)(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; NLST in(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 550 Directory not found(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; PWD(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 257 '/in' is current directory.(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; CWD in ***** Current directory is already /in(002386)5/20/2011 17:07:03 PM - sftp-test (192.168.0.194)&gt; 550 CWD failed. '/in/in': directory not found.For the whole FTP server logs go here: http://pastie.org/private/kknnkxpbyzqmai7gsm8z5gFor the Servicemix/Camel(Trace) log: http://pastie.org/private/eulookxiepan3nkjyu41aA workaround that seems to work is to use the maxMessagesPerPoll=1 option., camel FTP compon fail process multipl file specifi folder let let assum folder consum connect ftp account find list let let say file tri retriev parallel not handl properli properli see FTP server log camel FTP chang current directori retriev file chang current directori second probabl probabl thread chang directori retreiv second file first probabl probabl thread send delet command send root folder actual folder FTP give error file exist somehow FTP compon block first file see file see comment follow log start PM sftp test sftp test gt gt current directori directori PM sftp test sftp test gt gt CWD PM sftp test sftp test gt gt CWD success success current directori directori PM sftp test sftp test gt gt PASV PASV PM sftp test sftp test gt gt enter passiv mode PM sftp test sftp test gt gt RETR WS  xml WS  xml PM sftp test sftp test gt gt connect accept accept PM sftp test sftp test gt gt SSL connect data connect establish establish PM sftp test sftp test gt gt transfer OK OK PM sftp test sftp test gt gt CWD PM sftp test sftp test gt gt CWD success success current directori directori PM sftp test sftp test gt gt PWD PWD PM sftp test sftp test gt gt current directori directori PM sftp test sftp test gt gt CWD PM sftp test sftp test gt gt CWD success success current directori directori PM sftp test sftp test gt gt PASV PASV PM sftp test sftp test gt gt enter passiv mode PM sftp test sftp test gt gt RETR WS  xml WS  xml PM sftp test sftp test gt gt connect accept accept PM sftp test sftp test gt gt DELE WS  xml WS  xml locat alreadi DELE WS  xml WS  xml PM sftp test sftp test gt gt file not found found PM sftp test sftp test gt gt PASV PASV PM sftp test sftp test gt gt enter passiv mode PM sftp test sftp test gt gt NLST PM sftp test sftp test gt gt directori not found found PM sftp test sftp test gt gt PWD PWD PM sftp test sftp test gt gt current directori directori PM sftp test sftp test gt gt CWD current directori alreadi PM sftp test sftp test gt gt CWD fail fail directori not found found whole FTP server log go servicemix camel trace servicemix camel trace log log workaround seem work use maxMessagesPerPoll max messag per poll option option,1,0,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpAsyncProcessTest.java;,0
4014,Sergey Zhemzhitsky,camel-cxf,0,cxf:rsServer requires class instead of interface in the serviceClass attribute, cxf rsServer cxf rs server requir class instead interfac serviceClass servic class attribut,Here are part of the conversation from the mailing list:1.Hi there I'm using apache-servicemix-4.3.1-fuse-01-09 and I need to consume RESTful requests.Here is the documentation I have used: http://camel.apache.org/cxfrs.htmlHere is my configuration file&lt;beans xmlns='http://www.springframework.org/schema/beans' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:jaxrs='http://cxf.apache.org/jaxrs' xmlns:cxf='http://camel.apache.org/schema/cxf' xsi:schemaLocation=' http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf.xsd '&gt; &lt;import resource='classpath:META-INF/cxf/cxf.xml' /&gt; &lt;import resource='classpath:META-INF/cxf/cxf-extension-jaxrs-binding.xml' /&gt; &lt;import resource='classpath:META-INF/cxf/cxf-extension-http.xml' /&gt; &lt;import resource='classpath:META-INF/cxf/osgi/cxf-extension-osgi.xml' /&gt; &lt;cxf:rsServer id='myServer' address='/' serviceClass='org.test.MyService' /&gt; &lt;camelContext id='camel' xmlns='http://camel.apache.org/schema/spring'&gt; &lt;route&gt; &lt;from uri='cxfrs://bean:myServer?exchangePattern=InOut'/&gt; &lt;transform&gt; &lt;constant&gt;Hello World!!!&lt;/constant&gt; &lt;/transform&gt; &lt;/route&gt; &lt;/camelContext&gt;&lt;/beans&gt;Here is implementation of org.test.MyService@Path('/service')@Produces('application/json')public class MyService { @POST @Path('/resource') public Response add(@QueryParam('res') String res) { return Response.ok(new Status('The Resource has been processed')).build(); }}I'm wondering why we have to specify the serviceClass attribute and why this attribute should point at the real class. I'm asking because the response of such a service will always be 'Hello World!!!' and implementation of MyService.add method does not matter in that case.2.Hi Ben You are right  the serviceClass is just used to build up the JAXRS service module. And Camel CXF RS Consumer doesn't all serviceClass instance at the end  it just route the request to the camel route.3. Hi Willem  BenThanks for the information.I tried to use the interface instead of class in the serviceClass attribute and I didn't succeed because of an exception that told that the class is required.Here is the exception:Caused by: java.lang.RuntimeException: Resource class interface org.test.MyService has no valid constructor at org.apache.cxf.jaxrs.lifecycle.PerRequestResourceProvider.&lt;init&gt;(PerRequestResourceProvider.java:45) at org.apache.cxf.jaxrs.JAXRSServerFactoryBean.updateClassResourceProviders(JAXRSServerFactoryBean.java:338) at org.apache.cxf.jaxrs.JAXRSServerFactoryBean.create(JAXRSServerFactoryBean.java:119) ... 26 moreI think that using an interface would be better in that case., part convers mail list Hi list Hi use apach servicemix fuse apach servicemix fuse need consum RESTful RES tful request request document use use configur file lt bean file lt bean xmln http www springframework org schema bean xmln http www springframework org schema bean xmln xsi http www org XMLSchema instanc xmln xsi http www org XML schema instanc xmln jaxr http cxf apach org jaxr xmln jaxr http cxf apach org jaxr xmln cxf http camel apach org schema cxf xmln cxf http camel apach org schema cxf xsi schemaLocation xsi schema locat gt gt lt import lt import resourc classpath META INF cxf cxf xml resourc classpath META INF cxf cxf xml gt gt lt import lt import resourc classpath META INF cxf cxf extens jaxr bind xml resourc classpath META INF cxf cxf extens jaxr bind xml gt gt lt import lt import resourc classpath META INF cxf cxf extens http xml resourc classpath META INF cxf cxf extens http xml gt gt lt import lt import resourc classpath META INF cxf osgi cxf extens osgi xml resourc classpath META INF cxf osgi cxf extens osgi xml gt gt lt cxf rsServer lt cxf rs server id myServer id server address address serviceClass org test MyService servic class org test servic gt gt lt camelContext lt camel context id camel id camel xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt rout gt lt rout gt lt lt uri cxfr bean myServer exchangePattern InOut gt uri cxfr bean server exchang pattern gt lt transform gt lt transform gt lt constant gt hello lt constant gt hello world lt constant gt world lt constant gt lt transform gt lt transform gt lt rout gt lt rout gt lt camelContext gt lt bean gt lt camel context gt lt bean gt implement org test MyService path servic produc applic json public org test servic path servic produc applic json public class MyService servic POST POST path resourc path resourc public respons add QueryParam re add queri param re string re re return respons ok new respons ok new statu statu resourc process build process build wonder specifi serviceClass servic class attribut attribut point real class class ask respons servic alway hello hello world world implement MyService add servic add method not matter case Hi case Hi ben right serviceClass servic class use build JAXRS servic modul modul camel CXF RS consum serviceClass servic class instanc end rout request camel rout rout Hi willem BenThanks ben thank inform inform tri use interfac instead class serviceClass servic class attribut succeed except told class requir requir except caus except caus java lang RuntimeException java lang runtim except resourc class interfac org test MyService org test servic no valid constructor org apach cxf jaxr lifecycl PerRequestResourceProvider lt init gt PerRequestResourceProvider java org apach cxf jaxr lifecycl per request resourc provid lt init gt per request resourc provid java org apach cxf jaxr JAXRSServerFactoryBean updateClassResourceProviders JAXRSServerFactoryBean java org apach cxf jaxr JAXRS server factori bean updat class resourc provid JAXRS server factori bean java org apach cxf jaxr JAXRSServerFactoryBean creat JAXRSServerFactoryBean java org apach cxf jaxr JAXRS server factori bean creat JAXRS server factori bean java moreI think use interfac would better case case,0,0,1,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/CamelResourceProvider.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/CxfRsEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/SubResourceClassInvocationHandler.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/jaxrs/testbean/CustomerServiceResource.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/SubResourceClassInvocationHandler.java;,0
4019,Fernando Ribeiro,camel-freemarker,0,Replace the NoCacheStorage Class, replac NoCacheStorage No cach storag class,The NoCacheStorage class can safely be replaced by FreeMarker's NullCacheStorage class (created per my suggestion based on our needs in Camel) introduced in 2.3.16., NoCacheStorage No cach storag class safe replac FreeMarker free marker NullCacheStorage null cach storag class creat per suggest base need camel camel introduc,0,1,0,0,0,components/camel-freemarker/src/main/java/org/apache/camel/component/freemarker/FreemarkerComponent.java;components/camel-freemarker/src/main/java/org/apache/camel/component/freemarker/NoCacheStorage.java;,0
4021,Arkadi Shishlov,camel-core,0,ConcurrentModificationException at DefaultCamelContext.getRouteDefinition(), ConcurrentModificationException concurr modif except DefaultCamelContext getRouteDefinition default camel context get rout definit,Similar to CAMEL-3493 there is also a race in getRouteDefinition()java.util.ConcurrentModificationException at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:372)[:1.6.0_21] at java.util.AbstractList$Itr.next(AbstractList.java:343)[:1.6.0_21] at org.apache.camel.impl.DefaultCamelContext.getRouteDefinition(DefaultCamelContext.java:1098)[cih-core-1.0.jar:1.0] at com.tieto.cih.core.main.GatewayRouteSetup.startGatewayRoutes(GatewayRouteSetup.java:86)[cih-core-1.0.jar:1.0] at com.tieto.cih.core.main.GatewayRouteSetup.process(GatewayRouteSetup.java:73)[cih-core-1.0.jar:1.0]As route count could be quite large  it would be nice to have them stored in synchronized map or something like that instead of list., similar CAMEL CAMEL also race getRouteDefinition java util ConcurrentModificationException get rout definit java util concurr modif except java util AbstractList itr checkForComodification AbstractList java  java util abstract list itr check comodif abstract list java  java util AbstractList itr next AbstractList java  java util abstract list itr next abstract list java  org apach camel impl DefaultCamelContext getRouteDefinition DefaultCamelContext java cih core jar org apach camel impl default camel context get rout definit default camel context java cih core jar com tieto cih core main GatewayRouteSetup startGatewayRoutes GatewayRouteSetup java cih core jar com tieto cih core main gateway rout setup start gateway rout gateway rout setup java cih core jar com tieto cih core main GatewayRouteSetup process GatewayRouteSetup java cih core jar com tieto cih core main gateway rout setup process gateway rout setup java cih core jar rout count could quit larg would nice store synchron map someth like instead list list,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;,0
4022,Hadrian Zbarcea,null,0,Issue using errorBuilderRef with the xml dsl, issu use errorBuilderRef error builder ref xml dsl,While fixing issues around the errorHandler I noticed that &lt;onException&gt; definitions defined in the camel context are ignored if a route specifies its own errorHandlerRef. The reason is that we set the onException definition on the default error handler. I have a fix for that  but I discovered a different issue (I think) for which I would like to discuss the solution.When we have an onException definition that looks kinda like this:&lt;onException&gt; &lt;exception&gt; java.lang.IllegalArgumentException&lt;/exception&gt; &lt;to uri='mock:illegalArgumentException'/&gt;&lt;/onException&gt;... something happens  the IAE exception is caught  we do something  but in that process another exception is thrown. Currently  that would be caught by the default error handler  which may not be what we want.What error handler (if any) should handle exceptions thrown while in onException?The onException mechanism is somewhat similar to a try/catch. I don't think the exceptions thrown while handling onException should be handled by the same error handler configured for the route  or even the context scoped one. The processing should be very simple  predictable and immutable. Since the default 'CamelDefaultErrorHandlerBuilder' can be replaced  it is not imho a solution and we need one global one that does as little as possible (the problem would be agreeing what that is: no redeliveries  logging or not  etc).Thoughts?, fix issu around errorHandler error handler notic lt onException gt lt except gt definit defin camel context ignor rout specifi errorHandlerRef error handler ref reason set onException except definit default error handler handler fix discov differ issu think think would like discuss solut solut onException except definit look kinda like lt onException gt lt except gt lt except gt lt except gt java lang IllegalArgumentException lt except gt java lang illeg argument except lt except gt lt lt uri mock illegalArgumentException gt lt onException gt uri mock illeg argument except gt lt except gt someth happen IAE except caught someth process anoth except thrown thrown current would caught default error handler may not want want error handler handl except thrown onException except onException except mechan somewhat similar tri catch tri catch think except thrown handl onException except handl error handler configur rout even context scope one one process simpl predict immut immut sinc default CamelDefaultErrorHandlerBuilder camel default error handler builder replac not imho solut need one global one littl possibl problem would agre no redeliveri log not etc thought etc thought,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/model/ChoiceDefinition.java;camel-core/src/test/java/org/apache/camel/issues/ExceptionCamel4022Test.java;camel-core/src/test/java/org/apache/camel/issues/ExceptionTest.java;camel-core/src/test/java/org/apache/camel/issues/ExceptionThrownFromOnExceptionTest.java;camel-core/src/main/java/org/apache/camel/model/OnExceptionDefinition.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionComplexWithNestedErrorHandlerRouteWithDefaultErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionMisconfiguredTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringRouteContextOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringRouteContextOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTwoRoutesTest.xml;camel-core/src/test/java/org/apache/camel/issues/OnExceptionNotHandledErrorHandlerRefIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/OnExceptionNotHandledErrorHandlerRefIssueTwoRoutesTest.java;camel-core/src/test/java/org/apache/camel/issues/OnExceptionNotHandledRouteScopedErrorHandlerRefIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/OnExceptionNotHandledRouteScopedErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringOnExceptionNotHandledErrorHandlerRefIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringOnExceptionNotHandledErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringOnExceptionNotHandledErrorHandlerRefIssueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringOnExceptionNotHandledErrorHandlerRefIssueTwoRoutesTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTwoRoutesTest.xml;camel-core/src/test/java/org/apache/camel/issues/OnExceptionErrorHandlerRefIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/OnExceptionErrorHandlerRefIssueTwoRoutesTest.java;camel-core/src/test/java/org/apache/camel/issues/OnExceptionRouteScopedErrorHandlerRefIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/OnExceptionRouteScopedErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringOnExceptionErrorHandlerRefIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringOnExceptionErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringOnExceptionRouteScopedErrorHandlerRefIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringOnExceptionRouteScopedErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringOnExceptionErrorHandlerRefIssueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringOnExceptionErrorHandlerRefIssueTwoRoutesTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringOnExceptionRouteScopedErrorHandlerRefIssueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringOnExceptionRouteScopedErrorHandlerRefIssueTwoRoutesTest.xml;camel-core/src/test/java/org/apache/camel/issues/ContextScopedOnExceptionErrorHandlerRefIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/ContextScopedOnExceptionErrorHandlerRefIssueTwoRoutesTest.java;camel-core/src/test/java/org/apache/camel/issues/ContextScopedOnExceptionNotHandledErrorHandlerRefIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/ContextScopedOnExceptionNotHandledErrorHandlerRefIssueTwoRoutesTest.java;camel-core/src/test/java/org/apache/camel/issues/ContextScopedOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/ContextScopedOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTwoRoutesTest.java;camel-core/src/test/java/org/apache/camel/issues/ContextScopedOnExceptionRouteScopedErrorHandlerRefIssueTest.java;camel-core/src/test/java/org/apache/camel/issues/ContextScopedOnExceptionRouteScopedErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionErrorHandlerRefIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionNotHandledErrorHandlerRefIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionNotHandledErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionRouteScopedErrorHandlerRefIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionRouteScopedErrorHandlerRefIssueTwoRoutesTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionErrorHandlerRefIssueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionNotHandledErrorHandlerRefIssueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionNotHandledErrorHandlerRefIssueTwoRoutesTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionNotHandledRouteScopedErrorHandlerRefIssueTwoRoutesTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionRouteScopedErrorHandlerRefIssueTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/ContextScopedSpringOnExceptionRouteScopedErrorHandlerRefIssueTwoRoutesTest.xml;camel-core/src/test/java/org/apache/camel/issues/ExceptionCamel4022Test.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringExceptionCamel4022Test.java;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringExceptionCamel4022Test.xml;,0
4033,Claus Ibsen,camel-core,0,Loop EIP - Add copy option to let it start next loop with a copy of the original exchange, loop EIP add copi option let start next loop copi origin exchang,The Loop EIP will use pipes and filters. So if you loop 3 times  then on the 2nd and 3rd time its the output from the previous processing that is being used.We should add an option so people can use a copy of the original exchange instead  so its the same copy being looped on each iteration.The wiki documentation should be updated to describe the difference in these two modes.See nabblehttp://camel.465427.n5.nabble.com/Loop-usage-tp4432628p4432628.html, loop EIP use pipe filter filter loop time nd rd time output previou process use use add option peopl use copi origin exchang instead copi loop iter iter wiki document updat describ differ two mode see mode see nabblehttp camel nabbl com loop usag tp html nabblehttp camel nabbl com loop usag tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/LoopDefinition.java;camel-core/src/main/java/org/apache/camel/model/NodeFactory.java;camel-core/src/main/java/org/apache/camel/processor/LoopProcessor.java;camel-core/src/test/java/org/apache/camel/processor/LoopCopyTest.java;camel-core/src/test/java/org/apache/camel/processor/LoopNoCopyTest.java;components/camel-scala/src/main/scala/org/apache/camel/scala/dsl/SLoopDefinition.scala;components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/LoopCopyTest.scala;components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/LoopNoCopyTest.scala;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringLoopCopyTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringLoopNoCopyTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringLoopCopyTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringLoopNoCopyTest.xml;,0
4044,Rémy DUBOIS,camel-core,0,ChoiceProcessor : unable to find the mBeans processor, ChoiceProcessor choic processor unabl find mBeans bean processor,Using the jconsole  we are not able to locate some processors after a ChoiceProcessor.For example :from('direct:start').to('mock:test1').id('mock1').choice().when(predicate).to('mock:test2').id('test2').otherwise().to('mock:test3').id('test3').end().to('mock:outOfChoice').id('outOfChoice');The processors mock1 and outOfChoice are well found but not the processors test2 and test3., use jconsol not abl locat processor ChoiceProcessor choic processor exampl direct start mock test id mock choic predic mock test id test otherwis mock test id test end mock outOfChoice id outOfChoice direct start mock test id mock choic predic mock test id test otherwis mock test id test end mock choic id choic processor mock mock outOfChoice choic well found not processor test test test test,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/impl/RouteService.java;camel-core/src/main/java/org/apache/camel/model/ChoiceDefinition.java;camel-core/src/test/java/org/apache/camel/model/ChoiceDefinitionTest.java;,0
4047,Daniel Kulp,camel-core,0,javax.script dependency in camel-core, javax script javax script depend camel core camel core,The OSGi imports for camel-core ends up with a non-optional dependency on javax.script due to it being used in the Activator. However  the karaf feature for camel-core doesn't have a dependency on org.apache.servicemix.specs.scripting-api-1.0 .One of two things should be done:1) mark javax.script as optional. This MAY require some updates to the Activator to work when it's not available.2) Update the karaf features file to add:&lt;bundle dependency='true'&gt;mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.scripting-api-1.0/${servicemix-specs-version}&lt;/bundle&gt;, OSGi OS Gi import camel core camel core end non option non option depend javax script javax script due use activ activ howev karaf featur camel core camel core depend org apach servicemix spec script api org apach servicemix spec script api one one two thing done done mark javax script javax script option option MAY requir updat activ work not avail avail updat karaf featur file add lt bundl add lt bundl depend true gt mvn org apach servicemix spec org apach servicemix spec script api servicemix spec version lt bundl gt depend true gt mvn org apach servicemix spec org apach servicemix spec script api servicemix spec version lt bundl gt,0,1,0,0,1,0,0
4057,Mateusz Nowakowski,camel-core,0,continued(true) doesn't work when is invoked for the second time in the Camel flow, continu true continu true work invok second time camel flow,When Camel flow contains error handling as continued(true)  it is not invoked when the error occurs for the second time (even in different onException).What is more the exception is not handled even by global onException and Camel flow is interruped., camel flow contain error handl continu true continu true not invok error occur second time even differ onException except except not handl even global onException except camel flow interrup interrup,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinueTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinueTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinueTwoTest.java;,0
4067,Christian Schneider,camel-hdfs,0,Test failures in camel-hdfs on windows as Streams are not closed correctly, test failur camel hdf camel hdf window stream not close correctli,On windows some hdfs tests fail as the streams are not correctly being closed. The first stacktrace looks like below. This is a bit misleading as in fact the problem is that not all exchanges could be processed. The reason is that the file component can´t rename the file as it is still open. This is because an inputStream is opened for the file but never closed.junit.framework.AssertionFailedError: expected:&lt;40&gt; but was:&lt;12&gt; at junit.framework.Assert.fail(Assert.java:47) at junit.framework.Assert.failNotEquals(Assert.java:283) at junit.framework.Assert.assertEquals(Assert.java:64) at junit.framework.Assert.assertEquals(Assert.java:195) at junit.framework.Assert.assertEquals(Assert.java:201) at org.apache.camel.component.hdfs.HdfsProducerFileWriteTest.testSimpleWriteFile(HdfsProducerFileWriteTest.java:72) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31) at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31) at org.junit.runners.ParentRunner.run(ParentRunner.java:236) at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197), window hdf test fail stream not correctli close close first stacktrac look like bit mislead fact problem not exchang could process process reason file compon renam file still open open inputStream input stream open file never close junit framework AssertionFailedError close junit framework assert fail error expect lt gt expect lt gt lt gt lt gt junit framework assert fail assert java junit framework assert fail assert java junit framework assert failNotEquals assert java junit framework assert fail not equal assert java junit framework assert assertEquals assert java junit framework assert assert equal assert java junit framework assert assertEquals assert java junit framework assert assert equal assert java junit framework assert assertEquals assert java junit framework assert assert equal assert java org apach camel compon hdf HdfsProducerFileWriteTest testSimpleWriteFile HdfsProducerFileWriteTest java org apach camel compon hdf hdf produc file write test test simpl write file hdf produc file write test java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org junit runner model FrameworkMethod runReflectiveCall FrameworkMethod java org junit runner model framework method run reflect call framework method java org junit intern runner model ReflectiveCallable run ReflectiveCallable java org junit intern runner model reflect callabl run reflect callabl java org junit runner model FrameworkMethod invokeExplosively FrameworkMethod java org junit runner model framework method invok explos framework method java org junit intern runner statement InvokeMethod evalu InvokeMethod java org junit intern runner statement invok method evalu invok method java org junit intern runner statement RunBefores evalu RunBefores java org junit intern runner statement run befor evalu run befor java org junit intern runner statement RunAfters evalu RunAfters java org junit intern runner statement run after evalu run after java org junit rule TestWatchman evalu TestWatchman java org junit rule test watchman evalu test watchman java org junit runner BlockJUnit ClassRunner runChild BlockJUnit ClassRunner java org junit runner block unit class runner run child block unit class runner java org junit runner BlockJUnit ClassRunner runChild BlockJUnit ClassRunner java org junit runner block unit class runner run child block unit class runner java org junit runner ParentRunner run ParentRunner java org junit runner parent runner run parent runner java org junit runner ParentRunner schedul ParentRunner java org junit runner parent runner schedul parent runner java org junit runner ParentRunner runChildren ParentRunner java org junit runner parent runner run children parent runner java org junit runner ParentRunner access ParentRunner java org junit runner parent runner access parent runner java org junit runner ParentRunner evalu ParentRunner java org junit runner parent runner evalu parent runner java org junit intern runner statement RunAfters evalu RunAfters java org junit intern runner statement run after evalu run after java org junit runner ParentRunner run ParentRunner java org junit runner parent runner run parent runner java org eclips jdt intern junit runner JUnit TestReference run JUnit TestReference java org eclips jdt intern junit runner unit test refer run unit test refer java org eclips jdt intern junit runner TestExecution run TestExecution java org eclips jdt intern junit runner test execut run test execut java org eclips jdt intern junit runner RemoteTestRunner runTests RemoteTestRunner java org eclips jdt intern junit runner remot test runner run test remot test runner java org eclips jdt intern junit runner RemoteTestRunner runTests RemoteTestRunner java org eclips jdt intern junit runner remot test runner run test remot test runner java org eclips jdt intern junit runner RemoteTestRunner run RemoteTestRunner java org eclips jdt intern junit runner remot test runner run remot test runner java org eclips jdt intern junit runner RemoteTestRunner main RemoteTestRunner java org eclips jdt intern junit runner remot test runner main remot test runner java,1,0,0,0,0,components/camel-hdfs/src/main/java/org/apache/camel/component/hdfs/HdfsFileType.java;components/camel-hdfs/src/main/java/org/apache/camel/component/hdfs/HdfsWritableFactories.java;components/camel-hdfs/src/test/java/org/apache/camel/component/hdfs/HdfsProducerFileWriteTest.java;,0
4075,Claus Ibsen,camel-quartz,0,Create camel-quartz2 component to support Quartz 2.1.x, creat camel quartz camel quartz compon support quartz,Quartz 2.0.1 has been released. We should upgrade the camel-quartz to use that version.There is an OSGi bundle in the works  to be pushed to central repo:http://repo2.maven.org/maven2/org/apache/servicemix/bundles/org.apache.servicemix.bundles.quartz/Also there is a SMX tickethttps://issues.apache.org/jira/browse/SMXCOMP-884, quartz releas releas upgrad camel quartz camel quartz use version version OSGi OS Gi bundl work push central repo http repo maven org maven org apach servicemix bundl org apach servicemix bundl quartz also repo http repo maven org maven org apach servicemix bundl org apach servicemix bundl quartz also SMX tickethttp issu apach org jira brows SMXCOMP tickethttp issu apach org jira brows SMXCOMP,0,0,0,1,0,components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/CamelJob.java;components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/QuartzComponent.java;components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/QuartzEndpoint.java;components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/QuartzMessage.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/CronScheduledRoutePolicy.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/ScheduledJob.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/ScheduledRoutePolicy.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/SimpleScheduledRoutePolicy.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzCronRouteWithSmallCacheTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzEndpointConfigureTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzNameCollisionTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzPropertiesTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/StatefulQuartzRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/CronScheduledRoutePolicyTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/MultiplePoliciesOnRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SimpleScheduledCombinedRoutePolicyTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SimpleScheduledRoutePolicyTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SpringMultiplePoliciesOnRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SpringScheduledRoutePolicyTest.java;components/camel-quartz2/pom.xml;parent/pom.xml;platforms/karaf/features/src/main/resources/features.xml;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelQuartz2Test.java;apache-camel/pom.xml;apache-camel/src/main/descriptors/common-bin.xml;parent/pom.xml;components/camel-quartz2/pom.xml;components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/CamelJob.java;components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/QuartzComponent.java;components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/QuartzConstants.java;components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/QuartzConsumer.java;components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/QuartzEndpoint.java;components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/QuartzMessage.java;components/camel-quartz2/src/main/java/org/apache/camel/component/quartz2/StatefulCamelJob.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/CronScheduledRoutePolicy.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/ScheduledJob.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/ScheduledJobState.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/ScheduledRouteDetails.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/ScheduledRoutePolicy.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/ScheduledRoutePolicyConstants.java;components/camel-quartz2/src/main/java/org/apache/camel/routepolicy/quartz2/SimpleScheduledRoutePolicy.java;components/camel-quartz2/src/main/resources/META-INF/LICENSE.txt;components/camel-quartz2/src/main/resources/META-INF/NOTICE.txt;components/camel-quartz2/src/main/resources/META-INF/services/org/apache/camel/component/quartz2;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzAddDynamicRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzAddRoutesAfterCamelContextStartedTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzAutoStartTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzComponentTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzCronRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzCronRouteWithSmallCacheTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzEndpointConfigureTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzJobRouteUnderscoreTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzNameCollisionTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzOneCamelContextRestartTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzOneCamelContextSuspendResumeTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzPropertiesTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzRouteFireNowTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzRouteRestartTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzSimpleRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzStartDelayedOptionTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzStartDelayedTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzStatefulJobRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzTwoCamelContextRestartTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzTwoCamelContextSameNameClashTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzTwoCamelContextSuspendResumeTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/QuartzTwoCamelContextTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/SpringQuartzCronRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/SpringQuartzPersistentStoreRestartAppTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/SpringQuartzPersistentStoreRestartRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/SpringQuartzPersistentStoreTest.java;components/camel-quartz2/src/test/java/org/apache/camel/component/quartz2/StatefulQuartzRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/CronScheduledRoutePolicyTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/MultiplePoliciesOnRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/MyRoutePolicy.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/RouteAutoStopFalseCronScheduledPolicyTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SimpleDate.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SimpleScheduledCombinedRoutePolicyTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SimpleScheduledRoutePolicyTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SpringCronScheduledRoutePolicyTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SpringMultiplePoliciesOnRouteTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SpringScheduledRoutePolicyTest.java;components/camel-quartz2/src/test/java/org/apache/camel/routepolicy/quartz2/SpringSimpleScheduledRoutePolicyTest.java;components/camel-quartz2/src/test/resources/log4j.properties;components/camel-quartz2/src/test/resources/org/apache/camel/component/quartz2/SpringQuartzCronRouteTest.xml;components/camel-quartz2/src/test/resources/org/apache/camel/component/quartz2/SpringQuartzPersistentStoreRestartTest.xml;components/camel-quartz2/src/test/resources/org/apache/camel/component/quartz2/SpringQuartzPersistentStoreTest.xml;components/camel-quartz2/src/test/resources/org/apache/camel/component/quartz2/myquartz.properties;components/camel-quartz2/src/test/resources/org/apache/camel/routepolicy/quartz2/CronPolicies.xml;components/camel-quartz2/src/test/resources/org/apache/camel/routepolicy/quartz2/MultiplePolicies.xml;components/camel-quartz2/src/test/resources/org/apache/camel/routepolicy/quartz2/SimplePolicies.xml;components/camel-quartz2/src/test/resources/org/apache/camel/routepolicy/quartz2/myquartz.properties;components/camel-quartz2/src/test/resources/tables_derby.sql;components/pom.xml;parent/pom.xml;,0
4076,Anuj,camel-core; camel-ftp,0,FileIdempotentRepository fileStore does not get loaded on bootrapping  therefore files are processed again, FileIdempotentRepository file idempot repositori fileStore file store not get load bootrap therefor file process,I am using JVM based initialization of Camel using Spring.I use the documented Camel initialization procedure of main.setApplicationContext('my-spring-camel-config.xml');main.start()I also use the documented FileIdempotentRepository that points to a FileStore.However  when Camel initializes this filestore is not loaded up. Hence  the LRU cache contained within this is empty.As a result  all my files are FTPed again from the remote server.This happens everytime I start my JVM resulting in expensive FTP of files., use JVM base initi camel use spring spring use document camel initi procedur main setApplicationContext spring camel config xml main start main set applic context spring camel config xml main start also use document FileIdempotentRepository file idempot repositori point FileStore howev file store howev camel initi filestor not load henc LRU cach contain within empti empti result file FTPed FT ped remot server server happen everytim start JVM result expens FTP file file,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/test/java/org/apache/camel/processor/FileIdempotentConsumerLoadStoreTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/idempotent/FileConsumerIdempotentLoadStoreTest.java;,0
4092,Claus Ibsen,camel-blueprint; camel-core; camel-spring,0,XML DSL having attributes that is a Class type should be a String type instead and use ClassResolver to lookup the class, XML DSL attribut class type string type instead use ClassResolver class resolv lookup class,In the XML DSL  some of the EIPs etc. have an attribute where you can configure a Class&lt;?&gt; type. For example &lt;xpath&gt; has a resultType attribute. The XSD type is a xs:string.The problem is JAXB can only convert the xs:string to a Class&lt;?&gt; if the class can be loaded by JAXB/JDK. This may not work to well with custom types in OSGi / JBoss etc. Instead we should use ClassResolver from CamelContext to lookup those classes  as it works in OSGI/blueprint/JBoss etc., XML DSL EIPs EI Ps etc etc attribut configur class lt gt class lt gt type type exampl lt xpath gt lt xpath gt resultType result type attribut attribut XSD type xs string xs string problem JAXB convert xs string xs string class lt gt class lt gt class load JAXB JDK JAXB JDK may not work well custom type OSGi OS Gi JBoss boss etc etc instead use ClassResolver class resolv CamelContext camel context lookup class work OSGI blueprint JBoss OSGI blueprint boss etc etc,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/OnExceptionDefinition.java;camel-core/src/main/java/org/apache/camel/model/ConvertBodyDefinition.java;camel-core/src/main/java/org/apache/camel/model/DataFormatDefinition.java;camel-core/src/main/java/org/apache/camel/model/OnExceptionDefinition.java;camel-core/src/main/java/org/apache/camel/model/dataformat/JibxDataFormat.java;camel-core/src/main/java/org/apache/camel/model/dataformat/TidyMarkupDataFormat.java;camel-core/src/main/java/org/apache/camel/model/language/MethodCallExpression.java;camel-core/src/main/java/org/apache/camel/model/language/SimpleExpression.java;camel-core/src/main/java/org/apache/camel/model/language/XPathExpression.java;camel-core/src/main/java/org/apache/camel/model/language/XQueryExpression.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/test/java/org/apache/camel/model/StartingRoutesErrorReportedTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringSetHeaderXPathResultTypeTest.xml;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/blueprint/CamelBlueprint4Test.java;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/blueprint/blueprint-21.xml;,0
4103,Claus Ibsen,camel-core,0,In doTry .. doCatch .. doFinally the FAILURE_ENDPOINT details should be available as well in case an exception was thrown, doTry tri doCatch catch doFinally final FAILURE_ENDPOINT FAILURE ENDPOINT detail avail well case except thrown,In doCatch you have access to the caught exception using the exchange property CAUGHT_EXCEPTION. But we should also make FAILURE_ENDPOINT available as well. This information is present when you use onException / errorHandler. So we should make this consistent  and be avail in doCatch / doFinally as well., doCatch catch access caught except use exchang properti CAUGHT_EXCEPTION CAUGHT EXCEPTION also make FAILURE_ENDPOINT FAILURE ENDPOINT avail well well inform present use onException except errorHandler error handler make consist avail doCatch catch doFinally final well well,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/TryProcessor.java;camel-core/src/test/java/org/apache/camel/processor/TryCatchCaughtExceptionFinallyTest.java;camel-core/src/test/java/org/apache/camel/processor/TryCatchCaughtExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/TryCatchCaughtExceptionTwoTimesTest.java;camel-core/src/main/java/org/apache/camel/processor/TryProcessor.java;camel-core/src/test/java/org/apache/camel/processor/TryCatchCaughtExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/TryFinallyCaughtExceptionTest.java;,0
4107,Nikolaos Dimos,camel-core; camel-test,0,Error using multiple error handlers and onException (java.lang.IllegalStateException: SendProcessor has not been started), error use multipl error handler onException except java lang IllegalStateException java lang illeg state except SendProcessor send processor not start start,When we use more than one errorHandler in our routes and onException  we face test failures with the following exception:java.lang.IllegalStateException: SendProcessor has not been started: sendTo(Endpoint&#91;mock://custom&#93;) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:94)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.RedeliveryErrorHandler.deliverToFailureProcessor(RedeliveryErrorHandler.java:621)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:242)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.component.seda.SedaConsumer.sendToConsumers(SedaConsumer.java:189)&#91;camel-core-2.7.2.jar:2.7.2&#93; at org.apache.camel.component.seda.SedaConsumer.run(SedaConsumer.java:121)&#91;camel-core-2.7.2.jar:2.7.2&#93; at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&#91;:1.6.0_20&#93; at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&#91;:1.6.0_20&#93;, use one errorHandler error handler rout onException except face test failur follow except java lang IllegalStateException except java lang illeg state except SendProcessor send processor not start start sendTo endpoint mock custom send endpoint mock custom org apach camel processor SendProcessor process SendProcessor java camel core jar org apach camel processor send processor process send processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process next deleg async processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel processor interceptor TraceInterceptor process TraceInterceptor java camel core jar org apach camel processor interceptor trace interceptor process trace interceptor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java camel core jar org apach camel processor redeliveri error handler process error handler redeliveri error handler java camel core jar org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java camel core jar org apach camel processor redeliveri error handler process redeliveri error handler java camel core jar org apach camel processor DefaultChannel process DefaultChannel java camel core jar org apach camel processor default channel process default channel java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor RedeliveryErrorHandler deliverToFailureProcessor RedeliveryErrorHandler java camel core jar org apach camel processor redeliveri error handler deliv failur processor redeliveri error handler java camel core jar org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java camel core jar org apach camel processor redeliveri error handler process error handler redeliveri error handler java camel core jar org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java camel core jar org apach camel processor redeliveri error handler process redeliveri error handler java camel core jar org apach camel processor DefaultChannel process DefaultChannel java camel core jar org apach camel processor default channel process default channel java camel core jar org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java camel core jar org apach camel processor unit work processor process unit work processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process next deleg async processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel manag InstrumentationProcessor process InstrumentationProcessor java camel core jar org apach camel manag instrument processor process instrument processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel compon seda SedaConsumer sendToConsumers SedaConsumer java camel core jar org apach camel compon seda seda consum send consum seda consum java camel core jar org apach camel compon seda SedaConsumer run SedaConsumer java camel core jar org apach camel compon seda seda consum run seda consum java camel core jar java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java  java util concurr thread pool executor worker run task thread pool executor java  java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java  java util concurr thread pool executor worker run thread pool executor java ,1,0,0,1,0,camel-core/src/test/java/org/apache/camel/issues/MultipleErrorHandlerOnExceptionIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringMultipleErrorHandlerOnExceptionIssueTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/issues/SpringMultipleErrorHandlerOnExceptionIssueTest.xml;,0
4114,Christian Schneider,camel-cxf,0,Refactorings in camel-cxf, refactor camel cxf camel cxf,There are some dependency cycles between packages in camel-cxf. Also some classes could need a bit internal cleanup. I open this ticket so my different commits around this can be seen in context., depend cycl packag camel cxf camel cxf also class could need bit intern cleanup cleanup open ticket differ commit around seen context context,0,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfClientCallback.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfBlueprintEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfComponent.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpointBean.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpointUtils.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSpringEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/jaxrs/CxfRsProducer.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfEndpointBean.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfSpringEndpointBean.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/util/CxfEndpointUtils.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanWithBusTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeansRouterTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/util/CxfEndpointUtilsTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/util/CxfEndpointUtilsWithSpringTest.java;,0
4116,Joakim Sundqvist,camel-spring-ws,0,SpringWebserviceConsumer should check if there is an Exception connected to the exchange and throw that one if it exists so that the default Errorhandling in spring-ws can take place, SpringWebserviceConsumer spring webservic consum check except connect exchang throw one exist default errorhandl spring ws spring ws take place,If an Exception is thrown in the camel flow then that exception is not propagated to spring-web-services.Example: &lt;camel:from uri='spring-ws:rootqname:{foo.com}BarRequest?endpointMapping=#endpointMapping'/&gt; &lt;camel:to uri='bean:exceptionThrower?method=throwException'/&gt;This would result in an empty response from spring web-services with a status code of 202 (accepted).If the check was made on the Exchange to see if there was an Exception thrown then that one could be rethrown and the Exception-handling in spring web services could do its magic.In SpringWebserviceConsumer add this to the invoke method: if(exchange.getException() != null){ throw exchange.getException(); }, except thrown camel flow except not propag spring web servic exampl spring web servic exampl lt camel lt camel uri spring ws rootqnam foo com BarRequest endpointMapping endpointMapping gt uri spring ws rootqnam foo com bar request endpoint map endpoint map gt lt camel lt camel uri bean exceptionThrower method throwException gt uri bean except thrower method throw except gt would result empti respons spring web servic web servic statu code accept accept check made exchang see except thrown one could rethrown except handl except handl spring web servic could magic magic SpringWebserviceConsumer spring webservic consum add invok method method exchang getException exchang get except null null throw exchang getException exchang get except,0,0,1,0,0,components/camel-spring-ws/pom.xml;components/camel-spring-ws/pom.xml;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceConsumer.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/ConsumerExceptionPropagationRouteTest.java;components/camel-spring-ws/src/test/resources/org/apache/camel/component/spring/ws/ConsumerExceptionPropagationRouteTest-context.xml;,0
4120,Claus Ibsen,camel-sql,0,camel-sql - JDBC aggregation repository - Should use ClassResolver from Camel to load classes, camel sql camel sql JDBC aggreg repositori use ClassResolver class resolv camel load class,The ClassLoadingAwareObjectInputStream should use the classResolver from CamelContext  which ensures better class loading on various platforms and OSGi etc., ClassLoadingAwareObjectInputStream class load awar object input stream use classResolver class resolv CamelContext camel context ensur better class load variou platform OSGi OS Gi etc etc,0,0,0,0,0,components/camel-sql/src/main/java/org/apache/camel/processor/aggregate/jdbc/ClassLoadingAwareObjectInputStream.java;components/camel-sql/src/main/java/org/apache/camel/processor/aggregate/jdbc/JdbcCamelCodec.java;,0
4122,james strachan,jmx,0,JMX API to create/delete endpoint, JMX API creat delet creat delet endpoint,we can create endpoints on the fly via the camel-web REST API; or by just sending a message to a new endpoint URI or consuming from a URI. But there is currently no JMX way to do so which is a bit of an omission.Something like...createEndpoint(String uri);would be a nice addition to the MBeans API on a ManagedCamelContext. Maybe a removeEndpoint(String uri) too would be handy., creat endpoint fli via camel web camel web REST API API send messag new endpoint URI consum URI URI current no JMX way bit omiss someth omiss someth like createEndpoint string like creat endpoint string uri would uri would nice addit MBeans bean API ManagedCamelContext manag camel context mayb removeEndpoint string remov endpoint string uri uri would handi handi,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCamelContext.java;camel-core/src/test/java/org/apache/camel/management/ManagedCamelContextTest.java;,0
4140,Chris Love,null,0,Improve pom.xml for camel-jibx - use maven-jibx-plugin, improv pom xml pom xml camel jibx camel jibx use maven jibx plugin maven jibx plugin,I have a patch attached that updates the pom.xml in the camel-jibx component.1. The maven-jibx-plugin has fixed http://jira.codehaus.org/browse/JIBX-3552. Using a profile to allow a user to skip the unit tests using -Dmaven.test.skip=true. The plugin will run even if unit tests are skipped  so using a profile to correct that., patch attach updat pom xml pom xml camel jibx camel jibx compon compon maven jibx plugin maven jibx plugin fix use profil allow user skip unit test use dmaven test skip true dmaven test skip true plugin run even unit test skip use profil correct,0,0,0,1,0,components/camel-jibx/pom.xml;,0
4149,Søren Markert,camel-core,0,ThrottlingInflightRoutePolicy can deadlock, ThrottlingInflightRoutePolicy throttl inflight rout polici deadlock,Using ThrottlingInflightRoutePolicy can deadlock a route in some situations. The unit test pasted in below shows one such situation.What happens is that the bottom route processes its first exchange  then suspends. Since it is suspended it will not take the next exchange from the seda queue  and so it will never check whether it should re-enable the route.Perhaps it will work by putting the check to re-enable the route in the onExchangeBegin method  if that is called even when the route is suspended?import org.apache.camel.Exchange;import org.apache.camel.Produce;import org.apache.camel.ProducerTemplate;import org.apache.camel.builder.RouteBuilder;import org.apache.camel.component.mock.MockEndpoint;import org.apache.camel.impl.DefaultInflightRepository;import org.apache.camel.impl.ThrottlingInflightRoutePolicy;import org.apache.camel.impl.ThrottlingInflightRoutePolicy.ThrottlingScope;import org.apache.camel.test.CamelTestSupport;public class ThrottleTest extends CamelTestSupport { @Produce(uri = 'direct:input') protected ProducerTemplate input; protected MockEndpoint resultEndpoint; @Override protected RouteBuilder createRouteBuilder() throws Exception { return new RouteBuilder() { public void configure() { resultEndpoint = new MockEndpoint('mock:result'); resultEndpoint.setCamelContext(getContext()); getContext().setInflightRepository(new DefaultInflightRepository() { @Override public void add(Exchange exchange) { super.add(exchange); System.out.println(' add ' + this.size()); } @Override public void remove(Exchange exchange) { super.remove(exchange); System.out.println(' remove ' + this.size()); } }); ThrottlingInflightRoutePolicy throttler = new ThrottlingInflightRoutePolicy(); throttler.setMaxInflightExchanges(1); throttler.setScope(ThrottlingScope.Context); from('direct:input') .inOnly('seda:hey'  'seda:hey'  'seda:hey'  'seda:hey'  'seda:hey') .delay(1000) .inOnly('log:inputDone'); from('seda:hey') .routePolicy(throttler) .inOut('log:outputDone') .to(resultEndpoint); } }; } public void testThatAllExchangesAreReceived() throws Exception { input.sendBody('hello'); resultEndpoint.expectedMessageCount(5); resultEndpoint.assertIsSatisfied(); }}, use ThrottlingInflightRoutePolicy throttl inflight rout polici deadlock rout situat situat unit test past show one situat situat happen bottom rout process first exchang suspend suspend sinc suspend not take next exchang seda queue never check whether enabl enabl rout perhap rout perhap work put check enabl enabl rout onExchangeBegin exchang begin method call even rout suspend import suspend import org apach camel exchang import org apach camel exchang import org apach camel produc import org apach camel produc import org apach camel ProducerTemplate import org apach camel produc templat import org apach camel builder RouteBuilder import org apach camel builder rout builder import org apach camel compon mock MockEndpoint import org apach camel compon mock mock endpoint import org apach camel impl DefaultInflightRepository import org apach camel impl default inflight repositori import org apach camel impl ThrottlingInflightRoutePolicy import org apach camel impl throttl inflight rout polici import org apach camel impl ThrottlingInflightRoutePolicy ThrottlingScope import org apach camel impl throttl inflight rout polici throttl scope import org apach camel test CamelTestSupport public org apach camel test camel test support public class ThrottleTest throttl test extend CamelTestSupport camel test support produc uri produc uri direct input direct input protect ProducerTemplate produc templat input input protect MockEndpoint mock endpoint resultEndpoint result endpoint overrid overrid protect RouteBuilder rout builder createRouteBuilder creat rout builder throw except return new RouteBuilder rout builder public void configur configur resultEndpoint result endpoint new MockEndpoint mock result mock endpoint mock result resultEndpoint setCamelContext getContext result endpoint set camel context get context getContext setInflightRepository new get context set inflight repositori new DefaultInflightRepository default inflight repositori overrid overrid public void add exchang add exchang exchang exchang super add exchang super add exchang system println system println add size size overrid overrid public void remov exchang remov exchang exchang exchang super remov exchang super remov exchang system println system println remov size size ThrottlingInflightRoutePolicy throttl inflight rout polici throttler new ThrottlingInflightRoutePolicy throttl inflight rout polici throttler setMaxInflightExchanges throttler set max inflight exchang throttler setScope ThrottlingScope context throttler set scope throttl scope context direct input direct input inOnly seda hey seda hey seda hey seda hey seda hey seda hey seda hey seda hey seda hey seda hey delay delay inOnly log inputDone log input done seda hey seda hey routePolicy throttler rout polici throttler inOut log outputDone log output done resultEndpoint result endpoint public void testThatAllExchangesAreReceived test exchang receiv throw except input sendBody hello input send bodi hello resultEndpoint expectedMessageCount result endpoint expect messag count resultEndpoint assertIsSatisfied result endpoint assert satisfi,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultRouteContext.java;camel-core/src/main/java/org/apache/camel/impl/ThrottlingInflightRoutePolicy.java;camel-core/src/test/java/org/apache/camel/processor/ThrottlingInflightRoutePolicyContextScopeTest.java;,0
4159,Søren Markert,camel-core,0,MockEndpoint.expectedHeaderReceived checks only one header, MockEndpoint expectedHeaderReceived mock endpoint expect header receiv check one header,The method MockEndpoint.expectedHeaderReceived sets one header key and one header value to check. Subsequent calls to the same method overwrites the key and value. As a (non-expert) user of the MockEndpoint  I would expect this method to work somewhat along the lines of Map.put  so that multiple headers can be expected. Alternatively  replace it with MockEndpoint.expectedHeadersReceived(Map&lt;String  Object&gt; headers) or something like that.MockEndpoint.expectedPropertyReceived has the same issue.The unit test below demonstrates the bug. Have fun import java.util.HashMap;import org.apache.camel.Produce;import org.apache.camel.ProducerTemplate;import org.apache.camel.builder.RouteBuilder;import org.apache.camel.component.mock.MockEndpoint;import org.apache.camel.test.CamelTestSupport;public class MockEndpointTest extends CamelTestSupport { @Produce(uri = 'direct:input') protected ProducerTemplate input; protected MockEndpoint resultEndpoint; @Override protected RouteBuilder createRouteBuilder() throws Exception { return new RouteBuilder() { public void configure() { resultEndpoint = new MockEndpoint('mock:result'); resultEndpoint.setCamelContext(getContext()); from('direct:input') .inOnly('log:output?showHeaders=true') .to(resultEndpoint); } }; } public void testStuff() throws Exception { HashMap&lt;String  Object&gt; headers = new HashMap&lt;String  Object&gt;();// headers.put('h1'  'hello'); headers.put('h2'  'world'); resultEndpoint.expectedHeaderReceived('h1'  'hello'); resultEndpoint.expectedHeaderReceived('h2'  'world'); input.sendBodyAndHeaders(null  headers); resultEndpoint.expectedMessageCount(1); resultEndpoint.assertIsNotSatisfied(); }}, method MockEndpoint expectedHeaderReceived mock endpoint expect header receiv set one header key one header valu check check subsequ call method overwrit key valu valu non expert non expert user MockEndpoint mock endpoint would expect method work somewhat along line map put map put multipl header expect expect altern replac MockEndpoint expectedHeadersReceived map lt string mock endpoint expect header receiv map lt string object gt object gt header header someth like MockEndpoint expectedPropertyReceived mock endpoint expect properti receiv issu issu unit test demonstr bug bug fun import java util HashMap import java util hash map import org apach camel produc import org apach camel produc import org apach camel ProducerTemplate import org apach camel produc templat import org apach camel builder RouteBuilder import org apach camel builder rout builder import org apach camel compon mock MockEndpoint import org apach camel compon mock mock endpoint import org apach camel test CamelTestSupport public org apach camel test camel test support public class MockEndpointTest mock endpoint test extend CamelTestSupport camel test support produc uri produc uri direct input direct input protect ProducerTemplate produc templat input input protect MockEndpoint mock endpoint resultEndpoint result endpoint overrid overrid protect RouteBuilder rout builder createRouteBuilder creat rout builder throw except return new RouteBuilder rout builder public void configur configur resultEndpoint result endpoint new MockEndpoint mock result mock endpoint mock result resultEndpoint setCamelContext getContext result endpoint set camel context get context direct input direct input inOnly log output showHeaders true log output show header true resultEndpoint result endpoint public void testStuff test stuff throw except HashMap lt string hash map lt string object gt object gt header new HashMap lt string hash map lt string object gt object gt header put header put hello hello header put header put world world resultEndpoint expectedHeaderReceived result endpoint expect header receiv hello hello resultEndpoint expectedHeaderReceived result endpoint expect header receiv world world input sendBodyAndHeaders null input send bodi header null header header resultEndpoint expectedMessageCount result endpoint expect messag count resultEndpoint assertIsNotSatisfied result endpoint assert not satisfi,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanWithAnnotationAndExchangeTest.java;camel-core/src/test/java/org/apache/camel/component/mock/MockEndpointTest.java;components/camel-hl7/src/test/java/org/apache/camel/component/hl7/HL7DataFormatTest.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/test/java/org/apache/camel/component/mock/MockEndpointTest.java;,0
4165,Willem Jiang,examples,0,LoanBroker example have some issues when it is deployed into osgi container like ServiceMix, LoanBroker loan broker exampl issu deploy osgi contain like ServiceMix servic mix,When you deploy the camel-example-loanbroker bundle into OSGi container  the osgi container only load the WebService route because there are some confliction of the bean ids., deploy camel exampl loanbrok camel exampl loanbrok bundl OSGi OS Gi contain osgi contain load WebService web servic rout conflict bean id id,0,0,0,0,0,examples/camel-example-loan-broker/pom.xml;examples/camel-example-loan-broker/src/main/resources/META-INF/spring/queueCamelContext.xml;examples/camel-example-loan-broker/src/main/resources/META-INF/spring/webServiceCamelContext.xml;examples/camel-example-loan-broker/src/test/java/org/apache/camel/loanbroker/queue/version/LoanBrokerQueueServerTest.java;examples/camel-example-loan-broker/src/test/java/org/apache/camel/loanbroker/queue/version/LoanBrokerQueueTest.java;examples/camel-example-loan-broker/src/test/java/org/apache/camel/loanbroker/queue/version/LoanBrokerServerTest.java;examples/camel-example-loan-broker/src/test/java/org/apache/camel/loanbroker/queue/version/LoanBrokerTest.java;examples/camel-example-loan-broker/src/test/java/org/apache/camel/loanbroker/webservice/version/LoanBrokerTest.java;examples/camel-example-loan-broker/src/test/java/org/apache/camel/loanbroker/webservice/version/LoanBrokerWSTest.java;,0
4167,Lucien Schmitz,camel-core,0,Label of marshal and unmarshal processors do not appear in trace output, label marshal unmarsh processor not appear trace output,My route is defined as following: from(mqIn) .routeId(Helper.getRouteId(this.getClass().getName())) .errorHandler(deadLetterChannel('log:DEAD').maximumRedeliveries(1).retryAttemptedLogLevel(LoggingLevel.WARN)) .onException(EAIException.class).maximumRedeliveries(0).handled(true).to('bean:AuditBO?method=handleException').end() //.transacted('PROPAGATION_REQUIRES_NEW') .setHeader('UBS_ID' new AuditId()) .wireTap('seda:auditNew') .unmarshal('SwiftDataFormat') .setHeader('MT'  getMT) .setHeader('SWIFTAddress'  getSwiftAddress) .to(mqOut);The tracing output is the following[ main] Tracer INFO ID-w01b2bc3-3197-1309192772128-0-2 &gt;&gt;&gt; (wmswift.in.IcgToCore) wireTap(seda://auditNew) --&gt; &lt;&lt;&lt; Pattern:InOnly  Headers:{UBS_ID=5932bc56-2f7e-45cf-a2b4-ef851ff661d7}  BodyType:String  ...[ main] Tracer INFO ID-w01b2bc3-3197-1309192772128-0-2 &gt;&gt;&gt; (wmswift.in.IcgToCore) --&gt; setHeader&#91;MT&#93; &lt;&lt;&lt; Pattern:InOnly  Headers:{UBS_ID=5932bc56-2f7e-45cf-a2b4-ef851ff661d7}  BodyType:com.ubs.eai.wmswift.SwiftDataMessage  Body:com.ubs.eai.wmswift.SwiftDataMessage@91b9b0[ main] Tracer INFO ID-w01b2bc3-3197-1309192772128-0-2 &gt;&gt;&gt; (wmswift.in.IcgToCore) setHeader&#91;MT&#93; --&gt; setHeader&#91;SWIFTAddress&#93; &lt;&lt;&lt; Pattern:InOnly  Headers:{MT=502  UBS_ID=5932bc56-2f7e-45cf-a2b4-ef851ff661d7}  BodyType:com.ubs.eai.wmswift.SwiftDataMessage  Body:com.ubs.eai.wmswift.SwiftDataMessage@91b9b0[ main] Tracer INFO ID-w01b2bc3-3197-1309192772128-0-2 &gt;&gt;&gt; (wmswift.in.IcgToCore) setHeader&#91;SWIFTAddress&#93; --&gt; direct://core &lt;&lt;&lt; Pattern:InOnly  Headers:{SWIFTAddress=ZYAMCHZ0XXXX  MT=502  UBS_ID=5932bc56-2f7e-45cf-a2b4-ef851ff661d7}  BodyType:com.ubs.eai.wmswift.SwiftDataMessage  Body:com.ubs.eai.wmswift.SwiftDataMessage@91b9b0[ main] Tracer INFO ID-w01b2bc3-3197-1309192772128-0-2 &gt;&gt;&gt; (wmswift.core.CoreToMQ) direct://core --&gt; &lt;&lt;&lt; Pattern:InOnly  Headers:{SWIFTAddress=ZYAMCHZ0XXXX  MT=502  UBS_ID=5932bc56-2f7e-45cf-a2b4-ef851ff661d7}  BodyType:com.ubs.eai.wmswift.SwiftDataMessage  Body:com.ubs.eai.wmswift.SwiftDataMessage@91b9b0[ main] Tracer INFO ID-w01b2bc3-3197-1309192772128-0-2 &gt;&gt;&gt; (wmswift.core.CoreToMQ) --&gt; choice &lt;&lt;&lt; Pattern:InOnly  Headers:{MT=502  UBS_ID=5932bc56-2f7e-45cf-a2b4-ef851ff661d7  SWIFTAddress=ZYAMCHZ0XXXX}  The bug I found is the missing label of the unmarshal processor., rout defin follow follow mqIn mq routeId helper getRouteId getClass getName rout Id helper get rout Id get class get name errorHandler deadLetterChannel log DEAD maximumRedeliveries retryAttemptedLogLevel LoggingLevel WARN error handler dead letter channel log DEAD maximum redeliveri retri attempt log level log level WARN onException EAIException class maximumRedeliveries handl true bean AuditBO method handleException end except EAI except class maximum redeliveri handl true bean audit BO method handl except end transact PROPAGATION_REQUIRES_NEW transact PROPAGATION REQUIRES NEW setHeader UBS_ID set header UBS ID new AuditId audit Id wireTap seda auditNew wire tap seda audit new unmarsh SwiftDataFormat unmarsh swift data format setHeader MT set header MT getMT get MT setHeader SWIFTAddress set header SWIFT address getSwiftAddress get swift address mqOut mq trace output follow follow main main tracer INFO ID bc ID bc gt gt gt gt gt gt wmswift IcgToCore wmswift icg core wireTap seda auditNew wire tap seda audit new gt gt lt lt lt lt lt lt pattern InOnly pattern header UBS_ID bc cf ef ff header UBS ID bc cf ef ff BodyType string bodi type string main main tracer INFO ID bc ID bc gt gt gt gt gt gt wmswift IcgToCore wmswift icg core gt gt setHeader MT set header MT lt lt lt lt lt lt pattern InOnly pattern header UBS_ID bc cf ef ff header UBS ID bc cf ef ff BodyType com ub eai wmswift SwiftDataMessage bodi type com ub eai wmswift swift data messag bodi com ub eai wmswift SwiftDataMessage bodi com ub eai wmswift swift data messag main main tracer INFO ID bc ID bc gt gt gt gt gt gt wmswift IcgToCore wmswift icg core setHeader MT set header MT gt gt setHeader SWIFTAddress set header SWIFT address lt lt lt lt lt lt pattern InOnly pattern header MT header MT UBS_ID bc cf ef ff UBS ID bc cf ef ff BodyType com ub eai wmswift SwiftDataMessage bodi type com ub eai wmswift swift data messag bodi com ub eai wmswift SwiftDataMessage bodi com ub eai wmswift swift data messag main main tracer INFO ID bc ID bc gt gt gt gt gt gt wmswift IcgToCore wmswift icg core setHeader SWIFTAddress set header SWIFT address gt gt direct core direct core lt lt lt lt lt lt pattern InOnly pattern header SWIFTAddress ZYAMCHZ XXXX header SWIFT address ZYAMCHZ XXXX MT MT UBS_ID bc cf ef ff UBS ID bc cf ef ff BodyType com ub eai wmswift SwiftDataMessage bodi type com ub eai wmswift swift data messag bodi com ub eai wmswift SwiftDataMessage bodi com ub eai wmswift swift data messag main main tracer INFO ID bc ID bc gt gt gt gt gt gt wmswift core CoreToMQ wmswift core core MQ direct core direct core gt gt lt lt lt lt lt lt pattern InOnly pattern header SWIFTAddress ZYAMCHZ XXXX header SWIFT address ZYAMCHZ XXXX MT MT UBS_ID bc cf ef ff UBS ID bc cf ef ff BodyType com ub eai wmswift SwiftDataMessage bodi type com ub eai wmswift swift data messag bodi com ub eai wmswift SwiftDataMessage bodi com ub eai wmswift swift data messag main main tracer INFO ID bc ID bc gt gt gt gt gt gt wmswift core CoreToMQ wmswift core core MQ gt gt choic lt lt lt lt lt lt pattern InOnly pattern header MT header MT UBS_ID bc cf ef ff UBS ID bc cf ef ff SWIFTAddress ZYAMCHZ XXXX SWIFT address ZYAMCHZ XXXX bug found miss label unmarsh processor processor,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java;camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java;camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java;camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java;camel-core/src/test/java/org/apache/camel/impl/StringDataFormatTest.java;camel-core/src/test/java/org/apache/camel/model/LoadRouteFromXmlTest.java;camel-core/src/test/java/org/apache/camel/processor/MyLoggingSentEventNotifer.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinueSubRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionHandleAndTransformWithDefaultErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipDataModificationTest.java;camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java;camel-core/src/test/java/org/apache/camel/model/LoadRouteFromXmlTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinueSubRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionHandleAndTransformWithDefaultErrorHandlerTest.java;camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java;,0
4168,Lucien Schmitz,camel-core,0,Add getRouteId() to TraceEventMessage, add getRouteId get rout Id TraceEventMessage trace event messag,It would be good to find the routeId from the TraceEventMessage  in the case that the trace information is sent to a route.In my example  extracts from XML: &lt;bean id='CamelTracer' class='org.apache.camel.processor.interceptor.Tracer'&gt; &lt;property name='destination' ref='traced'/&gt; &lt;property name='logLevel' value='OFF'/&gt; &lt;/bean&gt; &lt;endpoint id='traced' uri='seda:auditrace?waitForTaskToComplete=Never'/&gt;And my route is: @EndpointInject(ref='traced') Endpoint traced;  @Override public void configure() throws Exception { from(traced) .routeId('util.AuditTrace') .noTracing() .to('bean:AuditBO?method=trace'); }An instance object of TraceEventMessage is sent down this route and there is no getRouteId() defined. This would make the TraceEventMessage even more helpful., would good find routeId rout Id TraceEventMessage trace event messag case trace inform sent rout rout exampl extract XML XML lt bean lt bean id CamelTracer id camel tracer class org apach camel processor interceptor tracer gt class org apach camel processor interceptor tracer gt lt properti lt properti name destin name destin ref trace gt ref trace gt lt properti lt properti name logLevel name log level valu gt valu gt lt bean gt lt bean gt lt endpoint lt endpoint id trace id trace uri seda auditrac waitForTaskToComplete never gt uri seda auditrac wait task complet never gt rout EndpointInject ref trace endpoint inject ref trace endpoint trace trace overrid overrid public void configur configur throw except trace trace routeId util AuditTrace rout Id util audit trace noTracing no trace bean AuditBO method trace bean audit BO method trace instanc object TraceEventMessage trace event messag sent rout no getRouteId get rout Id defin defin would make TraceEventMessage trace event messag even help help,1,0,0,0,0,camel-core/src/test/java/org/apache/camel/processor/interceptor/TraceInterceptorCustomJpaMessage.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/DefaultTraceEventMessage.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/DefaultTraceEventMessage.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceEventMessage.java;components/camel-jpa/src/main/java/org/apache/camel/processor/interceptor/jpa/JpaTraceEventMessage.java;components/camel-jpa/src/test/java/org/apache/camel/processor/interceptor/JpaTraceEventMessageTest.java;,0
4171,Sergey Zhemzhitsky,camel-core; camel-groovy; osgi,0,Groovy language - classNotFoundException in OSGi environment, groovi languag classNotFoundException class not found except OSGi OS Gi environ,The problem is in the following method of the GroovyLanguage@SuppressWarnings('unchecked')protected Class&lt;Script&gt; parseExpression(String expression) { return new GroovyClassLoader().parseClass(expression);}It uses the default constructor to create GroovyClassLoader  which uses Thread context classloader  which may not be equal to the classloader of the bundle where the camel context is defined.Caused by: java.lang.NoClassDefFoundError: groovy/lang/Script at java.lang.ClassLoader.defineClass1(Native Method)&#91;:1.6.0_24&#93; at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)&#91;:1.6.0_24&#93; at java.lang.ClassLoader.defineClass(ClassLoader.java:616)&#91;:1.6.0_24&#93; at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)&#91;:1.6.0_24&#93; at groovy.lang.GroovyClassLoader.access$300(GroovyClassLoader.java:55) at groovy.lang.GroovyClassLoader$ClassCollector.createClass(GroovyClassLoader.java:519) at groovy.lang.GroovyClassLoader$ClassCollector.onClassNode(GroovyClassLoader.java:536) at groovy.lang.GroovyClassLoader$ClassCollector.call(GroovyClassLoader.java:540) at org.codehaus.groovy.control.CompilationUnit$11.call(CompilationUnit.java:747) at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:932) at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:509) at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:487) at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:464) at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:306) at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:287) at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:267) at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:214) at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:224) at org.apache.camel.language.groovy.GroovyLanguage.parseExpression(GroovyLanguage.java:44) at org.apache.camel.language.groovy.GroovyLanguage.createExpression(GroovyLanguage.java:38) at org.apache.camel.language.groovy.GroovyLanguage.createExpression(GroovyLanguage.java:27) at org.apache.camel.component.language.LanguageProducer.process(LanguageProducer.java:41)&#91;68:org.apache.camel.camel-core:2.6.0.fuse-01-09&#93; at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50)&#91;68:org.apache.camel.camel-core:2.6.0.fuse-01-09&#93; ... 92 moreCaused by: java.lang.ClassNotFoundException: groovy.lang.Script at java.net.URLClassLoader$1.run(URLClassLoader.java:202)&#91;:1.6.0_24&#93; at java.security.AccessController.doPrivileged(Native Method)&#91;:1.6.0_24&#93; at java.net.URLClassLoader.findClass(URLClassLoader.java:190)&#91;:1.6.0_24&#93; at java.lang.ClassLoader.loadClass(ClassLoader.java:307)&#91;:1.6.0_24&#93; at groovy.lang.GroovyClassLoader.loadClass(GroovyClassLoader.java:696)&#91;134:groovy-all:1.7.5&#93; at groovy.lang.GroovyClassLoader$InnerLoader.loadClass(GroovyClassLoader.java:449) at groovy.lang.GroovyClassLoader.loadClass(GroovyClassLoader.java:793)&#91;134:groovy-all:1.7.5&#93; at java.lang.ClassLoader.loadClass(ClassLoader.java:248)&#91;:1.6.0_24&#93; ... 115 more, problem follow method GroovyLanguage SuppressWarnings uncheck protect groovi languag suppress warn uncheck protect class lt script gt class lt script gt parseExpression string pars express string express express return new GroovyClassLoader parseClass express groovi class loader pars class express use default constructor creat GroovyClassLoader groovi class loader use thread context classload may not equal classload bundl camel context defin caus defin caus java lang NoClassDefFoundError java lang No class def found error groovi lang script groovi lang script java lang ClassLoader defineClass nativ java lang class loader defin class nativ method  method  java lang ClassLoader defineClassCond ClassLoader java  java lang class loader defin class cond class loader java  java lang ClassLoader defineClass ClassLoader java  java lang class loader defin class class loader java  java secur SecureClassLoader defineClass SecureClassLoader java  java secur secur class loader defin class secur class loader java  groovi lang GroovyClassLoader access GroovyClassLoader java groovi lang groovi class loader access groovi class loader java groovi lang GroovyClassLoader ClassCollector createClass GroovyClassLoader java groovi lang groovi class loader class collector creat class groovi class loader java groovi lang GroovyClassLoader ClassCollector onClassNode GroovyClassLoader java groovi lang groovi class loader class collector class node groovi class loader java groovi lang GroovyClassLoader ClassCollector call GroovyClassLoader java groovi lang groovi class loader class collector call groovi class loader java org codehau groovi control CompilationUnit call CompilationUnit java org codehau groovi control compil unit call compil unit java org codehau groovi control CompilationUnit applyToPrimaryClassNodes CompilationUnit java org codehau groovi control compil unit appli primari class node compil unit java org codehau groovi control CompilationUnit doPhaseOperation CompilationUnit java org codehau groovi control compil unit phase oper compil unit java org codehau groovi control CompilationUnit processPhaseOperations CompilationUnit java org codehau groovi control compil unit process phase oper compil unit java org codehau groovi control CompilationUnit compil CompilationUnit java org codehau groovi control compil unit compil compil unit java groovi lang GroovyClassLoader doParseClass GroovyClassLoader java groovi lang groovi class loader pars class groovi class loader java groovi lang GroovyClassLoader parseClass GroovyClassLoader java groovi lang groovi class loader pars class groovi class loader java groovi lang GroovyClassLoader parseClass GroovyClassLoader java groovi lang groovi class loader pars class groovi class loader java groovi lang GroovyClassLoader parseClass GroovyClassLoader java groovi lang groovi class loader pars class groovi class loader java groovi lang GroovyClassLoader parseClass GroovyClassLoader java groovi lang groovi class loader pars class groovi class loader java org apach camel languag groovi GroovyLanguage parseExpression GroovyLanguage java org apach camel languag groovi groovi languag pars express groovi languag java org apach camel languag groovi GroovyLanguage createExpression GroovyLanguage java org apach camel languag groovi groovi languag creat express groovi languag java org apach camel languag groovi GroovyLanguage createExpression GroovyLanguage java org apach camel languag groovi groovi languag creat express groovi languag java org apach camel compon languag LanguageProducer process LanguageProducer java org apach camel camel core fuse org apach camel compon languag languag produc process languag produc java org apach camel camel core fuse org apach camel impl convert AsyncProcessorTypeConverter ProcessorToAsyncProcessorBridge process AsyncProcessorTypeConverter java org apach camel camel core fuse org apach camel impl convert async processor type convert processor async processor bridg process async processor type convert java org apach camel camel core fuse moreCaused caus java lang ClassNotFoundException java lang class not found except groovi lang script groovi lang script java net URLClassLoader run URLClassLoader java  java net URL class loader run URL class loader java  java secur AccessController doPrivileged nativ java secur access control privileg nativ method  method  java net URLClassLoader findClass URLClassLoader java  java net URL class loader find class URL class loader java  java lang ClassLoader loadClass ClassLoader java  java lang class loader load class class loader java  groovi lang GroovyClassLoader loadClass GroovyClassLoader java groovi groovi lang groovi class loader load class groovi class loader java groovi groovi lang GroovyClassLoader InnerLoader loadClass GroovyClassLoader java groovi lang groovi class loader inner loader load class groovi class loader java groovi lang GroovyClassLoader loadClass GroovyClassLoader java groovi groovi lang groovi class loader load class groovi class loader java groovi java lang ClassLoader loadClass ClassLoader java  java lang class loader load class class loader java ,1,1,0,0,0,components/camel-groovy/pom.xml;components/camel-groovy/src/main/java/org/apache/camel/language/groovy/GroovyExpression.java;components/camel-groovy/src/main/java/org/apache/camel/language/groovy/GroovyLanguage.java;,0
4173,Christian Schneider,camel-mail,0,Nullpointer in camel-mail when body is null, nullpoint camel mail camel mail bodi null,When trying to send a mail with an empty body (null) then we get the following NullPointer exception.We should instead either complain about the null body or send the mail with an empty body.13:27:27 010 | INFO | tp1062262230-101 | ache.camel.processor.CamelLogger 87 | 55 - org.apache.camel.camel-core - 2.7.1 | Exchange[ExchangePattern:InOut  BodyType:org.apache.cxf.message.MessageContentsList  Body:&#91;com.ier.ebo_servicerequest.ServiceRequestType@10e07658&#93;]13:27:27 013 | ERROR | tp1062262230-101 | ache.camel.processor.CamelLogger 232 | 55 - org.apache.camel.camel-core - 2.7.1 | Failed delivery for exchangeId: ID-MacBook-Pro-de-bahaaldine-local-51035-1309771358240-2-6. Exhausted after delivery attempt: 1 caught: org.springframework.mail.MailPreparationException: Could not prepare mail; nested exception is java.lang.NullPointerExceptionorg.springframework.mail.MailPreparationException: Could not prepare mail; nested exception is java.lang.NullPointerException at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:367)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:344)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; at org.apache.camel.component.mail.MailProducer.process(MailProducer.java:44)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:104)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:272)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:125)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:139)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:61)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:582)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:511)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.process(MulticastProcessor.java:211)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RecipientList.sendToRecipientList(RecipientList.java:134)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RecipientList.process(RecipientList.java:102)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:103)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.syncInvoke(CxfConsumer.java:135)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.invoke(CxfConsumer.java:77)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)&#91;:1.6.0_24&#93; at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&#91;:1.6.0_24&#93; at java.util.concurrent.FutureTask.run(FutureTask.java:138)&#91;:1.6.0_24&#93; at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:106)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:118)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:208)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:205)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:113)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:184)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:107)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at javax.servlet.http.HttpServlet.service(HttpServlet.java:713)&#91;72:org.apache.geronimo.specs.geronimo-servlet_2.5_spec:1.1.2&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:163)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:534)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:476)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:70)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:517)&#91;78:org.eclipse.jetty.security:7.3.1.v20110307&#93; at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:934)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:116)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:404)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:184)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:869)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:72)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.Server.handle(Server.java:346)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:581)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection$RequestHandler.content(HttpConnection.java:1057)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:807)&#91;75:org.eclipse.jetty.http:7.3.1.v20110307&#93; at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:220)&#91;75:org.eclipse.jetty.http:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:411)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:526)&#91;74:org.eclipse.jetty.io:7.3.1.v20110307&#93; at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:41)&#91;74:org.eclipse.jetty.io:7.3.1.v20110307&#93; at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:528)&#91;73:org.eclipse.jetty.util:7.3.1.v20110307&#93; at java.lang.Thread.run(Thread.java:680)&#91;:1.6.0_24&#93;Caused by: java.lang.NullPointerException at javax.mail.util.ByteArrayDataSource.&lt;init&gt;(ByteArrayDataSource.java:137)&#91;69:javax.mail:1.4.3&#93; at org.apache.camel.component.mail.MailBinding.populateContentOnMimeMessage(MailBinding.java:205)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.component.mail.MailBinding.populateMailMessage(MailBinding.java:114)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.component.mail.MailProducer$1.prepare(MailProducer.java:46)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:352)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; ... 98 more13:27:27 023 | WARN | tp1062262230-101 | ache.cxf.common.logging.LogUtils 371 | - - | Interceptor for {http://www.ier.com/WS_ServiceRequest}WSServiceRequestService#{http://www.ier.com/WS_ServiceRequest}createServiceRequest has thrown exception  unwinding noworg.apache.cxf.interceptor.Fault: Could not prepare mail; nested exception is java.lang.NullPointerException at org.apache.camel.component.cxf.CxfConsumer$1.checkFailure(CxfConsumer.java:218)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.setResponseBack(CxfConsumer.java:195)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.syncInvoke(CxfConsumer.java:142)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.invoke(CxfConsumer.java:77)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)&#91;:1.6.0_24&#93; at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&#91;:1.6.0_24&#93; at java.util.concurrent.FutureTask.run(FutureTask.java:138)&#91;:1.6.0_24&#93; at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:106)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:118)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:208)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:205)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:113)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:184)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:107)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at javax.servlet.http.HttpServlet.service(HttpServlet.java:713)&#91;72:org.apache.geronimo.specs.geronimo-servlet_2.5_spec:1.1.2&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:163)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:534)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:476)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:70)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:517)&#91;78:org.eclipse.jetty.security:7.3.1.v20110307&#93; at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:934)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:116)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:404)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:184)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:869)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:72)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.Server.handle(Server.java:346)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:581)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection$RequestHandler.content(HttpConnection.java:1057)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:807)&#91;75:org.eclipse.jetty.http:7.3.1.v20110307&#93; at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:220)&#91;75:org.eclipse.jetty.http:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:411)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:526)&#91;74:org.eclipse.jetty.io:7.3.1.v20110307&#93; at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:41)&#91;74:org.eclipse.jetty.io:7.3.1.v20110307&#93; at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:528)&#91;73:org.eclipse.jetty.util:7.3.1.v20110307&#93; at java.lang.Thread.run(Thread.java:680)&#91;:1.6.0_24&#93;Caused by: org.springframework.mail.MailPreparationException: Could not prepare mail; nested exception is java.lang.NullPointerException at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:367)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:344)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; at org.apache.camel.component.mail.MailProducer.process(MailProducer.java:44)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:104)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:272)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:125)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:139)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:61)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:582)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:511)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.process(MulticastProcessor.java:211)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RecipientList.sendToRecipientList(RecipientList.java:134)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RecipientList.process(RecipientList.java:102)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:103)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.syncInvoke(CxfConsumer.java:135)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; ... 41 moreCaused by: java.lang.NullPointerException at javax.mail.util.ByteArrayDataSource.&lt;init&gt;(ByteArrayDataSource.java:137)&#91;69:javax.mail:1.4.3&#93; at org.apache.camel.component.mail.MailBinding.populateContentOnMimeMessage(MailBinding.java:205)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.component.mail.MailBinding.populateMailMessage(MailBinding.java:114)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.component.mail.MailProducer$1.prepare(MailProducer.java:46)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:352)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; ... 98 more, tri send mail empti bodi null null get follow NullPointer null pointer except except instead either complain null bodi send mail empti bodi bodi INFO tp tp ach camel processor CamelLogger ach camel processor camel logger org apach camel camel core org apach camel camel core exchang ExchangePattern InOut exchang exchang pattern BodyType org apach cxf messag MessageContentsList bodi type org apach cxf messag messag content list bodi com ier ebo_servicerequest ServiceRequestType bodi com ier ebo_servicerequest servic request type ERROR tp tp ach camel processor CamelLogger ach camel processor camel logger org apach camel camel core org apach camel camel core fail deliveri exchangeId exchang Id ID MacBook pro de bahaaldin local ID mac book pro de bahaaldin local exhaust deliveri attempt attempt caught caught org springframework mail MailPreparationException org springframework mail mail prepar except could not prepar mail mail nest except java lang NullPointerExceptionorg springframework mail MailPreparationException java lang null pointer exceptionorg springframework mail mail prepar except could not prepar mail mail nest except java lang NullPointerException java lang null pointer except org springframework mail javamail JavaMailSenderImpl send JavaMailSenderImpl java org springframework context support RELEASE org springframework mail javamail java mail sender impl send java mail sender impl java org springframework context support RELEASE org springframework mail javamail JavaMailSenderImpl send JavaMailSenderImpl java org springframework context support RELEASE org springframework mail javamail java mail sender impl send java mail sender impl java org springframework context support RELEASE org apach camel compon mail MailProducer process MailProducer java org apach camel camel mail org apach camel compon mail mail produc process mail produc java org apach camel camel mail org apach camel impl convert AsyncProcessorTypeConverter ProcessorToAsyncProcessorBridge process AsyncProcessorTypeConverter java org apach camel camel core org apach camel impl convert async processor type convert processor async processor bridg process async processor type convert java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor SendProcessor doInAsyncProducer SendProcessor java org apach camel camel core org apach camel processor send processor async produc send processor java org apach camel camel core org apach camel impl ProducerCache doInAsyncProducer ProducerCache java org apach camel camel core org apach camel impl produc cach async produc produc cach java org apach camel camel core org apach camel processor SendProcessor process SendProcessor java org apach camel camel core org apach camel processor send processor process send processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel camel core org apach camel manag instrument processor process instrument processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel camel core org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel camel core org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel camel core org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel camel core org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel camel core org apach camel processor DefaultChannel process DefaultChannel java org apach camel camel core org apach camel processor default channel process default channel java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor pipelin process pipelin java org apach camel camel core org apach camel processor pipelin process pipelin java org apach camel camel core org apach camel processor pipelin process pipelin java org apach camel camel core org apach camel processor pipelin process pipelin java org apach camel camel core org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel camel core org apach camel processor unit work processor process unit work processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel camel core org apach camel manag instrument processor process instrument processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel compon direct DirectProducer process DirectProducer java org apach camel camel core org apach camel compon direct direct produc process direct produc java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel camel core org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel camel core org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel camel core org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel camel core org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel camel core org apach camel processor unit work processor process unit work processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor MulticastProcessor doProcessSequential MulticastProcessor java org apach camel camel core org apach camel processor multicast processor process sequenti multicast processor java org apach camel camel core org apach camel processor MulticastProcessor doProcessSequential MulticastProcessor java org apach camel camel core org apach camel processor multicast processor process sequenti multicast processor java org apach camel camel core org apach camel processor MulticastProcessor process MulticastProcessor java org apach camel camel core org apach camel processor multicast processor process multicast processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor RecipientList sendToRecipientList RecipientList java org apach camel camel core org apach camel processor recipi list send recipi list recipi list java org apach camel camel core org apach camel processor RecipientList process RecipientList java org apach camel camel core org apach camel processor recipi list process recipi list java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel camel core org apach camel manag instrument processor process instrument processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel camel core org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel camel core org apach camel processor DefaultChannel process DefaultChannel java org apach camel camel core org apach camel processor default channel process default channel java org apach camel camel core org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel camel core org apach camel processor unit work processor process unit work processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel camel core org apach camel manag instrument processor process instrument processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel compon cxf CxfConsumer syncInvoke CxfConsumer java org apach camel camel cxf org apach camel compon cxf cxf consum sync invok cxf consum java org apach camel camel cxf org apach camel compon cxf CxfConsumer invok CxfConsumer java org apach camel camel cxf org apach camel compon cxf cxf consum invok cxf consum java org apach camel camel cxf org apach cxf interceptor ServiceInvokerInterceptor run ServiceInvokerInterceptor java org apach cxf bundl org apach cxf interceptor servic invok interceptor run servic invok interceptor java org apach cxf bundl java util concurr executor RunnableAdapter call executor java  java util concurr executor runnabl adapt call executor java  java util concurr FutureTask sync innerRun FutureTask java  java util concurr futur task sync inner run futur task java  java util concurr FutureTask run FutureTask java  java util concurr futur task run futur task java  org apach cxf workqueu SynchronousExecutor execut SynchronousExecutor java org apach cxf bundl org apach cxf workqueu synchron executor execut synchron executor java org apach cxf bundl org apach cxf interceptor ServiceInvokerInterceptor handleMessage ServiceInvokerInterceptor java org apach cxf bundl org apach cxf interceptor servic invok interceptor handl messag servic invok interceptor java org apach cxf bundl org apach cxf phase PhaseInterceptorChain doIntercept PhaseInterceptorChain java org apach cxf bundl org apach cxf phase phase interceptor chain intercept phase interceptor chain java org apach cxf bundl org apach cxf transport ChainInitiationObserver onMessage ChainInitiationObserver java org apach cxf bundl org apach cxf transport chain initi observ messag chain initi observ java org apach cxf bundl org apach cxf transport http AbstractHTTPDestination invok AbstractHTTPDestination java org apach cxf bundl org apach cxf transport http abstract HTTP destin invok abstract HTTP destin java org apach cxf bundl org apach cxf transport servlet ServletController invokeDestination ServletController java org apach cxf bundl org apach cxf transport servlet servlet control invok destin servlet control java org apach cxf bundl org apach cxf transport servlet ServletController invok ServletController java org apach cxf bundl org apach cxf transport servlet servlet control invok servlet control java org apach cxf bundl org apach cxf transport servlet CXFNonSpringServlet invok CXFNonSpringServlet java org apach cxf bundl org apach cxf transport servlet CXF non spring servlet invok CXF non spring servlet java org apach cxf bundl org apach cxf transport servlet AbstractHTTPServlet handleRequest AbstractHTTPServlet java org apach cxf bundl org apach cxf transport servlet abstract HTTP servlet handl request abstract HTTP servlet java org apach cxf bundl org apach cxf transport servlet AbstractHTTPServlet doPost AbstractHTTPServlet java org apach cxf bundl org apach cxf transport servlet abstract HTTP servlet post abstract HTTP servlet java org apach cxf bundl javax servlet http HttpServlet servic HttpServlet java org apach geronimo spec geronimo servlet _spec javax servlet http http servlet servic http servlet java org apach geronimo spec geronimo servlet _spec org apach cxf transport servlet AbstractHTTPServlet servic AbstractHTTPServlet java org apach cxf bundl org apach cxf transport servlet abstract HTTP servlet servic abstract HTTP servlet java org apach cxf bundl org eclips jetti servlet ServletHolder handl ServletHolder java org eclips jetti servlet org eclips jetti servlet servlet holder handl servlet holder java org eclips jetti servlet org eclips jetti servlet ServletHandler doHandle ServletHandler java org eclips jetti servlet org eclips jetti servlet servlet handler handl servlet handler java org eclips jetti servlet org op pax web servic jetti intern HttpServiceServletHandler doHandle HttpServiceServletHandler java org op pax web pax web jetti org op pax web servic jetti intern http servic servlet handler handl http servic servlet handler java org op pax web pax web jetti org eclips jetti server handler ScopedHandler handl ScopedHandler java org eclips jetti server org eclips jetti server handler scope handler handl scope handler java org eclips jetti server org eclips jetti secur SecurityHandler handl SecurityHandler java org eclips jetti secur org eclips jetti secur secur handler handl secur handler java org eclips jetti secur org eclips jetti server session SessionHandler doHandle SessionHandler java org eclips jetti server org eclips jetti server session session handler handl session handler java org eclips jetti server org eclips jetti server handler ContextHandler doHandle ContextHandler java org eclips jetti server org eclips jetti server handler context handler handl context handler java org eclips jetti server org op pax web servic jetti intern HttpServiceContext doHandle HttpServiceContext java org op pax web pax web jetti org op pax web servic jetti intern http servic context handl http servic context java org op pax web pax web jetti org eclips jetti servlet ServletHandler doScope ServletHandler java org eclips jetti servlet org eclips jetti servlet servlet handler scope servlet handler java org eclips jetti servlet org eclips jetti server session SessionHandler doScope SessionHandler java org eclips jetti server org eclips jetti server session session handler scope session handler java org eclips jetti server org eclips jetti server handler ContextHandler doScope ContextHandler java org eclips jetti server org eclips jetti server handler context handler scope context handler java org eclips jetti server org eclips jetti server handler ScopedHandler handl ScopedHandler java org eclips jetti server org eclips jetti server handler scope handler handl scope handler java org eclips jetti server org op pax web servic jetti intern JettyServerHandlerCollection handl JettyServerHandlerCollection java org op pax web pax web jetti org op pax web servic jetti intern jetti server handler collect handl jetti server handler collect java org op pax web pax web jetti org eclips jetti server handler HandlerWrapper handl HandlerWrapper java org eclips jetti server org eclips jetti server handler handler wrapper handl handler wrapper java org eclips jetti server org eclips jetti server server handl server java org eclips jetti server org eclips jetti server server handl server java org eclips jetti server org eclips jetti server HttpConnection handleRequest HttpConnection java org eclips jetti server org eclips jetti server http connect handl request http connect java org eclips jetti server org eclips jetti server HttpConnection RequestHandler content HttpConnection java org eclips jetti server org eclips jetti server http connect request handler content http connect java org eclips jetti server org eclips jetti http HttpParser parseNext HttpParser java org eclips jetti http org eclips jetti http http parser pars next http parser java org eclips jetti http org eclips jetti http HttpParser parseAvailable HttpParser java org eclips jetti http org eclips jetti http http parser pars avail http parser java org eclips jetti http org eclips jetti server HttpConnection handl HttpConnection java org eclips jetti server org eclips jetti server http connect handl http connect java org eclips jetti server org eclips jetti io nio SelectChannelEndPoint handl SelectChannelEndPoint java org eclips jetti io org eclips jetti io nio select channel end point handl select channel end point java org eclips jetti io org eclips jetti io nio SelectChannelEndPoint run SelectChannelEndPoint java org eclips jetti io org eclips jetti io nio select channel end point run select channel end point java org eclips jetti io org eclips jetti util thread QueuedThreadPool run QueuedThreadPool java org eclips jetti util org eclips jetti util thread queu thread pool run queu thread pool java org eclips jetti util java lang thread run thread java  caus java lang thread run thread java  caus java lang NullPointerException java lang null pointer except javax mail util ByteArrayDataSource lt init gt ByteArrayDataSource java javax mail javax mail util byte array data sourc lt init gt byte array data sourc java javax mail org apach camel compon mail MailBinding populateContentOnMimeMessage MailBinding java org apach camel camel mail org apach camel compon mail mail bind popul content mime messag mail bind java org apach camel camel mail org apach camel compon mail MailBinding populateMailMessage MailBinding java org apach camel camel mail org apach camel compon mail mail bind popul mail messag mail bind java org apach camel camel mail org apach camel compon mail MailProducer prepar MailProducer java org apach camel camel mail org apach camel compon mail mail produc prepar mail produc java org apach camel camel mail org springframework mail javamail JavaMailSenderImpl send JavaMailSenderImpl java org springframework context support RELEASE org springframework mail javamail java mail sender impl send java mail sender impl java org springframework context support RELEASE WARN tp tp ach cxf common log LogUtils ach cxf common log log util interceptor http www ier com WS_ServiceRequest WSServiceRequestService http www ier com WS_ServiceRequest createServiceRequest http www ier com WS servic request WS servic request servic http www ier com WS servic request creat servic request thrown except unwind noworg apach cxf interceptor fault noworg apach cxf interceptor fault could not prepar mail mail nest except java lang NullPointerException java lang null pointer except org apach camel compon cxf CxfConsumer checkFailure CxfConsumer java org apach camel camel cxf org apach camel compon cxf cxf consum check failur cxf consum java org apach camel camel cxf org apach camel compon cxf CxfConsumer setResponseBack CxfConsumer java org apach camel camel cxf org apach camel compon cxf cxf consum set respons back cxf consum java org apach camel camel cxf org apach camel compon cxf CxfConsumer syncInvoke CxfConsumer java org apach camel camel cxf org apach camel compon cxf cxf consum sync invok cxf consum java org apach camel camel cxf org apach camel compon cxf CxfConsumer invok CxfConsumer java org apach camel camel cxf org apach camel compon cxf cxf consum invok cxf consum java org apach camel camel cxf org apach cxf interceptor ServiceInvokerInterceptor run ServiceInvokerInterceptor java org apach cxf bundl org apach cxf interceptor servic invok interceptor run servic invok interceptor java org apach cxf bundl java util concurr executor RunnableAdapter call executor java  java util concurr executor runnabl adapt call executor java  java util concurr FutureTask sync innerRun FutureTask java  java util concurr futur task sync inner run futur task java  java util concurr FutureTask run FutureTask java  java util concurr futur task run futur task java  org apach cxf workqueu SynchronousExecutor execut SynchronousExecutor java org apach cxf bundl org apach cxf workqueu synchron executor execut synchron executor java org apach cxf bundl org apach cxf interceptor ServiceInvokerInterceptor handleMessage ServiceInvokerInterceptor java org apach cxf bundl org apach cxf interceptor servic invok interceptor handl messag servic invok interceptor java org apach cxf bundl org apach cxf phase PhaseInterceptorChain doIntercept PhaseInterceptorChain java org apach cxf bundl org apach cxf phase phase interceptor chain intercept phase interceptor chain java org apach cxf bundl org apach cxf transport ChainInitiationObserver onMessage ChainInitiationObserver java org apach cxf bundl org apach cxf transport chain initi observ messag chain initi observ java org apach cxf bundl org apach cxf transport http AbstractHTTPDestination invok AbstractHTTPDestination java org apach cxf bundl org apach cxf transport http abstract HTTP destin invok abstract HTTP destin java org apach cxf bundl org apach cxf transport servlet ServletController invokeDestination ServletController java org apach cxf bundl org apach cxf transport servlet servlet control invok destin servlet control java org apach cxf bundl org apach cxf transport servlet ServletController invok ServletController java org apach cxf bundl org apach cxf transport servlet servlet control invok servlet control java org apach cxf bundl org apach cxf transport servlet CXFNonSpringServlet invok CXFNonSpringServlet java org apach cxf bundl org apach cxf transport servlet CXF non spring servlet invok CXF non spring servlet java org apach cxf bundl org apach cxf transport servlet AbstractHTTPServlet handleRequest AbstractHTTPServlet java org apach cxf bundl org apach cxf transport servlet abstract HTTP servlet handl request abstract HTTP servlet java org apach cxf bundl org apach cxf transport servlet AbstractHTTPServlet doPost AbstractHTTPServlet java org apach cxf bundl org apach cxf transport servlet abstract HTTP servlet post abstract HTTP servlet java org apach cxf bundl javax servlet http HttpServlet servic HttpServlet java org apach geronimo spec geronimo servlet _spec javax servlet http http servlet servic http servlet java org apach geronimo spec geronimo servlet _spec org apach cxf transport servlet AbstractHTTPServlet servic AbstractHTTPServlet java org apach cxf bundl org apach cxf transport servlet abstract HTTP servlet servic abstract HTTP servlet java org apach cxf bundl org eclips jetti servlet ServletHolder handl ServletHolder java org eclips jetti servlet org eclips jetti servlet servlet holder handl servlet holder java org eclips jetti servlet org eclips jetti servlet ServletHandler doHandle ServletHandler java org eclips jetti servlet org eclips jetti servlet servlet handler handl servlet handler java org eclips jetti servlet org op pax web servic jetti intern HttpServiceServletHandler doHandle HttpServiceServletHandler java org op pax web pax web jetti org op pax web servic jetti intern http servic servlet handler handl http servic servlet handler java org op pax web pax web jetti org eclips jetti server handler ScopedHandler handl ScopedHandler java org eclips jetti server org eclips jetti server handler scope handler handl scope handler java org eclips jetti server org eclips jetti secur SecurityHandler handl SecurityHandler java org eclips jetti secur org eclips jetti secur secur handler handl secur handler java org eclips jetti secur org eclips jetti server session SessionHandler doHandle SessionHandler java org eclips jetti server org eclips jetti server session session handler handl session handler java org eclips jetti server org eclips jetti server handler ContextHandler doHandle ContextHandler java org eclips jetti server org eclips jetti server handler context handler handl context handler java org eclips jetti server org op pax web servic jetti intern HttpServiceContext doHandle HttpServiceContext java org op pax web pax web jetti org op pax web servic jetti intern http servic context handl http servic context java org op pax web pax web jetti org eclips jetti servlet ServletHandler doScope ServletHandler java org eclips jetti servlet org eclips jetti servlet servlet handler scope servlet handler java org eclips jetti servlet org eclips jetti server session SessionHandler doScope SessionHandler java org eclips jetti server org eclips jetti server session session handler scope session handler java org eclips jetti server org eclips jetti server handler ContextHandler doScope ContextHandler java org eclips jetti server org eclips jetti server handler context handler scope context handler java org eclips jetti server org eclips jetti server handler ScopedHandler handl ScopedHandler java org eclips jetti server org eclips jetti server handler scope handler handl scope handler java org eclips jetti server org op pax web servic jetti intern JettyServerHandlerCollection handl JettyServerHandlerCollection java org op pax web pax web jetti org op pax web servic jetti intern jetti server handler collect handl jetti server handler collect java org op pax web pax web jetti org eclips jetti server handler HandlerWrapper handl HandlerWrapper java org eclips jetti server org eclips jetti server handler handler wrapper handl handler wrapper java org eclips jetti server org eclips jetti server server handl server java org eclips jetti server org eclips jetti server server handl server java org eclips jetti server org eclips jetti server HttpConnection handleRequest HttpConnection java org eclips jetti server org eclips jetti server http connect handl request http connect java org eclips jetti server org eclips jetti server HttpConnection RequestHandler content HttpConnection java org eclips jetti server org eclips jetti server http connect request handler content http connect java org eclips jetti server org eclips jetti http HttpParser parseNext HttpParser java org eclips jetti http org eclips jetti http http parser pars next http parser java org eclips jetti http org eclips jetti http HttpParser parseAvailable HttpParser java org eclips jetti http org eclips jetti http http parser pars avail http parser java org eclips jetti http org eclips jetti server HttpConnection handl HttpConnection java org eclips jetti server org eclips jetti server http connect handl http connect java org eclips jetti server org eclips jetti io nio SelectChannelEndPoint handl SelectChannelEndPoint java org eclips jetti io org eclips jetti io nio select channel end point handl select channel end point java org eclips jetti io org eclips jetti io nio SelectChannelEndPoint run SelectChannelEndPoint java org eclips jetti io org eclips jetti io nio select channel end point run select channel end point java org eclips jetti io org eclips jetti util thread QueuedThreadPool run QueuedThreadPool java org eclips jetti util org eclips jetti util thread queu thread pool run queu thread pool java org eclips jetti util java lang thread run thread java  caus java lang thread run thread java  caus org springframework mail MailPreparationException org springframework mail mail prepar except could not prepar mail mail nest except java lang NullPointerException java lang null pointer except org springframework mail javamail JavaMailSenderImpl send JavaMailSenderImpl java org springframework context support RELEASE org springframework mail javamail java mail sender impl send java mail sender impl java org springframework context support RELEASE org springframework mail javamail JavaMailSenderImpl send JavaMailSenderImpl java org springframework context support RELEASE org springframework mail javamail java mail sender impl send java mail sender impl java org springframework context support RELEASE org apach camel compon mail MailProducer process MailProducer java org apach camel camel mail org apach camel compon mail mail produc process mail produc java org apach camel camel mail org apach camel impl convert AsyncProcessorTypeConverter ProcessorToAsyncProcessorBridge process AsyncProcessorTypeConverter java org apach camel camel core org apach camel impl convert async processor type convert processor async processor bridg process async processor type convert java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor SendProcessor doInAsyncProducer SendProcessor java org apach camel camel core org apach camel processor send processor async produc send processor java org apach camel camel core org apach camel impl ProducerCache doInAsyncProducer ProducerCache java org apach camel camel core org apach camel impl produc cach async produc produc cach java org apach camel camel core org apach camel processor SendProcessor process SendProcessor java org apach camel camel core org apach camel processor send processor process send processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel camel core org apach camel manag instrument processor process instrument processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel camel core org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel camel core org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel camel core org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel camel core org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel camel core org apach camel processor DefaultChannel process DefaultChannel java org apach camel camel core org apach camel processor default channel process default channel java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor pipelin process pipelin java org apach camel camel core org apach camel processor pipelin process pipelin java org apach camel camel core org apach camel processor pipelin process pipelin java org apach camel camel core org apach camel processor pipelin process pipelin java org apach camel camel core org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel camel core org apach camel processor unit work processor process unit work processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel camel core org apach camel manag instrument processor process instrument processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel compon direct DirectProducer process DirectProducer java org apach camel camel core org apach camel compon direct direct produc process direct produc java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel camel core org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel camel core org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel camel core org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel camel core org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel camel core org apach camel processor unit work processor process unit work processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor MulticastProcessor doProcessSequential MulticastProcessor java org apach camel camel core org apach camel processor multicast processor process sequenti multicast processor java org apach camel camel core org apach camel processor MulticastProcessor doProcessSequential MulticastProcessor java org apach camel camel core org apach camel processor multicast processor process sequenti multicast processor java org apach camel camel core org apach camel processor MulticastProcessor process MulticastProcessor java org apach camel camel core org apach camel processor multicast processor process multicast processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor RecipientList sendToRecipientList RecipientList java org apach camel camel core org apach camel processor recipi list send recipi list recipi list java org apach camel camel core org apach camel processor RecipientList process RecipientList java org apach camel camel core org apach camel processor recipi list process recipi list java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel camel core org apach camel manag instrument processor process instrument processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel camel core org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel camel core org apach camel processor DefaultChannel process DefaultChannel java org apach camel camel core org apach camel processor default channel process default channel java org apach camel camel core org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel camel core org apach camel processor unit work processor process unit work processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process next deleg async processor java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel camel core org apach camel manag instrument processor process instrument processor java org apach camel camel core org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel camel core org apach camel util async processor helper process async processor helper java org apach camel camel core org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel camel core org apach camel processor deleg async processor process deleg async processor java org apach camel camel core org apach camel compon cxf CxfConsumer syncInvoke CxfConsumer java org apach camel camel cxf org apach camel compon cxf cxf consum sync invok cxf consum java org apach camel camel cxf moreCaused caus java lang NullPointerException java lang null pointer except javax mail util ByteArrayDataSource lt init gt ByteArrayDataSource java javax mail javax mail util byte array data sourc lt init gt byte array data sourc java javax mail org apach camel compon mail MailBinding populateContentOnMimeMessage MailBinding java org apach camel camel mail org apach camel compon mail mail bind popul content mime messag mail bind java org apach camel camel mail org apach camel compon mail MailBinding populateMailMessage MailBinding java org apach camel camel mail org apach camel compon mail mail bind popul mail messag mail bind java org apach camel camel mail org apach camel compon mail MailProducer prepar MailProducer java org apach camel camel mail org apach camel compon mail mail produc prepar mail produc java org apach camel camel mail org springframework mail javamail JavaMailSenderImpl send JavaMailSenderImpl java org springframework context support RELEASE org springframework mail javamail java mail sender impl send java mail sender impl java org springframework context support RELEASE,1,0,0,0,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/DetermineContentTypeIssueTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailCustomContentTypeTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailProducerUnsupportedCharsetTest.java;,0
4184,Claus Ibsen,camel-core,0,Using adviceWith 2 times or more in Java DSL with a context scoped onException causing the 1st advised route to not work as expected, use adviceWith advic time java DSL context scope onException except caus st advis rout not work expect,See nabblehttp://camel.465427.n5.nabble.com/intercept-using-adviceWith-tp4520468p4520468.html, see nabblehttp camel nabbl com intercept use adviceWith tp html nabblehttp camel nabbl com intercept use advic tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/OnExceptionDefinition.java;camel-core/src/main/java/org/apache/camel/processor/ErrorHandlerSupport.java;camel-core/src/main/java/org/apache/camel/processor/exceptionpolicy/DefaultExceptionPolicyStrategy.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/AdviceWithTwoRoutesContextScopedOnExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/AdviceWithTwoRoutesOnExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/AdviceWithTwoRoutesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/SpringAdviceWithTwoRoutesContextScopedOnExceptionTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/SpringAdviceWithTwoRoutesOnExceptionTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/SpringAdviceWithTwoRoutesTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/SpringAdviceWithTwoRoutesContextScopedOnExceptionTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/SpringAdviceWithTwoRoutesOnExceptionTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/SpringAdviceWithTwoRoutesTest.xml;,0
4214,Jonas Bengtsson,osgi,0,A name should be specified in the karaf features-file, name specifi karaf featur file featur file,When doing a features:list in karaf  the repository for camel is listed as repo-0  which looks ugly to me. It would be better if it were given a name on the form camel-${pom.version}  similar to the names used by other projects such as Karaf and ActiveMQ., featur list featur list karaf repositori camel list repo repo look ugli would better given name form camel pom version camel pom version similar name use project karaf ActiveMQ activ MQ,0,1,0,0,1,platforms/karaf/features/src/main/resources/features.xml;,0
4224,James Green,camel-xmpp,0,Add Lazy Connection to XMPP, add lazi connect XMPP,We are trying to use XMPP as an endpoint but we have a serious problem.If the XMPP server is inaccessible  we cannot start Camel - it just issues a FailedToCreateProducerException exception and shuts itself down.Given we are running Camel from an ActiveMQ instance this prevents critical infrastructure from being restarted when our XMPP server is offline., tri use XMPP endpoint seriou problem problem XMPP server inaccess cannot start camel issu FailedToCreateProducerException fail creat produc except except shut given given run camel ActiveMQ activ MQ instanc prevent critic infrastructur restart XMPP server offlin offlin,0,1,0,0,0,components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppComponent.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppEndpoint.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppGroupChatProducer.java;components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/EmbeddedXmppTestServer.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppDeferredConnectionTest.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRobustConnectionTest.java;,0
4229,Willem Jiang,tests,0,Added wrap method for template  consumer and context in org.apache.camel.test.junit4.CamelContextSupport, ad wrap method templat consum context org apach camel test junit CamelContextSupport org apach camel test junit camel context support,User complain about the change of CAMEL-3960 causes some issue when using the CamelTestSupport in scala.A simple solution is add some wrap method to get the value protected static member.Here is the mail thread&#91;1&#93; of it.&#91;1&#93;http://camel.465427.n5.nabble.com/CamelTestSupport-template-variable-missing-changed-in-2-8-0-td4587700.html, user complain chang CAMEL CAMEL caus issu use CamelTestSupport camel test support scala scala simpl solut add wrap method get valu protect static member member mail thread thread http camel nabbl com CamelTestSupport templat variabl miss chang td html http camel nabbl com camel test support templat variabl miss chang td html,0,0,0,1,0,components/camel-testng/src/main/java/org/apache/camel/testng/CamelTestSupport.java;components/camel-scala/pom.xml;components/camel-scala/src/test/scala/org/apache/camel/scala/CamelTestSupportTest.scala;components/camel-test/src/main/java/org/apache/camel/test/junit4/CamelTestSupport.java;,0
4233,james strachan,camel-core,0,avoid runtime package scanning to discover TypeConverters, avoid runtim packag scan discov TypeConverters type convert,Package scanning to discover classes annotated with @Converter is slow. Plus on many containers (especially commercial JEE containers) its not even possible; since ClassLoader.getResource() doesn't often return file system based URIs you can easily convert to a java.io.File so you can list files in a directory.Finding known resources/classes in class loaders generally works; scanning packages is generally more problematic - as well as being slow.So it would be better if Camel could use a text file per jar containing all the fully qualified class names of the converters to use. Then no package scanning is required. Or rather we only need to use package scanning if a text file contains packages (rather than fully qualified classes). i.e. do the package scanning at build time (when you have full access to the file system  rather than at runtime when you generally don't have access to the files - and expanding jars to look inside them is awfully slow.In addition it'd be great if we added a maven plugin - or Java compiler AnnotationProcessor we can use with the compile step - to generate the META-INF/services/org/apache/camel/TypeConverter file automatically as part of the build. Then users don't even have to think about it; they just add @Converter to a class and the plugin generates the text file as part of the build.  using fully qualified class names - so no package scanning required at runtime - and much faster startup times too, packag scan discov class annot convert convert slow slow plu mani contain especi commerci JEE contain contain not even possibl possibl sinc ClassLoader getResource class loader get resourc often return file system base URIs UR easili convert java io file java io file list file directori find directori find known resourc class resourc class class loader gener work work scan packag gener problemat well slow slow would better camel could use text file per jar contain fulli qualifi class name convert use use no packag scan requir requir rather need use packag scan text file contain packag rather fulli qualifi class class packag scan build time full access file system rather runtim gener access file expand jar look insid aw slow slow addit great ad maven plugin java compil AnnotationProcessor annot processor use compil step gener META INF servic org apach camel TypeConverter META INF servic org apach camel type convert file automat part build build user even think add convert convert class plugin gener text file part build build use fulli qualifi class name no packag scan requir runtim much faster startup time,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/osgi/Activator.java;camel-core/src/main/java/org/apache/camel/util/StringHelper.java;camel-core/src/test/java/org/apache/camel/util/StringHelperTest.java;components/camel-atom/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-cache/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-context/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-cxf/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-dns/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-exec/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-flatpack/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-hl7/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-http/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-http4/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-jcr/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-jetty/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-mail/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-mina/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-netty/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-quickfix/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-restlet/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-rss/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-scala/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-snmp/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-spring-integration/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-spring-ws/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-syslog/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;components/camel-xmlbeans/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;examples/camel-example-etl/src/main/resources/META-INF/services/org/apache/camel/TypeConverter;tests/camel-typeconverterscan-test/pom.xml;tests/camel-typeconverterscan-test/src/main/resources/META-INF/LICENSE.txt;tests/camel-typeconverterscan-test/src/main/resources/META-INF/NOTICE.txt;tests/camel-typeconverterscan-test/src/test/java/org/apache/camel/tests/typeconverterscan/MyBean.java;tests/camel-typeconverterscan-test/src/test/java/org/apache/camel/tests/typeconverterscan/MyConverter.java;tests/camel-typeconverterscan-test/src/test/java/org/apache/camel/tests/typeconverterscan/RouteTest.java;tests/camel-typeconverterscan-test/src/test/resources/META-INF/services/org/apache/camel/TypeConverter;tests/camel-typeconverterscan-test/src/test/resources/log4j.properties;tests/pom.xml;,0
4236,Claus Ibsen,camel-core,0,When performing lookup in registry and having expected type as parameter  then report better failure if ClassCastException, perform lookup registri expect type paramet report better failur ClassCastException class cast except,When Camel lookup in the registry  it may lookup in different runtime registries  such as OSGi blueprint. If an explicit type has been provided as a parameter you will get a ClassCastException if the type does not match. But you cannot see which types was a stake. So we should provide a better exception.Caused by: java.lang.ClassCastException at java.lang.Class.cast(Class.java:2990)&#91;:1.6.0_24&#93; at org.apache.camel.blueprint.BlueprintContainerRegistry.lookup(BlueprintContainerRegistry.java:43) at org.apache.camel.impl.CompositeRegistry.lookup(CompositeRegistry.java:47) at org.apache.camel.impl.PropertyPlaceholderDelegateRegistry.lookup(PropertyPlaceholderDelegateRegistry.java:54) ... 42 more, camel lookup registri may lookup differ runtim registri OSGi OS Gi blueprint blueprint explicit type provid paramet get ClassCastException class cast except type not match match cannot see type stake stake provid better except caus except caus java lang ClassCastException java lang class cast except java lang class cast class java  java lang class cast class java  org apach camel blueprint BlueprintContainerRegistry lookup BlueprintContainerRegistry java org apach camel blueprint blueprint contain registri lookup blueprint contain registri java org apach camel impl CompositeRegistry lookup CompositeRegistry java org apach camel impl composit registri lookup composit registri java org apach camel impl PropertyPlaceholderDelegateRegistry lookup PropertyPlaceholderDelegateRegistry java org apach camel impl properti placehold deleg registri lookup properti placehold deleg registri java,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/NoSuchBeanException.java;camel-core/src/main/java/org/apache/camel/impl/CompositeRegistry.java;camel-core/src/main/java/org/apache/camel/impl/JndiRegistry.java;camel-core/src/main/java/org/apache/camel/impl/SimpleRegistry.java;camel-core/src/test/java/org/apache/camel/impl/RegistryLookupTypeClassCastExceptionTest.java;camel-core/src/test/java/org/apache/camel/impl/SimpleRegistryTest.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/BlueprintContainerRegistry.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpComponent.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/ApplicationContextRegistry.java;,0
4237,Jonathan Anstey,null,0,Archetypes fail to build in offline mode, archetyp fail build offlin mode,If build tooling/archetypes with the --offline Maven argument you may see an error like&#91;ERROR&#93; Unresolveable build extension: Error resolving version for plugin 'org.apache.maven.archetype:archetype-packaging'Seems the version for archetype-packaging in the dependencyManagement section defined in the parent pom is not propagating down to build extension... when Maven is not in offline mode it can simply grab the latest version from the metadata at central. I'm committing a simple fix shortly., build tool archetyp tool archetyp offlin maven argument may see error like ERROR like ERROR unresolv build extens extens error resolv version plugin org apach maven archetyp archetyp packag seem org apach maven archetyp archetyp packag seem version archetyp packag archetyp packag dependencyManagement depend manag section defin parent pom not propag build extens extens maven not offlin mode simpli grab latest version metadata central central commit simpl fix shortli shortli,1,0,0,0,0,tooling/archetypes/camel-archetype-activemq/pom.xml;tooling/archetypes/camel-archetype-blueprint/pom.xml;tooling/archetypes/camel-archetype-component/pom.xml;tooling/archetypes/camel-archetype-java/pom.xml;tooling/archetypes/camel-archetype-scala/pom.xml;tooling/archetypes/camel-archetype-spring-dm/pom.xml;tooling/archetypes/camel-archetype-spring/pom.xml;tooling/archetypes/camel-archetype-web/pom.xml;tooling/archetypes/camel-archetype-webconsole/pom.xml;,0
4246,Yaytay,camel-core,0,TraceInterceptor does not work correctly for AsyncProcessing, TraceInterceptor trace interceptor not work correctli AsyncProcessing async process,TraceEventHandlers are not called correctly when a node is processed asynchronously.From org.apache.camel.processor.interceptor.TraceInterceptor: try { // special for interceptor where we need to keep booking how far we have routed in the intercepted processors if (node.getParent() instanceof InterceptDefinition &amp;&amp; exchange.getUnitOfWork() != null) { TracedRouteNodes traced = exchange.getUnitOfWork().getTracedRouteNodes(); traceIntercept((InterceptDefinition) node.getParent()  traced  exchange); } // process the exchange try { sync = super.process(exchange  callback); } catch (Throwable e) { exchange.setException(e); } } finally { // after (trace out) if (shouldLog &amp;&amp; tracer.isTraceOutExchanges()) { logExchange(exchange); traceExchangeOut(exchange  traceState); } }As it is this results in traceExchangeOut being called before the callback  which is wrong.The call to super.process needs to wrap the callback to call traceExchangeOut (and the finally block shouldn't run if the process is asynch).This isn't a regression  but the change to make more routes asynchronous makes it more noticeable., TraceEventHandlers trace event handler not call correctli node process asynchron asynchron org apach camel processor interceptor TraceInterceptor org apach camel processor interceptor trace interceptor tri special interceptor need keep book far rout intercept processor node getParent node get parent instanceof InterceptDefinition intercept definit amp amp amp amp exchang getUnitOfWork exchang get unit work null null TracedRouteNodes trace rout node trace exchang getUnitOfWork getTracedRouteNodes exchang get unit work get trace rout node traceIntercept InterceptDefinition trace intercept intercept definit node getParent node get parent trace exchang exchang process exchang tri sync super process exchang super process exchang callback callback catch throwabl throwabl exchang setException exchang set except final trace shouldLog log amp amp amp amp tracer isTraceOutExchanges tracer trace exchang logExchange exchang log exchang exchang traceExchangeOut exchang trace exchang exchang traceState trace state result traceExchangeOut trace exchang call callback wrong wrong call super process super process need wrap callback call traceExchangeOut trace exchang final block run process asynch asynch regress chang make rout asynchron make notic notic,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/test/java/org/apache/camel/processor/async/AsyncTraceHandlerTest.java;,0
4252,Claus Ibsen,camel-ftp,0,camel-ftp - Using tempFileName option should use the separator option to allow control of path separators in the generated file name, camel ftp camel ftp use tempFileName temp file name option use separ option allow control path separ gener file name,See nabblehttp://camel.465427.n5.nabble.com/FTP-temp-file-not-being-created-correctly-on-Windows-Camel-2-7-2-tp4591581p4591581.html, see nabblehttp camel nabbl com FTP temp file not creat correctli window camel tp html nabblehttp camel nabbl com FTP temp file not creat correctli window camel tp html,0,0,0,1,0,components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FileToFtpTempFileNameTest.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;camel-core/src/test/java/org/apache/camel/component/file/FilerProducerFileNamesTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerFileWithPathPathSeparatorUnixNoStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerFileWithPathPathSeparatorWindowsNoStepwiseTest.java;,0
4254,Oliver Jelinski,camel-soap,0,Missing setter or constructor-argument for elementNameStrategyRef in SoapJaxbDataFormat, miss setter constructor argument constructor argument elementNameStrategyRef element name strategi ref SoapJaxbDataFormat soap jaxb data format,Because the variable 'elementNameStrategyRef' in org.apache.camel.dataformat.soap.SoapJaxbDataFormat can't be set  it is always null. Therefore declaring the data format with spring-dsl leads to an automatic fallback to the default strategy 'TypeNameStrategy' in org.apache.camel.dataformat.soap.SoapJaxbDataFormat.checkElementNameStrategy(Exchange exchange). This further leads to wrong results when marshalling.So the following declararion does not work correctly:... &lt;bean id='myStrategy' class='org.apache.camel.dataformat.soap.name.ServiceInterfaceStrategy'&gt; &lt;constructor-arg value='my.package.MyServiceInterface'/&gt; &lt;constructor-arg value='true'/&gt; &lt;/bean&gt;... &lt;camelContext xmlns='http://camel.apache.org/schema/spring'&gt;... &lt;dataFormats&gt; &lt;soapjaxb id='mySoap'  contextPath='my.package'  elementNameStrategyRef='myStrategy'/&gt; &lt;/dataFormats&gt;... &lt;route&gt; &lt;from uri='cxf:/MyService?serviceClass=my.package.MyServiceInterface' /&gt;... &lt;convertBodyTo type='my.package.MyType'/&gt; &lt;marshal ref='mySoap'/&gt;..., variabl elementNameStrategyRef element name strategi ref org apach camel dataformat soap SoapJaxbDataFormat org apach camel dataformat soap soap jaxb data format set alway null null therefor declar data format spring dsl spring dsl lead automat fallback default strategi TypeNameStrategy type name strategi org apach camel dataformat soap SoapJaxbDataFormat checkElementNameStrategy exchang org apach camel dataformat soap soap jaxb data format check element name strategi exchang exchang exchang lead wrong result marshal marshal follow declararion not work correctli correctli lt bean lt bean id myStrategy id strategi class org apach camel dataformat soap name ServiceInterfaceStrategy gt class org apach camel dataformat soap name servic interfac strategi gt lt constructor arg lt constructor arg valu packag MyServiceInterface gt valu packag servic interfac gt lt constructor arg lt constructor arg valu true gt valu true gt lt bean gt lt bean gt lt camelContext lt camel context xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt dataFormats gt lt data format gt lt soapjaxb lt soapjaxb id mySoap id soap contextPath packag context path packag elementNameStrategyRef myStrategy gt element name strategi ref strategi gt lt dataFormats gt lt data format gt lt rout gt lt rout gt lt lt uri cxf MyService serviceClass packag MyServiceInterface uri cxf servic servic class packag servic interfac gt gt lt convertBodyTo lt convert bodi type packag MyType gt type packag type gt lt marshal lt marshal ref mySoap gt ref soap gt,0,1,1,0,0,components/camel-soap/src/main/java/org/apache/camel/dataformat/soap/SoapJaxbDataFormat.java;components/camel-soap/src/test/resources/org/apache/camel/dataformat/soap/SoapSpringRoundtripTest-context.xml;,0
4257,Dmitri Maximovich,camel-jms,0,Expose setDeliveryMode property in org.apache.camel.component.jms.JmsComponent, expos setDeliveryMode set deliveri mode properti org apach camel compon jm JmsComponent org apach camel compon jm jm compon,It would be beneficial if org.apache.camel.component.jms.JmsComponent would allow to specify JMS deliveryMode explicitly. Currently  from what I can tell  there is only boolean deliveryPersistent property which is not enough if JMS provider supports additional non-standard delivery modes. Example is Tibco EMS RELIABLE_DELIVERY mode., would benefici org apach camel compon jm JmsComponent org apach camel compon jm jm compon would allow specifi JMS deliveryMode deliveri mode explicitli explicitli current tell boolean deliveryPersistent deliveri persist properti not enough JMS provid support addit non standard non standard deliveri mode mode exampl tibco EMS RELIABLE_DELIVERY RELIABLE DELIVERY mode mode,0,1,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteDeliveryModePreserveQoSTest.java;,0
4261,Claus Ibsen,camel-core,0,Properties component - Cached locations may add duplicates, properti compon cach locat may add duplic,See nabblehttp://camel.465427.n5.nabble.com/LRUCache-memory-leak-when-using-camel-properties-file-tp4621357p4621357.htmlThe internal cache should be a soft cache and we should use a key holder to ensure equals/hashCode, see nabblehttp camel nabbl com LRUCache memori leak use camel properti file tp htmlThe nabblehttp camel nabbl com LRU cach memori leak use camel properti file tp html intern cach soft cach use key holder ensur equal hashCode equal hash code,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/properties/PropertiesComponent.java;camel-core/src/test/java/org/apache/camel/component/properties/PropertiesComponentTest.java;,0
4264,Willem Jiang,camel-core,0,The routeContext stack of DefaultUnitOfWork should be thread safe, routeContext rout context stack DefaultUnitOfWork default unit work thread safe,Here is the stack tracejava.util.EmptyStackException at java.util.Stack.peek(Stack.java:85) at java.util.Stack.pop(Stack.java:67) at org.apache.camel.impl.DefaultUnitOfWork.popRouteContext(DefaultUnitOfWork.java:226) at org.apache.camel.processor.DefaultChannel$1.done(DefaultChannel.java:260) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:330) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208) at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:256) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:70) at org.apache.camel.processor.Pipeline.process(Pipeline.java:143) at org.apache.camel.processor.Pipeline.process(Pipeline.java:78) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:113) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:91) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85) at org.apache.camel.processor.aggregate.AggregateProcessor$1.run(AggregateProcessor.java:397) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) at java.util.concurrent.FutureTask.run(FutureTask.java:138) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619)You can find more information in this mail thread&#91;1&#93;&#91;1&#93;http://camel.465427.n5.nabble.com/EmptyStackException-in-DefaultUnitOfWork-popRouteContext-td4630106.html, stack tracejava util EmptyStackException tracejava util empti stack except java util stack peek stack java java util stack peek stack java java util stack pop stack java java util stack pop stack java org apach camel impl DefaultUnitOfWork popRouteContext DefaultUnitOfWork java org apach camel impl default unit work pop rout context default unit work java org apach camel processor DefaultChannel done DefaultChannel java org apach camel processor default channel done default channel java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor DefaultChannel process DefaultChannel java org apach camel processor default channel process default channel java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor aggreg AggregateProcessor run AggregateProcessor java org apach camel processor aggreg aggreg processor run aggreg processor java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java java util concurr FutureTask run FutureTask java java util concurr futur task run futur task java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java find inform mail thread http camel nabbl com EmptyStackException DefaultUnitOfWork popRouteContext td html thread http camel nabbl com empti stack except default unit work pop rout context td html,1,0,0,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java;camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java;parent/pom.xml;platforms/karaf/features/pom.xml;,0
4268,Chris Chen,camel-aws,0,Camel-AWS: Add support for adding CacheControl and ContentDisposition metadata support when uploading file, camel AWS camel AWS add support ad CacheControl cach control ContentDisposition content disposit metadata support upload file,Add support for setting the CacheControl and ContentDisposition metadata information for the object.Proposed Implementation:1) Add two new headers: CamelAwsS3CacheControl and CamcelAwsS3ContentDisposition. 2) Add corresponding enumerations in S3Constants3) Set the corresponding data into PutObjectRequest in S3Producer., add support set CacheControl cach control ContentDisposition content disposit metadata inform object propos object propos implement implement add two new header header CamelAwsS CacheControl camel aw cach control CamcelAwsS ContentDisposition camcel aw content disposit add correspond enumer constant constant set correspond data PutObjectRequest put object request produc produc,0,0,0,0,1,components/camel-aws/src/main/java/org/apache/camel/component/aws/s3/S3Producer.java;,0
4269,Marek Niewiadomski,camel-ftp,0,Connection to sftp server occasionally don't want to come back, connect sftp server occasion want come back,Problem appear if somebody kill logged on user on sftp server while you are connected with consumer.Camel is not able to reconnect on next poll even if it says that it will do this.RemoteFileConsumer is not connected but it thinks that it is still logged in.I think 'loggedIn' flag should be down after each disconnecting action like in attached patch.2011-07-24 22:35:14 848 WARN &#91;RemoteFilePollingConsumerPollStrategy:37&#93; Trying to recover by disconnecting from remote server forcing a re-connect at next poll: sftp://test@host 2011-07-24 22:35:14 849 WARN &#91;RemoteFilePollingConsumerPollStrategy:52&#93; Consumer Consumer&#91;sftp://test@host/test?delay=60000&amp;delete=true&amp;localWorkDirectory=%2Fvar%2Ftest%2Ftemp&amp;password=xxxx&amp;throwExceptionOnConnectFailed=true&#93; could not poll endpoint: sftp://test@host/test?delay=60000&amp;delete=true&amp;localWorkDirectory=%2Fvar%2Ftest%2Ftemp&amp;password=xxxx&amp;throwExceptionOnConnectFailed=true caused by: Cannot change directory to: test org.apache.camel.component.file.GenericFileOperationFailedException: Cannot change directory to: test at org.apache.camel.component.file.remote.SftpOperations.doChangeDirectory(SftpOperations.java:408) at org.apache.camel.component.file.remote.SftpOperations.changeCurrentDirectory(SftpOperations.java:393) at org.apache.camel.component.file.remote.SftpConsumer.doPollDirectory(SftpConsumer.java:77) at org.apache.camel.component.file.remote.SftpConsumer.pollDirectory(SftpConsumer.java:49) at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:83) at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:97) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317) at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662)Caused by: 4:  at com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:285) at org.apache.camel.component.file.remote.SftpOperations.doChangeDirectory(SftpOperations.java:406) ... 14 moreCaused by: java.io.IOException: Pipe closed at java.io.PipedInputStream.read(PipedInputStream.java:291) at java.io.PipedInputStream.read(PipedInputStream.java:361) at com.jcraft.jsch.ChannelSftp.fill(ChannelSftp.java:2333) at com.jcraft.jsch.ChannelSftp.header(ChannelSftp.java:2359) at com.jcraft.jsch.ChannelSftp._realpath(ChannelSftp.java:1819) at com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:268) ... 15 more, problem appear somebodi kill log user sftp server connect consum camel consum camel not abl reconnect next poll even say RemoteFileConsumer remot file consum not connect think still log think loggedIn log flag disconnect action like attach patch patch WARN RemoteFilePollingConsumerPollStrategy remot file poll consum poll strategi tri recov disconnect remot server forc connect connect next poll poll sftp test host sftp test host WARN RemoteFilePollingConsumerPollStrategy remot file poll consum poll strategi consum consum sftp test host test delay amp delet true amp localWorkDirectory fvar ftest ftemp amp password xxxx amp throwExceptionOnConnectFailed true consum sftp test host test delay amp delet true amp local work directori fvar ftest ftemp amp password xxxx amp throw except connect fail true could not poll endpoint endpoint sftp test host test delay amp delet true amp localWorkDirectory fvar ftest ftemp amp password xxxx amp throwExceptionOnConnectFailed true sftp test host test delay amp delet true amp local work directori fvar ftest ftemp amp password xxxx amp throw except connect fail true caus cannot chang directori test org apach camel compon file GenericFileOperationFailedException org apach camel compon file gener file oper fail except cannot chang directori test org apach camel compon file remot SftpOperations doChangeDirectory SftpOperations java org apach camel compon file remot sftp oper chang directori sftp oper java org apach camel compon file remot SftpOperations changeCurrentDirectory SftpOperations java org apach camel compon file remot sftp oper chang current directori sftp oper java org apach camel compon file remot SftpConsumer doPollDirectory SftpConsumer java org apach camel compon file remot sftp consum poll directori sftp consum java org apach camel compon file remot SftpConsumer pollDirectory SftpConsumer java org apach camel compon file remot sftp consum poll directori sftp consum java org apach camel compon file GenericFileConsumer poll GenericFileConsumer java org apach camel compon file gener file consum poll gener file consum java org apach camel impl ScheduledPollConsumer run ScheduledPollConsumer java org apach camel impl schedul poll consum run schedul poll consum java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRunAndReset FutureTask java java util concurr futur task sync inner run reset futur task java java util concurr FutureTask runAndReset FutureTask java java util concurr futur task run reset futur task java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask runPeriodic ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run period schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java caus java lang thread run thread java caus com jcraft jsch ChannelSftp cd ChannelSftp java com jcraft jsch channel sftp cd channel sftp java org apach camel compon file remot SftpOperations doChangeDirectory SftpOperations java org apach camel compon file remot sftp oper chang directori sftp oper java moreCaused caus java io IOException java io IO except pipe close java io PipedInputStream read PipedInputStream java java io pipe input stream read pipe input stream java java io PipedInputStream read PipedInputStream java java io pipe input stream read pipe input stream java com jcraft jsch ChannelSftp fill ChannelSftp java com jcraft jsch channel sftp fill channel sftp java com jcraft jsch ChannelSftp header ChannelSftp java com jcraft jsch channel sftp header channel sftp java com jcraft jsch ChannelSftp _realpath ChannelSftp java com jcraft jsch channel sftp _realpath channel sftp java com jcraft jsch ChannelSftp cd ChannelSftp java com jcraft jsch channel sftp cd channel sftp java,1,1,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;,0
4272,Willem Jiang,camel-jdbc,0,camel-jdbc should provide a option not set the autoCommit flag, camel jdbc camel jdbc provid option not set autoCommit auto commit flag,When the jdbc connection is work as XA resource  the connection autoCommit flag doesn't support to be reset.So we should provide an option in the camel-jdbc endpont not to set the autoCommit flag on the connection., jdbc connect work XA resourc connect autoCommit auto commit flag support reset reset provid option camel jdbc camel jdbc endpont not set autoCommit auto commit flag connect connect,0,0,0,0,0,components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcEndpoint.java;components/camel-jdbc/src/main/java/org/apache/camel/component/jdbc/JdbcProducer.java;,0
4274,Yaytay,camel-core,0,MDCUnitOfWork behaviour incorrect with nested routes, MDCUnitOfWork MDC unit work behaviour incorrect nest rout,MDCUnitOfWork.clear() removes any content set by MDCUnitOfWork from MDC.If there are two separate exchange running at the same time in the same thread  as happens when a ProduceTemplate is used from Java  this is incorrect because the MDC of the parent is cleared after the child completes.Conceptually the MDC should be a stack  but MDC only accepts strings so the simplest thing to do is for MDCUnitOfWork to replace the previous values in clear()., MDCUnitOfWork clear MDC unit work clear remov content set MDCUnitOfWork MDC unit work MDC MDC two separ exchang run time thread happen ProduceTemplate produc templat use java incorrect MDC parent clear child complet conceptu complet conceptu MDC stack MDC accept string simplest thing MDCUnitOfWork MDC unit work replac previou valu clear clear,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/impl/MDCUnitOfWork.java;camel-core/src/test/java/org/apache/camel/processor/MDCResetTest.java;,0
4282,Claus Ibsen,examples; tooling,0,Camel archetypes and examples should enable JMX for ActiveMQ, camel archetyp exampl enabl JMX ActiveMQ activ MQ,The camel-activemq archetype setup an embedded AMQ broker which has JMX disabled.We should check all our examples and archetypes that JMX is enabled for AMQ when its embedded.As it may confuse end users that they can see Camel in JMX  but not AMQ., camel activemq camel activemq archetyp setup embed AMQ broker JMX disabl disabl check exampl archetyp JMX enabl AMQ embed embed may confus end user see camel JMX not AMQ AMQ,0,0,0,0,0,examples/camel-example-jms-file/src/main/resources/META-INF/spring/camelContext.xml;examples/camel-example-pojo-messaging/src/main/resources/META-INF/spring/camel-context.xml;examples/camel-example-route-throttling/src/main/resources/META-INF/spring/camel-server.xml;examples/camel-example-spring-jms/src/main/resources/META-INF/spring/camel-server-aop.xml;examples/camel-example-spring-jms/src/main/resources/META-INF/spring/camel-server.xml;tooling/archetypes/camel-archetype-activemq/src/main/resources/archetype-resources/src/main/resources/META-INF/spring/camel-context.xml;tooling/archetypes/camel-archetype-webconsole/src/main/resources/archetype-resources/src/main/webapp/WEB-INF/applicationContext.xml;,0
4283,Claus Ibsen,camel-core,0,dump as xml fails if message body is already xml, dump xml fail messag bodi alreadi xml,MessageHelper.dumpAsXml has a problem if the message body is already xml., MessageHelper dumpAsXml messag helper dump xml problem messag bodi alreadi xml xml,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/util/MessageHelper.java;camel-core/src/test/java/org/apache/camel/management/ManagedBrowseableEndpointAsXmlTest.java;camel-core/src/test/java/org/apache/camel/util/MessageHelperTest.java;,0
4287,Jonathan Anstey,null,0,camel-aws won't build offline, camel aw camel aw build offlin,If you build camel-aws in Maven's offline mode (-o)  you may get the following error:No versions available for org.codehaus.jackson:jackson-core-asl:jar:[1.4 ) within specified rangeThis will occur even if you have the libs locally. This is happening because Maven cannot download the remote metadata to get a list of versions for jackson-core-asl. Specifying a hard version for this (not a range) gets around the issue. Committing a fix shortly., build camel aw camel aw maven maven offlin mode may get follow error No error No version avail org codehau jackson jackson core asl jar org codehau jackson jackson core asl jar within specifi rangeThis rang occur even lib local local happen maven cannot download remot metadata get list version jackson core asl jackson core asl specifi hard version not rang rang get around issu issu commit fix shortli shortli,0,0,0,0,0,components/camel-aws/pom.xml;,0
4293,Vincent MATHON,camel-core,0,@Bean method name is ignored, bean bean method name ignor,Since 2.8.0 Exchange.BEAN_METHOD_NAME is always used instead of @Bean method name (see BeanInfo.createInvocation(Object pojo  Exchange exchange)). As a consequence  the wrong method is choosen when I use a beanref invokation on a method that uses @Bean parameter binding.I built a simple test case as a zip file containing an Eclipse Helios maven project (see attachment). The test fails with camel 2.8.0 and succeeds with 2.7.3 and earlier (at least until 2.6.0).regards Vincent MATHON, sinc exchang BEAN_METHOD_NAME exchang BEAN METHOD NAME alway use instead bean bean method name see BeanInfo createInvocation object bean info creat invoc object pojo exchang exchang exchang consequ wrong method choosen use beanref invok method use bean bean paramet bind bind built simpl test case zip file contain eclips helio maven project see attach attach test fail camel succe earlier least regard vincent MATHON,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;camel-core/src/test/java/org/apache/camel/language/BeanAnnotationParameterTest.java;camel-core/src/test/java/org/apache/camel/language/BeanAnnotationParameterTwoTest.java;,0
4294,herriot one,camel-cxf,0,Camel CXF Endpoint creates incomplete WSDL, camel CXF endpoint creat incomplet WSDL,The dynamically created WSDL for a cxf:cxfEndpoint declaration is malformed when using a complex type as parameter.Please see as well the discussion here.http://camel.465427.n5.nabble.com/Camel-CXF-Endpoint-creating-incomplete-WSDL-td4642433.htmlUse attached test project to run mvn test with version 2.8.0 and 2.7.2  this should show the error., dynam creat WSDL cxf cxfEndpoint cxf cxf endpoint declar malform use complex type paramet pleas paramet pleas see well discuss http camel nabbl com camel CXF endpoint creat incomplet WSDL td htmlUse http camel nabbl com camel CXF endpoint creat incomplet WSDL td html use attach test project run mvn test version show error error,0,0,0,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/wsdl/Order.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/wsdl/OrderEndpoint.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/wsdl/OrderTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/wsdl/camel-cxf.xml;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/wsdl/camel-route.xml;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/wsdl/OrderTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/wsdl/camel-cxf.xml;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/wsdl/camel-route.xml;,0
4297,Jonathan Anstey,null,0,Add errorHandler option for DMLC to camel-jms, add errorHandler error handler option DMLC camel jm camel jm,In Spring 3 a org.springframework.util.ErrorHandler can be used to react to unhandled exceptions (unlike JMSExceptions handled by an javax.jms.ExceptionListenerSee http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jms/listener/AbstractMessageListenerContainer.html#setErrorHandler(org.springframework.util.ErrorHandler)I'm going to add an option for this to camel-jms shortly., spring org springframework util ErrorHandler org springframework util error handler use react unhandl except unlik JMSExceptions JMS except handl javax jm ExceptionListenerSee javax jm except listen see go add option camel jm camel jm shortli shortli,0,0,0,1,0,components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceProducer.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/ProducerRemoteRouteTest.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/ProducerRemoteRouteTimeOutTest.java;components/camel-spring-ws/src/test/resources/org/apache/camel/component/spring/ws/ProducerRemoteRouteTimeOutTest-context.xml;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/PersistentQueueReplyManager.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyManager.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsEndpointConfigurationTest.java;,0
4305,Claus Ibsen,camel-spring,0,xslt component - Cannot load xslt file from file system, xslt compon cannot load xslt file file system,See nabblehttp://camel.465427.n5.nabble.com/Custom-URIResolver-for-Camel-tp4665485p4665485.htmlThe Spring IO resource is a bit pants  as you ask for it to give an input stream  and then it fails doing that for a plain file url.Instead it gives you an URL connection  and you get a unknown host exception., see nabblehttp camel nabbl com custom URIResolver camel tp htmlThe nabblehttp camel nabbl com custom URI resolv camel tp html spring IO resourc bit pant ask give input stream fail plain file url instead url instead give URL connect get unknown host except except,0,0,0,1,0,components/camel-spring/src/main/java/org/apache/camel/component/xslt/XsltComponent.java;components/camel-spring/src/test/java/org/apache/camel/component/xslt/XsltRouteFileTest.java;components/camel-spring/src/test/resources/org/apache/camel/component/xslt/XsltRouteFileTest.xml;,0
4311,surya,camel-bindy,0,Camel Bindy Parser One to Many KvP Unmarshall Issue, camel bindi parser one mani KvP Kv unmarshal issu,Bindy KvP unmarshall issue. While unmarshalling FIX messages  camel-bindy causing inconsistencies if the incoming fix messages are defined to map using 'OneToMany' annotations.In a given route for eg: BindyKeyValuePairDataFormat kvpBindyDataFormat = new BindyKeyValuePairDataFormat('org.apache.camel.dataformat.bindy.model.fix.complex.onetomany'); public void configure() { from(URI_DIRECT_START).unmarshal(kvpBindyDataFormat).to(URI_MOCK_RESULT); }kvpBindyDataFormat is single instance for multiple threads and with in 'BindyKeyValuePairFactory' class instance varialbe below is shared across multiple threads causing data inconsistencies.private Map&lt;String  List&lt;Object&gt;&gt; lists = new HashMap&lt;String  List&lt;Object&gt;&gt;(); Values from previous thread/messages are retained in the current thread causing issues.For eg in the test case: public class BindyComplexOneToManyKeyValuePairUnMarshallTest extends CommonBindyTest if we send another message with no repeating groups are sent.String message2 = '8=FIX 4.19=2034=135=049=INVMGR56=BRKR' + '1=BE.CHM.00111=CHM0001-0158=this is a camel - bindy test'  + '10=220';The output message has repeating group data from message processed in earlier thread are pouplated causing data inconsistencies.Please suggest the fix considering multi-threading scenario. I am willing to volunteer for the fix.Regards Surya, bindi KvP Kv unmarshal issu issu unmarshal FIX messag camel bindi camel bindi caus inconsist incom fix messag defin map use OneToMany one mani annot annot given rout eg eg BindyKeyValuePairDataFormat bindi key valu pair data format kvpBindyDataFormat kvp bindi data format new BindyKeyValuePairDataFormat org apach camel dataformat bindi model fix complex onetomani bindi key valu pair data format org apach camel dataformat bindi model fix complex onetomani public void configur configur URI_DIRECT_START unmarsh kvpBindyDataFormat URI_MOCK_RESULT URI DIRECT START unmarsh kvp bindi data format URI MOCK RESULT kvpBindyDataFormat kvp bindi data format singl instanc multipl thread BindyKeyValuePairFactory bindi key valu pair factori class instanc varialb share across multipl thread caus data inconsist privat inconsist privat map lt string map lt string list lt object gt gt list lt object gt gt list new HashMap lt string hash map lt string list lt object gt gt list lt object gt gt valu previou thread messag thread messag retain current thread caus issu issu eg test case case public class BindyComplexOneToManyKeyValuePairUnMarshallTest bindi complex one mani key valu pair Un marshal test extend CommonBindyTest common bindi test send anoth messag no repeat group sent string sent string messag messag FIX FIX INVMGR BRKR INVMGR BRKR CHM CHM CHM CHM camel bindi test test output messag repeat group data messag process earlier thread pouplat caus data inconsist pleas inconsist pleas suggest fix consid multi thread multi thread scenario scenario will volunt fix regard fix regard surya,1,1,0,1,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyKeyValuePairFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/kvp/BindyKeyValuePairDataFormat.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fix/BindyComplexOneToManyKeyValuePairUnMarshallTest.java;,0
4319,Alexey Markevich,examples,0,Example feature: wrong spring version, exampl featur featur wrong spring version,Featureapache-camel-2.8.0.zip/apache-camel-2.8.0/examples/camel-example-etl/src/main/resources/features.xml contains &lt;bundle&gt;mvn:org.springframework/spring-jdbc/2.5.6.SEC01&lt;/bundle&gt; &lt;bundle&gt;mvn:org.springframework/spring-orm/2.5.6.SEC01&lt;/bundle&gt; Exception during 'hibernate-feauture' feature installation:12:23:21 337 | INFO | l Console Thread | araf.shell.console.jline.Console 258 | 36 - org.apache.karaf.shell.console - 2.2.1 | Exception caught while executing command java.lang.Exception: Could not start bundle mvn:org.springframework/spring-jdbc/2.5.6.SEC01 in feature(s) hibernate-feauture-0.0.0: The bundle 'org.springframework.jdbc_2.5.6.SEC01 &#91;332&#93;' could not be resolved. Reason: Missing Constraint: Import-Package: org.springframework.dao; version='&#91;2.5.6.SEC01 2.5.6.SEC01&#93;' at org.apache.karaf.features.internal.FeaturesServiceImpl.installFeatures(FeaturesServiceImpl.java:353)&#91;38:org.apache.karaf.features.core:2.2.1&#93;...Caused by: org.osgi.framework.BundleException: The bundle 'org.springframework.jdbc_2.5.6.SEC01 &#91;332&#93;' could not be resolved. Reason: Missing Constraint: Import-Package: org.springframework.dao; version='&#91;2.5.6.SEC01 2.5.6.SEC01&#93;' at org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolverError(AbstractBundle.java:1317)&#91;osgi-3.6.0.v20100517.jar:&#93; at org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolutionFailureException(AbstractBundle.java:1301)&#91;osgi-3.6.0.v20100517.jar:&#93; at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:319)&#91;osgi-3.6.0.v20100517.jar:&#93; at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:284)&#91;osgi-3.6.0.v20100517.jar:&#93; at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:276)&#91;osgi-3.6.0.v20100517.jar:&#93; at org.apache.karaf.features.internal.FeaturesServiceImpl.installFeatures(FeaturesServiceImpl.java:350)&#91;38:org.apache.karaf.features.core:2.2.1&#93; ... 15 moreSolution:Change version for bundles org.springframework/spring-jdbc and org.springframework/spring-orm to 3.0.5.RELEASE instead 2.5.6.SEC01., featureapach camel zip apach camel exampl camel exampl etl src main resourc featur xml featureapach camel zip apach camel exampl camel exampl etl src main resourc featur xml contain lt bundl gt mvn org springframework spring jdbc SEC lt bundl gt lt bundl gt mvn org springframework spring jdbc SEC lt bundl gt lt bundl gt mvn org springframework spring orm SEC lt bundl gt lt bundl gt mvn org springframework spring orm SEC lt bundl gt except hibern feautur hibern feautur featur instal instal INFO consol thread araf shell consol jline consol araf shell consol jline consol org apach karaf shell consol org apach karaf shell consol except caught execut command java lang except java lang except could not start bundl mvn org springframework spring jdbc SEC mvn org springframework spring jdbc SEC featur featur hibern feautur hibern feautur bundl org springframework jdbc SEC org springframework jdbc SEC could not resolv resolv reason reason miss constraint constraint import packag import packag org springframework dao org springframework dao version SEC version SEC SEC SEC org apach karaf featur intern FeaturesServiceImpl installFeatures FeaturesServiceImpl java org apach karaf featur core caus org apach karaf featur intern featur servic impl instal featur featur servic impl java org apach karaf featur core caus org osgi framework BundleException org osgi framework bundl except bundl org springframework jdbc SEC org springframework jdbc SEC could not resolv resolv reason reason miss constraint constraint import packag import packag org springframework dao org springframework dao version SEC version SEC SEC SEC org eclips osgi framework intern core AbstractBundle getResolverError AbstractBundle java osgi jar org eclips osgi framework intern core abstract bundl get resolv error abstract bundl java osgi jar org eclips osgi framework intern core AbstractBundle getResolutionFailureException AbstractBundle java osgi jar org eclips osgi framework intern core abstract bundl get resolut failur except abstract bundl java osgi jar org eclips osgi framework intern core BundleHost startWorker BundleHost java osgi jar org eclips osgi framework intern core bundl host start worker bundl host java osgi jar org eclips osgi framework intern core AbstractBundle start AbstractBundle java osgi jar org eclips osgi framework intern core abstract bundl start abstract bundl java osgi jar org eclips osgi framework intern core AbstractBundle start AbstractBundle java osgi jar org eclips osgi framework intern core abstract bundl start abstract bundl java osgi jar org apach karaf featur intern FeaturesServiceImpl installFeatures FeaturesServiceImpl java org apach karaf featur core org apach karaf featur intern featur servic impl instal featur featur servic impl java org apach karaf featur core moreSolution chang solut chang version bundl org springframework spring jdbc org springframework spring jdbc org springframework spring orm org springframework spring orm RELEASE RELEASE instead SEC SEC,1,0,0,0,0,examples/camel-example-etl/src/main/resources/features.xml;examples/camel-example-etl/src/main/resources/features.xml;examples/camel-example-tracer/src/main/resources/features.xml;,0
4325,Cedric de Launois,camel-restlet,0,Wrong exception uri when an HTTP error code is returned, wrong except uri HTTP error code return,When a REST service returns an HTTP error code (e.g. 404)  the URI property of the exception is incorrect.The URI is the URI of the origin endpoint of the route.It should be instead the URI of the endpoint that threw the exception.For instance  in the following route :&lt;route id='restproxy'&gt; &lt;from uri='restlet:http://localhost:9080/oe/ws/offre/{id}'/&gt; &lt;doTry&gt; &lt;to uri='restlet:http://bla.dot.com:8080/oe/ws/offre/{id}'/&gt; &lt;doCatch&gt; &lt;exception&gt;org.apache.camel.CamelException&lt;/exception&gt; &lt;log message='URI=${exception.uri}'/&gt; &lt;/doCatch&gt; &lt;/doTry&gt;&lt;/route&gt;The logged URI is 'restlet:http://localhost:9080/oe/ws/offre/{id}' but should be instead the real URI used  e.g. 'restlet:http://bla.dot.com:8080/oe/ws/offre/1'.This bug might be fixed by the following code change in class org.apache.camel.component.restlet.RestletProducer  method populateRestletProducerException() : String uri = exchange.getFromEndpoint().getEndpointUri(); + String uri = response.getRequest().getResourceRef(), REST servic return HTTP error code URI properti except incorrect incorrect URI URI origin endpoint rout rout instead URI endpoint threw except except instanc follow rout lt rout lt rout id restproxi gt id restproxi gt lt lt uri restlet http localhost oe ws offr id gt uri restlet http localhost oe ws offr id gt lt doTry gt lt tri gt lt lt uri restlet http bla dot com oe ws offr id gt uri restlet http bla dot com oe ws offr id gt lt doCatch gt lt catch gt lt except gt org apach camel CamelException lt except gt lt except gt org apach camel camel except lt except gt lt log lt log messag URI except uri gt messag URI except uri gt lt doCatch gt lt catch gt lt doTry gt lt rout gt lt tri gt lt rout gt log URI restlet http localhost oe ws offr id restlet http localhost oe ws offr id instead real URI use restlet http bla dot com oe ws offr restlet http bla dot com oe ws offr bug might fix follow code chang class org apach camel compon restlet RestletProducer org apach camel compon restlet restlet produc method populateRestletProducerException popul restlet produc except string uri exchang getFromEndpoint getEndpointUri exchang get endpoint get endpoint uri string uri respons getRequest getResourceRef respons get request get resourc ref,0,0,0,1,0,components/camel-restlet/pom.xml;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletProducer.java;components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletExceptionResponseTest.java;,0
4342,Claus Ibsen,camel-core,0,Validator component - Should be able to validate from a File payload, valid compon abl valid file payload,The validator component should be able to validate a message which is from a java.io.File.What is needed is a couple of type converters to ensure this., valid compon abl valid messag java io file java io file need coupl type convert ensur,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/test/java/org/apache/camel/component/validator/FileValidatorRouteTest.java;camel-core/src/test/java/org/apache/camel/converter/jaxp/XmlConverterTest.java;,0
4348,Bengt Rodehav,camel-core,0,Add String->TimeZone converter so that time zone can be specified for camel-quartz, add string TimeZone string time zone convert time zone specifi camel quartz camel quartz,It is possible to specify a time zone for Quartz  however  in order for that to work Camel needs a String to TimeZone type converter since Quartz requires a TimeZone.Attached is a patch containing a type converter that works. By setting the type converter explicitly on the context like this context.getTypeConverterRegistry().addTypeConverter(TimeZone.class  String.class  new String2TimeZoneConverter());it is possible to create an endpoint URI looking like this:quartz://groupName/timerName?cron=&lt;cronExpression&gt;&amp;trigger.timeZone=Europe/StockholmHowever  it would be really useful if this type converter could be included in camel-core. This has been discussed on the camel user list:http://camel.465427.n5.nabble.com/How-to-specify-a-time-zone-for-camel-quartz-td4700077.html, possibl specifi time zone quartz howev order work camel need string TimeZone time zone type convert sinc quartz requir TimeZone attach time zone attach patch contain type convert work work set type convert explicitli context like context getTypeConverterRegistry addTypeConverter TimeZone class context get type convert registri add type convert time zone class string class string class new string TimeZoneConverter string time zone convert possibl creat endpoint URI look like quartz groupName timerName cron lt cronExpression gt amp trigger timeZone europ StockholmHowever quartz group name timer name cron lt cron express gt amp trigger time zone europ stockholm howev would realli use type convert could includ camel core camel core discuss camel user list http camel nabbl com specifi time zone camel quartz td html list http camel nabbl com specifi time zone camel quartz td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/converter/DateTimeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/CorePackageScanClassResolver.java;camel-core/src/test/java/org/apache/camel/converter/DateTimeConverterTest.java;,0
4351,Sergey Zhemzhitsky,camel-cxf,0,Impossible to use placeholders in endpointName and serviceName attributes of cxf:cxfEndpoint, imposs use placehold endpointName endpoint name serviceName servic name attribut cxf cxfEndpoint cxf cxf endpoint,Here is how endpointName and serviceName are declared in XSD.&lt;xsd:attribute name='endpointName' type='xsd:QName' /&gt; &lt;xsd:attribute name='serviceName' type='xsd:QName' /&gt; So the xml parser fails to parse the following element&lt;cxf:cxfEndpoint id='service' address='${http.service.endpoint.path}' wsdlURL='${http.service.wsdl.path}' serviceName='${http.service.serviceName}' endpointName='${http.service.portName}'&gt;&lt;/cxf:cxfEndpoint&gt;, endpointName endpoint name serviceName servic name declar XSD lt xsd attribut XSD lt xsd attribut name endpointName name endpoint name type xsd QName type xsd name gt gt lt xsd attribut lt xsd attribut name serviceName name servic name type xsd QName type xsd name gt gt xml parser fail pars follow element lt cxf cxfEndpoint element lt cxf cxf endpoint id servic id servic address http servic endpoint path address http servic endpoint path wsdlURL http servic wsdl path wsdl URL http servic wsdl path serviceName http servic serviceName servic name http servic servic name endpointName http servic portName gt lt cxf cxfEndpoint gt endpoint name http servic port name gt lt cxf cxf endpoint gt,0,0,1,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanDefinitionParser.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/QNameConverter.java;components/camel-cxf/src/main/resources/schema/cxfEndpoint.xsd;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/spring/CxfEndpointBeans.xml;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSpringEndpoint.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfEndpointTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/spring/CxfEndpointBeans.xml;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanDefinitionParser.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/QNameConverter.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/spring/CxfEndpointBeans.xml;,0
4352,Claus Ibsen,camel-ftp,0,Ftp consumer using done file should cater for if stepwise has been enabled  and thus the done file path is to be calculated differently, ftp consum use done file cater stepwis enabl thu done file path calcul differ,The workaround is to use ${file:onlyname} or not using stepwise., workaround use file onlynam file onlynam not use stepwis stepwis,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerDoneFileNameFixedStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerDoneFileNameFixedTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerDoneFileNameStepwiseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerDoneFileNameTest.java;,0
4353,Claus Ibsen,camel-core,0,Using transacted in Java DSL without Spring XML setting up TX manager should report better error when not able to find a TX manager in the registry, use transact java DSL without spring XML set TX manag report better error not abl find TX manag registri,See nabblehttp://camel.465427.n5.nabble.com/Transaction-configuration-in-Java-DSL-tp4711625p4711625.htmlYou will see an error likeException in thread 'main' org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: &gt;&gt;&gt; Policy&#91;ref:null&#93; &lt;&lt;&lt; We should improve that and report a more details error., see nabblehttp camel nabbl com transact configur java DSL tp htmlYou nabblehttp camel nabbl com transact configur java DSL tp html see error likeException like except thread main main org apach camel FailedToCreateRouteException org apach camel fail creat rout except fail creat rout rout rout gt gt gt gt gt gt polici ref null polici ref null lt lt lt lt lt lt improv report detail error error,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/NoSuchBeanException.java;camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/JavaDslTransactedNoTXManagerTest.java;,0
4356,Marco Crivellaro,camel-ftp,0,faster way of testing for file existence, faster way test file exist,when storing a file the ftp component checks if the file exists in the endpoint  this is done by listing the content of the destination folder and looping through all files listed. the list operation takes a long time when the destination folder contains hundreds of files. instead of listing for all files the component can simply list for the file it is interested on  this way the number of files contained in destination folder won't affect the time it takes the producer to process the exchange. I currently have a case where delivering to an endpoint is taking more than a minute because of this issue. Both ftp and sftp libraries used supports listing for a single file so the changes would be the following: FtpOperations.javapublic boolean existsFile(String name) throws GenericFileOperationFailedException { String[] names = client.listNames(name); if (names == null) { return false; } return (names.lenght &gt;= 1); } SftpOperations.javapublic boolean existsFile(String name) throws GenericFileOperationFailedException { Vector files = channel.ls(name); if (names == null) { return false; } return (names.size &gt;= 1); }, store file ftp compon check file exist endpoint done list content destin folder loop file list list list oper take long time destin folder contain hundr file file instead list file compon simpli list file interest way number file contain destin folder affect time take produc process exchang exchang current case deliv endpoint take minut issu issu ftp sftp librari use support list singl file chang would follow follow FtpOperations javapubl ftp oper javapubl boolean existsFile string exist file string name name throw GenericFileOperationFailedException gener file oper fail except string string name client listNames name client list name name name null null return fals fals return name lenght name lenght gt gt SftpOperations javapubl sftp oper javapubl boolean existsFile string exist file string name name throw GenericFileOperationFailedException gener file oper fail except vector file channel ls name channel ls name name null null return fals fals return name size name size gt gt,0,0,1,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileEndpoint.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerFileFastExistFailTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileEndpoint.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerFileFastExistFailTest.java;,0
4357,Christian Schneider,camel-core,0,Move org.apache.camel.Main to org.apache.camel.main.Main, move org apach camel main org apach camel main org apach camel main main org apach camel main main,I am currently looking into the dependencies betwen packages in camel-core. The packages org.apache.camel and org.apache.camel.spi form the camel api.So I am trying to make them not depend on other packages from camel-core. One problem there is the starter class Main. It needs access to impl packages as it needs to start camel. So it should not live in org.apache.camel.I propose to move it to org.apache.camel.main. To not break anything right now I will create a deprecated class Main in org.apache.camel that extends the moved Main. We can remove the deprecated version in camel 3.0, current look depend betwen packag camel core camel core packag org apach camel org apach camel org apach camel spi org apach camel spi form camel api api tri make not depend packag camel core camel core one problem starter class main main need access impl packag need start camel camel not live org apach camel org apach camel propos move org apach camel main org apach camel main not break anyth right creat deprec class main org apach camel org apach camel extend move main main remov deprec version camel,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/Main.java;camel-core/src/test/java/org/apache/camel/MainExample.java;camel-core/src/test/java/org/apache/camel/MainTest.java;camel-core/src/test/java/org/apache/camel/main/MainExample.java;camel-core/src/test/java/org/apache/camel/main/MainTest.java;camel-core/src/main/java/org/apache/camel/main/Main.java;camel-core/pom.xml;camel-core/src/main/java/org/apache/camel/main/package.html;camel-core/src/main/java/org/apache/camel/impl/MainSupport.java;camel-core/src/main/java/org/apache/camel/main/Main.java;camel-core/src/main/java/org/apache/camel/main/MainSupport.java;camel-core/src/test/java/org/apache/camel/impl/MainSupportTest.java;components/camel-guice/src/main/java/org/apache/camel/guice/Main.java;,0
4358,Christian Schneider,camel-core,0,Refactoring of management code to remove cycles and clearly separate between API and impl, refactor manag code remov cycl clearli separ API impl,Currently the management code (org.apache.camel.management.*) contains a mix of implementation code and APIs. This leads to cycle in the management code as well as to bigger cycles involving all of camel-core.So I propose to do several changes: move interfaces and annotations that form the API to camel.spi.management. As these are probably not used by external components or user code no compatibility classes are created create new package camel.suppport for classes that implement API or SPI classes and are expected to be extended by many impl classes. classes in support may only access the camel API and SPI Move EventNotifierSupport and ServiceSupport to this package. Create deprecate dummys in the old locations to avoid breaking older code Move DefaultEventFactory from management to management.eventI will post a patch shortly for review, current manag code org apach camel manag org apach camel manag contain mix implement code APIs AP lead cycl manag code well bigger cycl involv camel core camel core propos sever chang chang move interfac annot form API camel spi manag camel spi manag probabl not use extern compon user code no compat class creat creat new packag camel suppport camel suppport class implement API SPI class expect extend mani impl class class class support may access camel API SPI move EventNotifierSupport event notifi support ServiceSupport servic support packag packag creat deprec dummi old locat avoid break older code move DefaultEventFactory default event factori manag manag eventI manag event post patch shortli review,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/builder/NotifyBuilder.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaConsumer.java;camel-core/src/main/java/org/apache/camel/component/timer/TimerEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/ConsumerCache.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java;camel-core/src/main/java/org/apache/camel/impl/DefaultConsumer.java;camel-core/src/main/java/org/apache/camel/impl/DefaultConsumerTemplate.java;camel-core/src/main/java/org/apache/camel/impl/DefaultDebugger.java;camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExecutorServiceManager.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExecutorServiceStrategy.java;camel-core/src/main/java/org/apache/camel/impl/DefaultInflightRepository.java;camel-core/src/main/java/org/apache/camel/impl/DefaultPackageScanClassResolver.java;camel-core/src/main/java/org/apache/camel/impl/DefaultPollingConsumerPollStrategy.java;camel-core/src/main/java/org/apache/camel/impl/DefaultProducer.java;camel-core/src/main/java/org/apache/camel/impl/DefaultProducerTemplate.java;camel-core/src/main/java/org/apache/camel/impl/DefaultRoute.java;camel-core/src/main/java/org/apache/camel/impl/DefaultRouteNode.java;camel-core/src/main/java/org/apache/camel/impl/DefaultServicePool.java;camel-core/src/main/java/org/apache/camel/impl/DefaultShutdownStrategy.java;camel-core/src/main/java/org/apache/camel/impl/EventDrivenConsumerRoute.java;camel-core/src/main/java/org/apache/camel/impl/MainSupport.java;camel-core/src/main/java/org/apache/camel/impl/PollingConsumerSupport.java;camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java;camel-core/src/main/java/org/apache/camel/impl/RoutePolicySupport.java;camel-core/src/main/java/org/apache/camel/impl/RouteService.java;camel-core/src/main/java/org/apache/camel/impl/ServiceSupport.java;camel-core/src/main/java/org/apache/camel/impl/ThrottlingInflightRoutePolicy.java;camel-core/src/main/java/org/apache/camel/impl/converter/BaseTypeConverterRegistry.java;camel-core/src/main/java/org/apache/camel/management/DefaultEventFactory.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementAgent.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementMBeanAssembler.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementStrategy.java;camel-core/src/main/java/org/apache/camel/management/DefaultStatistic.java;camel-core/src/main/java/org/apache/camel/management/DelegatePerformanceCounter.java;camel-core/src/main/java/org/apache/camel/management/EventNotifierSupport.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationInterceptStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java;camel-core/src/main/java/org/apache/camel/management/JmxNotificationBroadcasterAware.java;camel-core/src/main/java/org/apache/camel/management/JmxNotificationEventNotifier.java;camel-core/src/main/java/org/apache/camel/management/LoggingEventNotifier.java;camel-core/src/main/java/org/apache/camel/management/MBeanInfoAssembler.java;camel-core/src/main/java/org/apache/camel/management/ManagedAttribute.java;camel-core/src/main/java/org/apache/camel/management/ManagedManagementStrategy.java;camel-core/src/main/java/org/apache/camel/management/ManagedOperation.java;camel-core/src/main/java/org/apache/camel/management/ManagedResource.java;camel-core/src/main/java/org/apache/camel/management/PerformanceCounter.java;camel-core/src/main/java/org/apache/camel/management/PublishEventNotifier.java;camel-core/src/main/java/org/apache/camel/management/Statistic.java;camel-core/src/main/java/org/apache/camel/management/event/DefaultEventFactory.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedBeanProcessor.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedBrowsableEndpoint.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCamelContext.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedComponent.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedConsumer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedConsumerCache.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCounter.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedDelayer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedEndpoint.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedEndpointRegistry.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedErrorHandler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedEventNotifier.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedInstance.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedPerformanceCounter.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedProcessor.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedProducer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedProducerCache.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedRoute.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedScheduledPollConsumer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedSendProcessor.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedService.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedSuspendableRoute.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedThreadPool.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedThrottler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedThrottlingInflightRoutePolicy.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedTracer.java;camel-core/src/main/java/org/apache/camel/processor/BatchProcessor.java;camel-core/src/main/java/org/apache/camel/processor/CamelLogger.java;camel-core/src/main/java/org/apache/camel/processor/ChoiceProcessor.java;camel-core/src/main/java/org/apache/camel/processor/DefaultChannel.java;camel-core/src/main/java/org/apache/camel/processor/DelegateAsyncProcessor.java;camel-core/src/main/java/org/apache/camel/processor/DelegateProcessor.java;camel-core/src/main/java/org/apache/camel/processor/Enricher.java;camel-core/src/main/java/org/apache/camel/processor/ErrorHandlerSupport.java;camel-core/src/main/java/org/apache/camel/processor/InterceptorToAsyncProcessorBridge.java;camel-core/src/main/java/org/apache/camel/processor/MarshalProcessor.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/OnCompletionProcessor.java;camel-core/src/main/java/org/apache/camel/processor/PollEnricher.java;camel-core/src/main/java/org/apache/camel/processor/RecipientList.java;camel-core/src/main/java/org/apache/camel/processor/RoutePolicyProcessor.java;camel-core/src/main/java/org/apache/camel/processor/RoutingSlip.java;camel-core/src/main/java/org/apache/camel/processor/SendProcessor.java;camel-core/src/main/java/org/apache/camel/processor/StreamResequencer.java;camel-core/src/main/java/org/apache/camel/processor/ThreadsProcessor.java;camel-core/src/main/java/org/apache/camel/processor/Traceable.java;camel-core/src/main/java/org/apache/camel/processor/TryProcessor.java;camel-core/src/main/java/org/apache/camel/processor/UnmarshalProcessor.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/main/java/org/apache/camel/processor/aggregate/MemoryAggregationRepository.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/FileIdempotentRepository.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/IdempotentConsumer.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/MemoryIdempotentRepository.java;camel-core/src/main/java/org/apache/camel/processor/loadbalancer/LoadBalancerSupport.java;camel-core/src/main/java/org/apache/camel/spi/ManagementStrategy.java;camel-core/src/main/java/org/apache/camel/spi/management/JmxNotificationBroadcasterAware.java;camel-core/src/main/java/org/apache/camel/spi/management/ManagedAttribute.java;camel-core/src/main/java/org/apache/camel/spi/management/ManagedInstance.java;camel-core/src/main/java/org/apache/camel/spi/management/ManagedOperation.java;camel-core/src/main/java/org/apache/camel/spi/management/ManagedResource.java;camel-core/src/main/java/org/apache/camel/spi/management/PerformanceCounter.java;camel-core/src/main/java/org/apache/camel/spi/management/Statistic.java;camel-core/src/main/java/org/apache/camel/spi/management/package.html;camel-core/src/main/java/org/apache/camel/support/EventNotifierSupport.java;camel-core/src/main/java/org/apache/camel/support/ServiceSupport.java;camel-core/src/main/java/org/apache/camel/support/package.html;camel-core/src/main/java/org/apache/camel/util/DefaultTimeoutMap.java;camel-core/src/main/java/org/apache/camel/util/EventHelper.java;camel-core/src/main/java/org/apache/camel/util/ServiceHelper.java;camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextTest.java;camel-core/src/test/java/org/apache/camel/impl/RouteSuspendResumeWarmUpTest.java;camel-core/src/test/java/org/apache/camel/impl/ServiceSupportTest.java;camel-core/src/test/java/org/apache/camel/management/AddEventNotifierTest.java;camel-core/src/test/java/org/apache/camel/management/CustomEndpoint.java;camel-core/src/test/java/org/apache/camel/management/EventNotifierEventsTest.java;camel-core/src/test/java/org/apache/camel/management/EventNotifierExchangeCompletedTest.java;camel-core/src/test/java/org/apache/camel/management/EventNotifierExchangeSentTest.java;camel-core/src/test/java/org/apache/camel/management/EventNotifierFailureHandledEventsTest.java;camel-core/src/test/java/org/apache/camel/management/EventNotifierRedeliveryEventsTest.java;camel-core/src/test/java/org/apache/camel/management/EventNotifierServiceStoppingFailedEventTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedCustomBeanTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedCustomProcessorTest.java;camel-core/src/test/java/org/apache/camel/management/MultipleEventNotifierEventsTest.java;camel-core/src/test/java/org/apache/camel/management/RemoveEventNotifierTest.java;camel-core/src/test/java/org/apache/camel/processor/DataFormatServiceTest.java;camel-core/src/test/java/org/apache/camel/processor/MyLoggingSentEventNotifer.java;camel-core/src/test/java/org/apache/camel/processor/UnitOfWorkProducerTest.java;camel-core/src/test/java/org/apache/camel/processor/async/AsyncEndpointEventNotifierTest.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiCamelContextPublisher.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiEventAdminNotifier.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiTypeConverter.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/wsdl/Order.java;components/camel-hazelcast/src/main/java/org/apache/camel/processor/idempotent/hazelcast/HazelcastIdempotentRepository.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsQueueEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyManagerSupport.java;components/camel-jpa/src/main/java/org/apache/camel/processor/idempotent/jpa/JpaMessageIdRepository.java;components/camel-nagios/src/main/java/org/apache/camel/component/nagios/NagiosEventNotifier.java;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/QuickfixjConsumerTest.java;components/camel-routebox/src/main/java/org/apache/camel/component/routebox/RouteboxServiceSupport.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringManagementMBeanAssembler.java;components/camel-spring/src/test/java/org/apache/camel/spring/StartAndStopEventNotifier.java;components/camel-spring/src/test/java/org/apache/camel/spring/management/MyEventNotifier.java;components/camel-sql/src/main/java/org/apache/camel/processor/idempotent/jdbc/JdbcMessageIdRepository.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/management/ManagementStrategyFactory.java;components/camel-sql/src/main/java/org/apache/camel/processor/idempotent/jdbc/JdbcMessageIdRepository.java;components/camel-bam/src/main/java/org/apache/camel/bam/processor/ActivityMonitorEngine.java;components/camel-bam/src/main/java/org/apache/camel/bam/processor/JpaBamProcessor.java;components/camel-bam/src/main/java/org/apache/camel/bam/rules/ActivityRules.java;components/camel-bam/src/main/java/org/apache/camel/bam/rules/ProcessRules.java;components/camel-bam/src/main/java/org/apache/camel/bam/rules/TemporalRule.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheManagerFactory.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerThrowExceptionOnLoginFailedTest.java;components/camel-hawtdb/src/main/java/org/apache/camel/component/hawtdb/HawtDBAggregationRepository.java;components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/JaxbDataFormat.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzEndpoint.java;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/QuickfixjComponentTest.java;components/camel-sql/src/main/java/org/apache/camel/processor/aggregate/jdbc/JdbcAggregationRepository.java;components/camel-web/src/main/java/org/apache/camel/web/resources/CamelContextResource.java;camel-core/src/main/java/org/apache/camel/api/management/JmxNotificationBroadcasterAware.java;camel-core/src/main/java/org/apache/camel/api/management/ManagedAttribute.java;camel-core/src/main/java/org/apache/camel/api/management/ManagedInstance.java;camel-core/src/main/java/org/apache/camel/api/management/ManagedOperation.java;camel-core/src/main/java/org/apache/camel/api/management/ManagedResource.java;camel-core/src/main/java/org/apache/camel/api/management/PerformanceCounter.java;camel-core/src/main/java/org/apache/camel/api/management/package.html;camel-core/src/main/java/org/apache/camel/component/timer/TimerEndpoint.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementMBeanAssembler.java;camel-core/src/main/java/org/apache/camel/management/DelegatePerformanceCounter.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationInterceptStrategy.java;camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java;camel-core/src/main/java/org/apache/camel/management/JmxNotificationEventNotifier.java;camel-core/src/main/java/org/apache/camel/management/MBeanInfoAssembler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedBeanProcessor.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedBrowsableEndpoint.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCamelContext.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedComponent.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedConsumer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedConsumerCache.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCounter.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedDelayer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedEndpoint.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedEndpointRegistry.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedErrorHandler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedEventNotifier.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedPerformanceCounter.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedProcessor.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedProducer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedProducerCache.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedRoute.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedScheduledPollConsumer.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedSendProcessor.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedService.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedSuspendableRoute.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedThreadPool.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedThrottler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedThrottlingInflightRoutePolicy.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedTracer.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/FileIdempotentRepository.java;camel-core/src/main/java/org/apache/camel/processor/idempotent/MemoryIdempotentRepository.java;camel-core/src/main/java/org/apache/camel/spi/management/JmxNotificationBroadcasterAware.java;camel-core/src/main/java/org/apache/camel/spi/management/ManagedAttribute.java;camel-core/src/main/java/org/apache/camel/spi/management/ManagedInstance.java;camel-core/src/main/java/org/apache/camel/spi/management/ManagedOperation.java;camel-core/src/main/java/org/apache/camel/spi/management/ManagedResource.java;camel-core/src/main/java/org/apache/camel/spi/management/PerformanceCounter.java;camel-core/src/main/java/org/apache/camel/spi/management/package.html;camel-core/src/test/java/org/apache/camel/management/CustomEndpoint.java;camel-core/src/test/java/org/apache/camel/management/ManagedCustomBeanTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedCustomProcessorTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsQueueEndpoint.java;components/camel-zookeeper/src/main/java/org/apache/camel/component/zookeeper/ZooKeeperEndpoint.java;components/camel-jpa/src/main/java/org/apache/camel/processor/idempotent/jpa/JpaMessageIdRepository.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringManagementMBeanAssembler.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementStrategy.java;camel-core/src/main/java/org/apache/camel/management/DefaultStatistic.java;camel-core/src/main/java/org/apache/camel/management/ManagedManagementStrategy.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedCounter.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedPerformanceCounter.java;camel-core/src/main/java/org/apache/camel/management/mbean/Statistic.java;camel-core/src/main/java/org/apache/camel/spi/ManagementStrategy.java;camel-core/src/main/java/org/apache/camel/spi/management/Statistic.java;,0
4360,Claus Ibsen,camel-test,0,Camel test - Debugger should be explicit enabled if end user want to leverage it, camel test debugg explicit enabl end user want leverag,The debugger adds a little overhead and silently enables tracer as well. We should have the end user to explicit enable the debugger if he need to use it from his unit tests., debugg add littl overhead silent enabl tracer well well end user explicit enabl debugg need use unit test test,0,0,0,0,0,components/camel-test/src/main/java/org/apache/camel/test/CamelTestSupport.java;components/camel-test/src/main/java/org/apache/camel/test/junit4/CamelTestSupport.java;components/camel-test/src/test/java/org/apache/camel/test/patterns/DebugJUnit4Test.java;components/camel-test/src/test/java/org/apache/camel/test/patterns/DebugNoLazyTypeConverterTest.java;components/camel-test/src/test/java/org/apache/camel/test/patterns/DebugTest.java;components/camel-testng/src/main/java/org/apache/camel/testng/CamelTestSupport.java;components/camel-testng/src/test/java/org/apache/camel/testng/patterns/DebugNoLazyTypeConverterTest.java;components/camel-testng/src/test/java/org/apache/camel/testng/patterns/DebugTest.java;components/camel-testng/src/test/java/org/apache/camel/testng/patterns/DebugTestNGTest.java;,0
4362,David J. M. Karlsen,camel-jpa,0,Bug in parsing of JPA uri, bug pars JPA uri,According to http://camel.apache.org/jpa.html entityName is optional.When configuring with the following uri (e.g. w/o entityName):&lt;camel:endpoint id='jpaEndpoint' uri='jpa:?persistenceUnit=journalPersistenceUnit&amp;usePersist=true' /&gt;the following warning will be displayed2011-08-21 18:57:11 381 &#91;main&#93;[][][][][][][] WARN org.apache.camel.util.ObjectHelper - Cannot find class: persistenceUnitjournalPersistenceUnitusePersisttruepersistenceUnitjournalPersistenceUnitusePersisttruedue to the incorrect if test in the JpaComponent:// lets interpret the next string as a class if (path != null) { // provide the class loader of this component to work in OSGi environments as camel-jpa must be able // to resolve the entity classes Class&lt;?&gt; type = getCamelContext().getClassResolver().resolveClass(path  JpaComponent.class.getClassLoader()); if (type != null) { endpoint.setEntityType(type); } }path is not null  but it is the rest of the string and not the entityname. e.g it should not start with ? if it is an entityname - else it is the options., accord entityName entiti name option option configur follow uri entityName lt camel endpoint entiti name lt camel endpoint id jpaEndpoint id jpa endpoint uri jpa persistenceUnit journalPersistenceUnit amp usePersist true uri jpa persist unit journal persist unit amp use persist true gt gt follow warn display display main main WARN org apach camel util ObjectHelper org apach camel util object helper cannot find class class persistenceUnitjournalPersistenceUnitusePersisttruepersistenceUnitjournalPersistenceUnitusePersisttruedue persist unitjourn persist unitus persisttruepersist unitjourn persist unitus persisttruedu incorrect test JpaComponent jpa compon let interpret next string class path null null provid class loader compon work OSGi OS Gi environ camel jpa camel jpa must abl resolv entiti class class lt gt class lt gt type getCamelContext getClassResolver resolveClass path get camel context get class resolv resolv class path JpaComponent class getClassLoader jpa compon class get class loader type null null endpoint setEntityType type endpoint set entiti type type path not null rest string not entitynam entitynam not start entitynam els option option,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java;camel-core/src/test/java/org/apache/camel/impl/DefaultComponentReferencePropertiesTest.java;components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaComponentTest.java;,0
4365,Claus Ibsen,camel-freemarker,0,Freemarker - Loading template from file system fails, freemark load templat file system fail,This only affects Camel 2.9., affect camel,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/util/ResourceHelper.java;components/camel-freemarker/src/test/java/org/apache/camel/component/freemarker/FreemarkerFileLetterTest.java;components/camel-velocity/src/test/java/org/apache/camel/component/velocity/VelocityFileLetterTest.java;,0
4367,Szabolcs Berecz,camel-netty,0,Camel-netty option 'encoder' and 'decoder' does not work, camel netti camel netti option encod encod decod decod not work,Contrary to the documentation  the 'encoder' and 'decoder' option is unusable as it's value is taken as-is instead of resolving the references using the registry.This bug was introduced in the revision 960621 as part of CAMEL-2907.Patch can be found at https://github.com/szabolcsberecz/camel/commit/b3bcc8dd284575c931048ea410c44577474e25dd, contrari document encod encod decod decod option unus valu taken instead resolv refer use registri registri bug introduc revis part CAMEL patch CAMEL patch found,0,1,0,1,0,components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyConfiguration.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettySingleCodecTest.java;,0
4370,Sergey Zhemzhitsky,camel-core,0,It's hardly possible to use all expression of the Simple language to create file names in the file component, hardli possibl use express simpl languag creat file name file compon,Sometimes it can be necessary to use custom headers to create a file name.For example  I declare my file endpoint in the following manner:&lt;route id='fileReader'&gt; &lt;from uri='file://rootFolder?move=.backup&amp;amp;moveFailed=.error/${header.CustomHeader}' /&gt; &lt;to uri='file://out'/&gt;&lt;/route&gt;The header 'CustomHeader' cannot be read because of the following snippets of code in the org.apache.camel.component.file.GenericFile/** * Bind this GenericFile to an Exchange */public void bindToExchange(Exchange exchange) { exchange.setProperty(FileComponent.FILE_EXCHANGE_FILE  this); GenericFileMessage&lt;T&gt; in = new GenericFileMessage&lt;T&gt;(this); exchange.setIn(in); populateHeaders(in);}/** * Populates the {@link GenericFileMessage} relevant headers * * @param message the message to populate with headers */public void populateHeaders(GenericFileMessage&lt;T&gt; message) { if (message != null) { message.setHeader(Exchange.FILE_NAME_ONLY  getFileNameOnly()); message.setHeader(Exchange.FILE_NAME  getFileName()); message.setHeader('CamelFileAbsolute'  isAbsolute()); message.setHeader('CamelFileAbsolutePath'  getAbsoluteFilePath()); if (isAbsolute()) { message.setHeader(Exchange.FILE_PATH  getAbsoluteFilePath()); } else { // we must normalize path according to protocol if we build our own paths String path = normalizePathToProtocol(getEndpointPath() + File.separator + getRelativeFilePath()); message.setHeader(Exchange.FILE_PATH  path); } message.setHeader('CamelFileRelativePath'  getRelativeFilePath()); message.setHeader(Exchange.FILE_PARENT  getParent()); if (getFileLength() &gt;= 0) { message.setHeader('CamelFileLength'  getFileLength()); } if (getLastModified() &gt; 0) { message.setHeader(Exchange.FILE_LAST_MODIFIED  new Date(getLastModified())); } }}As you can see a new 'in' message is created and not all the headers from the original message are copied to it., sometim necessari use custom header creat file name name exampl declar file endpoint follow manner lt rout manner lt rout id fileReader gt id file reader gt lt lt uri file rootFolder move backup amp amp moveFailed error header CustomHeader uri file root folder move backup amp amp move fail error header custom header gt gt lt lt uri file gt lt rout gt uri file gt lt rout gt header CustomHeader custom header cannot read follow snippet code org apach camel compon file GenericFile org apach camel compon file gener file bind GenericFile gener file exchang public void bindToExchange exchang bind exchang exchang exchang exchang exchang setProperty FileComponent FILE_EXCHANGE_FILE exchang set properti file compon FILE EXCHANGE FILE GenericFileMessage lt gt gener file messag lt gt new GenericFileMessage lt gt gener file messag lt gt exchang setIn exchang set populateHeaders popul header popul link GenericFileMessage gener file messag relev header param messag messag popul header public void populateHeaders GenericFileMessage lt gt popul header gener file messag lt gt messag messag messag null null messag setHeader exchang FILE_NAME_ONLY messag set header exchang FILE NAME getFileNameOnly get file name messag setHeader exchang FILE_NAME messag set header exchang FILE NAME getFileName get file name messag setHeader CamelFileAbsolute messag set header camel file absolut isAbsolute absolut messag setHeader CamelFileAbsolutePath messag set header camel file absolut path getAbsoluteFilePath get absolut file path isAbsolute absolut messag setHeader exchang FILE_PATH messag set header exchang FILE PATH getAbsoluteFilePath get absolut file path els must normal path accord protocol build path string path normalizePathToProtocol getEndpointPath normal path protocol get endpoint path file separ file separ getRelativeFilePath get rel file path messag setHeader exchang FILE_PATH messag set header exchang FILE PATH path path messag setHeader CamelFileRelativePath messag set header camel file rel path getRelativeFilePath get rel file path messag setHeader exchang FILE_PARENT messag set header exchang FILE PARENT getParent get parent getFileLength get file length gt gt messag setHeader CamelFileLength messag set header camel file length getFileLength get file length getLastModified get last modifi gt gt messag setHeader exchang FILE_LAST_MODIFIED messag set header exchang FILE LAST MODIFIED new date getLastModified date get last modifi see new messag creat not header origin messag copi,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFile.java;camel-core/src/test/java/org/apache/camel/component/file/FromFileMoveDoneCustomHeaderTest.java;,0
4374,Andreas Kuhtz,camel-test,0,The debugger doesn't work in the CamelSpringTestSupport with route defined in XML, debugg work CamelSpringTestSupport camel spring test support rout defin XML,The debugger doesn't work in the CamelSpringTestSupport with route defined in XML. This issue is related to CAMEL-4368 (closed and I cannot re-open).I've created a patch with 2 new tests that show the problem and a solution (check the doSetup() method in the tests). However I think this could be improved by moving the SpringCamelContext.setNoStart(true); to CamelSpringTestSupport)., debugg work CamelSpringTestSupport camel spring test support rout defin XML XML issu relat CAMEL CAMEL close cannot open open creat patch new test show problem solut check doSetup setup method test test howev think could improv move SpringCamelContext setNoStart true spring camel context set No start true CamelSpringTestSupport camel spring test support,0,0,1,0,0,components/camel-test/src/test/java/org/apache/camel/test/patterns/DebugSpringCamelContextTest.java;components/camel-test/src/test/resources/org/apache/camel/test/patterns/applicationContext.xml;components/camel-testng/pom.xml;components/camel-testng/src/main/java/org/apache/camel/testng/CamelSpringTestSupport.java;components/camel-testng/src/main/java/org/apache/camel/testng/CamelTestSupport.java;components/camel-testng/src/test/java/org/apache/camel/testng/patterns/DebugSpringCamelContextTest.java;components/camel-testng/src/test/java/org/apache/camel/testng/patterns/DebugSpringTest.java;components/camel-testng/src/test/resources/org/apache/camel/testng/patterns/applicationContext.xml;,0
4382,Jonathan Anstey,null,0,add support to set the cipher used for SFTP, add support set cipher use SFTP,Right now a user has to manually configure a JSch instance to set the cipher used. We should have an option for that., right user manual configur JSch sch instanc set cipher use use option,0,0,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConfiguration.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSetCipherTest.java;,1
4388,Sergey Zhemzhitsky,camel-core,0,Exeptions cannot be propagated to the parent route when using LogEIP, exept cannot propag parent rout use LogEIP log EIP,Here is unit test that demonstrates the problem.For the unit test pass successfully it's necessary to delete LogEIP from the route.package org.apache.camel.impl;import org.apache.camel.Exchange;import org.apache.camel.Processor;import org.apache.camel.builder.RouteBuilder;import org.apache.camel.test.junit4.CamelTestSupport;import org.junit.Test;public class PropagateExceptionTest extends CamelTestSupport { @Test public void failure() throws Exception { getMockEndpoint('mock:handleFailure').whenAnyExchangeReceived(new Processor() { @Override public void process(Exchange exchange) throws Exception { throw new RuntimeException('TEST EXCEPTION'); } }); getMockEndpoint('mock:exceptionFailure').expectedMessageCount(1); sendBody('direct:startFailure'  'Hello World'); assertMockEndpointsSatisfied(); } @Test public void success() throws Exception { getMockEndpoint('mock:handleSuccess').whenAnyExchangeReceived(new Processor() { @Override public void process(Exchange exchange) throws Exception { throw new RuntimeException('TEST EXCEPTION'); } }); getMockEndpoint('mock:exceptionSuccess').expectedMessageCount(1); sendBody('direct:startSuccess'  'Hello World'); assertMockEndpointsSatisfied(); } @Override protected RouteBuilder[] createRouteBuilders() throws Exception { return new RouteBuilder[] { new RouteBuilder() { public void configure() throws Exception { from('direct:startFailure') .onException(Throwable.class) .to('mock:exceptionFailure') .end() .to('direct:handleFailure') .to('mock:resultFailure'); from('direct:handleFailure') .errorHandler(noErrorHandler()) .log('FAULTY LOG') .to('mock:handleFailure'); } }  new RouteBuilder() { public void configure() throws Exception { from('direct:startSuccess') .onException(Throwable.class) .to('mock:exceptionSuccess') .end() .to('direct:handleSuccess') .to('mock:resultSuccess'); from('direct:handleSuccess') .errorHandler(noErrorHandler()) .to('mock:handleSuccess'); } } }; }}, unit test demonstr problem problem unit test pass success necessari delet LogEIP log EIP rout packag rout packag org apach camel impl import org apach camel impl import org apach camel exchang import org apach camel exchang import org apach camel processor import org apach camel processor import org apach camel builder RouteBuilder import org apach camel builder rout builder import org apach camel test junit CamelTestSupport import org apach camel test junit camel test support import org junit test public org junit test public class PropagateExceptionTest propag except test extend CamelTestSupport camel test support test test public void failur failur throw except getMockEndpoint mock handleFailure whenAnyExchangeReceived new get mock endpoint mock handl failur exchang receiv new processor processor overrid overrid public void process exchang process exchang exchang exchang throw except throw new RuntimeException TEST runtim except TEST EXCEPTION EXCEPTION getMockEndpoint mock exceptionFailure expectedMessageCount get mock endpoint mock except failur expect messag count sendBody direct startFailure send bodi direct start failur hello hello world world assertMockEndpointsSatisfied assert mock endpoint satisfi test test public void success success throw except getMockEndpoint mock handleSuccess whenAnyExchangeReceived new get mock endpoint mock handl success exchang receiv new processor processor overrid overrid public void process exchang process exchang exchang exchang throw except throw new RuntimeException TEST runtim except TEST EXCEPTION EXCEPTION getMockEndpoint mock exceptionSuccess expectedMessageCount get mock endpoint mock except success expect messag count sendBody direct startSuccess send bodi direct start success hello hello world world assertMockEndpointsSatisfied assert mock endpoint satisfi overrid overrid protect RouteBuilder rout builder createRouteBuilders creat rout builder throw except return new RouteBuilder rout builder new RouteBuilder rout builder public void configur configur throw except direct startFailure direct start failur onException throwabl class except throwabl class mock exceptionFailure mock except failur end end direct handleFailure direct handl failur mock resultFailure mock result failur direct handleFailure direct handl failur errorHandler noErrorHandler error handler no error handler log FAULTY log FAULTY LOG LOG mock handleFailure mock handl failur new RouteBuilder rout builder public void configur configur throw except direct startSuccess direct start success onException throwabl class except throwabl class mock exceptionSuccess mock except success end end direct handleSuccess direct handl success mock resultSuccess mock result success direct handleSuccess direct handl success errorHandler noErrorHandler error handler no error handler mock handleSuccess mock handl success,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/processor/LogProcessor.java;camel-core/src/test/java/org/apache/camel/processor/LogEipPropagateExceptionTest.java;,0
4408,Andreas Kuhtz,camel-soap,0,Fix OSGi-exports of camel-soap, fix OSGi export OS Gi export camel soap camel soap,The OSGi exports of camel-soap is not correct. If I run exports in karaf I get the following output.  karaf@localhost&gt; exports 135 ID Packages 135 org.apache.camel.dataformat.soap; version='0.0.0' 135 org.apache.camel.dataformat.soap.name; version='0.0.0' 135 org.xmlsoap.schemas.soap.envelope; version='2.8.1.SNAPSHOT' I think org.apache.camel.dataformat.soap and org.apache.camel.dataformat.soap.name should be exported with version='2.8.1.SNAPSHOT' ???? (The same issue is on trunk)., OSGi OS Gi export camel soap camel soap not correct correct run export karaf get follow output output karaf localhost gt karaf localhost gt export ID packag org apach camel dataformat soap org apach camel dataformat soap version version org apach camel dataformat soap name org apach camel dataformat soap name version version org xmlsoap schema soap envelop org xmlsoap schema soap envelop version SNAPSHOT version SNAPSHOT think org apach camel dataformat soap org apach camel dataformat soap org apach camel dataformat soap name org apach camel dataformat soap name export version SNAPSHOT version SNAPSHOT issu trunk trunk,1,1,0,0,0,components/camel-rss/pom.xml;components/camel-soap/pom.xml;,0
4410,Babak Vahdat,camel-servlet,0,The URI of the ServletEndpoint exposed to the JMX is not accurate, URI ServletEndpoint servlet endpoint expos JMX not accur,As an example a ServletEndpoint with the URI 'servlet:///test?matchOnUriPrefix=true&amp;servletName=test' is exposed as '/test' on the JMX-MBeanServer! For details see:http://camel.465427.n5.nabble.com/backslashes-on-Endpoint-URI-by-JConsole-td4757427.html, exampl ServletEndpoint servlet endpoint URI servlet test matchOnUriPrefix true amp servletName test servlet test match uri prefix true amp servlet name test expos test test JMX MBeanServer JMX bean server detail see http camel nabbl com backslash endpoint URI JConsole td html see http camel nabbl com backslash endpoint URI consol td html,0,1,0,1,0,components/camel-servlet/src/test/java/org/apache/camel/component/servlet/ExposedServletEndpointURIToJMXTest.java;components/camel-gae/src/main/java/org/apache/camel/component/gae/http/GHttpEndpoint.java;components/camel-servlet/src/main/java/org/apache/camel/component/servlet/ServletComponent.java;components/camel-servlet/src/main/java/org/apache/camel/component/servlet/ServletEndpoint.java;components/camel-servlet/src/test/java/org/apache/camel/component/servlet/ExposedServletEndpointURIToJMXTest.java;components/camel-gae/src/main/java/org/apache/camel/component/gae/http/GHttpEndpoint.java;,0
4414,Christian Schneider,camel-core,0,CamelLogger should not be a Processor and a log class at the same time and it should not have ServiceSupport, CamelLogger camel logger not processor log class time not ServiceSupport servic support,CamelLogger currently does too many things.1. It is a log class that stores a log level and a slf4j logger. It suppports some methods for logging with the set level2. It is a processor for logging exchanges3. It extends ServiceSupport even though it has no services (is apparently needed fro ThroughputLoggerSo what I propose is: Leave the current class as is but mark as @Deprecated Introduce a new CamelLogger that only supports 1. Introduce a CamelLogProcessor in processor that only supports 2. Make ThroughputLogger not extend CamelLogger but instead delegate to the new CamelLogger, CamelLogger camel logger current mani thing thing log class store log level slf slf logger logger suppport method log set level level processor log exchang exchang extend ServiceSupport servic support even though no servic appar need fro ThroughputLoggerSo throughput logger propos leav current class mark deprec deprec introduc new CamelLogger camel logger support introduc CamelLogProcessor camel log processor processor support make ThroughputLogger throughput logger not extend CamelLogger camel logger instead deleg new CamelLogger camel logger,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/impl/DefaultExchangeFormatter.java;camel-core/src/main/java/org/apache/camel/processor/CamelLogProcessor.java;camel-core/src/main/java/org/apache/camel/processor/CamelLogger.java;camel-core/pom.xml;camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java;camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/builder/LoggingErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetConsumer.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetEndpoint.java;camel-core/src/main/java/org/apache/camel/component/log/LogComponent.java;camel-core/src/main/java/org/apache/camel/component/log/LogEndpoint.java;camel-core/src/main/java/org/apache/camel/component/log/LogProducer.java;camel-core/src/main/java/org/apache/camel/component/mock/MockComponent.java;camel-core/src/main/java/org/apache/camel/impl/LoggingExceptionHandler.java;camel-core/src/main/java/org/apache/camel/impl/ThrottlingInflightRoutePolicy.java;camel-core/src/main/java/org/apache/camel/model/LogDefinition.java;camel-core/src/main/java/org/apache/camel/processor/CamelLogProcessor.java;camel-core/src/main/java/org/apache/camel/processor/CamelLogger.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/main/java/org/apache/camel/processor/DefaultErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/LogProcessor.java;camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/ThroughputLogger.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/Tracer.java;camel-core/src/main/java/org/apache/camel/util/CamelLogger.java;camel-core/src/test/java/org/apache/camel/component/log/LogEndpointTest.java;camel-core/src/test/java/org/apache/camel/processor/ThroughPutLoggerTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsEndpointConfigurationTest.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaConsumer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyProducer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ServerChannelHandler.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandler.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java;components/camel-spring/src/test/resources/org/apache/camel/component/log/SpringLogTest-context.xml;parent/pom.xml;camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/component/log/LogProducer.java;camel-core/src/main/java/org/apache/camel/util/CamelLogger.java;camel-core/src/test/java/org/apache/camel/processor/ThroughPutLoggerTest.java;,0
4418,Ioannis Canellos,camel-hazelcast,0,camel-hazelcast should allow the user to provide an existing instance to the component, camel hazelcast camel hazelcast allow user provid exist instanc compon,The camel-hazelcast component currently is using Hazelcast default instance. It should allow the user to specify an existing HazelcastInstance and fall back to the default instance if none is provided. Finally  in the case that the component is using the default instance it should shut it down when the component is stopped., camel hazelcast camel hazelcast compon current use hazelcast default instanc instanc allow user specifi exist HazelcastInstance hazelcast instanc fall back default instanc none provid provid final case compon use default instanc shut compon stop stop,0,1,0,0,0,components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/HazelcastComponent.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/HazelcastDefaultConsumer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/HazelcastDefaultEndpoint.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/atomicnumber/HazelcastAtomicnumberEndpoint.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/atomicnumber/HazelcastAtomicnumberProducer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/instance/HazelcastInstanceConsumer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/instance/HazelcastInstanceEndpoint.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/list/HazelcastListConsumer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/list/HazelcastListEndpoint.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/list/HazelcastListProducer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/map/HazelcastMapConsumer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/map/HazelcastMapEndpoint.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/map/HazelcastMapProducer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/multimap/HazelcastMultimapConsumer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/multimap/HazelcastMultimapEndpoint.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/multimap/HazelcastMultimapProducer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/queue/HazelcastQueueConsumer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/queue/HazelcastQueueEndpoint.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/queue/HazelcastQueueProducer.java;components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/seda/HazelcastSedaEndpoint.java;components/camel-hazelcast/src/main/java/org/apache/camel/processor/idempotent/hazelcast/HazelcastIdempotentRepository.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastInstanceConsumerTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastListConsumerTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastListProducerTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastMapConsumerTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastMapProducerForSpringTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastMapProducerTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastMultimapConsumerTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastMultimapProducerForSpringTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastMultimapProducerTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastQueueConsumerTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastQueueProducerTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastSedaConfigurationTest.java;components/camel-hazelcast/src/test/java/org/apache/camel/component/hazelcast/HazelcastSedaConfigurationTest.java.orig;components/camel-hazelcast/src/test/java/org/apache/camel/processor/idempotent/hazelcast/HazelcastIdempotentRepositoryTest.java;components/camel-hazelcast/src/test/resources/META-INF/spring/test-camel-context-map.xml;,0
4439,Gert Vanthienen,null,0,Error in camel-restlet feature definition, error camel restlet camel restlet featur definit,The current contents of the camel-features.xml file reads:&lt;feature name='camel-restlet' version='2.7.1-fuse-00-43' resolver='(obr)'&gt; &lt;feature version='2.7.1-fuse-00-43'&gt;camel-core&lt;/feature&gt; &lt;bundle dependency='true'&gt;mvn:org.apache.camel/camel-restlet/2.7.1-fuse-00-43&lt;/bundle&gt; &lt;bundle&gt;mvn:http://maven.restlet.org!org.restlet.jse/org.restlet/2.0.5&lt;/bundle&gt;&lt;/feature&gt;It actually should read http://fernandoribeiro.eti.br/2011/09/12/bug-in-fuse-4-4/ (Thanks to Fernando Ribeiro for the heads up!), current content camel featur xml camel featur xml file read lt featur read lt featur name camel restlet name camel restlet version fuse version fuse resolv obr gt resolv obr gt lt featur lt featur version fuse gt camel core lt featur gt version fuse gt camel core lt featur gt lt bundl lt bundl depend true gt mvn org apach camel camel restlet fuse lt bundl gt depend true gt mvn org apach camel camel restlet fuse lt bundl gt lt bundl gt mvn http maven restlet org org restlet jse org restlet lt bundl gt lt featur gt lt bundl gt mvn http maven restlet org org restlet jse org restlet lt bundl gt lt featur gt actual read thank thank fernando ribeiro head,0,0,1,1,0,platforms/karaf/features/src/main/resources/features.xml;,0
4440,Claus Ibsen,null,0,camel-csv - Make it consistent what unmarshal returns as object  so its the same for 1 or more rows, camel csv camel csv make consist unmarsh return object row,See nabblehttp://camel.465427.n5.nabble.com/unmarshal-CsvDataFormat-different-behavior-for-one-or-multiples-lines-tp4778814p4778814.htmlThe camel-csv should always return the same List&lt;List&gt;&gt; regardless if there is 0  1 or 2+ rows returned. That makes it consistent and easier for end users who need to work with this data., see nabblehttp camel nabbl com unmarsh CsvDataFormat differ behavior one multipl line tp htmlThe nabblehttp camel nabbl com unmarsh csv data format differ behavior one multipl line tp html camel csv camel csv alway return list lt list gt gt list lt list gt gt regardless row return return make consist easier end user need work data data,0,1,0,1,0,components/camel-csv/src/main/java/org/apache/camel/dataformat/csv/CsvDataFormat.java;components/camel-csv/src/test/java/org/apache/camel/dataformat/csv/CsvUnmarshalPipeDelimiterTest.java;,0
4444,Olivier Cheslet,camel-ftp,0,Wrong slash in FTP component for doneFile, wrong slash FTP compon doneFile done file,I tried to use the doneFile with FTP component.When I used it to my FTP on my windows machine everything goes fine.When I tried to act the same with a FTP host on a Linux machine  I got an issue.I sniff the packet to see what goes wrong and I see this :the doneFile DELE public/Test/in/myFile.txt the file to processDELE public/Test/in/myFile.xmlAfter a Quick look on the code:org.apache.camel.component.file.GenericFileEndpoint line 682 String answer = pattern; if (ObjectHelper.isNotEmpty(path) &amp;&amp; ObjectHelper.isNotEmpty(pattern)) { // done file must always be in same directory as the real file name answer = path + File.separator + pattern; } if (getConfiguration().needToNormalize()) { // must normalize path to cater for Windows and other OS answer = FileUtil.normalizePath(answer); }We use the 'File.Separator' but in this case  it should get a kind of 'FTP.Separator' or the FTP component should return true to the needToNormalize method and change the narmalizePath method to manage this case., tri use doneFile done file FTP compon compon use FTP window machin everyth goe fine fine tri act FTP host linux machin got issu issu sniff packet see goe wrong see doneFile done file DELE public test myFile txt public test file txt file processDELE process DELE public test myFile xmlAfter public test file xml quick look code org apach camel compon file GenericFileEndpoint code org apach camel compon file gener file endpoint line string answer pattern pattern ObjectHelper isNotEmpty path object helper not empti path amp amp amp amp ObjectHelper isNotEmpty pattern object helper not empti pattern done file must alway directori real file name answer path file separ file separ pattern pattern getConfiguration needToNormalize get configur need normal must normal path cater window OS answer FileUtil normalizePath answer file util normal path answer use file separ file separ case get kind FTP separ FTP separ FTP compon return true needToNormalize need normal method chang narmalizePath narmal path method manag case case,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;,0
4446,Claus Ibsen,camel-bindy,0,camel-bindy - Marshaling using CSV will insert wrong char separator if using an escaped separator char such as a pipe, camel bindi camel bindi marshal use CSV insert wrong char separ use escap separ char pipe,When using bindy in CSV format with a separator in the model as '|' to denote a pipe character  then it does not work consistent for marshal and unmarshal. In marshal it will insert / as separator  but it should use | instead.See nabblehttp://camel.465427.n5.nabble.com/bindy-different-behavior-between-marshal-and-unmarshal-with-pipe-separator-tp4798488p4798488.html, use bindi CSV format separ model denot pipe charact not work consist marshal unmarsh unmarsh marshal insert separ use instead see instead see nabblehttp camel nabbl com bindi differ behavior marshal unmarsh pipe separ tp html nabblehttp camel nabbl com bindi differ behavior marshal unmarsh pipe separ tp html,0,0,0,1,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/util/Converter.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindyPipeDelimiterTest.java;,0
4449,Vadim TSes'ko,camel-core,0,NullPointerException when unmarshalling using serialization data format, NullPointerException null pointer except unmarshal use serial data format,Spring configuration: &lt;!-- A custom CamelContext --&gt; &lt;camel:camelContext id='camel'&gt; &lt;!-- JSON data format marshalling --&gt; &lt;camel:dataFormats&gt; &lt;camel:serialization id='serialization'/&gt; &lt;/camel:dataFormats&gt; &lt;!-- RawOffer input route --&gt; &lt;camel:route&gt; &lt;camel:from uri='kestrel://etl01f/feeds'/&gt; &lt;camel:unmarshal ref='serialization'/&gt; &lt;camel:to uri='bean:shard?method=consume'/&gt; &lt;/camel:route&gt; &lt;/camel:camelContext&gt;Exception:run: [java] log4j:WARN No appenders could be found for logger (org.springframework.context.support.ClassPathXmlApplicationContext). [java] log4j:WARN Please initialize the log4j system properly. [java] log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info. [java] 13:28:07.587 [main] INFO o.a.c.s.h.CamelNamespaceHandler - OSGi environment not detected. [java] 13:28:09.028 [main] INFO o.a.camel.spring.SpringCamelContext - Apache Camel 2.8.0 (CamelContext: camel) is starting [java] 13:28:09.028 [main] INFO o.a.camel.spring.SpringCamelContext - JMX enabled. Using ManagedManagementStrategy. [java] 13:28:09.415 [main] INFO o.a.c.i.c.AnnotationTypeConverterLoader - Found 3 packages with 14 @Converter classes to load [java] 13:28:09.489 [main] INFO o.a.c.i.c.DefaultTypeConverter - Loaded 153 core type converters (total 153 type converters) [java] 13:28:09.528 [main] INFO o.a.c.i.c.DefaultTypeConverter - Loaded additional 0 type converters (total 153 type converters) in 0.003 seconds [java] 13:28:09.730 [main] INFO o.a.c.c.kestrel.KestrelComponent - Creating endpoint for queue 'feeds' on etl01f  parameters={} [java] 13:28:09.967 [main] INFO o.a.c.c.kestrel.KestrelComponent - Creating MemcachedClient for etl01f/feeds [java] 2011-09-14 13:28:10.073 INFO net.spy.memcached.MemcachedConnection: Added {QA sa=etl01f/95.108.229.218:22133  #Rops=0  #Wops=0  #iq=0  topRop=null  topWop=null  toWrite=0  interested=0} to connect queue [java] 2011-09-14 13:28:10.084 INFO net.spy.memcached.MemcachedConnection: Connection state changed for sun.nio.ch.SelectionKeyImpl@711b50a1 [java] 13:28:10.293 [main] INFO o.a.c.c.kestrel.KestrelConsumer - Starting consumer for kestrel://etl01f/feeds [java] 13:28:10.302 [main] INFO o.a.camel.spring.SpringCamelContext - Route: route1 started and consuming from: Endpoint[kestrel://etl01f/feeds] [java] 13:28:10.318 [main] INFO o.a.camel.spring.SpringCamelContext - Total 1 routes  of which 1 is started. [java] 13:28:10.318 [main] INFO o.a.camel.spring.SpringCamelContext - Apache Camel 2.8.0 (CamelContext: camel) started in 1.291 seconds [java] 13:28:12.858 [Camel (camel) thread #0 - Poller-kestrel://etl01f/feeds] ERROR o.a.c.processor.DefaultErrorHandler - Failed delivery for exchangeId: ID-incubos-osx-local-51787-1315992488896-0-1. Exhausted after delivery attempt: 1 caught: java.lang.NullPointerException [java] java.lang.NullPointerException: null [java] at org.apache.camel.impl.SerializationDataFormat.unmarshal(SerializationDataFormat.java:57) ~[camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:56) ~[camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50) ~[camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:69) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99) ~[camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:318) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:209) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:305) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.Pipeline.process(Pipeline.java:116) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.Pipeline.process(Pipeline.java:79) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:102) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:69) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:104) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85) [camel-core-2.8.0.jar:2.8.0] [java] at org.apache.camel.component.kestrel.KestrelConsumer$Poller.run(KestrelConsumer.java:230) [camel-kestrel-2.8.0.jar:2.8.0] [java] at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) [na:1.6.0_26] [java] at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) [na:1.6.0_26] [java] at java.util.concurrent.FutureTask.run(FutureTask.java:138) [na:1.6.0_26] [java] at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [na:1.6.0_26] [java] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [na:1.6.0_26] [java] at java.lang.Thread.run(Thread.java:680) [na:1.6.0_26]It seems that ExchangeHelper.convertToType() method returned null because camelContext.getTypeConverter() returned null., spring configur configur lt lt custom CamelContext camel context gt gt lt camel camelContext lt camel camel context id camel gt id camel gt lt lt JSON data format marshal gt gt lt camel dataFormats gt lt camel data format gt lt camel serial lt camel serial id serial gt id serial gt lt camel dataFormats gt lt camel data format gt lt lt RawOffer raw offer input rout gt gt lt camel rout gt lt camel rout gt lt camel lt camel uri kestrel etl feed gt uri kestrel etl feed gt lt camel unmarsh lt camel unmarsh ref serial gt ref serial gt lt camel lt camel uri bean shard method consum gt uri bean shard method consum gt lt camel rout gt lt camel rout gt lt camel camelContext gt except run lt camel camel context gt except run java java log WARN log WARN No append could found logger org springframework context support ClassPathXmlApplicationContext org springframework context support class path xml applic context java java log WARN log WARN pleas initi log log system properli properli java java log WARN log WARN see info info java java main main INFO CamelNamespaceHandler camel namespac handler OSGi OS Gi environ not detect detect java java main main INFO camel spring SpringCamelContext camel spring spring camel context apach camel CamelContext camel context camel camel start java java main main INFO camel spring SpringCamelContext camel spring spring camel context JMX enabl enabl use ManagedManagementStrategy manag manag strategi java java main main INFO AnnotationTypeConverterLoader annot type convert loader found packag convert convert class load java java main main INFO DefaultTypeConverter default type convert load core type convert total type convert convert java java main main INFO DefaultTypeConverter default type convert load addit type convert total type convert convert second java java main main INFO kestrel KestrelComponent kestrel kestrel compon creat endpoint queue feed feed etl etl paramet paramet java java main main INFO kestrel KestrelComponent kestrel kestrel compon creat MemcachedClient memcach client etl feed etl feed java java INFO net spi memcach MemcachedConnection net spi memcach memcach connect ad QA QA sa etl sa etl rop rop wop wop iq iq topRop null top rop null topWop null top wop null toWrite write interest interest connect queue java java INFO net spi memcach MemcachedConnection net spi memcach memcach connect connect state chang sun nio ch SelectionKeyImpl sun nio ch select key impl java java main main INFO kestrel KestrelConsumer kestrel kestrel consum start consum kestrel etl feed kestrel etl feed java java main main INFO camel spring SpringCamelContext camel spring spring camel context rout rout rout rout start consum endpoint kestrel etl feed endpoint kestrel etl feed java java main main INFO camel spring SpringCamelContext camel spring spring camel context total rout start start java java main main INFO camel spring SpringCamelContext camel spring spring camel context apach camel CamelContext camel context camel camel start second java java camel camel camel camel thread poller kestrel etl feed poller kestrel etl feed ERROR processor DefaultErrorHandler processor default error handler fail deliveri exchangeId exchang Id ID incubo osx local ID incubo osx local exhaust deliveri attempt attempt caught caught java lang NullPointerException java lang null pointer except java java java lang NullPointerException java lang null pointer except null java java org apach camel impl SerializationDataFormat unmarsh SerializationDataFormat java org apach camel impl serial data format unmarsh serial data format java camel core jar camel core jar java java org apach camel processor UnmarshalProcessor process UnmarshalProcessor java org apach camel processor unmarsh processor process unmarsh processor java camel core jar camel core jar java java org apach camel impl convert AsyncProcessorTypeConverter ProcessorToAsyncProcessorBridge process AsyncProcessorTypeConverter java org apach camel impl convert async processor type convert processor async processor bridg process async processor type convert java camel core jar camel core jar java java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java camel core jar camel core jar java java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java camel core jar camel core jar java java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java camel core jar camel core jar java java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java camel core jar camel core jar java java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java camel core jar camel core jar java java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java camel core jar camel core jar java java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java camel core jar camel core jar java java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java camel core jar camel core jar java java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java camel core jar camel core jar java java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java camel core jar camel core jar java java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java camel core jar camel core jar java java org apach camel processor DefaultChannel process DefaultChannel java org apach camel processor default channel process default channel java camel core jar camel core jar java java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java camel core jar camel core jar java java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java camel core jar camel core jar java java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java camel core jar camel core jar java java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java camel core jar camel core jar java java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java camel core jar camel core jar java java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java camel core jar camel core jar java java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java camel core jar camel core jar java java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java camel core jar camel core jar java java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java camel core jar camel core jar java java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java camel core jar camel core jar java java org apach camel compon kestrel KestrelConsumer poller run KestrelConsumer java org apach camel compon kestrel kestrel consum poller run kestrel consum java camel kestrel jar camel kestrel jar java java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java na  na  java java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java na  na  java java java util concurr FutureTask run FutureTask java java util concurr futur task run futur task java na  na  java java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java na  na  java java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java na  na  java java java lang thread run thread java java lang thread run thread java na  na  seem ExchangeHelper convertToType exchang helper convert type method return null camelContext getTypeConverter camel context get type convert return null null,1,1,0,0,0,camel-core/src/main/java/org/apache/camel/impl/SerializationDataFormat.java;camel-core/src/test/java/org/apache/camel/processor/DataFormatTest.java;,0
4457,Christian Schneider,camel-core,0,Resolve cycle between language.simple and language.simple.ast, resolv cycl languag simpl languag simpl languag simpl ast languag simpl ast,Currently we have a big dpendency cycle between language.simple and language.simple.ast.As simple creates the ast this dependency is necessary. In the other direction ast needs types and exceptions that are inside simple.So I propose to nove these classes into a package simple.types. As I think these types and exceptions are not used outside the camel-core I will not create compatibility measures., current big dpendenc cycl languag simpl languag simpl languag simpl ast languag simpl ast simpl creat ast depend necessari necessari direct ast need type except insid simpl simpl propos nove class packag simpl type simpl type think type except not use outsid camel core camel core not creat compat measur measur,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/language/simple/BaseSimpleParser.java;camel-core/src/main/java/org/apache/camel/language/simple/BinaryOperatorType.java;camel-core/src/main/java/org/apache/camel/language/simple/LogicalOperatorType.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleBackwardsCompatibleParser.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleExpressionParser.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleIllegalSyntaxException.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleParserException.java;camel-core/src/main/java/org/apache/camel/language/simple/SimplePredicateParser.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleToken.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleTokenType.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleTokenizer.java;camel-core/src/main/java/org/apache/camel/language/simple/TokenType.java;camel-core/src/main/java/org/apache/camel/language/simple/UnaryOperatorType.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/BaseSimpleNode.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/BinaryExpression.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/CompositeNodes.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/DoubleQuoteEnd.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/DoubleQuoteStart.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/LiteralExpression.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/LogicalExpression.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/NullExpression.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/SimpleFunctionEnd.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/SimpleFunctionExpression.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/SimpleFunctionStart.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/SimpleNode.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/SingleQuoteEnd.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/SingleQuoteStart.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/UnaryExpression.java;camel-core/src/main/java/org/apache/camel/language/simple/types/BinaryOperatorType.java;camel-core/src/main/java/org/apache/camel/language/simple/types/LogicalOperatorType.java;camel-core/src/main/java/org/apache/camel/language/simple/types/SimpleIllegalSyntaxException.java;camel-core/src/main/java/org/apache/camel/language/simple/types/SimpleParserException.java;camel-core/src/main/java/org/apache/camel/language/simple/types/SimpleToken.java;camel-core/src/main/java/org/apache/camel/language/simple/types/SimpleTokenType.java;camel-core/src/main/java/org/apache/camel/language/simple/types/TokenType.java;camel-core/src/main/java/org/apache/camel/language/simple/types/UnaryOperatorType.java;camel-core/src/main/java/org/apache/camel/language/simple/types/package.html;camel-core/src/test/java/org/apache/camel/language/simple/SimpleOperatorTest.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleParserExpressionInvalidTest.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleParserPredicateInvalidTest.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleTest.java;,0
4473,Sergey Zhemzhitsky,camel-cxf,0,Unable to use cxf:binding configuration for the endpoint, unabl use cxf bind cxf bind configur endpoint,Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'service': Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'bindingConfig' of bean class [org.apache.camel.component.cxf.CxfSpringEndpoint]: Bean property 'bindingConfig' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter? at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1361) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456) at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190) at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:580) at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425) at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:84) at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:1) at org.springframework.test.context.TestContext.loadApplicationContext(TestContext.java:280) at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:304) ... 30 moreCaused by: org.springframework.beans.NotWritablePropertyException: Invalid property 'bindingConfig' of bean class [org.apache.camel.component.cxf.CxfSpringEndpoint]: Bean property 'bindingConfig' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter? at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:1024) at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:900) at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76) at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1358) ... 44 more, caus org springframework bean factori BeanCreationException org springframework bean factori bean creation except error creat bean name servic servic error set properti valu valu nest except org springframework bean NotWritablePropertyException org springframework bean not writabl properti except invalid properti bindingConfig bind config bean class org apach camel compon cxf CxfSpringEndpoint org apach camel compon cxf cxf spring endpoint bean properti bindingConfig bind config not writabl invalid setter method method paramet type setter match return type getter getter org springframework bean factori support AbstractAutowireCapableBeanFactory applyPropertyValues AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori appli properti valu abstract autowir capabl bean factori java org springframework bean factori support AbstractAutowireCapableBeanFactory populateBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori popul bean abstract autowir capabl bean factori java org springframework bean factori support AbstractAutowireCapableBeanFactory doCreateBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori creat bean abstract autowir capabl bean factori java org springframework bean factori support AbstractAutowireCapableBeanFactory createBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori creat bean abstract autowir capabl bean factori java org springframework bean factori support AbstractBeanFactory getObject AbstractBeanFactory java org springframework bean factori support abstract bean factori get object abstract bean factori java org springframework bean factori support DefaultSingletonBeanRegistry getSingleton DefaultSingletonBeanRegistry java org springframework bean factori support default singleton bean registri get singleton default singleton bean registri java org springframework bean factori support AbstractBeanFactory doGetBean AbstractBeanFactory java org springframework bean factori support abstract bean factori get bean abstract bean factori java org springframework bean factori support AbstractBeanFactory getBean AbstractBeanFactory java org springframework bean factori support abstract bean factori get bean abstract bean factori java org springframework bean factori support DefaultListableBeanFactory preInstantiateSingletons DefaultListableBeanFactory java org springframework bean factori support default listabl bean factori pre instanti singleton default listabl bean factori java org springframework context support AbstractApplicationContext finishBeanFactoryInitialization AbstractApplicationContext java org springframework context support abstract applic context finish bean factori initi abstract applic context java org springframework context support AbstractApplicationContext refresh AbstractApplicationContext java org springframework context support abstract applic context refresh abstract applic context java org springframework test context support AbstractGenericContextLoader loadContext AbstractGenericContextLoader java org springframework test context support abstract gener context loader load context abstract gener context loader java org springframework test context support AbstractGenericContextLoader loadContext AbstractGenericContextLoader java org springframework test context support abstract gener context loader load context abstract gener context loader java org springframework test context TestContext loadApplicationContext TestContext java org springframework test context test context load applic context test context java org springframework test context TestContext getApplicationContext TestContext java org springframework test context test context get applic context test context java moreCaused caus org springframework bean NotWritablePropertyException org springframework bean not writabl properti except invalid properti bindingConfig bind config bean class org apach camel compon cxf CxfSpringEndpoint org apach camel compon cxf cxf spring endpoint bean properti bindingConfig bind config not writabl invalid setter method method paramet type setter match return type getter getter org springframework bean BeanWrapperImpl setPropertyValue BeanWrapperImpl java org springframework bean bean wrapper impl set properti valu bean wrapper impl java org springframework bean BeanWrapperImpl setPropertyValue BeanWrapperImpl java org springframework bean bean wrapper impl set properti valu bean wrapper impl java org springframework bean AbstractPropertyAccessor setPropertyValues AbstractPropertyAccessor java org springframework bean abstract properti accessor set properti valu abstract properti accessor java org springframework bean AbstractPropertyAccessor setPropertyValues AbstractPropertyAccessor java org springframework bean abstract properti accessor set properti valu abstract properti accessor java org springframework bean factori support AbstractAutowireCapableBeanFactory applyPropertyValues AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori appli properti valu abstract autowir capabl bean factori java,1,0,0,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/resources/schema/cxfEndpoint.xsd;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/spring/CxfEndpointBeans.xml;,0
4474,David J. M. Karlsen,camel-core,0,file: consumer does not create directory, file file consum not creat directori,According to http://camel.apache.org/file2.html autoCreate is true by default and should for a consumer create the directory.autoCreate true Automatically create missing directories in the file's pathname. For the file consumer  that means creating the starting directory. For the file producer  it means the directory the files should be written to. This does not happen and thus a route startup would fail., accord autoCreate auto creat true default consum creat directori autoCreate directori auto creat true automat creat miss directori file file pathnam pathnam file consum mean creat start directori directori file produc mean directori file written not happen thu rout startup would fail fail,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerAutoCreateDirectoryTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerEndpointNotDirectoryTest.java;,0
4478,Denis Robert,camel-printer,0,Because local PrintService objects on Windows have a name which is not their UNC path  the PrinterProducer can never find them., local PrintService print servic object window name not UNC path PrinterProducer printer produc never find,In org.apache.camel.component.printer.PrinterProducer  the line:setPrinter('////' + config.getHostname() + '' + config.getPrintername());reconstructs a UNC path which is expected to match the name of a PrintService on the system. For local printers on Windows  the name of the PrintService is simply the name of the printer without the host and any backslashes  so the PrinterProducer is never able to find them.So when config.getHostname() is 'localhost'  at least on Windows  the line should be simply:setPrinter(config.getPrintername())so that we'd have code like:if ('localhost'.equalsIgnoreCase(config.getHostname())) { setPrinter(config.getPrintername());} else { setPrinter('////' + config.getHostname() + '//' + config.getPrintername());}This can only work if issue CAMEL-4477 about the error in parseURI() in PrinterConfiguration is also fixed., org apach camel compon printer PrinterProducer org apach camel compon printer printer produc line setPrinter line set printer config getHostname config get hostnam config getPrintername reconstruct config get printernam reconstruct UNC path expect match name PrintService print servic system system local printer window name PrintService print servic simpli name printer without host backslash PrinterProducer printer produc never abl find config getHostname config get hostnam localhost localhost least window line simpli setPrinter config getPrintername simpli set printer config get printernam code like like localhost equalsIgnoreCase config getHostname localhost equal ignor case config get hostnam setPrinter config getPrintername set printer config get printernam els setPrinter set printer config getHostname config get hostnam config getPrintername config get printernam work issu CAMEL CAMEL error parseURI pars URI PrinterConfiguration printer configur also fix fix,0,0,1,0,0,components/camel-printer/src/main/java/org/apache/camel/component/printer/PrinterProducer.java;,0
4486,Sergey Zhemzhitsky,camel-core,0,Exceptions are not propagated to the parent route when endpoint cannot be resolved in the RoutingSlip EIP, except not propag parent rout endpoint cannot resolv RoutingSlip rout slip EIP,Here is the unit test to reproduce the issuepackage org.test;import org.apache.camel.builder.RouteBuilder;import org.apache.camel.component.mock.MockEndpoint;import org.apache.camel.test.junit4.CamelTestSupport;import org.junit.Test;public class RecipientListTest extends CamelTestSupport { public static class Router { public String findEndpoint() { return 'unresolved://endpoint'; } } @Test public void recipientList() throws Exception { MockEndpoint endpoint = getMockEndpoint('mock://error'); endpoint.expectedMessageCount(1); sendBody('direct://parent'  'Hello World!'); assertMockEndpointsSatisfied(); } @Override protected RouteBuilder createRouteBuilder() throws Exception { return new RouteBuilder() { @Override public void configure() throws Exception { from('direct://parent') .onException(Throwable.class) .to('mock://error') .end() .to('direct://child'); from('direct://child') .errorHandler(noErrorHandler()) .routingSlip(bean(Router.class)); } }; }}, unit test reproduc issuepackag org test import org test import org apach camel builder RouteBuilder import org apach camel builder rout builder import org apach camel compon mock MockEndpoint import org apach camel compon mock mock endpoint import org apach camel test junit CamelTestSupport import org apach camel test junit camel test support import org junit test public org junit test public class RecipientListTest recipi list test extend CamelTestSupport camel test support public static class router public string findEndpoint find endpoint return unresolv endpoint unresolv endpoint test test public void recipientList recipi list throw except MockEndpoint mock endpoint endpoint getMockEndpoint mock error get mock endpoint mock error endpoint expectedMessageCount endpoint expect messag count sendBody direct parent send bodi direct parent hello hello world world assertMockEndpointsSatisfied assert mock endpoint satisfi overrid overrid protect RouteBuilder rout builder createRouteBuilder creat rout builder throw except return new RouteBuilder rout builder overrid overrid public void configur configur throw except direct parent direct parent onException throwabl class except throwabl class mock error mock error end end direct child direct child direct child direct child errorHandler noErrorHandler error handler no error handler routingSlip bean router class rout slip bean router class,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/processor/RoutingSlip.java;camel-core/src/test/java/org/apache/camel/processor/RoutingSlipNoSuchEndpointExceptionTest.java;,0
4492,David J. M. Karlsen,camel-core,0,Be able to check classtype through simple language, abl check classtyp simpl languag,See http://camel.465427.n5.nabble.com/How-do-I-access-the-message-class-name-from-Simple-td4842269.html for the full context.In short be able to access Object.getClass() for usage in Camel's simple language., see full context context short abl access object getClass object get class usag camel camel simpl languag languag,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleTest.java;,0
4500,Christian Schneider,camel-core,0,Add a Tracer that uses JMX Notifications and provides full details of Camel Messages, add tracer use JMX notif provid full detail camel messag,We should create a base for Camel Trace toolings so these can trace the full message content.The trace event should contain: all Exchange Data including properties all Message Data including headersThere should be a setting to truncate the message body as it can be quite long and often in tracing not all details are needed.One question is if this tracing should be combined with the current Notifications or should be a separate thing., creat base camel trace tool trace full messag content content trace event contain contain exchang data includ properti messag data includ headersThere header set truncat messag bodi quit long often trace not detail need one need one question trace combin current notif separ thing thing,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/management/mbean/JMXNotificationTraceEventHandler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedTracer.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/DispatchingTraceEventHandler.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/Tracer.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/TraceInterceptorFactoryCreatesHandlerTest.java;camel-core/src/main/java/org/apache/camel/management/mbean/JMXNotificationTraceEventHandler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedTracer.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/Tracer.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/Tracer.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/TraceInterceptorFactoryCreatesHandlerTest.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementLifecycleStrategy.java;camel-core/src/main/java/org/apache/camel/management/mbean/JMXNotificationTraceEventHandler.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedTracer.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/DefaultTraceEventHandler.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/DispatchingTraceEventHandler.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/Tracer.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/TraceInterceptor.java;camel-core/src/main/java/org/apache/camel/processor/interceptor/Tracer.java;camel-core/src/test/java/org/apache/camel/processor/async/AsyncTraceHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/TraceHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/TraceInterceptorFactoryCreatesHandlerTest.java;,0
4503,Jonathan Anstey,null,0,Recipient List cannot vary destination by changing property in an expression, recipi list cannot vari destin chang properti express,This is probably due to producers being cached based on unresolved endpoint URI  rather than the resolved endpoint URI. Haven't tested this theory out though.See message on user list http://markmail.org/message/sdysp6sspq5lomf4, probabl due produc cach base unresolv endpoint URI rather resolv endpoint URI URI test theori though see though see messag user list,0,0,0,1,0,tests/camel-itest/src/test/java/org/apache/camel/itest/greeter/RecipientListCxf2Test.java;tests/camel-itest/src/test/java/org/apache/camel/itest/greeter/RecipientListCxfTest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/greeter/MulticastCxfTest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/greeter/RecipientListCxf2Test.java;tests/camel-itest/src/test/java/org/apache/camel/itest/greeter/RecipientListCxfTest.java;tests/camel-itest/src/test/resources/org/apache/camel/itest/greeter/MulticastCxfTest-context.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/greeter/RecipientListCxf2Test-context.xml;tests/camel-itest/src/test/resources/org/apache/camel/itest/greeter/RecipientListCxfTest-context.xml;,0
4506,Eugene Kiselev,camel-ftp,0,The SFTP component: the keyboard-interactive auth method support, SFTP compon compon keyboard interact keyboard interact auth method support,As it was discussed in this topic http://camel.465427.n5.nabble.com/The-SFTP-component-the-keyboard-interactive-auth-method-support-td4853523.htmlThe SFTP component may be slightly improved to support the keyboard-interactive auth method and the compression Preamble:It appeared that our sftp share we get files from doesn't support the ssh password auth method and we're not allowed to put the public key to there. So the only ssh auth method we can use is the keyboard-interactive. Unfortunately the SFTP camel component doesn't support this.However this can be easily fixed simply by providing the Jsch session with both the com.jcraft.jsch.UserInfo and com.jcraft.jsch.UIKeyboardInteractive interfaces. The UIKeyboardInteractive has the only one promptKeyboardInteractive method which returns String[] containing the password entered by user interactively. In our case I simply return a password.The implementation example is attached.Also it's sometime required to set the ssh compression to be able to process longsize files. The compression fix is also implemented in the attached file. Compression requires the zlib jar to be in the pom.This was tested with the 0.1.44-1 version of the jsch and the 1.0.7 version of the jzlib., discuss topic SFTP compon may slightli improv support keyboard interact keyboard interact auth method compress preambl preambl appear sftp share get file support ssh password auth method not allow put public key ssh auth method use keyboard interact keyboard interact unfortun SFTP camel compon support howev howev easili fix simpli provid jsch session com jcraft jsch UserInfo com jcraft jsch user info com jcraft jsch UIKeyboardInteractive com jcraft jsch UI keyboard interact interfac interfac UIKeyboardInteractive UI keyboard interact one promptKeyboardInteractive prompt keyboard interact method return string string contain password enter user interact interact case simpli return password password implement exampl attach also attach also sometim requir set ssh compress abl process longsiz file file compress fix also implement attach file file compress requir zlib jar pom pom test version jsch version jzlib jzlib,0,0,1,1,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;,1
4515,Damian,camel-spring-ws,0,Spring-WS should populate Camel Header with the SOAP Header, spring WS spring WS popul camel header SOAP header,Currently the Camel-Spring-WS component does not support the setting of SOAP Headers and has issues getting them. The current issue getting the SOAP Headers when receiving a message is that the resulting header key includes the namespace.Change the component so that a Camel header 'CamelSpringWebserviceSoapHeader' can be populated with an intended SOAP Header for a request  and that this Header is also populated from the SOAP Header on a response., current camel spring WS camel spring WS compon not support set SOAP header issu get current issu get SOAP header receiv messag result header key includ namespac chang namespac chang compon camel header CamelSpringWebserviceSoapHeader camel spring webservic soap header popul intend SOAP header request header also popul SOAP header respons respons,0,1,0,0,0,components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceConstants.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceConsumer.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceProducer.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/SoapHeaderResponseProcessor.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/SoapHeaderTest.java;components/camel-spring-ws/src/test/resources/org/apache/camel/component/spring/ws/SoapHeaderTest-context.xml;,0
4540,Preben Asmussen,camel-jms,0,Unable to convert jms textmessage to bytemessage, unabl convert jm textmessag bytemessag,When receiving a jms textmessage and just forward it to a another queue as a jms bytemessage the original textmessage is sendt without being converted to a jms bytemessage. JmsBinding.makeJmsMessage seems to use the exchange headers to determine of a new jms message should be created or the original send.Exchange headers seems to be populated if you do routing or set a dummy header.See http://camel.465427.n5.nabble.com/Convert-jms-message-from-textmessage-to-bytemessage-tc4895362.html/preben, receiv jm textmessag forward anoth queue jm bytemessag origin textmessag sendt without convert jm bytemessag bytemessag JmsBinding makeJmsMessage jm bind make jm messag seem use exchang header determin new jm messag creat origin send exchang send exchang header seem popul rout set dummi header see header see,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsBinding.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/FromTextToBytesMessageTest.java;,0
4542,Bernd Fischer,camel-core,0,Can't find splitter bean in registry using multiple camel contexts with 'vm' endpoint, find splitter bean registri use multipl camel context vm vm endpoint,The splitter component can use a bean with a 'split method'. It seems that this 'split bean' is handled as expression and resolved lately using Camel Context from current exchange.If I send an exchange using a separate CamelContext ('client')&lt;camelContext id='client' xmlns='http://camel.apache.org/schema/spring'&gt;&lt;/camelContext&gt;to a route defined in another CamelContext ('server') using in-memory transport like 'direct' or 'vm'&lt;camelContext id='server' xmlns='http://camel.apache.org/schema/spring'&gt; &lt;route id='route02' trace='false' streamCache='false'&gt; &lt;from uri='vm:route02'/&gt; &lt;split&gt; &lt;method bean ='stringLineSplitter' method='split'/&gt; &lt;log message='before sending: ${body}'/&gt; &lt;inOut uri ='vm:route04'/&gt; &lt;log message='after sending'/&gt; &lt;/split&gt; &lt;to uri='mock:route02'/&gt; &lt;/route&gt;&lt;/camelContext&gt;the test fails with 'Cannot find class: stringLineSplitter' (Camel 2.8.0). 'org.apache.camel.NoSuchBeanException - No bean could be found in the registry for: stringLineSplitter' (Camel 2.9-SNAPSHOT)If I understood Camel right it failsbecause it tries to resolve this bean based on client Camel Contextwhich is still set at the current exchange send from 'client' to 'server' but itdoesn't contain the bean.If I send an exchange using same 'client' CamelContext to another route in'server' CamelContext involving 'external' components like 'jms' (ActiveMQ)&lt;camelContext id='server' xmlns='http://camel.apache.org/schema/spring'&gt; &lt;route id='route03' trace='false' streamCache='false'&gt; &lt;from uri='jms:queue:route03'/&gt; &lt;split&gt; &lt;method bean ='stringLineSplitter' method='split'/&gt; &lt;log message='before sending: ${body}'/&gt; &lt;inOut uri ='vm:route04'/&gt; &lt;log message='after sending'/&gt; &lt;/split&gt; &lt;to uri='mock:route03'/&gt; &lt;/route&gt;&lt;/camelContext&gt;the test passed successfully. It seems that 'jms' component creates anew exchange using 'server' CamelContext., splitter compon use bean split method method seem split bean bean handl express resolv late use camel context current exchang exchang send exchang use separ CamelContext camel context client lt camelContext client lt camel context id client id client xmln http camel apach org schema spring gt lt camelContext gt xmln http camel apach org schema spring gt lt camel context gt rout defin anoth CamelContext camel context server server use memori memori transport like direct direct vm lt camelContext vm lt camel context id server id server xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt rout lt rout id rout id rout trace fals trace fals streamCache fals gt stream cach fals gt lt lt uri vm rout gt uri vm rout gt lt split gt lt split gt lt method lt method bean stringLineSplitter string line splitter method split gt method split gt lt log lt log messag messag send send bodi gt bodi gt lt inOut lt uri vm rout gt vm rout gt lt log lt log messag messag send gt send gt lt split gt lt split gt lt lt uri mock rout gt uri mock rout gt lt rout gt lt camelContext gt lt rout gt lt camel context gt test fail cannot cannot find class class stringLineSplitter string line splitter camel camel org apach camel NoSuchBeanException org apach camel No bean except No bean could found registri stringLineSplitter string line splitter camel camel SNAPSHOT SNAPSHOT understood camel right failsbecaus tri resolv bean base client camel contextwhich still set current exchang send client client server server itdoesn itdoesn contain bean bean send exchang use client client CamelContext camel context anoth rout server server CamelContext camel context involv extern extern compon like jm jm ActiveMQ lt camelContext activ MQ lt camel context id server id server xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt rout lt rout id rout id rout trace fals trace fals streamCache fals gt stream cach fals gt lt lt uri jm queue rout gt uri jm queue rout gt lt split gt lt split gt lt method lt method bean stringLineSplitter string line splitter method split gt method split gt lt log lt log messag messag send send bodi gt bodi gt lt inOut lt uri vm rout gt vm rout gt lt log lt log messag messag send gt send gt lt split gt lt split gt lt lt uri mock rout gt uri mock rout gt lt rout gt lt camelContext gt lt rout gt lt camel context gt test pass success success seem jm jm compon creat anew exchang use server server CamelContext camel context,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/language/MethodCallExpression.java;camel-core/src/test/java/org/apache/camel/component/vm/VMSplitterTest.java;,0
4551,Jason Parr,camel-core,0,NotifyBuilder wereSentTo condition fires too eagerly, NotifyBuilder notifi builder wereSentTo sent condit fire eagerli,Problem is:NotifyBuilder notify = new NotifyBuilder(context)  .whenDone(2).wereSentTo('mock:bar');The wereSentTo condition will fire after first message gets to endpoint 'mock:bar'  so either needs to take preceding whenDone into account  or wereSentTo needs to have a count condition added to it's method signature.See nabble trail for full details:http://camel.465427.n5.nabble.com/NotifyBuilder-condition-fails-to-match-on-an-out-activemq-endpoint-tp4689038p4867857.html, problem NotifyBuilder notifi builder notifi new NotifyBuilder context notifi builder context whenDone wereSentTo mock bar done sent mock bar wereSentTo sent condit fire first messag get endpoint mock bar mock bar either need take preced whenDone done account wereSentTo sent need count condit ad method signatur see signatur see nabbl trail full detail http camel nabbl com NotifyBuilder condit fail match activemq endpoint tp html detail http camel nabbl com notifi builder condit fail match activemq endpoint tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/builder/NotifyBuilder.java;camel-core/src/test/java/org/apache/camel/ContextTestSupport.java;camel-core/src/test/java/org/apache/camel/builder/NotifyBuilderTest.java;camel-core/src/test/resources/log4j.properties;camel-core/src/test/java/org/apache/camel/builder/NotifyBuilderTest.java;,0
4555,Ben Hoyt,camel-hdfs,0,Support nested directories with multiple segment files in the HDFS endpoint consumer, support nest directori multipl segment file HDFS endpoint consum,A common pattern in HDFS is for multiple segment files underneath a given directory  representing the fragments of data. Lots of tools understand to automatically merge these segment files (ie hadoop fs -getmerge  pig script loaders). This patch does the same for the HDFS consumer  using a temporary local directory for the merging.Additionally  tools like pig and oozie understand to look for a _SUCCESS file in one of these directories containing segments. This file indicates that the segments have been completely written. This patch additionally skips the directory if a _SUCCESS file is not present., common pattern HDFS multipl segment file underneath given directori repres fragment data data lot tool understand automat merg segment file ie hadoop fs getmerg pig script loader loader patch HDFS consum use temporari local directori merg addit merg addit tool like pig oozi understand look _SUCCESS  SUCCESS file one directori contain segment segment file indic segment complet written written patch addit skip directori _SUCCESS  SUCCESS file not present present,0,1,0,0,0,components/camel-hdfs/src/main/java/org/apache/camel/component/hdfs/HdfsConsumer.java;components/camel-hdfs/src/main/java/org/apache/camel/component/hdfs/HdfsFileType.java;,0
4556,Matthew McMahon,camel-netty,0,NettyProducer creating new connection on every message, NettyProducer netti produc creat new connect everi messag,Using a NettyProducer without the disconnect=true configuration is causing the route to block after 10 messages on the to('netty://tcp....') call.It appears that a new socket connection is created for every message  and then after 10 connections no new connection is allowed (must be a default thread pool limit?).Using the disconnect=true option fixes the problem as a socket is connected  message sent  then disconnected. But this does not seem viable for implementations where that overhead is undesirable or where more than one response is expected on a channel.&#8211;This is a small Unit Test that shows the problem (http://camel.465427.n5.nabble.com/Camel-Netty-Producer-creating-new-connection-on-every-message-td4844805.html#none) package netty; import java.util.Arrays; import java.util.Collection; import java.util.concurrent.TimeUnit; import java.util.concurrent.atomic.AtomicBoolean; import java.util.concurrent.atomic.AtomicInteger; import junit.framework.TestCase; import org.apache.camel.CamelContext; import org.apache.camel.Exchange; import org.apache.camel.ExchangePattern; import org.apache.camel.Processor; import org.apache.camel.builder.RouteBuilder; import org.apache.camel.impl.DefaultCamelContext; import org.junit.Before; import org.junit.BeforeClass; import org.junit.Test; import org.junit.runner.RunWith; import org.junit.runners.Parameterized; import org.junit.runners.Parameterized.Parameters; import org.slf4j.Logger; import org.slf4j.LoggerFactory; @RunWith(Parameterized.class) public class NettyTest extends TestCase {  private final static Logger logger = LoggerFactory.getLogger(NettyTest.class);  private final static CamelContext serverContext = new DefaultCamelContext();  private final CamelContext clientContext = new DefaultCamelContext();  private final AtomicInteger responseCounter = new AtomicInteger(0);  private final AtomicBoolean passedTen = new AtomicBoolean(false);  private Boolean disconnectClient;  public NettyTest(Boolean disconnectClient)  { this.disconnectClient = disconnectClient; }  @Parameters  public static Collection&lt;Object[]&gt; configs()  {  return Arrays.asList(new Object[][] { { true }  { false } });  }  @BeforeClass  public static void createServer() throws Exception  {  serverContext.addRoutes(new RouteBuilder()  {  @Override  public void configure() throws Exception  {  from('netty:tcp://localhost:9000?sync=true&amp;disconnectOnNoReply=false&amp;allowDefaultCodec=true&amp;tcpNoDelay=true&amp;reuseAddress=true&amp;keepAlive=false')  .setExchangePattern(ExchangePattern.InOut)  .process(new Processor() {  @Override  public void process(Exchange exchange) throws Exception  {  Object body = exchange.getIn().getBody();  logger.info('Request received : Value = {}'  body);  }  })  .transform(constant(3)).stop();  }  });  serverContext.start();  }  @Before  public void createClient() throws Exception  {  clientContext.addRoutes(new RouteBuilder()  {  @Override  public void configure() throws Exception  {  // Generate an Echo message and ensure a Response is sent  from('timer://echoTimer?delay=1s&amp;fixedRate=true&amp;period=1s')  .setExchangePattern(ExchangePattern.InOut)  .transform()  .constant(2)  .to(ExchangePattern.InOut  'netty:tcp://localhost:9000?allowDefaultCodec=true&amp;tcpNoDelay=true&amp;reuseAddress=true&amp;keepAlive=false&amp;sync=true&amp;disconnect=' + disconnectClient.toString())  .process(new Processor()  {  @Override  public void process(Exchange exchange) throws Exception  {  Object body = exchange.getIn().getBody();  logger.info('Response number {} : Value = {}'   responseCounter.incrementAndGet()  body);  if (responseCounter.get() &gt; 10) { passedTen.set(true); }  }  }).stop();  }  });  }  @Test  public void test() throws Exception  {  clientContext.getShutdownStrategy().setTimeout(1);  clientContext.start();  logger.info('Disconnect = {}'  this.disconnectClient);  Thread.sleep(TimeUnit.SECONDS.toMillis(15));  clientContext.stop();  assertTrue('More than 10 responses have been received'  passedTen.get());  } }, use NettyProducer netti produc without disconnect true disconnect true configur caus rout block messag netti tcp netti tcp call call appear new socket connect creat everi messag connect no new connect allow must default thread pool limit use limit use disconnect true disconnect true option fix problem socket connect messag sent disconnect disconnect not seem viabl implement overhead undesir one respons expect channel channel small unit test show problem http camel nabbl com camel netti produc creat new connect everi messag td html none http camel nabbl com camel netti produc creat new connect everi messag td html none packag netti netti import java util array java util array import java util collect java util collect import java util concurr TimeUnit java util concurr time unit import java util concurr atom AtomicBoolean java util concurr atom atom boolean import java util concurr atom AtomicInteger java util concurr atom atom integ import junit framework TestCase junit framework test case import org apach camel CamelContext org apach camel camel context import org apach camel exchang org apach camel exchang import org apach camel ExchangePattern org apach camel exchang pattern import org apach camel processor org apach camel processor import org apach camel builder RouteBuilder org apach camel builder rout builder import org apach camel impl DefaultCamelContext org apach camel impl default camel context import org junit org junit import org junit BeforeClass org junit class import org junit test org junit test import org junit runner RunWith org junit runner run import org junit runner parameter org junit runner parameter import org junit runner parameter paramet org junit runner parameter paramet import org slf logger org slf logger import org slf LoggerFactory org slf logger factori RunWith parameter class run parameter class public class NettyTest netti test extend TestCase test case privat final static logger logger LoggerFactory getLogger NettyTest class logger factori get logger netti test class privat final static CamelContext camel context serverContext server context new DefaultCamelContext default camel context privat final CamelContext camel context clientContext client context new DefaultCamelContext default camel context privat final AtomicInteger atom integ responseCounter respons counter new AtomicInteger atom integ privat final AtomicBoolean atom boolean passedTen pass ten new AtomicBoolean fals atom boolean fals privat boolean disconnectClient disconnect client public NettyTest boolean netti test boolean disconnectClient disconnect client disconnectClient disconnect client disconnectClient disconnect client paramet paramet public static collect lt object gt collect lt object gt config config return array asList new array list new object object true fals BeforeClass class public static void createServer creat server throw except serverContext addRoutes new server context add rout new RouteBuilder rout builder overrid overrid public void configur configur throw except netti tcp localhost sync true amp disconnectOnNoReply fals amp allowDefaultCodec true amp tcpNoDelay true amp reuseAddress true amp keepAlive fals netti tcp localhost sync true amp disconnect No repli fals amp allow default codec true amp tcp No delay true amp reus address true amp keep aliv fals setExchangePattern ExchangePattern InOut set exchang pattern exchang pattern process new process new processor processor overrid overrid public void process exchang process exchang exchang exchang throw except object bodi exchang getIn getBody exchang get get bodi logger info request logger info request receiv valu bodi bodi transform constant stop transform constant stop serverContext start server context start public void createClient creat client throw except clientContext addRoutes new client context add rout new RouteBuilder rout builder overrid overrid public void configur configur throw except gener echo messag ensur respons sent timer echoTimer delay amp fixedRate true amp period timer echo timer delay amp fix rate true amp period setExchangePattern ExchangePattern InOut set exchang pattern exchang pattern transform transform constant constant ExchangePattern InOut exchang pattern netti tcp localhost allowDefaultCodec true amp tcpNoDelay true amp reuseAddress true amp keepAlive fals amp sync true amp disconnect netti tcp localhost allow default codec true amp tcp No delay true amp reus address true amp keep aliv fals amp sync true amp disconnect disconnectClient toString disconnect client string process new process new processor processor overrid overrid public void process exchang process exchang exchang exchang throw except object bodi exchang getIn getBody exchang get get bodi logger info respons logger info respons number valu responseCounter incrementAndGet respons counter increment get bodi bodi responseCounter get respons counter get gt gt passedTen set true pass ten set true stop stop test test public void test test throw except clientContext getShutdownStrategy setTimeout client context get shutdown strategi set timeout clientContext start client context start logger info disconnect logger info disconnect disconnectClient disconnect client thread sleep TimeUnit SECONDS toMillis thread sleep time unit SECONDS milli clientContext stop client context stop assertTrue assert true respons receiv receiv passedTen get pass ten get,0,0,1,0,0,components/camel-netty/src/main/java/org/apache/camel/component/netty/ClientPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultClientPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyCamelState.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyProducer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ClientChannelHandler.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ServerChannelHandler.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyCustomPipelineFactoryAsynchTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyCustomPipelineFactorySynchTest.java;,0
4559,Willem Jiang,tooling,0,Need to specify the sl4j-api version in the camel maven archetypes, need specifi sl api sl api version camel maven archetyp,There are some third part dependencies will introduce other version of sl4j-api as CAMEL-4545 shows  we need to specify the sl4j-api in the pom.xml resource., third part depend introduc version sl api sl api CAMEL CAMEL show need specifi sl api sl api pom xml pom xml resourc resourc,0,0,0,0,0,tooling/archetypes/camel-archetype-activemq/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-java/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-scala/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-spring-dm/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-spring/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-web/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-webconsole/src/main/resources/archetype-resources/pom.xml;,0
4560,Sergey Zhemzhitsky,camel-core; camel-xslt,0,camel-file component does not close a file when it's used with camel-xslt, camel file camel file compon not close file use camel xslt camel xslt,Here are the steps to reproduce: Create the directory target/in. Put the file 'file.xml' into the directory target/in. Note: the end tag in this file is not closed properly. Run the test. The test should fail. The file 'file.xml' remains in the target/in but it should not.FileLockedTest.javapackage org.apache.camel;import org.apache.camel.builder.RouteBuilder;import org.apache.camel.component.mock.MockEndpoint;import org.apache.camel.test.junit4.CamelTestSupport;import org.junit.Test;public class FileLockedTest extends CamelTestSupport { @Test public void testFileLocked() throws Exception { MockEndpoint result = getMockEndpoint('mock:result'); result.setAssertPeriod(10000); result.expectedMessageCount(1); result.assertIsSatisfied(); } @Override protected RouteBuilder createRouteBuilder() throws Exception { return new RouteBuilder() { @Override public void configure() throws Exception { from('file:target/in?delay=100&amp;moveFailed=.error') .onException(Throwable.class) .to('mock:result') .end() .to('xslt:FileLockedTest.xsl'); } }; }}FileLockedTest.xsl&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;xsl:stylesheet xmlns:xsl='http://www.w3.org/1999/XSL/Transform' xmlns='http://schemas.computershare.ru/codex/2011/08/' version='1.0'&gt; &lt;xsl:output method='xml' encoding='UTF-8' omit-xml-declaration='yes' /&gt; &lt;xsl:preserve-space elements='*'/&gt; &lt;xsl:template match='/'&gt; &lt;xsl:apply-templates /&gt; &lt;/xsl:template&gt; &lt;xsl:template match='@* | node()'&gt; &lt;xsl:copy&gt; &lt;xsl:apply-templates select='@* | node()' /&gt; &lt;/xsl:copy&gt; &lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;file.xml; Note: the end tag is not closed properly&lt;root&gt;&lt;/root, step reproduc reproduc creat directori target target put file file xml file xml directori target target note note end tag file not close properli properli run test test test fail fail file file xml file xml remain target target not FileLockedTest javapackag not file lock test javapackag org apach camel import org apach camel import org apach camel builder RouteBuilder import org apach camel builder rout builder import org apach camel compon mock MockEndpoint import org apach camel compon mock mock endpoint import org apach camel test junit CamelTestSupport import org apach camel test junit camel test support import org junit test public org junit test public class FileLockedTest file lock test extend CamelTestSupport camel test support test test public void testFileLocked test file lock throw except MockEndpoint mock endpoint result getMockEndpoint mock result get mock endpoint mock result result setAssertPeriod result set assert period result expectedMessageCount result expect messag count result assertIsSatisfied result assert satisfi overrid overrid protect RouteBuilder rout builder createRouteBuilder creat rout builder throw except return new RouteBuilder rout builder overrid overrid public void configur configur throw except file target delay amp moveFailed error file target delay amp move fail error onException throwabl class except throwabl class mock result mock result end end xslt FileLockedTest xsl xslt file lock test xsl FileLockedTest xsl lt xml file lock test xsl lt xml version version encod UTF gt lt xsl stylesheet encod UTF gt lt xsl stylesheet xmln xsl http www org XSL transform xmln xsl http www org XSL transform xmln http schema computershar ru codex xmln http schema computershar ru codex version gt version gt lt xsl output lt xsl output method xml method xml encod UTF encod UTF omit xml declar ye omit xml declar ye gt gt lt xsl preserv space lt xsl preserv space element gt element gt lt xsl templat lt xsl templat match gt match gt lt xsl appli templat lt xsl appli templat gt gt lt xsl templat gt lt xsl templat gt lt xsl templat lt xsl templat match match node gt node gt lt xsl copi gt lt xsl copi gt lt xsl appli templat lt xsl appli templat select select node node gt gt lt xsl copi gt lt xsl copi gt lt xsl templat gt lt xsl stylesheet gt file xml lt xsl templat gt lt xsl stylesheet gt file xml note note end tag not close properli lt root gt lt root properli lt root gt lt root,0,0,1,0,1,camel-core/src/main/java/org/apache/camel/builder/xml/XsltBuilder.java;camel-core/src/test/java/org/apache/camel/component/xslt/XsltFromFileExceptionTest.java;,0
4568,Eliot Chen,null,0,SLF4JLog does not work with JdbcDriver for Quickfix/J, SLF JLog SLF log not work JdbcDriver jdbc driver quickfix quickfix,I discovered that to use SLF4J log  JdbcDriver cannot be present in the Quickfix/J config file. Otherwise  the default LogFactory - ScreenLogFactory will be used. We need JdbcDriver setting as it is used for persisting FIX messages into database for FIX session management.After debugging the code  I found out that this could be fixed by swapping those two lines in QuickfixjEngine.java298: isJdbcLog(settings  impliedLogFactories);299: isSL4JLog(settings  impliedLogFactories);Can we please have this fixed for the next release?, discov use SLF SLF log JdbcDriver jdbc driver cannot present quickfix quickfix config file file otherwis default LogFactory log factori ScreenLogFactory screen log factori use use need JdbcDriver jdbc driver set use persist FIX messag databas FIX session manag manag debug code found could fix swap two line QuickfixjEngine java quickfixj engin java isJdbcLog set jdbc log set impliedLogFactories impli log factori isSL JLog set SL log set impliedLogFactories impli log factori pleas fix next releas releas,0,0,0,0,0,components/camel-quickfix/src/main/java/org/apache/camel/component/quickfixj/QuickfixjEngine.java;components/camel-quickfix/src/main/java/org/apache/camel/component/quickfixj/QuickfixjEngine.java;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/QuickfixjEngineTest.java;components/camel-quickfix/src/main/java/org/apache/camel/component/quickfixj/QuickfixjEngine.java;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/QuickfixjEngineTest.java;,0
4579,Claus Ibsen,camel-core,0,Add option on XSLT to allow StAX, add option XSLT allow StAX St AX,With the new StAX converters you may convert to a StAXSource which is not supported by the XSLT transformer  and you get this exceptionCaused by: org.apache.xml.dtm.DTMException: Not supported: javax.xml.transform.stax.StAXSource@14d556e at org.apache.xml.dtm.ref.DTMManagerDefault.getDTM(DTMManagerDefault.java:477) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:699) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273) at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251) at org.apache.camel.builder.xml.XsltBuilder.process(XsltBuilder.java:107)We should add option on XSLT component to explicit enable StAX if the end user wants it., new StAX St AX convert may convert StAXSource St AX sourc not support XSLT transform get exceptionCaused except caus org apach xml dtm DTMException org apach xml dtm DTM except not support support javax xml transform stax StAXSource javax xml transform stax St AX sourc org apach xml dtm ref DTMManagerDefault getDTM DTMManagerDefault java org apach xml dtm ref DTM manag default get DTM DTM manag default java org apach xalan transform TransformerImpl transform TransformerImpl java org apach xalan transform transform impl transform transform impl java org apach xalan transform TransformerImpl transform TransformerImpl java org apach xalan transform transform impl transform transform impl java org apach xalan transform TransformerImpl transform TransformerImpl java org apach xalan transform transform impl transform transform impl java org apach camel builder xml XsltBuilder process XsltBuilder java org apach camel builder xml xslt builder process xslt builder java add option XSLT compon explicit enabl StAX St AX end user want,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/xml/XsltBuilder.java;camel-core/src/main/java/org/apache/camel/builder/xml/XsltBuilder.java;camel-core/src/test/java/org/apache/camel/component/xslt/XsltRouteAllowStAXTest.java;,0
4584,Claus Ibsen,camel-saxon,0,XQuery component does not work with StAXSource out of the box, XQuery queri compon not work StAXSource St AX sourc box,The new STaXSource type converters cause camel-saxon to fail unit tests as reported by CI serversCaused by: net.sf.saxon.trans.XPathException: Unknown source class at net.sf.saxon.Configuration.buildDocument(Configuration.java:2892) at net.sf.saxon.query.StaticQueryContext.buildDocument(StaticQueryContext.java:211) at org.apache.camel.component.xquery.XQueryBuilder.createDynamicContext(XQueryBuilder.java:474)We should implement the same optimized logic as we did today in XSLT to convert to Source if StAX is allowed  as well to avoid leaking resources we need to ensure if InputStream is in use  we should ensure it gets closed., new STaXSource Ta sourc type convert caus camel saxon camel saxon fail unit test report CI serversCaused server caus net sf saxon tran XPathException net sf saxon tran path except unknown sourc class net sf saxon configur buildDocument configur java net sf saxon configur build document configur java net sf saxon queri StaticQueryContext buildDocument StaticQueryContext java net sf saxon queri static queri context build document static queri context java org apach camel compon xqueri XQueryBuilder createDynamicContext XQueryBuilder java org apach camel compon xqueri queri builder creat dynam context queri builder java implement optim logic today XSLT convert sourc StAX St AX allow well avoid leak resourc need ensur InputStream input stream use ensur get close close,0,0,0,0,0,components/camel-saxon/src/main/java/org/apache/camel/component/xquery/XQueryBuilder.java;components/camel-saxon/src/test/java/org/apache/camel/component/xquery/XQueryFromFileExceptionTest.java;components/camel-saxon/src/main/java/org/apache/camel/component/xquery/XQueryBuilder.java;,0
4591,Claus Ibsen,camel-core,0,XPath will lock File input in case of an exception during xpath evaluation, XPath path lock file input case except xpath evalu,We have a similar issue with XPath  as we had with XSLT and XQuery.If the message is a java.io.File and an exception occurs during evaluation  then that file is locked on Windows platforms.We need to close the FileInputStream to unlock the file  and allow Windows to access the file., similar issu XPath path XSLT XQuery queri messag java io file java io file except occur evalu file lock window platform platform need close FileInputStream file input stream unlock file allow window access file file,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/xml/XPathBuilder.java;camel-core/src/test/java/org/apache/camel/language/XPathFromFileExceptionTest.java;,0
4599,Jonathan Anstey,null,0,Add default for transactionName in camel-jms, add default transactionName transact name camel jm camel jm,Say you have a simple transacted route like:from('activemq:queue:foo') .transacted() .to(...);on new messages you get logs like:DEBUG JmsTransactionManager - Creating new transaction with name [null]: PROPAGATION_REQUIRED ISOLATION_DEFAULTwhich isn't very helpful. It would be good to actual give the TX a name with some context. Thinking of something like the following would be better:DEBUG JmsTransactionManager - Creating new transaction with name [JmsConsumer[foo]]: PROPAGATION_REQUIRED ISOLATION_DEFAULT, say simpl transact rout like activemq queue foo like activemq queue foo transact transact new messag get log like DEBUG like DEBUG JmsTransactionManager jm transact manag creat new transact name null null PROPAGATION_REQUIRED PROPAGATION REQUIRED ISOLATION_DEFAULTwhich ISOLATION DEFAUL twhich help help would good actual give TX name context context think someth like follow would better DEBUG better DEBUG JmsTransactionManager jm transact manag creat new transact name JmsConsumer foo jm consum foo PROPAGATION_REQUIRED PROPAGATION REQUIRED ISOLATION_DEFAULT ISOLATION DEFAULT,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsEndpointConfigurationTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;,0
4600,João Loureiro,camel-core,0,Improve URISupport.sanitizeUri and apply it in additional places, improv URISupport sanitizeUri URI support sanit uri appli addit place,In this issue  I propose that URISupport.sanitizeUri method sanitizes the password token in URIs that contain it (i.e.  URIs in the form scheme://user:password@host). JT400 component URIs directly benefit from this improvement.Additionally  I suggest that this method be invoked in additional sensitive places (in much the same way as DefaultEndpoint.toString()).Proposed patch attached., issu propos URISupport sanitizeUri URI support sanit uri method sanit password token URIs UR contain URIs UR form scheme user password host scheme user password host JT JT compon URIs UR directli benefit improv addit improv addit suggest method invok addit sensit place much way DefaultEndpoint toString propos default endpoint string propos patch attach attach,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java;camel-core/src/main/java/org/apache/camel/impl/DefaultConsumer.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExecutorServiceManager.java;camel-core/src/main/java/org/apache/camel/util/URISupport.java;camel-core/src/test/java/org/apache/camel/util/URISupportTest.java;,1
4618,Claus Ibsen,camel-core,0,Add support for PGP data format in Java and XML DSLs, add support PGP data format java XML DSLs DS Ls,The new PGP data format from CAMEL-4549requires to create it from Java code.We should add some syntax sugar and have it in the DSL directly like the other data formats.We may also want to look into how to configure a public and private key file  and have it load the PGPPublicKey and PGPPrivateKey for you automatic.Instead of using the PGPDataFormatUtil class., new PGP data format CAMEL requir CAMEL requir creat java code code add syntax sugar DSL directli like data format format may also want look configur public privat key file load PGPPublicKey PGP public key PGPPrivateKey PGP privat key automat instead automat instead use PGPDataFormatUtil PGP data format util class class,0,1,0,0,1,camel-core/src/main/java/org/apache/camel/builder/DataFormatClause.java;camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java;camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java;camel-core/src/main/java/org/apache/camel/model/dataformat/DataFormatsDefinition.java;camel-core/src/main/java/org/apache/camel/model/dataformat/PGPDataFormat.java;components/camel-crypto/src/main/java/org/apache/camel/converter/crypto/PGPDataFormat.java;components/camel-crypto/src/main/java/org/apache/camel/converter/crypto/PGPDataFormatUtil.java;components/camel-crypto/src/main/resources/META-INF/services/org/apache/camel/dataformat/pgp;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/AbstractPGPDataFormatTest.java;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/PGPDataFormatTest.java;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/SpringPGPDataFormatTest.java;components/camel-crypto/src/test/resources/org/apache/camel/component/crypto/SpringCryptoDataFormatTest.xml;components/camel-crypto/src/test/resources/org/apache/camel/component/crypto/SpringPGPDataFormatTest.xml;,0
4619,Claus Ibsen,camel-core,0,Stop or shutdown a route with a custom timeout value  will still log using the default timeout in the logs, stop shutdown rout custom timeout valu still log use default timeout log,If you stop a route with a custom time out value  then the graceful shutdown strategy will still use the default timeout value in the logs  so that information is not correct. For example if you have a short default value  but provide a higher timeout value  then you can have the log show negative timeout values.INFO DefaultShutdownStrategy - Waiting as there are still 2 inflight and pending exchanges to complete  timeout in -14 seconds., stop rout custom time valu grace shutdown strategi still use default timeout valu log inform not correct correct exampl short default valu provid higher timeout valu log show neg timeout valu INFO valu INFO DefaultShutdownStrategy default shutdown strategi wait still inflight pend exchang complet timeout second second,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultShutdownStrategy.java;,0
4642,Claus Ibsen,camel-jms,0,Do not print javax.jms.Message in toString in camel-jms, not print javax jm messag javax jm messag toString string camel jm camel jm,See nabblehttp://camel.465427.n5.nabble.com/ExchangeTimedOutException-not-properly-constructed-by-Camel-2-7-1-exposing-exchange-data-tp4971556p4971556.htmlThere may be details in the JMS message you do not want to show in logs unintended., see nabblehttp camel nabbl com ExchangeTimedOutException not properli construct camel expos exchang data tp htmlThere nabblehttp camel nabbl com exchang time except not properli construct camel expos exchang data tp html may detail JMS messag not want show log unintend unintend,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsMessage.java;,0
4647,Roman Stumm,camel-core,0,Simple expression does not find method toString(), simpl express not find method toString string,In a route builder  we have a log definition: from('direct:testSimple') .log('${body.toString}');The body contains an object  that implements a public toString() method. But the problem is  that the simple-expression does not find the method toString() and route processing stops without throwing an exception.The funny thing is  that when we just rename the method  e.g. toInfoString()  then it works:from('direct:testSimple') .log('${body.toInfoString}');Why does simple expression have a problem with a method named 'toString'?, rout builder log definit definit direct testSimple direct test simpl log bodi toString log bodi string bodi contain object implement public toString string method method problem simpl express simpl express not find method toString string rout process stop without throw except except funni thing renam method toInfoString info string work direct testSimple work direct test simpl log bodi toInfoString log bodi info string simpl express problem method name toString string,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanExcludedMethodTest.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanInvokeSimpleOgnlToStringMethodTest.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanInvokeToStringMethodTest.java;,0
4649,Xilai Dai,camel-cxf,0,NPE from DefaultCxfBinding when  is null, NPE DefaultCxfBinding default cxf bind null,when got soap message from CXF component like this:&lt;soap:Envelope xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'&gt;&lt;soap:Header&gt;......&lt;/soap:Header&gt;&lt;soap:Body/&gt;&lt;/soap:Envelope&gt;the NPE will be thrown: 18:04:51 255 | WARN | tp1212500935-153 | ache.cxf.common.logging.LogUtils 372 | - - | Interceptor for {http://airportsoap.sopera.de}airport#{http://airportsoap.sopera.de}getAirportInformationByISOCountryCode has thrown exception  unwinding nowjava.lang.NullPointerException at org.apache.camel.component.cxf.DefaultCxfBinding.getResponsePayloadList(DefaultCxfBinding.java:395)&#91;163:org.apache.camel.camel-cxf:2.8.2&#93; at org.apache.camel.component.cxf.DefaultCxfBinding.populateCxfResponseFromExchange(DefaultCxfBinding.java:318)&#91;163:org.apache.camel.camel-cxf:2.8.2&#93; at org.apache.camel.component.cxf.CxfConsumer$1.setResponseBack(CxfConsumer.java:176)&#91;163:org.apache.camel.camel-cxf:2.8.2&#93; at org.apache.camel.component.cxf.CxfConsumer$1.asyncInvoke(CxfConsumer.java:103)&#91;163:org.apache.camel.camel-cxf:2.8.2&#93; at org.apache.camel.component.cxf.CxfConsumer$1.invoke(CxfConsumer.java:68)&#91;163:org.apache.camel.camel-cxf:2.8.2&#93; at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)&#91;141:org.apache.cxf.bundle:2.5.0&#93; at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:93)&#91;141:org.apache.cxf.bundle:2.5.0&#93; at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)&#91;141:org.apache.cxf.bundle:2.5.0&#93; at org.apache.cxf.phase.PhaseInterceptorChain.resume(PhaseInterceptorChain.java:232)&#91;141:org.apache.cxf.bundle:2.5.0&#93; at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:80)&#91;141:org.apache.cxf.bundle:2.5.0&#93; at org.apache.cxf.transport.http_jetty.JettyHTTPDestination.serviceRequest(JettyHTTPDestination.java:323)&#91;141:org.apache.cxf.bundle:2.5.0&#93; at org.apache.cxf.transport.http_jetty.JettyHTTPDestination.doService(JettyHTTPDestination.java:289)&#91;141:org.apache.cxf.bundle:2.5.0&#93; at org.apache.cxf.transport.http_jetty.JettyHTTPHandler.handle(JettyHTTPHandler.java:72)&#91;141:org.apache.cxf.bundle:2.5.0&#93; at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:939)&#91;59:org.eclipse.jetty.server:7.4.5.v20110725&#93; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:875)&#91;59:org.eclipse.jetty.server:7.4.5.v20110725&#93; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)&#91;59:org.eclipse.jetty.server:7.4.5.v20110725&#93; at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:185)&#91;59:org.eclipse.jetty.server:7.4.5.v20110725&#93; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:110)&#91;59:org.eclipse.jetty.server:7.4.5.v20110725&#93; at org.eclipse.jetty.server.Server.handleAsync(Server.java:391)&#91;59:org.eclipse.jetty.server:7.4.5.v20110725&#93; at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:594)&#91;59:org.eclipse.jetty.server:7.4.5.v20110725&#93; at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:393)&#91;59:org.eclipse.jetty.server:7.4.5.v20110725&#93; at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:535)&#91;54:org.eclipse.jetty.io:7.4.5.v20110725&#93; at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:40)&#91;54:org.eclipse.jetty.io:7.4.5.v20110725&#93; at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:529)&#91;53:org.eclipse.jetty.util:7.4.5.v20110725&#93; at java.lang.Thread.run(Thread.java:662)&#91;:1.6.0_24&#93;Looking into the source codes  before the line 395 of DefaultCxfBinding  the elements variable shoulde be checked if it's null., got soap messag CXF compon like lt soap envelop lt soap envelop xmln soap http schema xmlsoap org soap envelop gt lt soap header gt lt soap header gt lt soap bodi gt lt soap envelop gt xmln soap http schema xmlsoap org soap envelop gt lt soap header gt lt soap header gt lt soap bodi gt lt soap envelop gt NPE thrown thrown WARN tp tp ach cxf common log LogUtils ach cxf common log log util interceptor http airportsoap sopera de airport http airportsoap sopera de getAirportInformationByISOCountryCode http airportsoap sopera de airport http airportsoap sopera de get airport inform ISO countri code thrown except unwind nowjava lang NullPointerException nowjava lang null pointer except org apach camel compon cxf DefaultCxfBinding getResponsePayloadList DefaultCxfBinding java org apach camel camel cxf org apach camel compon cxf default cxf bind get respons payload list default cxf bind java org apach camel camel cxf org apach camel compon cxf DefaultCxfBinding populateCxfResponseFromExchange DefaultCxfBinding java org apach camel camel cxf org apach camel compon cxf default cxf bind popul cxf respons exchang default cxf bind java org apach camel camel cxf org apach camel compon cxf CxfConsumer setResponseBack CxfConsumer java org apach camel camel cxf org apach camel compon cxf cxf consum set respons back cxf consum java org apach camel camel cxf org apach camel compon cxf CxfConsumer asyncInvoke CxfConsumer java org apach camel camel cxf org apach camel compon cxf cxf consum async invok cxf consum java org apach camel camel cxf org apach camel compon cxf CxfConsumer invok CxfConsumer java org apach camel camel cxf org apach camel compon cxf cxf consum invok cxf consum java org apach camel camel cxf org apach cxf interceptor ServiceInvokerInterceptor run ServiceInvokerInterceptor java org apach cxf bundl org apach cxf interceptor servic invok interceptor run servic invok interceptor java org apach cxf bundl org apach cxf interceptor ServiceInvokerInterceptor handleMessage ServiceInvokerInterceptor java org apach cxf bundl org apach cxf interceptor servic invok interceptor handl messag servic invok interceptor java org apach cxf bundl org apach cxf phase PhaseInterceptorChain doIntercept PhaseInterceptorChain java org apach cxf bundl org apach cxf phase phase interceptor chain intercept phase interceptor chain java org apach cxf bundl org apach cxf phase PhaseInterceptorChain resum PhaseInterceptorChain java org apach cxf bundl org apach cxf phase phase interceptor chain resum phase interceptor chain java org apach cxf bundl org apach cxf transport ChainInitiationObserver onMessage ChainInitiationObserver java org apach cxf bundl org apach cxf transport chain initi observ messag chain initi observ java org apach cxf bundl org apach cxf transport http_jetty JettyHTTPDestination serviceRequest JettyHTTPDestination java org apach cxf bundl org apach cxf transport http_jetty jetti HTTP destin servic request jetti HTTP destin java org apach cxf bundl org apach cxf transport http_jetty JettyHTTPDestination doService JettyHTTPDestination java org apach cxf bundl org apach cxf transport http_jetty jetti HTTP destin servic jetti HTTP destin java org apach cxf bundl org apach cxf transport http_jetty JettyHTTPHandler handl JettyHTTPHandler java org apach cxf bundl org apach cxf transport http_jetty jetti HTTP handler handl jetti HTTP handler java org apach cxf bundl org eclips jetti server handler ContextHandler doHandle ContextHandler java org eclips jetti server org eclips jetti server handler context handler handl context handler java org eclips jetti server org eclips jetti server handler ContextHandler doScope ContextHandler java org eclips jetti server org eclips jetti server handler context handler scope context handler java org eclips jetti server org eclips jetti server handler ScopedHandler handl ScopedHandler java org eclips jetti server org eclips jetti server handler scope handler handl scope handler java org eclips jetti server org eclips jetti server handler ContextHandlerCollection handl ContextHandlerCollection java org eclips jetti server org eclips jetti server handler context handler collect handl context handler collect java org eclips jetti server org eclips jetti server handler HandlerWrapper handl HandlerWrapper java org eclips jetti server org eclips jetti server handler handler wrapper handl handler wrapper java org eclips jetti server org eclips jetti server server handleAsync server java org eclips jetti server org eclips jetti server server handl async server java org eclips jetti server org eclips jetti server HttpConnection handleRequest HttpConnection java org eclips jetti server org eclips jetti server http connect handl request http connect java org eclips jetti server org eclips jetti server HttpConnection handl HttpConnection java org eclips jetti server org eclips jetti server http connect handl http connect java org eclips jetti server org eclips jetti io nio SelectChannelEndPoint handl SelectChannelEndPoint java org eclips jetti io org eclips jetti io nio select channel end point handl select channel end point java org eclips jetti io org eclips jetti io nio SelectChannelEndPoint run SelectChannelEndPoint java org eclips jetti io org eclips jetti io nio select channel end point run select channel end point java org eclips jetti io org eclips jetti util thread QueuedThreadPool run QueuedThreadPool java org eclips jetti util org eclips jetti util thread queu thread pool run queu thread pool java org eclips jetti util java lang thread run thread java  look java lang thread run thread java  look sourc code line DefaultCxfBinding default cxf bind element variabl should check null null,1,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/DefaultCxfBinding.java;,0
4650,Tarjei Huse,camel-core,0,NPE when using SEDA route and attaching an extra consumer, NPE use SEDA rout attach extra consum,I'm trying to construct a system for moving some seda queues over toActiveMQ during system shutdown. What I did was create a Route thatconnects to some of my seda queues and then drains the queue to activemq.Basicly I got two routes  the drainer:from('seda:' + sedaId + '?size=1000') .routeId(routeName +sedaIs).noAutoStartup().to(activeMQFailuresQueue);And the main route:from('seda:' + sedaId + '?size=1000') .routeId(routeName + sedaIs).to(SomeProcessor);Now  sometimes the main route stalls for various reasons I need torestart the jvm process it is running in  so I start the first route.But when trying this in production  I got: java.lang.NullPointerException atorg.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) atorg.apache.camel.component.seda.SedaConsumer.sendToConsumers(SedaConsumer.java:210) atorg.apache.camel.component.seda.SedaConsumer.doRun(SedaConsumer.java:155) atorg.apache.camel.component.seda.SedaConsumer.run(SedaConsumer.java:129) atjava.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) atjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619)Bvahdat added a comment:just a very tiny pointer:Looking at the source it seems that theSedaEndpoint.getConsumerMulticastProcessor() method returns 'null' causingthe NPE  as the condition:multicastStarted == false || consumerMulticastProcessor == nullis true., tri construct system move seda queue toActiveMQ activ MQ system shutdown shutdown creat rout thatconnect seda queue drain queue activemq basicli activemq basicli got two rout drainer seda drainer seda sedaId seda Id size size routeId routeName rout Id rout name sedaIs noAutoStartup activeMQFailuresQueue seda no auto startup activ MQ failur queue main rout seda rout seda sedaId seda Id size size routeId routeName rout Id rout name sedaIs SomeProcessor seda processor sometim main rout stall variou reason need torestart jvm process run start first rout rout tri product got got java lang NullPointerException java lang null pointer except atorg apach camel util AsyncProcessorHelper process AsyncProcessorHelper java atorg apach camel util async processor helper process async processor helper java atorg apach camel compon seda SedaConsumer sendToConsumers SedaConsumer java atorg apach camel compon seda seda consum send consum seda consum java atorg apach camel compon seda SedaConsumer doRun SedaConsumer java atorg apach camel compon seda seda consum run seda consum java atorg apach camel compon seda SedaConsumer run SedaConsumer java atorg apach camel compon seda seda consum run seda consum java atjava util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java atjava util concurr thread pool executor worker run task thread pool executor java atjava util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java atjava util concurr thread pool executor worker run thread pool executor java java lang thread run thread java bvahdat java lang thread run thread java bvahdat ad comment comment tini pointer look pointer look sourc seem theSedaEndpoint getConsumerMulticastProcessor seda endpoint get consum multicast processor method return null null causingth NPE condit multicastStarted condit multicast start fals consumerMulticastProcessor consum multicast processor nulli true true,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaConsumer.java;camel-core/src/test/java/org/apache/camel/component/seda/SedaConcurrentConsumersNPEIssueTest.java;,0
4655,Olivier SCHMITT,camel-bindy,0,Bindy does not support quoted value with separator char in CSV datasource, bindi not support quot valu separ char CSV datasourc,i'm currently writing a tuto on Camel (2.8.2).Showing HTTP4 component usage by downloading US Gov public data  i found a problem : from('quartz://dataTimer?cron=0+?').to('direct:datas'); from('direct:datas') .to('http4://earthquake.usgs.gov/earthquakes/catalogs/eqs7day-M1.txt') .unmarshal(new BindyCsvDataFormat('net.thejeearchitectcookbook.camel.earthquake')) .process(new Processor() { public void process(Exchange exchange) throws Exception { Message message = exchange.getIn(); // ... } });The data format is like and my separator char is ' ':nc 71678421 0 'Wednesday  November 9  2011 14:53:13 UTC' 37.5727 -118.8170 1.3 6.60 14 'Central California'I want to get all datas as java.lang.String but the date value raises exception :java.lang.IllegalArgumentException: No position 11 defined for the field: 14  line: 2 must be specified]My separator is ' ' but some values are nested inside ' '. Unfortunately there are ' ' inside the ' '.Bindy get lost !How can i get String values nested inside ' ' and containing ' ' ?I can note that Camel CSV component deals with it without any problems.Here is my pojo :package net.thejeearchitectcookbook.camel.earthquake;import java.io.Serializable;import org.apache.camel.dataformat.bindy.annotation.CsvRecord;import org.apache.camel.dataformat.bindy.annotation.DataField;@CsvRecord( separator = ' ')public class EarthquakeInfos implements Serializable { @DataField(pos = 1) private String src; @DataField(pos = 2) private String eqid; @DataField(pos = 3) private String version; @DataField(pos = 4) private String datetime; @DataField(pos = 5) private String lat; @DataField(pos = 6) private String lon; @DataField(pos = 7) private String magnitude; @DataField(pos = 8) private String depth; @DataField(pos = 9) private String nst; @DataField(pos = 10) private String place; public String getSrc() { return src; } public void setSrc(String src) { this.src = src; } public String getEqid() { return eqid; } public void setEqid(String eqid) { this.eqid = eqid; } public String getVersion() { return version; } public void setVersion(String version) { this.version = version; } public String getLat() { return lat; } public void setLat(String lat) { this.lat = lat; } public String getLon() { return lon; } public void setLon(String lon) { this.lon = lon; } public String getDepth() { return depth; } public void setDepth(String depth) { this.depth = depth; } public String getNst() { return nst; } public void setNst(String nst) { this.nst = nst; } public String getDatetime() { return datetime; } public void setDatetime(String datetime) { this.datetime = datetime; } public String getMagnitude() { return magnitude; } public void setMagnitude(String magnitude) { this.magnitude = magnitude; } public String getPlace() { return place; } public void setPlace(String place) { this.place = place; }} I can find that CSV Camel component performs well with the same datasource :from('direct:datas').to('http4://earthquake.usgs.gov/earthquakes/catalogs/eqs7day-M1.txt').unmarshal().csv().process(new Processor() { public void process(Exchange exchange) throws Exception { Message message = exchange.getIn(); List&lt;List&lt;String&gt;&gt; datas = (List&lt;List&lt;String&gt;&gt;) message.getBody(); // Skip header datas = datas.subList(1  datas.size() - 1); // Process my data for (List&lt;String&gt; row : datas) { // Process Row String datetime = row.get(3); String region = row.get(9); String magnitude = row.get(6); } }});, current write tuto camel show show HTTP HTTP compon usag download US gov public data found problem quartz dataTimer cron direct data quartz data timer cron direct data direct data direct data http earthquak usg gov earthquak catalog eq day txt http earthquak usg gov earthquak catalog eq day txt unmarsh new unmarsh new BindyCsvDataFormat net thejeearchitectcookbook camel earthquak bindi csv data format net thejeearchitectcookbook camel earthquak process new process new processor processor public void process exchang process exchang exchang exchang throw except messag messag exchang getIn exchang get data format like separ char nc wednesday wednesday novemb UTC UTC central central california california want get data java lang string java lang string date valu rais except java lang IllegalArgumentException java lang illeg argument except No posit defin field field line line must specifi specifi separ valu nest insid unfortun insid bindi bindi get lost get string valu nest insid contain note camel CSV compon deal without problem problem pojo packag net thejeearchitectcookbook camel earthquak import net thejeearchitectcookbook camel earthquak import java io serializ import java io serializ import org apach camel dataformat bindi annot CsvRecord import org apach camel dataformat bindi annot csv record import org apach camel dataformat bindi annot DataField CsvRecord org apach camel dataformat bindi annot data field csv record separ public class EarthquakeInfos earthquak info implement serializ DataField po data field po privat string src src DataField po data field po privat string eqid eqid DataField po data field po privat string version version DataField po data field po privat string datetim datetim DataField po data field po privat string lat lat DataField po data field po privat string lon lon DataField po data field po privat string magnitud magnitud DataField po data field po privat string depth depth DataField po data field po privat string nst nst DataField po data field po privat string place place public string getSrc get src return src src public void setSrc string set src string src src src src src src public string getEqid get eqid return eqid eqid public void setEqid string set eqid string eqid eqid eqid eqid eqid eqid public string getVersion get version return version version public void setVersion string set version string version version version version version version public string getLat get lat return lat lat public void setLat string set lat string lat lat lat lat lat lat public string getLon get lon return lon lon public void setLon string set lon string lon lon lon lon lon lon public string getDepth get depth return depth depth public void setDepth string set depth string depth depth depth depth depth depth public string getNst get nst return nst nst public void setNst string set nst string nst nst nst nst nst nst public string getDatetime get datetim return datetim datetim public void setDatetime string set datetim string datetim datetim datetim datetim datetim datetim public string getMagnitude get magnitud return magnitud magnitud public void setMagnitude string set magnitud string magnitud magnitud magnitud magnitud magnitud magnitud public string getPlace get place return place place public void setPlace string set place string place place place place place place find CSV camel compon perform well datasourc direct data http earthquak usg gov earthquak catalog eq day txt unmarsh csv process new direct data http earthquak usg gov earthquak catalog eq day txt unmarsh csv process new processor processor public void process exchang process exchang exchang exchang throw except messag messag exchang getIn exchang get list lt list lt string gt gt list lt list lt string gt gt data list lt list lt string gt gt list lt list lt string gt gt messag getBody messag get bodi skip header data data subList data sub list data size data size process data list lt string gt list lt string gt row data data process row string datetim row get row get string region row get row get string magnitud row get row get,0,0,1,0,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/csv/BindyCsvDataFormat.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindyDoubleQuotesCsvUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindySingleQuotesCsvUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv2/BindyUnmarshalCommaIssueTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv2/WeatherModel.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/car/Car.java;,0
4672,Claus Ibsen,camel-bindy,0,Bindy - CSV format - Should be able to marshal with quotes, bindi CSV format abl marshal quot,See nabblehttp://camel.465427.n5.nabble.com/Bindy-CSV-marshal-does-not-properly-quote-values-defined-by-the-CsvRecord-separator-td4809017.htmlIts fairly common to marshal to/from with quotes in CSV format.We should make this easier by adding an attribute to @CsvRecord where you can define a quote char to use  either single or double etc., see nabblehttp camel nabbl com bindi CSV marshal not properli quot valu defin CsvRecord separ td htmlIts nabblehttp camel nabbl com bindi CSV marshal not properli quot valu defin csv record separ td html fairli common marshal quot CSV format format make easier ad attribut CsvRecord csv record defin quot char use either singl doubl etc etc,0,0,0,1,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyCsvFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/CsvRecord.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv2/BindyMarshalWithQuoteTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv2/WeatherModel.java;,0
4689,Jonathan Anstey,null,0,Add option to override XSLT stylesheet used via header, add option overrid XSLT stylesheet use via header,Similar to 'dynamic templates' in velocity component http://camel.apache.org/velocity, similar dynam templat templat veloc compon,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/xslt/XsltConstants.java;camel-core/src/main/java/org/apache/camel/component/xslt/XsltEndpoint.java;camel-core/src/test/java/org/apache/camel/component/xslt/InvalidXsltFileTest.java;camel-core/src/test/java/org/apache/camel/component/xslt/XsltFileNotFoundTest.java;camel-core/src/test/java/org/apache/camel/component/xslt/XsltFromHeaderOverrideEndpointUriTest.java;camel-core/src/test/java/org/apache/camel/component/xslt/XsltFromHeaderTest.java;camel-core/src/test/resources/org/apache/camel/component/xslt/transform_to_foo.xsl;camel-core/src/main/java/org/apache/camel/component/xslt/XsltEndpoint.java;camel-core/src/test/java/org/apache/camel/component/xslt/InvalidXsltFileTest.java;camel-core/src/test/java/org/apache/camel/component/xslt/XsltFileNotFoundTest.java;camel-core/src/test/java/org/apache/camel/component/xslt/XsltFromHeaderTest.java;components/camel-saxon/src/test/java/org/apache/camel/component/xslt/SaxonInvalidXsltFileTest.java;,0
4694,Glen Mazza,examples,0,Text improvements to camel-example-cxf-proxy., text improv camel exampl cxf proxi camel exampl cxf proxi,Attachment has improvements to README and the camel-config.xml file shown in the online description of this sample: https://cwiki.apache.org/confluence/display/CAMEL/CXF+Proxy+Example (a web page I just updated)., attach improv README camel config xml camel config xml file shown onlin descript sampl sampl web page updat updat,0,1,0,1,0,0,0
4696,Bilgin Ibryam,camel-core,0,When a route is removed from camel  LifecycleStrategy is called twice, rout remov camel LifecycleStrategy lifecycl strategi call twice,DefaultCamelContext.removeRoute method has these lines among others if (getRouteStatus(routeId).isStopped()) { routeService.setRemovingRoutes(true); shutdownRouteService(routeService); removeRouteDefinition(routeId); ServiceHelper.stopAndShutdownServices(routeService);I think the last line from this snippet is not needed  because the route should be already stopped in order to pass the IF statement and then it is shutdown through this call shutdownRouteService(routeService); ServiceHelper.stopAndShutdownServices(routeService) tries to stops again the route if not stopped  but the worse is it shutdown the rout again.It seems to me like a bug  other thoughts?, DefaultCamelContext removeRoute default camel context remov rout method line among other getRouteStatus routeId isStopped get rout statu rout Id stop routeService setRemovingRoutes true rout servic set remov rout true shutdownRouteService routeService shutdown rout servic rout servic removeRouteDefinition routeId remov rout definit rout Id ServiceHelper stopAndShutdownServices routeService servic helper stop shutdown servic rout servic think last line snippet not need rout alreadi stop order pass statement shutdown call shutdownRouteService routeService shutdown rout servic rout servic ServiceHelper stopAndShutdownServices routeService servic helper stop shutdown servic rout servic tri stop rout not stop wors shutdown rout seem like bug thought thought,0,1,1,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextWithLifecycleStrategyRestartTest.java;,0
4698,Robert Valk,camel-scala,0,Scala DSL does not support defining route-scoped error handlers, scala DSL not support defin rout scope rout scope error handler,The Scala DSL does not allow for defining error handlers at the route scope. The 'errorHandler' method only sets the context-scoped error handler., scala DSL not allow defin error handler rout scope scope errorHandler error handler method set context scope context scope error handler handler,0,1,0,0,0,components/camel-scala/src/main/scala/org/apache/camel/scala/dsl/SRouteDefinition.scala;components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/RouteErrorHandlerTest.scala;,0
4705,Torsten Mielke,camel-core,0,file endpoint to raise a warning msgs if unable to auto-create the starting directory, file endpoint rais warn msg unabl auto creat auto creat start directori,The file component tries to auto-create any non-existing starting directories however it does not raise any warnings if its unable to create the directory (e.g. due to file permission or due to unmounted file systems). It should at least log a warning msg if it cannot auto-create the starting directory., file compon tri auto creat auto creat non exist non exist start directori howev not rais warn unabl creat directori due file permiss due unmount file system system least log warn msg cannot auto creat auto creat start directori directori,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;,0
4730,Joshua Watkins,camel-cometd,0,Change cometd SslSocketConnetor to use SslSelectChannelConnector, chang cometd SslSocketConnetor ssl socket connetor use SslSelectChannelConnector ssl select channel connector,Currently cometd uses SslSocketConnector for cometds connections. In its current configuration it can only support about 35 connections as SslSocketConnector is a blocking connector. Switching this to use the SslSelectChannelConnector in the same way it uses the SelectChannelConnector will fix this and allow the cometds to perform as the non ssl version., current cometd use SslSocketConnector ssl socket connector cometd connect connect current configur support connect SslSocketConnector ssl socket connector block connector connector switch use SslSelectChannelConnector ssl select channel connector way use SelectChannelConnector select channel connector fix allow cometd perform non ssl version version,0,1,0,0,0,components/camel-cometd/pom.xml;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdComponent.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdConsumer.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdProducer.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdConsumerTest.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerTest.java;,0
4742,Claus Ibsen,camel-core,0,Tokenize pair - evaluated as predicate should close input stream, token pair evalu predic close input stream,If you read from a file and use the tokenize pair in a predicate such as a filter / content based router  then the input stream should be closed. Otherwise OS such as Windows keep a lock on the stream  and the file cannot be moved/deleted after processing is done.See nabblehttp://camel.465427.n5.nabble.com/Riding-on-org-apache-camel-language-TokenPairPredicateTest-tp5041981p5041981.htmlNote that using tokenizePair as a predicate is must likely very unusual  as its meant for splitting a stream into tokens  and thus most often only used with the splitter EIP., read file use token pair predic filter content base router input stream close close otherwis OS window keep lock stream file cannot move delet move delet process done see done see nabblehttp camel nabbl com ride org apach camel languag TokenPairPredicateTest tp htmlNote nabblehttp camel nabbl com ride org apach camel languag token pair predic test tp html note use tokenizePair token pair predic must like unusu meant split stream token thu often use splitter EIP EIP,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/support/TokenPairExpressionIterator.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerSuspendAndResumeTest.java;camel-core/src/test/java/org/apache/camel/component/file/NewFileConsumerTest.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateProcessorTest.java;,0
4760,Sergey Zhemzhitsky,camel-spring,0,Unable to set logName on DefaultErrorHandler as well as executorService on LoggingErrorHandler, unabl set logName log name DefaultErrorHandler default error handler well executorService executor servic LoggingErrorHandler log error handler,The following snippets do not work  although each of the specified error handlers supports logName and executorServiceRef. The issue is actual for the DeadLetterChannel error handler too.LoggingErrorHandler&lt;errorHandler id='errorHandler' type='LoggingErrorHandler' logName='${router.logger.name}' executorServiceRef='redeliveryExecutor'/&gt;DefaultErrorHandler&lt;errorHandler id='errorHandler' type='DefaultErrorHandler' logName='${router.logger.name}' executorServiceRef='redeliveryExecutor'/&gt;StackTraceCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [META-INF/spring/camel-context.xml]; nested exception is java.lang.IllegalArgumentException: Attribute executorServiceRef is not supported by error handler type: LoggingErrorHandler  in error handler with id: errorHandler at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:412) at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334) at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302) at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:143) at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:178) at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.importBeanDefinitionResource(DefaultBeanDefinitionDocumentReader.java:186) ... 42 moreCaused by: java.lang.IllegalArgumentException: Attribute executorServiceRef is not supported by error handler type: LoggingErrorHandler  in error handler with id: errorHandler, follow snippet not work although specifi error handler support logName log name executorServiceRef executor servic ref issu actual DeadLetterChannel dead letter channel error handler LoggingErrorHandler lt errorHandler log error handler lt error handler id errorHandler id error handler type LoggingErrorHandler type log error handler logName router logger name log name router logger name executorServiceRef redeliveryExecutor gt DefaultErrorHandler lt errorHandler executor servic ref redeliveri executor gt default error handler lt error handler id errorHandler id error handler type DefaultErrorHandler type default error handler logName router logger name log name router logger name executorServiceRef redeliveryExecutor gt StackTraceCaused executor servic ref redeliveri executor gt stack trace caus org springframework bean factori BeanDefinitionStoreException org springframework bean factori bean definit store except unexpect except pars XML document class path resourc META INF spring camel context xml META INF spring camel context xml nest except java lang IllegalArgumentException java lang illeg argument except attribut executorServiceRef executor servic ref not support error handler type type LoggingErrorHandler log error handler error handler id id errorHandler error handler org springframework bean factori xml XmlBeanDefinitionReader doLoadBeanDefinitions XmlBeanDefinitionReader java org springframework bean factori xml xml bean definit reader load bean definit xml bean definit reader java org springframework bean factori xml XmlBeanDefinitionReader loadBeanDefinitions XmlBeanDefinitionReader java org springframework bean factori xml xml bean definit reader load bean definit xml bean definit reader java org springframework bean factori xml XmlBeanDefinitionReader loadBeanDefinitions XmlBeanDefinitionReader java org springframework bean factori xml xml bean definit reader load bean definit xml bean definit reader java org springframework bean factori support AbstractBeanDefinitionReader loadBeanDefinitions AbstractBeanDefinitionReader java org springframework bean factori support abstract bean definit reader load bean definit abstract bean definit reader java org springframework bean factori support AbstractBeanDefinitionReader loadBeanDefinitions AbstractBeanDefinitionReader java org springframework bean factori support abstract bean definit reader load bean definit abstract bean definit reader java org springframework bean factori xml DefaultBeanDefinitionDocumentReader importBeanDefinitionResource DefaultBeanDefinitionDocumentReader java org springframework bean factori xml default bean definit document reader import bean definit resourc default bean definit document reader java moreCaused caus java lang IllegalArgumentException java lang illeg argument except attribut executorServiceRef executor servic ref not support error handler type type LoggingErrorHandler log error handler error handler id id errorHandler error handler,1,0,1,0,0,components/camel-spring/src/main/java/org/apache/camel/spring/handler/ErrorHandlerDefinitionParser.java;,0
4765,Babak Vahdat,null,0,Avoid explicit cast while using the CamelContext.getEndpoint() or ApplicationContext.getBean() API and better rely on the overloaded counterpart of them taking a class type as the second argument (implicit cast), avoid explicit cast use CamelContext getEndpoint camel context get endpoint ApplicationContext getBean applic context get bean API better reli overload counterpart take class type second argument implicit cast cast,Some simple change examples on the trunk are:From:jpaTemplate = (JpaTemplate)applicationContext.getBean('jpaTemplate');To:jpaTemplate = applicationContext.getBean('jpaTemplate'  JpaTemplate.class);OrFrom:HttpEndpoint epOut = (HttpEndpoint) getContext().getEndpoint('http://localhost:' + port1 + '?bridgeEndpoint=true&amp;throwExceptionOnFailure=false');To:HttpEndpoint epOut = getContext().getEndpoint('http://localhost:' + port1 + '?bridgeEndpoint=true&amp;throwExceptionOnFailure=false'  HttpEndpoint.class);Here another one with the removal of @SuppressWarnings as a side effect:From: @SuppressWarnings('unchecked') public &lt;T&gt; T lookup(Class&lt;T&gt; type) { ApplicationContext context = getApplicationContext(); String[] names = context.getBeanNamesForType(type  true  true); if (names != null) { int count = names.length; if (count == 1) { // lets instantiate the single bean return (T)context.getBean(names[0]); } else if (count &gt; 1) { throw new IllegalArgumentException('Too many beans in the application context of type: ' + type + '. Found: ' + count); } } throw new IllegalArgumentException('No bean available in the application context of type: ' + type); }To: public &lt;T&gt; T lookup(Class&lt;T&gt; type) { ApplicationContext context = getApplicationContext(); String[] names = context.getBeanNamesForType(type  true  true); if (names != null) { int count = names.length; if (count == 1) { // lets instantiate the single bean return context.getBean(names[0]  type); } else if (count &gt; 1) { throw new IllegalArgumentException('Too many beans in the application context of type: ' + type + '. Found: ' + count); } } throw new IllegalArgumentException('No bean available in the application context of type: ' + type); }There're also cases where we could make a huge benefit of this so that the following code: public &lt;T&gt; T getMandatoryBean(Class&lt;T&gt; type  String name) { Object value = applicationContext.getBean(name); assertNotNull('No spring bean found for name &lt;' + name + '&gt;'  value); if (type.isInstance(value)) { return type.cast(value); } else { fail('Spring bean &lt;' + name + '&gt; is not an instanceof ' + type.getName() + ' but is of type ' + ObjectHelper.className(value)); return null; } }became just a one liner as: public &lt;T&gt; T getMandatoryBean(Class&lt;T&gt; type  String name) { return applicationContext.getBean(name  type); }I also came across the cases where the prefered API indeed was used but there were unneccessary casts around it:From:// must type cast to work with Spring 2.5.xSpringCamelContext context = (SpringCamelContext) applicationContext.getBeansOfType(SpringCamelContext.class).values().iterator().next();To:SpringCamelContext context = applicationContext.getBeansOfType(SpringCamelContext.class).values().iterator().next();Another benefit of this patch is a better test code coverage  because as one would intuitively expect DefaultCamelContext.getEndpoint(String name  Class&lt;T&gt; endpointType) makes use of DefaultCamelContext.getEndpoint(String uri) before casting and returning the answer. So that now through the usage of the first method API (expecting two parameters) we do call both of them while testing (one explicitly and the other one implicitly) There're 147 sources affected by the provided patch (one source change is just because of an already pre-existing checkstyle violation by HtmlToPdfMojo.java on the trunk).I did verify only the tests on camel-core but not the rest with the following test result (Windows-Vista):Results :Failed tests: testConcurrentAppend(org.apache.camel.component.file.FileConcurrentWriteAppendSameFileTest): mock://result Received message count. Expected: &lt;5000&gt; but was: &lt;2655&gt;Tests run: 3969  Failures: 1  Errors: 0  Skipped: 0&#91;INFO&#93; ------------------------------------------------------------------------&#91;INFO&#93; BUILD FAILURE&#91;INFO&#93; ------------------------------------------------------------------------&#91;INFO&#93; Total time: 25:49.095s&#91;INFO&#93; Finished at: Sun Dec 11 00:45:35 CET 2011&#91;INFO&#93; Final Memory: 20M/494M&#91;INFO&#93; ------------------------------------------------------------------------&#91;ERROR&#93; Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.8:test (default-test) on project camel-core: There are test failures., simpl chang exampl trunk jpaTemplate jpa templat JpaTemplate applicationContext getBean jpaTemplate jpaTemplate jpa templat applic context get bean jpa templat jpa templat applicationContext getBean jpaTemplate applic context get bean jpa templat JpaTemplate class OrFrom HttpEndpoint jpa templat class http endpoint epOut ep HttpEndpoint http endpoint getContext getEndpoint http localhost get context get endpoint http localhost port port bridgeEndpoint true amp throwExceptionOnFailure fals HttpEndpoint bridg endpoint true amp throw except failur fals http endpoint epOut ep getContext getEndpoint http localhost get context get endpoint http localhost port port bridgeEndpoint true amp throwExceptionOnFailure fals bridg endpoint true amp throw except failur fals HttpEndpoint class http endpoint class anoth one remov SuppressWarnings suppress warn side effect effect SuppressWarnings uncheck suppress warn uncheck public lt gt lt gt lookup class lt gt lookup class lt gt type type ApplicationContext applic context context getApplicationContext get applic context string string name context getBeanNamesForType type context get bean name type type true true true name null null int count name length name length count let instanti singl bean return context getBean name context get bean name els count gt gt throw new IllegalArgumentException illeg argument except mani bean applic context type type type found found count count throw new IllegalArgumentException No illeg argument except No bean avail applic context type type type type public lt gt lt gt lookup class lt gt lookup class lt gt type type ApplicationContext applic context context getApplicationContext get applic context string string name context getBeanNamesForType type context get bean name type type true true true name null null int count name length name length count let instanti singl bean return context getBean name context get bean name type type els count gt gt throw new IllegalArgumentException illeg argument except mani bean applic context type type type found found count count throw new IllegalArgumentException No illeg argument except No bean avail applic context type type type type also case could make huge benefit follow code code public lt gt lt gt getMandatoryBean class lt gt get mandatori bean class lt gt type string name name object valu applicationContext getBean name applic context get bean name assertNotNull No assert not null No spring bean found name lt lt name gt gt valu valu type isInstance valu type instanc valu return type cast valu type cast valu els fail spring fail spring bean lt lt name gt gt not instanceof type getName type get name type ObjectHelper className valu object helper class name valu return null null becam one liner public lt gt lt gt getMandatoryBean class lt gt get mandatori bean class lt gt type string name name return applicationContext getBean name applic context get bean name type type also came across case prefer API inde use unneccessari cast around must type cast work spring xSpringCamelContext spring camel context context SpringCamelContext spring camel context applicationContext getBeansOfType SpringCamelContext class valu iter next SpringCamelContext applic context get bean type spring camel context class valu iter next spring camel context context applicationContext getBeansOfType SpringCamelContext class valu iter next anoth applic context get bean type spring camel context class valu iter next anoth benefit patch better test code coverag one would intuit expect DefaultCamelContext getEndpoint string default camel context get endpoint string name class lt gt class lt gt endpointType endpoint type make use DefaultCamelContext getEndpoint string default camel context get endpoint string uri uri cast return answer answer usag first method API expect two paramet paramet call test one explicitli one implicitli implicitli sourc affect provid patch one sourc chang alreadi pre exist pre exist checkstyl violat HtmlToPdfMojo java html pdf mojo java trunk trunk verifi test camel core camel core not rest follow test result window vista result window vista result fail fail test test testConcurrentAppend org apach camel compon file FileConcurrentWriteAppendSameFileTest test concurr append org apach camel compon file file concurr write append file test mock result mock result receiv messag count count expect expect lt gt lt gt lt gt test lt gt test run run failur failur error error skip skip INFO INFO INFO INFO BUILD FAILURE INFO FAILURE INFO INFO INFO total time time INFO INFO finish sun dec CET INFO INFO final memori memori INFO INFO ERROR ERROR fail execut goal org apach maven plugin maven surefir plugin test org apach maven plugin maven surefir plugin test default test default test project camel core camel core test failur failur,1,1,1,1,0,camel-core/src/main/java/org/apache/camel/component/xslt/XsltEndpoint.java;camel-core/src/test/java/org/apache/camel/component/bean/pojomessage/PojoProxyHelperOneWayTest.java;camel-core/src/test/java/org/apache/camel/component/xslt/XsltReferenceParameterTest.java;camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextTest.java;camel-core/src/test/java/org/apache/camel/impl/GzipDataFormatTest.java;camel-core/src/test/java/org/apache/camel/impl/ZipDataFormatTest.java;components/camel-amqp/src/test/java/org/apache/camel/component/amqp/AMQPRouteTest.java;components/camel-bean-validator/src/test/java/org/apache/camel/component/bean/validator/BeanValidatorConfigurationTest.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerTest.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslCometdProducerConsumerTest.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslContextParametersCometdProducerConsumerTest.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslContextParametersInUriCometdProducerConsumerTest.java;components/camel-cxf-transport/src/test/java/org/apache/camel/component/cxf/transport/CamelDestinationTest.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/spring/AbstractCxfBeanDefinitionParser.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfCustomerStartStopTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/cxfbean/CamelEndpointSpringConfigureTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/soap/headers/CxfMessageHeadersRelayTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanBusSettingTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanWithBusTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeansRouterTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfRsClientFactoryBeanTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfRsServerFactoryBeanTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/SpringBusFactoryBeanTest.java;components/camel-freemarker/src/main/java/org/apache/camel/component/freemarker/FreemarkerEndpoint.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/UriConfigurationTest.java;components/camel-hdfs/src/test/java/org/apache/camel/component/hdfs/HdfsConsumerTest.java;components/camel-hdfs/src/test/java/org/apache/camel/component/hdfs/HdfsProducerConsumerTest.java;components/camel-hdfs/src/test/java/org/apache/camel/component/hdfs/integration/HdfsProducerConsumerIntegrationTest.java;components/camel-http/src/test/java/org/apache/camel/component/http/HttpReferenceParameterTest.java;components/camel-http4/src/test/java/org/apache/camel/component/http4/HttpReferenceParameterTest.java;components/camel-irc/src/test/java/org/apache/camel/component/irc/IrcMultiChannelRouteTest.java;components/camel-irc/src/test/java/org/apache/camel/component/irc/IrcOnReplyTest.java;components/camel-irc/src/test/java/org/apache/camel/component/irc/IrcPrivmsgTest.java;components/camel-irc/src/test/java/org/apache/camel/component/irc/IrcRouteTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpBridgeMultipartRouteTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsDestinationResolverTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsQosRouteTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/remoting/JmsRemotingTest.java;components/camel-jmx/src/test/java/org/apache/camel/component/jmx/JMXComponentTest.java;components/camel-jmx/src/test/java/org/apache/camel/component/jmx/JMXEndpointTest.java;components/camel-jmx/src/test/java/org/apache/camel/component/jmx/SimpleBeanFixture.java;components/camel-jpa/src/test/java/org/apache/camel/processor/interceptor/JpaTraceEventMessageTest.java;components/camel-jpa/src/test/java/org/apache/camel/processor/jpa/JpaBatchConsumerTest.java;components/camel-jpa/src/test/java/org/apache/camel/processor/jpa/JpaFlushOnSendTest.java;components/camel-jpa/src/test/java/org/apache/camel/processor/jpa/JpaNonTXRollbackTest.java;components/camel-jpa/src/test/java/org/apache/camel/processor/jpa/JpaTXRollbackTest.java;components/camel-krati/src/test/java/org/apache/camel/component/krati/KratiConsumerSpringTest.java;components/camel-krati/src/test/java/org/apache/camel/component/krati/KratiConsumerTest.java;components/camel-krati/src/test/java/org/apache/camel/component/krati/KratiProducerSpringTest.java;components/camel-krati/src/test/java/org/apache/camel/component/krati/KratiProducerTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/AdditionalMailPropertiesTest.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaNoDefaultCodecTest.java;components/camel-quartz/src/test/java/org/apache/camel/routepolicy/quartz/CronScheduledRoutePolicyTest.java;components/camel-quartz/src/test/java/org/apache/camel/routepolicy/quartz/MultiplePoliciesOnRouteTest.java;components/camel-quartz/src/test/java/org/apache/camel/routepolicy/quartz/SimpleScheduledCombinedRoutePolicyTest.java;components/camel-quartz/src/test/java/org/apache/camel/routepolicy/quartz/SimpleScheduledRoutePolicyTest.java;components/camel-quartz/src/test/java/org/apache/camel/routepolicy/quartz/SpringScheduledRoutePolicyTest.java;components/camel-solr/src/test/java/org/apache/camel/component/solr/InitSolrEndpointTest.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationConsumer.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationOneWayConsumerTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationProducerTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationTwoWayConsumerTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/adapter/CamelSourceAdapterTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/adapter/CamelTargetAdapterTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/adapter/ConfigurationTest.java;components/camel-spring-javaconfig/src/test/java/org/apache/camel/spring/javaconfig/MainTest.java;components/camel-spring-security/src/test/java/org/apache/camel/component/spring/security/config/SpringSecurityAuthorizationPolicyConfigTest.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/ConsumerEndpointMappingByBeanNameRouteTest.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/ConsumerEndpointMappingResponseHandlingRouteTest.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/ConsumerEndpointMappingRouteTest.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelBeanPostProcessor.java;components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java;components/camel-spring/src/main/java/org/apache/camel/spring/Main.java;components/camel-spring/src/main/java/org/apache/camel/spring/SpringCamelContext.java;components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java;components/camel-spring/src/main/java/org/apache/camel/spring/util/CamelContextResolverHelper.java;components/camel-spring/src/test/java/org/apache/camel/spring/ApplicationContextTestSupport.java;components/camel-spring/src/test/java/org/apache/camel/spring/CustomProcessorWithNamespacesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/DefaultStreamCachingTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/EndpointReferenceTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/RoutingUsingCamelContextFactoryTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/SpringTestSupport.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/AnotherCamelProxyTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/CamelContextAutoStartupTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/CamelContextFactoryBeanTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/CamelProxyTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/CamelProxyUsingRefTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/ErrorHandlerTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/RouteAutoStartupPropertiesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/RouteBuilderRefTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/RouteRefMultipleCamelContextRefsTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/SpringCamelContextCustomDefaultThreadPoolProfileTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/scan/SpringComponentScanTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/scan/SpringComponentScanWithDeprecatedPackagesTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/example/PojoDualCamelContextConsumerTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/handler/ErrorHandlerDefinitionParserTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/ContainerWideInterceptorTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/issues/SpringTwoCamelContextDirectEndpointTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/postprocessor/PlainSpringCustomPostProcessorOnRouteBuilderTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/tracing/TraceInterceptorSubclassTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/tracing/TracingTestBase.java;components/camel-spring/src/test/java/org/apache/camel/spring/produce/MyCoolBeanTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/remoting/EchoSpringRemotingPojoDirectTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/remoting/SpringRemotingBeanConverterTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/remoting/SpringRemotingRouteTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/xml/SpringXmlRouteBuilderTest.java;components/camel-test/src/main/java/org/apache/camel/test/CamelSpringTestSupport.java;components/camel-test/src/main/java/org/apache/camel/test/junit4/CamelSpringTestSupport.java;components/camel-testng/src/main/java/org/apache/camel/testng/CamelSpringTestSupport.java;components/camel-velocity/src/main/java/org/apache/camel/component/velocity/VelocityEndpoint.java;components/camel-web/src/test/java/org/apache/camel/web/spring/CamelRouteTest.java;components/camel-web/src/test/java/org/apache/camel/web/util/JMXRouteStatisticsTest.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppMultiUserChatTest.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRouteChatTest.java;components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRouteMultipleProducersSingleConsumerTest.java;components/camel-zookeeper/src/main/java/org/apache/camel/component/zookeeper/policy/ZooKeeperRoutePolicy.java;examples/camel-example-cafe/src/test/java/org/apache/camel/example/cafe/CafeRouteBuilderTest.java;examples/camel-example-cafe/src/test/java/org/apache/camel/example/cafe/CafeRouteSpringIntegrationTest.java;examples/camel-example-cafe/src/test/java/org/apache/camel/example/cafe/CafeRouteSpringTest.java;examples/camel-example-jms-file/src/test/java/org/apache/camel/example/jmstofile/JmsToFileRouteTest.java;examples/camel-example-loan-broker/src/test/java/org/apache/camel/loanbroker/queue/version/LoanBrokerQueueTest.java;examples/camel-example-route-throttling/src/main/java/org/apache/camel/example/client/CamelClient.java;examples/camel-example-route-throttling/src/main/java/org/apache/camel/example/client/CamelFileClient.java;examples/camel-example-spring-javaconfig/src/test/java/org/apache/camel/example/spring/javaconfig/IntegrationTest.java;examples/camel-example-spring-jms/src/main/java/org/apache/camel/example/client/CamelClient.java;examples/camel-example-spring-jms/src/main/java/org/apache/camel/example/client/CamelClientEndpoint.java;examples/camel-example-spring-jms/src/main/java/org/apache/camel/example/client/CamelClientRemoting.java;examples/camel-example-spring-jms/src/test/java/org/apache/camel/example/SpringJmsClientServerTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/OSGiIntegrationSpringTestSupport.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/cache/CacheManagerFactoryRefTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/core/xslt/XsltBlueprintRouteTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/hdfs/HdfsBlueprintRouteTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/hdfs/HdfsRouteTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/jclouds/BlobStoreBlueprintRouteTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/jpa/JpaBlueprintRouteTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/jpa/JpaRouteTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/krati/KratiBlueprintRouteTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/sql/SqlBlueprintRoute.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/sql/SqlRouteTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/xstream/XstreamBlueprintRouteTest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/customerrelations/CustomerServicesTest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/customerrelations/CustomerServicesWsAddressingTest.java;tooling/maven/maven-html-to-pdf/src/main/java/org/apache/camel/maven/HtmlToPdfMojo.java;,0
4768,Xavier Vergés,camel-http,0,Extra request parameters sent by the camel-http4 component, extra request paramet sent camel http camel http compon,Described in http://camel.465427.n5.nabble.com/Extra-Request-Params-sent-in-camel-HTTP-component-GET-request-td5042808.htmlRoute from('jetty:http://0.0.0.0:8080/myapp/myservice') .to('http4://www.google.com/?q=camel&amp;bridgeEndpoint=true&amp;throwExceptionOnFailure=false'); sends to the server the bridgeEndpoint=true&amp;throwExceptionOnFailure=false parameters while route from('jetty:http://0.0.0.0:8080/myapp/myservice') .to('http://www.google.com/?q=camel&amp;bridgeEndpoint=true&amp;throwExceptionOnFailure=false'); behaves properly and removes them, describ jetti http myapp myservic jetti http myapp myservic http www googl com camel amp bridgeEndpoint true amp throwExceptionOnFailure fals http www googl com camel amp bridg endpoint true amp throw except failur fals send server bridgeEndpoint true amp throwExceptionOnFailure fals bridg endpoint true amp throw except failur fals paramet rout jetti http myapp myservic jetti http myapp myservic http www googl com camel amp bridgeEndpoint true amp throwExceptionOnFailure fals http www googl com camel amp bridg endpoint true amp throw except failur fals behav properli remov,0,0,1,1,0,components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpComponent.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpComponent.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpComponent.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpEndpoint.java;tests/camel-itest/src/test/java/org/apache/camel/itest/http/Http4RouteTest.java;,0
4769,Claus Ibsen,camel-quartz,0,camel-quartz - Using underscore in group name does not work, camel quartz camel quartz use underscor group name not work,The group name is not properly resolved if people specify a invalid host name  such as with underscores.If so we should fallback and grab the group name by grabbing the string until the first path separator char.See nabblehttp://camel.465427.n5.nabble.com/Camel-Quartz-consumer-doesn-t-allow-underscores-tp5063734p5063734.html, group name not properli resolv peopl specifi invalid host name underscor underscor fallback grab group name grab string first path separ char see char see nabblehttp camel nabbl com camel quartz consum allow underscor tp html nabblehttp camel nabbl com camel quartz consum allow underscor tp html,0,1,1,1,0,components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzComponent.java;components/camel-quartz/src/test/java/org/apache/camel/component/quartz/QuartzJobRouteUnderscoreTest.java;,0
4779,Daniel Gredler,camel-core; camel-spring,0,Make Ant path matching in file / FTP component easier to use, make ant path match file FTP compon easier use,The existing codebase has an implicit optional dependency from camel-core to camel-spring; camel-core contains the class AntPathMatcherGenericFileFilter  which internally uses camel-spring's SpringAntPathMatcherFileFilter class via runtime classpath checks and reflection. The reason that SpringAntPathMatcherFileFilter is in camel-spring is that it uses Spring's AntPathMatcher class internally. Interestingly  there is already an AntPathMatcher class with an API very similar to Spring's class in the camel-core-xml module.This patch moves camel-core-xml's AntPathMatcher into camel-core  removes the classpath and reflection magic in camel-core's AntPathMatcherGenericFileFilter class  and adds a new class to camel-core named GenericFileFilterConverter  which automagically converts strings to ant path file filters. The patch also adds some unit tests.The end result is that Camel users can now use ant path matching with the file and FTP components without having to add a dependency on camel-spring  and Camel users can specify the ant path expression to use directly in the component querystring  rather than having to go through the work of registering an additional file filter instance in the registry (although this is only true when the user only needs to specify a single include path  which is a very common use case). For example:from('file://target/blah?recursive=true&amp;filter=*/.txt') .to(...);Instead of:from('file://target/blah?recursive=true&amp;filter=#myTxtFilter') .to(...);, exist codebas implicit option depend camel core camel core camel spring camel spring camel core camel core contain class AntPathMatcherGenericFileFilter ant path matcher gener file filter intern use camel spring camel spring SpringAntPathMatcherFileFilter spring ant path matcher file filter class via runtim classpath check reflect reflect reason SpringAntPathMatcherFileFilter spring ant path matcher file filter camel spring camel spring use spring spring AntPathMatcher ant path matcher class intern intern interestingli alreadi AntPathMatcher ant path matcher class API similar spring spring class camel core xml camel core xml modul modul patch move camel core xml camel core xml AntPathMatcher ant path matcher camel core camel core remov classpath reflect magic camel core camel core AntPathMatcherGenericFileFilter ant path matcher gener file filter class add new class camel core camel core name GenericFileFilterConverter gener file filter convert automag convert string ant path file filter filter patch also add unit test test end result camel user use ant path match file FTP compon without add depend camel spring camel spring camel user specifi ant path express use directli compon querystr rather go work regist addit file filter instanc registri although true user need specifi singl includ path common use case case exampl file target blah recurs true amp filter txt exampl file target blah recurs true amp filter txt instead instead file target blah recurs true amp filter myTxtFilter file target blah recurs true amp filter txt filter,0,1,1,1,0,camel-core/src/test/java/org/apache/camel/component/file/AntPathMatcherGenericFileFilterTest.java;camel-core/src/test/java/org/apache/camel/util/AntPathMatcherTest.java;camel-core/src/main/java/org/apache/camel/component/file/AntPathMatcherFileFilter.java;camel-core/src/main/java/org/apache/camel/component/file/AntPathMatcherGenericFileFilter.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/AntPathMatcherFileFilter.java;camel-core/src/main/java/org/apache/camel/util/AntPathMatcher.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelContextFactoryBean.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/PatternBasedPackageScanFilter.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/scan/AntPathMatcher.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/scan/PatternBasedPackageScanFilter.java;components/camel-spring/src/main/java/org/apache/camel/spring/util/SpringAntPathMatcherFileFilter.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/PatternBasedPackageScanFilterTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/scan/ScanTestSupport.java;,0
4785,Jonathan Anstey,null,0,camel-aws can allow SNAPSHOT transitive dependencies, camel aw camel aw allow SNAPSHOT transit depend,The camel-aws component depends on aws-java-sdk which has several dependencies defined using version ranges. The problem with version ranges is that they can introduce SNAPSHOT versions if they are available on your system which is not so good... in my case I had this http://download.java.net/maven/2/com/sun/mail/javax.mail/1.4.5-SNAPSHOT/javax.mail-1.4.5-SNAPSHOT.jar jar in my local repo so camel-aws promptly used that SNAPSHOT lib., camel aw camel aw compon depend aw java sdk aw java sdk sever depend defin use version rang rang problem version rang introduc SNAPSHOT version avail system not good good case jar local repo camel aw camel aw promptli use SNAPSHOT lib lib,0,0,0,1,0,components/camel-aws/pom.xml;,0
4793,Christian Müller,camel-aws,0,Improve Camel aws-sdb component, improv camel aw sdb aw sdb compon,I would like to improve the aws-sdb component in the following places: Using the Amazon operation names instead of CamelAwsSdbXXX -&gt; With this we can easily support more operations (in the future) and the users are more familiar with this names Add OSGI integration testsI would like to resolve this issue for Camel 2.9.0 because renaming of the operation names are not backwards compatible. I will resolve this issue today., would like improv aw sdb aw sdb compon follow place place use amazon oper name instead CamelAwsSdbXXX camel aw sdb XXX gt gt easili support oper futur futur user familiar name add OSGI integr testsI test would like resolv issu camel renam oper name not backward compat compat resolv issu today today,0,0,0,0,1,components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/AbstractSdbCommand.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/BatchDeleteAttributesCommand.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/BatchPutAttributesCommand.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/DeleteAttributesCommand.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/DeleteDomainCommand.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/DomainMetadataCommand.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/GetAttributesCommand.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/ListDomainsCommand.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/PutAttributesCommand.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/SdbComponent.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/SdbConfiguration.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/SdbConstants.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/SdbEndpoint.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/SdbOperations.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/SdbProducer.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/SelectCommand.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/AbstractSdbCommandTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/AmazonSDBClientMock.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/BatchDeleteAttributesCommandTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/BatchPutAttributesCommandTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/DeleteAttributesCommandTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/DeleteDomainCommandTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/DomainMetadataCommandTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/GetAttributesCommandTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/ListDomainsCommandTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/PutAttributesCommandTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/SdbComponentConfigurationTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/SdbComponentSpringTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/SdbComponentTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/SdbOperationsTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/SelectCommandTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sdb/integration/SdbComponentIntegrationTest.java;components/camel-aws/src/test/resources/org/apache/camel/component/aws/sdb/SDBComponentSpringTest-context.xml;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/aws/AmazonSDBClientMock.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/aws/AwsSdbIntegrationTest.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/aws/AwsSdbTest.java;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/aws/CamelContext.xml;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/aws/CamelIntegrationContext.xml;,0
4794,Hadrian Zbarcea,camel-quartz,0,After restarting route a camel-quartz component fires right away (and it shouldn't), restart rout camel quartz camel quartz compon fire right away,I am adding a new QuartzRouteRestartTest that demonstrates this issue. Not only a message is fired right after restart  but the scheduled times are messed up as well. I tried to keep the fire interval as low as possible  but it has to be large enough to demonstrate the problem. So I went down to 0/5 (fire every five sec)  but it's more obvious with 0/10 or 0/15  the trigger starts firing at the wrong time., ad new QuartzRouteRestartTest quartz rout restart test demonstr issu issu not messag fire right restart schedul time mess well well tri keep fire interv low possibl larg enough demonstr problem problem went fire everi five sec sec obviou trigger start fire wrong time time,0,0,0,0,0,0,0
4800,Claus Ibsen,camel-jms,0,camel-jms - Include details about correlation id in exchange timeout exception if a reply message did not come back, camel jm camel jm includ detail correl id exchang timeout except repli messag not come back,This helps make it easier to spot situations when doing request/reply over JMS and the reply message is not received within the timeout period.And then the reply messages comes later.Then it should be easier to spot in the logs when the timeout occurred  and the correlation ID should be in the logs  so you can correlate these two situations., help make easier spot situat request repli request repli JMS repli messag not receiv within timeout period period repli messag come later later easier spot log timeout occur correl ID log correl two situat situat,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/ExchangeTimedOutException.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/PersistentQueueReplyHandler.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/PersistentQueueReplyManager.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyHolder.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyManagerSupport.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyHandler.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyManager.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/UnknownReplyMessageException.java;,0
4804,Christian Müller,camel-mail,0,Add replyTo option to camel mail component, add replyTo repli option camel mail compon,Add replyTo option to camel mail component, add replyTo repli option camel mail compon,0,0,0,0,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailReplyToTest.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailReplyToTest.java;,0
4809,Raúl Kripalani,camel-core; camel-spring,0,interceptSendToEndpoint with predicate and skip, interceptSendToEndpoint intercept send endpoint predic skip,The &lt;when&gt; clause in the interceptors behave like filters. This is okay with intercept and interceptFrom  where the only possible route manipulation is &lt;stop /&gt;  which is expressed inside the routing block.However  with interceptSendToEndpoint there is one edge case that could cause ambiguity. When skipSendToEndpoint=true  along with a &lt;when&gt; clause  the user might expect that the skipping will only occur if the condition is met. However  it occurs always. The &lt;when /&gt; only determines whether the routing logic contained inside the body of the intercept block will occur or not.I propose to add a new attribute onlySkipWhenConditionMet  so that when this is true  the &lt;when&gt; clause will be evaluated to determine if the originally intended endpoint is actually skipped or not., lt gt lt gt claus interceptor behav like filter filter okay intercept interceptFrom intercept possibl rout manipul lt stop lt stop gt gt express insid rout block howev block howev interceptSendToEndpoint intercept send endpoint one edg case could caus ambigu ambigu skipSendToEndpoint true skip send endpoint true along lt gt lt gt claus user might expect skip occur condit met met howev occur alway alway lt lt gt gt determin whether rout logic contain insid bodi intercept block occur not not propos add new attribut onlySkipWhenConditionMet skip condit met true lt gt lt gt claus evalu determin origin intend endpoint actual skip not not,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/model/InterceptDefinition.java;camel-core/src/main/java/org/apache/camel/model/InterceptSendToEndpointDefinition.java;camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/impl/InterceptSendToEndpoint.java;camel-core/src/main/java/org/apache/camel/model/ExpressionNode.java;camel-core/src/main/java/org/apache/camel/model/FilterDefinition.java;camel-core/src/main/java/org/apache/camel/model/InterceptSendToEndpointDefinition.java;camel-core/src/main/java/org/apache/camel/model/WhenSkipSendToEndpointDefinition.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptSendToEndpointConditionalSkipTest.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptSendToEndpointConditionalSkip2Test.java;camel-core/src/test/java/org/apache/camel/processor/intercept/InterceptSendToEndpointConditionalSkip3Test.java;,0
4810,Christian Müller,osgi,0,camel-eventadmin do not work, camel eventadmin camel eventadmin not work,Christian-Muellers-MacBook-Pro:bin cmueller$ ./karaf cleankaraf@root&gt; features:addurl mvn:org.apache.camel.karaf/apache-camel/2.9.0/xml/featureskaraf@root&gt; features:install camel-eventadminError executing command: Could not start bundle mvn:org.apache.camel/camel-eventadmin/2.9.0 in feature(s) camel-eventadmin-2.9.0: Unresolved constraint in bundle org.apache.camel.camel-eventadmin &#91;59&#93;: Unable to resolve 59.0: missing requirement &#91;59.0&#93; package; (&amp;(package=org.osgi.service.event)(version&gt;=1.2.0)(!(version&gt;=2.0.0)))We have to install the feature eventadmin (from Karaf) first, christian mueller MacBook pro bin christian mueller mac book pro bin cmueller cmueller karaf cleankaraf root gt cleankaraf root gt featur addurl featur addurl mvn org apach camel karaf apach camel xml featureskaraf root gt mvn org apach camel karaf apach camel xml featureskaraf root gt featur instal featur instal camel eventadminError camel eventadmin error execut command command could not start bundl mvn org apach camel camel eventadmin mvn org apach camel camel eventadmin featur featur camel eventadmin camel eventadmin unresolv constraint bundl org apach camel camel eventadmin org apach camel camel eventadmin unabl resolv miss requir packag packag amp packag org osgi servic event version gt version gt amp packag org osgi servic event version gt version gt instal featur eventadmin karaf karaf first,1,0,0,0,0,platforms/karaf/features/src/main/resources/features.xml;,0
4823,Claus Ibsen,camel-core,0,Log EIP - Check if it should log first before evaluating exchange, log EIP check log first evalu exchang,In the log EIP only evaluate the log message if really needed  eg shouldLog returns true, log EIP evalu log messag realli need eg shouldLog log return true,0,0,0,0,0,components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/SLogProcessorTest.scala;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/logProcessorTest.xml;camel-core/src/main/java/org/apache/camel/processor/LogProcessor.java;camel-core/src/main/java/org/apache/camel/util/CamelLogger.java;camel-core/src/test/java/org/apache/camel/processor/LogProcessorTest.java;,0
4826,Glen Mazza,camel-core,0,Tech edits of JavaDoc and other code comments -- lets -> (let's  allow  {}), tech edit JavaDoc java doc code comment let let let allow,Partial conversion of 'lets do...' to 'let's do...'  'allows for doing'  or 'do...' as appropriate  and associated other nitpicks found. 'Let's' retained more where the code is part of an example or tutorial or if it's a matter-of-opinion on how to implement., partial convers let let let allow appropri associ nitpick found found let let retain code part exampl tutori matter opinion matter opinion implement implement,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/builder/ExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/builder/xml/Namespaces.java;camel-core/src/main/java/org/apache/camel/builder/xml/XPathBuilder.java;camel-core/src/main/java/org/apache/camel/builder/xml/XsltBuilder.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/component/bean/DefaultAnnotationExpressionFactory.java;camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;camel-core/src/main/java/org/apache/camel/component/browse/BrowseEndpoint.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetEndpoint.java;camel-core/src/main/java/org/apache/camel/component/dataset/DataSetSupport.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/main/java/org/apache/camel/component/ref/RefComponent.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/MessageSupport.java;camel-core/src/main/java/org/apache/camel/spi/RouteContext.java;camel-core/src/main/java/org/apache/camel/view/NodeData.java;components/camel-amqp/src/main/java/org/apache/camel/component/amqp/AMQPComponent.java;components/camel-amqp/src/test/java/org/apache/camel/component/amqp/AMQPRouteTest.java;components/camel-bam/src/main/java/org/apache/camel/bam/ProcessBuilder.java;components/camel-bam/src/main/java/org/apache/camel/bam/processor/ActivityMonitorEngine.java;components/camel-bam/src/main/java/org/apache/camel/bam/processor/JpaBamProcessor.java;components/camel-bam/src/main/java/org/apache/camel/bam/rules/ActivityRules.java;components/camel-bam/src/main/java/org/apache/camel/bam/rules/TemporalRule.java;components/camel-bam/src/test/java/org/apache/camel/bam/BamRouteTest.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/BlueprintComponentResolver.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/PackageScanRouteBuilderFinder.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/handler/CamelNamespaceHandler.java;components/camel-context/src/main/java/org/apache/camel/component/context/LocalContextComponent.java;components/camel-context/src/test/java/org/apache/camel/component/context/JavaDslBlackBoxTest.java;components/camel-context/src/test/java/org/apache/camel/component/context/JavaDslBlackBoxWithVerboseUriTest.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelContextFactoryBean.java;components/camel-guice/src/test/java/org/apache/camel/guice/ComponentFoundInRegistryTest.java;components/camel-guice/src/test/java/org/apache/camel/guice/ConciseGuiceRouteTest.java;examples/camel-example-guice-jms/src/main/java/org/apache/camel/example/guice/jms/MyModule.java;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/ReadMe.txt;tooling/archetypes/camel-archetype-java/src/main/resources/archetype-resources/src/main/java/MyRouteBuilder.java;,0
4839,Mark,camel-jms,0,Ability to specify the cache level on JMS reply to queue, abil specifi cach level JMS repli queue,I'm trying to use Camel (v 2.6.0) JMS Request/Reply with Websphere 7 using Websphere MQ. I'm successfully able to put the request message onto the queue using the following URI: jms:queue:inboundQueue?connectionFactory=#connectionFactory&amp;taskExecutor=#taskExecutor&amp;transactionManager=#transactionManager&amp;cacheLevelName=CACHE_NONE&amp;replyTo=outboundQueue&amp;requestTimeout=120000 Note: I have to use cacheLevelName=CACHE_NONE in order for this to work on Websphere. However  when Camel creates the PersistentQueueMessageListenerContainer to read the reply message  it is hard coding the cache level to CACHE_SESSION (see PersistentQueueReplyManager.java line 192). What happens is that Camel is successfully able to read the reply off the queue  but then spits out the following error repeatedly: 23 Dec 2011 09:23:32 427|||WorkManager.DefaultWorkManager : 3||WARN |org.springframework.jms.listener.DefaultMessageListenerContainer|Setup of JMS message listener invoker failed for destination 'outboundQueue' - trying to recover. Cause: Connection closed I believe this is due to the PersistentQueueMessageListenerContainer using a cache level of CACHE_SESSION instead of CACHE_NONE. Can Camel be enhanced to have the ability to set the cache level on the reply queue?, tri use camel JMS request repli request repli webspher use webspher MQ MQ success abl put request messag onto queue use follow URI URI jm queue inboundQueue connectionFactory connectionFactory amp taskExecutor taskExecutor amp transactionManager transactionManager amp cacheLevelName CACHE_NONE amp replyTo outboundQueue amp requestTimeout jm queue inbound queue connect factori connect factori amp task executor task executor amp transact manag transact manag amp cach level name CACHE NONE amp repli outbound queue amp request timeout note note use cacheLevelName CACHE_NONE cach level name CACHE NONE order work webspher webspher howev camel creat PersistentQueueMessageListenerContainer persist queue messag listen contain read repli messag hard code cach level CACHE_SESSION CACHE SESSION see PersistentQueueReplyManager java persist queue repli manag java line happen camel success abl read repli queue spit follow error repeatedli repeatedli dec WorkManager DefaultWorkManager work manag default work manag WARN WARN org springframework jm listen DefaultMessageListenerContainer setup org springframework jm listen default messag listen contain setup JMS messag listen invok fail destin outboundQueue outbound queue tri recov recov caus caus connect close believ due PersistentQueueMessageListenerContainer persist queue messag listen contain use cach level CACHE_SESSION CACHE SESSION instead CACHE_NONE CACHE NONE camel enhanc abil set cach level repli queue queue,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/PersistentQueueReplyManager.java;,0
4842,Claus Ibsen,camel-core,0,Remove ProducerCache from CamelContext service list when shutting down a route, remov ProducerCache produc cach CamelContext camel context servic list shut rout,If people add routes dynamic and remove the routes later on  we need to remove services which may have been added to the CamelContext services list. For example the ProducerCache by SendProcessor etc.This will ensure that the ProducerCache can be GC'ed., peopl add rout dynam remov rout later need remov servic may ad CamelContext camel context servic list list exampl ProducerCache produc cach SendProcessor send processor etc etc ensur ProducerCache produc cach GC ed GC ed,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/RouteService.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/main/java/org/apache/camel/util/ServiceHelper.java;camel-core/src/test/java/org/apache/camel/management/ManagedRouteAddRemoveTest.java;camel-core/src/main/java/org/apache/camel/CamelContext.java;camel-core/src/main/java/org/apache/camel/Route.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/impl/DefaultRoute.java;camel-core/src/main/java/org/apache/camel/impl/RouteService.java;camel-core/src/main/java/org/apache/camel/processor/RecipientList.java;camel-core/src/main/java/org/apache/camel/processor/RecipientListProcessor.java;camel-core/src/main/java/org/apache/camel/processor/RoutingSlip.java;camel-core/src/main/java/org/apache/camel/processor/SendProcessor.java;camel-core/src/test/java/org/apache/camel/impl/StartStopAndShutdownRouteTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedRouteAddRemoveTest.java;camel-core/src/test/java/org/apache/camel/util/MyDummyObject.java;camel-core/src/test/java/org/apache/camel/util/ObjectHelperTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedRouteAddRemoveTest.java;camel-core/src/main/java/org/apache/camel/impl/RouteService.java;camel-core/src/main/java/org/apache/camel/model/OnCompletionDefinition.java;camel-core/src/test/java/org/apache/camel/management/ManagedRouteAddRemoveTest.java;,0
4853,Claus Ibsen,camel-mina,0,camel-mina - Make it easier to use a custom thread pool for the consumer, camel mina camel mina make easier use custom thread pool consum,It should be easier to use a custom thread pool for the mina consumer  in case you use it in sync mode  where the consumer thread would then be synchronous  and thus take up a thread. So in case you put load on the mina consumer  it will use up the default thread pool size of 10 threads.We should add documentation in the wiki  how to use a custom thread pool / and pool profile.See nabblehttp://camel.465427.n5.nabble.com/inflight-exchange-and-queue-of-apache-camel-tp5112396p5112396.html, easier use custom thread pool mina consum case use sync mode consum thread would synchron thu take thread thread case put load mina consum use default thread pool size thread thread add document wiki use custom thread pool pool profil see profil see nabblehttp camel nabbl com inflight exchang queue apach camel tp html nabblehttp camel nabbl com inflight exchang queue apach camel tp html,0,0,0,1,0,components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Component.java;components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Configuration.java;components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Consumer.java;components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Producer.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaEndpoint.java;,0
4854,Marcin,camel-bam,0,BAM - database constraint violation when restaring application, BAM databas constraint violat restar applic,Take BAM example from http://camel.apache.org/bam-example.html (or any other one  it doesn't matter).Here is the one I'm using: ActivityBuilder request = activity('eaiBroker:topic:SOME_TOPIC?concurrentConsumers=1').name('Request') .correlate(xpath('/MessageRequest/@Id').stringResult()); ActivityBuilder response = activity('eaiBroker:topic:SOME_OTHER_TOPIC?concurrentConsumers=1').name('Response') .correlate(xpath('MessageResponse/@Id').stringResult()); response .starts().after(request.completes()) .expectWithin(seconds(15)) .errorIfOver(seconds(30)) .to('log:com.eai?level=error'); First run of the application and everything works. Restart application and try to activate one of BAM rules  there will be an exception that database constraint has been violated. Every time application is started  Camel tries to do following sql insertinsert into CAMEL_ACTIVITYDEFINITION (name  processDefinition_id  id) values (?  ?  ?)but name columne must be unique in CAMEL_ACTIVITYDEFINITION .Workaround for this is to purge BAM tables every time you want to restart the application  but it's not a solution., take BAM exampl one matter matter one use use ActivityBuilder activ builder request activ eaiBroker topic SOME_TOPIC concurrentConsumers name request activ eai broker topic TOPIC concurr consum name request correl xpath MessageRequest Id stringResult correl xpath messag request Id string result ActivityBuilder activ builder respons activ eaiBroker topic SOME_OTHER_TOPIC concurrentConsumers name respons activ eai broker topic TOPIC concurr consum name respons correl xpath MessageResponse Id stringResult correl xpath messag respons Id string result respons start request complet start request complet expectWithin second expect within second errorIfOver second error second log com eai level error log com eai level error first run applic everyth work work restart applic tri activ one BAM rule except databas constraint violat violat everi time applic start camel tri follow sql insertinsert CAMEL_ACTIVITYDEFINITION CAMEL ACTIVITYDEFINITION name processDefinition_id process Definition_id id id valu name column must uniqu CAMEL_ACTIVITYDEFINITION CAMEL ACTIVITYDEFINITION workaround workaround purg BAM tabl everi time want restart applic not solut solut,0,0,1,1,0,components/camel-bam/src/main/java/org/apache/camel/bam/ProcessBuilder.java;,0
4858,Claus Ibsen,camel-core; camel-saxon,0,xpath expression with $header with saxon may throw exception if header did not exist, xpath express header saxon may throw except header not exist,See CAMEL-747We should return an empty String instead of a Void.class  as this works with both JDK + Saxon XPathEngine.Saxon does not work with the Void.class., see CAMEL CAMEL return empti string instead void class void class work JDK saxon XPathEngine saxon path engin saxon not work void class void class,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/xml/MessageVariableResolver.java;,0
4868,Jonathan Anstey,null,0,add feature for camel-context component, add featur camel context camel context compon,Workaround until this makes it into a release is of course justosgi:install -s mvn:org.apache.camel/camel-context/2.9.0, workaround make releas cours justosgi instal justosgi instal mvn org apach camel camel context mvn org apach camel camel context,0,0,0,0,0,platforms/karaf/features/src/main/resources/features.xml;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelContextTest.java;,0
4882,Hadrian Zbarcea,camel-core,0,Timed out Exchanges should be removed from seda queues, time exchang remov seda queue,When the SedaProducer times out and stops waiting for an Exchange to be processed it should remove it from the queue as well. Same applies to the vm: component., SedaProducer seda produc time stop wait exchang process remov queue well well appli vm vm compon compon,0,0,0,0,1,0,0
4892,Claus Ibsen,camel-core,0,CamelContext autoStartup=false and starting context programmatically doesnt work, CamelContext camel context autoStartup fals auto startup fals start context programmat doesnt work,If a &lt;camelContext&gt; is set to autoStartup=false and then later tried to start it via code or JMX doesn't start routes associated with it., lt camelContext gt lt camel context gt set autoStartup fals auto startup fals later tri start via code JMX start rout associ,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextAutoStartupTest.java;,0
4894,Hadrian Zbarcea,camel-core,0,Parameter binding not working with BeanExpression, paramet bind not work BeanExpression bean express,The parameter binding options available in camel-2.9.0 do not work for BeanExpression. The reason is the fake ognl parser that gets confused about the syntax. We need to align the two scenarios and probably replace the ognl like parsing., paramet bind option avail camel camel not work BeanExpression bean express reason fake ognl parser get confus syntax syntax need align two scenario probabl replac ognl like pars pars,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/util/OgnlHelper.java;camel-core/src/test/java/org/apache/camel/processor/RecipientListBeanTest.java;camel-core/src/test/java/org/apache/camel/util/OgnlHelperTest.java;,0
4911,Claus Ibsen,camel-core,0,SedaConsumer - Should not poll if CamelContext is starting, SedaConsumer seda consum not poll CamelContext camel context start,If you startup Camel with many routes  which mean starting Camel may take some seconds or whatnot  and then SedaConsumer may poll messages  while CamelContext is starting. It should avoid polling until CamelContext is fully started., startup camel mani rout mean start camel may take second whatnot SedaConsumer seda consum may poll messag CamelContext camel context start start avoid poll CamelContext camel context fulli start start,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/component/seda/SedaConsumer.java;camel-core/src/test/java/org/apache/camel/management/ManagedRouteAddFromRouteTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedRouteAddFromRouteTest.java;camel-core/src/test/java/org/apache/camel/component/vm/AbstractVmTestSupport.java;,0
4913,Claus Ibsen,camel-blueprint,0,camel-blueprint - Using namespaces with xpath does not work as the namesapces is not parsed and injected into the camel model, camel blueprint camel blueprint use namespac xpath not work namesapc not pars inject camel model,Using xpath predicates in a blueprint xml file does not work if you use custom namespaces  as the camel-blueprint component does not detect the custom namespaces  as camel-spring does., use xpath predic blueprint xml file not work use custom namespac camel blueprint camel blueprint compon not detect custom namespac camel spring camel spring,0,0,0,0,0,components/camel-blueprint/src/main/java/org/apache/camel/blueprint/handler/CamelNamespaceHandler.java;components/camel-spring/src/test/resources/log4j.properties;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/xpathFilterWithNamespace.xml;components/camel-test-blueprint/src/main/java/org/apache/camel/test/blueprint/CamelBlueprintTestSupport.java;components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/xpath/XPathFilterWithNamespaceTest.java;components/camel-test-blueprint/src/test/resources/log4j.properties;components/camel-test-blueprint/src/test/resources/org/apache/camel/test/blueprint/xpath/xpathFilterWithNamespaceTest.xml;,0
4919,Paul-Emmanuel Faidherbe,camel-test,0,Testing headers in multiple messages, test header multipl messag,The need is something similar to expectedBodiesReceivedInAnyOrder applied to headers :I know that a given endpoint will receive 3 messages in any order  and I need to test ONE header in each of these messages.I wrote :getMockEndpoint('mock:zipSHP').expectedHeaderReceived('zippedFile'  '001.zip');getMockEndpoint('mock:zipSHP').expectedHeaderReceived('zippedFile'  '002.zip');getMockEndpoint('mock:zipSHP').expectedHeaderReceived('zippedFile'  '003.zip');for the route :for('file://filesToBeZipped/').to('bean:my.bean.ZipperBean').log('Zipped : ...');The endpoint effectively received the three messages (the results of three ZIP operations) but the test failed saying that the first message header was '003.zip' and not the expected '001.zip'., need someth similar expectedBodiesReceivedInAnyOrder expect bodi receiv order appli header know given endpoint receiv messag order need test ONE header messag messag wrote getMockEndpoint mock zipSHP expectedHeaderReceived zippedFile get mock endpoint mock zip SHP expect header receiv zip file zip getMockEndpoint mock zipSHP expectedHeaderReceived zippedFile zip get mock endpoint mock zip SHP expect header receiv zip file zip getMockEndpoint mock zipSHP expectedHeaderReceived zippedFile zip get mock endpoint mock zip SHP expect header receiv zip file zip zip rout file filesToBeZipped bean bean ZipperBean log zip file file zip bean bean zipper bean log zip endpoint effect receiv three messag result three ZIP oper oper test fail say first messag header zip zip not expect zip zip,0,0,1,0,1,camel-core/src/main/java/org/apache/camel/component/mock/MockEndpoint.java;camel-core/src/test/java/org/apache/camel/component/mock/MockEndpointTest.java;,0
4938,Vid Cheruvu,camel-core; jmx,0,ManagedBrowsableEndpoint are broken, ManagedBrowsableEndpoint manag browsabl endpoint broken,ManagedeBrowsableEndpoint are broken which means any component that inherit ManagedBrowsableEndpoint have errors as well. Please see the link below which will have error screen shot of queueSize JMX operations.http://camel.465427.n5.nabble.com/JMX-queue-size-operation-fails-Camel-2-9-0-td5233089.html, ManagedeBrowsableEndpoint managed browsabl endpoint broken mean compon inherit ManagedBrowsableEndpoint manag browsabl endpoint error well well pleas see link error screen shot queueSize queue size JMX oper http camel nabbl com JMX queue size oper fail camel td html oper http camel nabbl com JMX queue size oper fail camel td html,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaEndpoint.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementObjectStrategy.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedSedaEndpoint.java;camel-core/src/test/java/org/apache/camel/management/ManagedSedaEndpointTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/management/SpringManagedSedaEndpointTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/management/SpringManagedSedaEndpointTest.xml;camel-core/src/main/java/org/apache/camel/component/seda/SedaEndpoint.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementObjectStrategy.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedSedaEndpoint.java;camel-core/src/main/java/org/apache/camel/util/EndpointHelper.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsQueueEndpoint.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/BrowsableQueueTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/BrowsableQueueTest.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedBrowsableEndpoint.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedEndpoint.java;,0
4942,Christian Müller,camel-core; camel-jaxb,0,exchange.getIn().getBody(.class) throws an exception for Jaxb model objects, exchang getIn getBody class exchang get get bodi class throw except jaxb model object,exchange.getIn().getBody(Foo.class);should return a Foo instance or null  if no suitable type converter is available. The java doc says: 'return the body of the message as the specified type  or &lt;tt&gt;null&lt;/tt&gt; if not possible to convert'If Foo is an Jaxb object model  this method call: throws an org.xml.sax.SAXParseException if the body content is a string throws a javax.xml.bind.UnmarshalException if the body content is another Jaxb model objectPlease have a look on the attached sample eclipse project., exchang getIn getBody foo class exchang get get bodi foo class return foo instanc null no suitabl type convert avail avail java doc say say return bodi messag specifi type lt tt gt null lt tt gt lt tt gt null lt tt gt not possibl convert convert foo jaxb object model method call call throw org xml sax SAXParseException org xml sax SAX pars except bodi content string throw javax xml bind UnmarshalException javax xml bind unmarsh except bodi content anoth jaxb model objectPlease object pleas look attach sampl eclips project project,0,0,1,1,1,components/camel-jaxb/src/test/java/org/apache/camel/example/FallbackTypeConverterDoesNotThrowExceptionTest.java;components/camel-jaxb/src/test/java/org/apache/camel/example/FallbackTypeConverterShouldNotThrowExceptionTest.java;components/camel-jaxb/src/test/java/org/apache/camel/example/FallbackTypeConverterShouldNotThrowExceptionTest.java;components/camel-jaxb/src/test/java/org/apache/camel/jaxb/FallbackTypeConverterShouldNotThrowExceptionTest.java;components/camel-jaxb/src/test/java/org/apache/camel/example/FallbackTypeConverterDoesNotThrowExceptionTest.java;components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/FallbackTypeConverter.java;components/camel-jaxb/src/test/java/org/apache/camel/jaxb/CamelJaxbFallbackConverterTest.java;,0
4954,Sebastian Rühl,camel-core,0,Camel 2.9.0 incapable of working with % in endpoint URIs, camel incap work endpoint URIs UR,In the class org.apache.camel.util.URISupport which will be used to resolve endpoints (DefaultCamelContext#normalizeEndpointUri) the method parseParameters will be called.At first the java.net.Uri#getQuery will be called with according to the javadoc 'Returns the decoded query component of this URI' returns a decoded URI. If that fails the java.net.Uri#getSchemeSpecificPart method will be called which according to the javadoc 'Returns the decoded scheme-specific part of this URI.' returns a decoded URI.So to summarize we get in any case a decoded URI.This URI will then be than in the method org.apache.camel.util.URISupport#parseQuery(String) again decoded with java.net.URLDecoder#decode(String String).This code leads to the following behaviour: If a % is properly encoded with %25test the %25test will be substituted by the first call to %test and the decoded again which leads to an Exception.In the http://svn.apache.org/viewvc?view=revision&amp;revision=1166508 commit you can see that the % was uncommented from org.apache.camel.util#UnsafeUriCharactersEncoder. Maybe this is related.However... Double encoding of URIs seems quite odd. With any URI char there is no issue with that. But with % the % will be decoded again  which makes a % unusable in Camel., class org apach camel util URISupport org apach camel util URI support use resolv endpoint DefaultCamelContext normalizeEndpointUri default camel context normal endpoint uri method parseParameters pars paramet call call first java net uri getQuery java net uri get queri call accord javadoc return return decod queri compon URI URI return decod URI URI fail java net uri getSchemeSpecificPart java net uri get scheme specif part method call accord javadoc return return decod scheme specif scheme specif part URI URI return decod URI URI summar get case decod URI URI URI method org apach camel util URISupport parseQuery string org apach camel util URI support pars queri string decod java net URLDecoder decod string java net URL decod decod string string string code lead follow behaviour behaviour properli encod test test substitut first call test decod lead except except commit see uncom org apach camel util UnsafeUriCharactersEncoder org apach camel util unsaf uri charact encod mayb relat howev relat howev doubl encod URIs UR seem quit odd odd URI char no issu decod make unus camel camel,0,0,1,1,1,0,0
4963,serdar tunc,camel-core; camel-ftp,0,antInclude support for case insensitive patterns, antInclude ant includ support case insensit pattern,antIncude patterns are case sensitive. I need a case insensitive file matching pattern with file and ftp components.note: custom filters is not applicable since I read patterns from database there is no way to correlate the filters with the routes., antIncude ant incud pattern case sensit sensit need case insensit file match pattern file ftp compon note compon note custom filter not applic sinc read pattern databas no way correl filter rout rout,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/AntPathMatcherFileFilter.java;camel-core/src/main/java/org/apache/camel/component/file/AntPathMatcherGenericFileFilter.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/main/java/org/apache/camel/util/AntPathMatcher.java;camel-core/src/test/java/org/apache/camel/component/file/AntPathMatcherGenericFileFilterTest.java;camel-core/src/test/java/org/apache/camel/util/AntPathMatcherTest.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;,0
4970,Lefteris Tsallas,camel-saxon,0,Cannot use xquery predicate in filter after an xpath splitter., cannot use xqueri predic filter xpath splitter splitter,After upgrading from 2.5.0 to 2.9.0 using xqury predicate after an xpath filter throws java.lang.ClassCastException: net.sf.saxon.tinytree.TinyElementImpl cannot be cast to net.sf.saxon.om.DocumentInfo . Attached unit test doesn't fail in camel 2.5.0.from('direct:xpath') .split(xpathsplitter) .filter().xquery('//record&#91;type=2&#93;') .to('mock:result'); See nabble discussion http://camel.465427.n5.nabble.com/Unit-test-fails-after-upgrading-to-2-7-1-Cannot-use-xquery-expression-after-xpath-td4422582.html, upgrad use xquri predic xpath filter throw java lang ClassCastException java lang class cast except net sf saxon tinytre TinyElementImpl net sf saxon tinytre tini element impl cannot cast net sf saxon om DocumentInfo net sf saxon om document info attach unit test fail camel direct xpath direct xpath split xpathsplitt split xpathsplitt filter xqueri record type filter xqueri record type mock result mock result see nabbl discuss,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;components/camel-saxon/src/test/java/org/apache/camel/component/xquery/XQueryPredicateFilterTest.java;,0
4976,Hadrian Zbarcea,camel-core,0,Problem Removing Endpoints, problem remov endpoint,(see context on the users@ list)When using removeEndpoints(String) with a pattern  some endpoints (like jms topics) are reported as removed but they are not., see context user user list list use removeEndpoints string remov endpoint string pattern endpoint like jm topic topic report remov not not,0,0,0,1,0,0,1
4985,Christian Schneider,examples,0,Spring security example does not work, spring secur exampl not work,When you try to run the spring security example and access it from a browser you get 404. I debugged into it and the reason is that the camel context does not attach to the camel http servlet., tri run spring secur exampl access browser get debug reason camel context not attach camel http servlet servlet,0,0,0,0,1,examples/camel-example-spring-security/pom.xml;examples/camel-example-spring-security/src/main/resources/camel-context.xml;examples/camel-example-spring-security/src/main/resources/org/apache/camel/example/spring/security/camel-context.xml;examples/camel-example-spring-security/src/main/resources/org/apache/camel/example/spring/security/common-security.xml;examples/camel-example-spring-security/src/main/webapp/WEB-INF/applicationContext-security.xml;examples/camel-example-spring-security/src/main/webapp/WEB-INF/web.xml;,1
4986,Erik Bakker,camel-jmx,0,ManagedPerformanceCounterMBean should extend ManagedCounterMBean, ManagedPerformanceCounterMBean manag perform counter bean extend ManagedCounterMBean manag counter bean,ManagedPerformanceCounterMBean does not extend ManagedCounterMBean  while ManagedPerformanceCounter does extend ManagedCounter., ManagedPerformanceCounterMBean manag perform counter bean not extend ManagedCounterMBean manag counter bean ManagedPerformanceCounter manag perform counter extend ManagedCounter manag counter,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/api/management/mbean/ManagedPerformanceCounterMBean.java;,0
4989,Willem Jiang,camel-bindy,0,BindyDataFormat should not use the default encoding, BindyDataFormat bindi data format not use default encod,Here is the mail thread&#91;1&#93; which discuss about it.&#91;1&#93;http://camel.465427.n5.nabble.com/Bindy-CSV-parser-uses-default-encoding-tp5456136p5456136.html, mail thread thread discuss http camel nabbl com bindi CSV parser use default encod tp html http camel nabbl com bindi CSV parser use default encod tp html,0,0,0,1,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/csv/BindyCsvDataFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/fixed/BindyFixedLengthDataFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/kvp/BindyKeyValuePairDataFormat.java;,0
4993,Joshua Watkins,camel-cometd,0,Add session information from cometd to camel message headers, add session inform cometd camel messag header,The cometd component has the ability to authenticate a connection with a custom SecurityPolicy.&#91;1&#93; This information can then be added to the cometd session for further calls. Unfortunately  session attributes aren't passed to the camel message for processing by endpoints and processors further down the line. 1. http://cometd.org/documentation/2.x/howtos/authentication, cometd compon abil authent connect custom SecurityPolicy secur polici inform ad cometd session call call unfortun session attribut pass camel messag process endpoint processor line line,0,1,0,1,0,components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometBindingTest.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdBinding.java;components/camel-cometd/src/main/java/org/apache/camel/component/cometd/CometdEndpoint.java;components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerTest.java;,1
4994,alex hutter,camel-spring,0,UnsupportedOperationException thrown if @Consume method is not public, UnsupportedOperationException unsupport oper except thrown consum consum method not public,If the org.apache.camel.Consume annotation is used on a method that is not public (e.g. default visibility)  then the following exception will be thrown every time a message is delivered to that consumer and the message will roll-back with the consumer never invoked.2012-02-08 16:29:37 298 [Camel Thread 0 - JmsConsumer&#91;paula.inprogress&#93; WARN org.apache.camel.component.jms.JmsMessageListenerContainer - Execution of JMS message listener failed  and no ErrorHandler has been set.org.apache.camel.RuntimeCamelException: java.lang.UnsupportedOperationException at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1139) at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:115) at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:560) at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:498) at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:243) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1050) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:947) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:680)Caused by: java.lang.UnsupportedOperationException at java.util.Collections$UnmodifiableMap.put(Collections.java:1285) at org.apache.camel.component.bean.BeanInfo.introspect(BeanInfo.java:256) at org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:136) at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:142) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:103) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85) at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:92) ... 11 moreI appreacate that this not specifically a bug  so I am filing this as an improvement. However this is a REALLY misleading error message. A more specific error message would be greaty appreaceated and save a lot of time. Thanks., org apach camel consum org apach camel consum annot use method not public default visibl visibl follow except thrown everi time messag deliv consum messag roll back roll back consum never invok invok camel camel thread JmsConsumer paula inprogress jm consum paula inprogress WARN org apach camel compon jm JmsMessageListenerContainer org apach camel compon jm jm messag listen contain execut JMS messag listen fail no ErrorHandler error handler set org apach camel RuntimeCamelException set org apach camel runtim camel except java lang UnsupportedOperationException java lang unsupport oper except org apach camel util ObjectHelper wrapRuntimeCamelException ObjectHelper java org apach camel util object helper wrap runtim camel except object helper java org apach camel compon jm EndpointMessageListener onMessage EndpointMessageListener java org apach camel compon jm endpoint messag listen messag endpoint messag listen java org springframework jm listen AbstractMessageListenerContainer doInvokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer invokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer doExecuteListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain execut listen abstract messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer doReceiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer receiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker invokeListener DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok invok listen default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker executeOngoingLoop DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok execut ongo loop default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker run DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok run default messag listen contain java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java caus java lang thread run thread java caus java lang UnsupportedOperationException java lang unsupport oper except java util collect UnmodifiableMap put collect java java util collect unmodifi map put collect java org apach camel compon bean BeanInfo introspect BeanInfo java org apach camel compon bean bean info introspect bean info java org apach camel compon bean BeanInfo createInvocation BeanInfo java org apach camel compon bean bean info creat invoc bean info java org apach camel compon bean BeanProcessor process BeanProcessor java org apach camel compon bean bean processor process bean processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel compon jm EndpointMessageListener onMessage EndpointMessageListener java org apach camel compon jm endpoint messag listen messag endpoint messag listen java moreI appreac not specif bug file improv improv howev REALLY mislead error messag messag specif error messag would greati appreac save lot time time thank thank,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/impl/CamelPostProcessorHelper.java;camel-core/src/test/java/org/apache/camel/impl/CamelPostProcessorHelperTest.java;,0
4996,Hadrian Zbarcea,camel-crypto,0,DigitalSignatureEndpoint not clearing headers after verify, DigitalSignatureEndpoint digit signatur endpoint not clear header verifi,The DigitalSignatureEndpoint has a clearHeaders option that is supposed to clear headers after a verify operation. However that is not working because the headers cleared are not the actual header values  but the name of the java String fields  which is irrelevant at runtime.The default value of the clearHeaders should also be true  so that Camel does not leave debris in the Exchange after a verify operation., DigitalSignatureEndpoint digit signatur endpoint clearHeaders clear header option suppos clear header verifi oper oper howev not work header clear not actual header valu name java string field irrelev runtim runtim default valu clearHeaders clear header also true camel not leav debri exchang verifi oper oper,0,0,0,0,0,0,0
5000,Claus Ibsen,camel-core,0,Error handler not called when recipient list has non existing endpoint, error handler not call recipi list non exist endpoint,Given this route onException(Exception.class) .handled(true) .to('mock:dead'); from('direct:start') .recipientList(constant('fail:endpoint')) .to('mock:result');You would assume the on exception will handle the exception from the recipient list with the non existing endpoint.This is not the case. We should let recipient list detect and let the error handler handle it., given rout onException except class except except class handl true handl true mock dead mock dead direct start direct start recipientList constant fail endpoint recipi list constant fail endpoint mock result mock result would assum except handl except recipi list non exist endpoint endpoint not case case let recipi list detect let error handler handl,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/RecipientList.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/model/RecipientListDefinition.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/test/java/org/apache/camel/processor/RecipientListInvalidEndpointErrorHandlerTest.java;camel-core/src/test/java/org/apache/camel/processor/RecipientListInvalidEndpointIgnoreInvalidEndpointsTest.java;,0
5004,Anton Kudinov,camel-core,0,Camel simple language wrong working with real number, camel simpl languag wrong work real number,I compute real number in route: &lt;setBody&gt;0.02&lt;/setBody&gt;After that I want to filter: &lt;filter&gt;&lt;simple&gt;${body} &gt; 0 &lt;/simple&gt; ... &lt;/filter&gt;This expression return false for value in body = 0.02, comput real number rout rout lt setBody gt lt setBody gt lt set bodi gt lt set bodi gt want filter filter lt filter gt lt simpl gt bodi lt filter gt lt simpl gt bodi gt gt lt simpl gt lt simpl gt lt filter gt lt filter gt express return fals valu bodi,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/language/simple/SimpleTokenizer.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleOperatorTest.java;,0
5005,Achim Nierbeck,camel-core,0,simple without embedded text results in an NPE, simpl without embed text result NPE,After switching to 2.9 the following results in a NPE&lt;camel:setBody&gt; &lt;camel:simple&gt;&lt;/camel:simple&gt;&lt;/camel:setBody&gt;I'm not sure if it is now required to have something in the content of the simple element. I used it for setting the body element to an empty string before (worked with 2.8.1), switch follow result NPE lt camel setBody gt NPE lt camel set bodi gt lt camel simpl gt lt camel simpl gt lt camel setBody gt lt camel simpl gt lt camel simpl gt lt camel set bodi gt not sure requir someth content simpl element element use set bodi element empti string work,0,0,1,0,1,camel-core/src/main/java/org/apache/camel/builder/PredicateBuilder.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleExpressionParser.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguage.java;camel-core/src/main/java/org/apache/camel/language/simple/SimplePredicateParser.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleTest.java;components/camel-spring/src/test/java/org/apache/camel/language/SpringSimpleEmptyStringTest.java;components/camel-spring/src/test/resources/org/apache/camel/language/SpringSimpleEmptyStringTest.xml;,0
5018,Bruno Barin,camel-bindy,0,Support unmarshall of CSV files that does not contain all fields described in the annotated POJO., support unmarshal CSV file not contain field describ annot POJO POJO,Actually when trying to unmarshall a CSV that does not contain all the fields described via @DataField annotation  an IllegalArgumentException is thrown. Would be better to define a default value for non required fields via @DataField annotation and therefore  not fail., actual tri unmarshal CSV not contain field describ via DataField data field annot IllegalArgumentException illeg argument except thrown thrown would better defin default valu non requir field via DataField data field annot therefor not fail fail,0,1,0,0,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyCsvFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/DataField.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindySimpleCsvUnmarshallTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/simple/oneclass/Order.java;,0
5024,Razvan Ludvig,camel-core,0,Streaming splitter ignores exception handling, stream splitter ignor except handl,If an exception occurs on the next() call of an Iterator in a streaming splitter  the exception is never propagated to the exception or the error handler. This will lead to improper route termination  and inifite rollback/retry cycles.I attached the minimal test case demonstrating the issue., except occur next next call iter stream splitter except never propag except error handler handler lead improp rout termin inifit rollback retri rollback retri cycl cycl attach minim test case demonstr issu issu,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/test/java/org/apache/camel/processor/SplitterStreamingWithErrorHandlerTest.java;,0
5035,Willem Jiang,camel-cxf,0,CxfProducer should release the CXF when the Producer is stopped., CxfProducer cxf produc releas CXF produc stop stop,CXF ClientImpl has the requestContext need to be cleaned when the CxfProducer is stopped.If we don't call the Client.destory() method  the requestContext will cause the memory leak., CXF ClientImpl client impl requestContext request context need clean CxfProducer cxf produc stop stop call client destori client destori method requestContext request context caus memori leak leak,0,0,1,1,0,components/camel-flatpack/src/main/java/org/apache/camel/component/flatpack/FixedLengthEndpoint.java;components/camel-flatpack/src/test/data/fixedLong/PEOPLE-FixedLength.txt;components/camel-flatpack/src/test/data/fixedMixed/PEOPLE-FixedLength.txt;components/camel-flatpack/src/test/data/fixedShort/PEOPLE-FixedLength.txt;components/camel-flatpack/src/test/java/org/apache/camel/component/flatpack/FixedLengthAllowLongTest.java;components/camel-flatpack/src/test/java/org/apache/camel/component/flatpack/FixedLengthAllowShortAndLongTest.java;components/camel-flatpack/src/test/java/org/apache/camel/component/flatpack/FixedLengthAllowShortTest.java;components/camel-flatpack/src/test/resources/org/apache/camel/component/flatpack/FixedLengthAllowLongTest-context.xml;components/camel-flatpack/src/test/resources/org/apache/camel/component/flatpack/FixedLengthAllowShortAndLongTest-context.xml;components/camel-flatpack/src/test/resources/org/apache/camel/component/flatpack/FixedLengthAllowShortTest-context.xml;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfProducerTest.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfProducerTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeanTest.java;,0
5036,Stefan Burkard,camel-core,0,Camel route with bean element sends on startup invalid message to target route that is represented by a proxy who exposes route, camel rout bean element send startup invalid messag target rout repres proxi expos rout,I expose a Camel route with a direct endpoint defined in an OSGi bundle with the &lt;camel:proxy&gt; and &lt;osgi:service&gt; tags. The reason for this is to be able to call this direct-route in other routes (defined in other bundles) as a 'sub-route' directly as bean &#91;.bean(routeproxy  &quot;method&quot;)&#93;. This works as expected.But on route startup the toString method is called on the route (for a description) which is propagated to the elements of the route. Therefore my bean-element (which is the direct-route-proxy) receives the toString call and the CamelInvocationHandler converts this toString call to a message and sends it to the direct-route. This more or less empty message is of course not valid for the target route and produces an error on bundle startup. Shouldn't the toString call be suppressed by the proxy  since toString is not part of the Interface the proxy represents? Or is my approach a not recommended or problematic approach?Parts of stacktrace to show the way from route startup to the produced message=&gt; route receives 'empty' message&#91;omitted&#93; at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:45) at org.apache.camel.component.bean.CamelInvocationHandler.invoke(CamelInvocationHandler.java:65) at $Proxy568.toString(Unknown Source) at sun.reflect.GeneratedMethodAccessor406.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597)=&gt; toString call is converted to message and sent to route&#91;omitted&#93; at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171) at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204) at $Proxy583.toString(Unknown Source) at org.apache.camel.component.bean.ConstantBeanHolder.toString(ConstantBeanHolder.java:48)=&gt; toString called on bean-element in route (bean is a proxy for a route) &#91;omitted&#93; at java.lang.String.valueOf(String.java:2826) at java.lang.StringBuilder.append(StringBuilder.java:115) at org.apache.camel.impl.EventDrivenConsumerRoute.toString(EventDrivenConsumerRoute.java:46) at org.apache.camel.management.mbean.ManagedRoute.&lt;init&gt;(ManagedRoute.java:41) at org.apache.camel.management.DefaultManagementLifecycleStrategy.onRoutesAdd(DefaultManagementLifecycleStrategy.java:368) at org.apache.camel.impl.RouteService.doStart(RouteService.java:109)=&gt; Route startup, expos camel rout direct endpoint defin OSGi OS Gi bundl lt camel proxi gt lt camel proxi gt lt osgi servic gt lt osgi servic gt tag tag reason abl call direct rout direct rout rout defin bundl bundl sub rout sub rout directli bean bean routeproxi bean routeproxi quot method quot quot method quot work expect expect rout startup toString string method call rout descript descript propag element rout rout therefor bean element bean element direct rout proxi direct rout proxi receiv toString string call CamelInvocationHandler camel invoc handler convert toString string call messag send direct rout direct rout less empti messag cours not valid target rout produc error bundl startup startup toString string call suppress proxi sinc toString string not part interfac proxi repres repres approach not recommend problemat approach part approach part stacktrac show way rout startup produc messag gt messag gt rout receiv empti empti messag omit messag omit org apach camel compon direct DirectProducer process DirectProducer java org apach camel compon direct direct produc process direct produc java org apach camel compon bean CamelInvocationHandler invok CamelInvocationHandler java org apach camel compon bean camel invoc handler invok camel invoc handler java proxi toString unknown proxi string unknown sourc sourc sun reflect GeneratedMethodAccessor invok unknown sun reflect gener method accessor invok unknown sourc sourc sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java gt java lang reflect method invok method java gt toString string call convert messag sent rout omit rout omit org springframework aop framework ReflectiveMethodInvocation proceed ReflectiveMethodInvocation java org springframework aop framework reflect method invoc proceed reflect method invoc java org springframework aop framework JdkDynamicAopProxy invok JdkDynamicAopProxy java org springframework aop framework jdk dynam aop proxi invok jdk dynam aop proxi java proxi toString unknown proxi string unknown sourc sourc org apach camel compon bean ConstantBeanHolder toString ConstantBeanHolder java gt org apach camel compon bean constant bean holder string constant bean holder java gt toString string call bean element bean element rout bean proxi rout rout omit omit java lang string valueOf string java java lang string valu string java java lang StringBuilder append StringBuilder java java lang string builder append string builder java org apach camel impl EventDrivenConsumerRoute toString EventDrivenConsumerRoute java org apach camel impl event driven consum rout string event driven consum rout java org apach camel manag mbean ManagedRoute lt init gt ManagedRoute java org apach camel manag mbean manag rout lt init gt manag rout java org apach camel manag DefaultManagementLifecycleStrategy onRoutesAdd DefaultManagementLifecycleStrategy java org apach camel manag default manag lifecycl strategi rout add default manag lifecycl strategi java org apach camel impl RouteService doStart RouteService java gt org apach camel impl rout servic start rout servic java gt rout startup,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/ConstantBeanHolder.java;,0
5048,Claus Ibsen,camel-core,0,Memory leak in SedaComponent if adding and removing a lot of seda endpoints with different queue names, memori leak SedaComponent seda compon ad remov lot seda endpoint differ queue name,If you add and remove a lot of seda endpoints with different queue names  then the seda component may keep references to non used queues., add remov lot seda endpoint differ queue name seda compon may keep refer non use queue queue,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaComponent.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaEndpoint.java;camel-core/src/main/java/org/apache/camel/component/vm/VmComponent.java;camel-core/src/test/java/org/apache/camel/component/seda/SedaComponentReferenceEndpointTest.java;camel-core/src/test/java/org/apache/camel/component/vm/VmComponentReferenceEndpointTest.java;,0
5049,Claus Ibsen,camel-core,0,Memory leak in TimerListener if JMX enabled, memori leak TimerListener timer listen JMX enabl,If adding and removing a lot of routes  and you have JMX enabled with load statistics  then it may leak memory  as the route listener is not properly removed when the route is removed  due invalid equals/hashCode., ad remov lot rout JMX enabl load statist may leak memori rout listen not properli remov rout remov due invalid equal hashCode equal hash code,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/TimerListener.java;camel-core/src/main/java/org/apache/camel/management/mbean/ManagedRoute.java;camel-core/src/main/java/org/apache/camel/support/TimerListenerManager.java;,0
5052,Christian Müller,camel-core,0,DefaultUnitOfWork should copy headers from the original message if it's a JmsMessage, DefaultUnitOfWork default unit work copi header origin messag JmsMessage jm messag,see Nabble for details, see nabbl detail,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsMessageAsOriginalMessageInDefaultUnitOfWorkTest.java;,0
5055,Torsten Mielke,camel-activemq; camel-jms,0,Offer a way to not set a transaction manager in camel-jms, offer way not set transact manag camel jm camel jm,The following sample Spring config sets up a camel-activemq component&lt;bean id='activemq' class='org.apache.activemq.camel.component.ActiveMQComponent'&gt; &lt;property name='configuration' ref='jmsConfigAmq' /&gt; &lt;/bean&gt; &lt;bean id='jmsConfigAmq' class='org.apache.activemq.camel.component.ActiveMQConfiguration' &gt; &lt;property name='connectionFactory' ref='jmsPooledConnectionFactory' /&gt; &lt;property name='transacted' value='true'/&gt; &lt;!-- &lt;property name='transactionManager' ref='jmsTransactionManager' /&gt; --&gt; &lt;property name='cacheLevelName' value='CACHE_CONSUMER'/&gt; &lt;/bean&gt; &lt;bean id='jmsTransactionManager' class='org.springframework.jms.connection.JmsTransactionManager'&gt; &lt;property name='connectionFactory' ref='jmsPooledConnectionFactory' /&gt; &lt;/bean&gt; &lt;bean id='jmsConnectionFactory' class='org.apache.activemq.ActiveMQConnectionFactory'&gt; &lt;property name='brokerURL' value='tcp://localhost:61617' /&gt; &lt;property name='watchTopicAdvisories' value='false' /&gt; &lt;/bean&gt; &lt;bean id='jmsPooledConnectionFactory' class='org.apache.activemq.pool.PooledConnectionFactory' &gt; &lt;property name='maxConnections' value='1'/&gt; &lt;property name='connectionFactory' ref='jmsConnectionFactory'/&gt; &lt;/bean&gt;The ActiveMQConfiguration sets transacted=true and configures for a JmsTransactionManager. Also  a PooledConnectionFactory is used. The config for a camel-jms component would be similar.The Spring JMS javadoc on AbstractPollingMessageListenerContainer.setTransactionManager states:Note: Consider the use of local JMS transactions instead. Simply switch the 'sessionTransacted' flag to 'true' in order to use a locally transacted JMS Session for the entire receive processing  including any Session operations performed by a SessionAwareMessageListener (e.g. sending a response message).It basically advises to only set transacted=true and don't specify a TX manager. The benefit of doing so is that the cacheLevel setting will be honored when using local transactions without a configured TX manager. When a TX manager is configured  no caching happens at DMLC level and its necessary to rely on a pooled connection factory. This is discussed here.However right now its not possible to configure the cameljms or camel-activemq component to not use an external TX manager when transacted=true is set.Even when setting lazyCreateTransactionManager=false.In case of camel-activemq  it still creates a default JmsTransactionManager:ActiveMQConfiguration.javapublic PlatformTransactionManager getTransactionManager() { PlatformTransactionManager answer = super.getTransactionManager(); if (isTransacted() &amp;&amp; answer == null) { // lets auto-default the transaction manager if its not specified answer = createTransactionManager(); setTransactionManager(answer); answer = getTransactionManager(); } return answer;}In case of camel-jms it throws an exception:JmsConfiguration.javaPlatformTransactionManager tm = getTransactionManager();if (tm != null) { container.setTransactionManager(tm);} else if (transacted) { throw new IllegalArgumentException('Property transacted is enabled but a transactionManager was not injected!');}We should allow for using transactions in camel-jms and camel-activemq without setting an external TX manager., follow sampl spring config set camel activemq camel activemq compon lt bean compon lt bean id activemq id activemq class org apach activemq camel compon ActiveMQComponent gt class org apach activemq camel compon activ MQ compon gt lt properti lt properti name configur name configur ref jmsConfigAmq ref jm config amq gt gt lt bean gt lt bean gt lt bean lt bean id jmsConfigAmq id jm config amq class org apach activemq camel compon ActiveMQConfiguration class org apach activemq camel compon activ MQ configur gt gt lt properti lt properti name connectionFactory name connect factori ref jmsPooledConnectionFactory ref jm pool connect factori gt gt lt properti lt properti name transact name transact valu true gt valu true gt lt lt lt properti lt properti name transactionManager name transact manag ref jmsTransactionManager ref jm transact manag gt gt gt gt lt properti lt properti name cacheLevelName name cach level name valu CACHE_CONSUMER gt valu CACHE CONSUMER gt lt bean gt lt bean gt lt bean lt bean id jmsTransactionManager id jm transact manag class org springframework jm connect JmsTransactionManager gt class org springframework jm connect jm transact manag gt lt properti lt properti name connectionFactory name connect factori ref jmsPooledConnectionFactory ref jm pool connect factori gt gt lt bean gt lt bean gt lt bean lt bean id jmsConnectionFactory id jm connect factori class org apach activemq ActiveMQConnectionFactory gt class org apach activemq activ MQ connect factori gt lt properti lt properti name brokerURL name broker URL valu tcp localhost valu tcp localhost gt gt lt properti lt properti name watchTopicAdvisories name watch topic advisori valu fals valu fals gt gt lt bean gt lt bean gt lt bean lt bean id jmsPooledConnectionFactory id jm pool connect factori class org apach activemq pool PooledConnectionFactory class org apach activemq pool pool connect factori gt gt lt properti lt properti name maxConnections name max connect valu gt valu gt lt properti lt properti name connectionFactory name connect factori ref jmsConnectionFactory gt ref jm connect factori gt lt bean gt lt bean gt ActiveMQConfiguration activ MQ configur set transact true transact true configur JmsTransactionManager jm transact manag also PooledConnectionFactory pool connect factori use use config camel jm camel jm compon would similar similar spring JMS javadoc AbstractPollingMessageListenerContainer setTransactionManager abstract poll messag listen contain set transact manag state note state note consid use local JMS transact instead instead simpli switch sessionTransacted session transact flag true true order use local transact JMS session entir receiv process includ session oper perform SessionAwareMessageListener session awar messag listen send respons messag messag basic advis set transact true transact true specifi TX manag manag benefit cacheLevel cach level set honor use local transact without configur TX manag manag TX manag configur no cach happen DMLC level necessari reli pool connect factori factori discuss howev howev right not possibl configur cameljm camel activemq camel activemq compon not use extern TX manag transact true transact true set even set even set lazyCreateTransactionManager fals lazi creat transact manag fals case camel activemq camel activemq still creat default JmsTransactionManager ActiveMQConfiguration javapubl jm transact manag activ MQ configur javapubl PlatformTransactionManager platform transact manag getTransactionManager get transact manag PlatformTransactionManager platform transact manag answer super getTransactionManager super get transact manag isTransacted transact amp amp amp amp answer null null let auto default auto default transact manag not specifi answer createTransactionManager creat transact manag setTransactionManager answer set transact manag answer answer getTransactionManager get transact manag return answer answer case camel jm camel jm throw except JmsConfiguration javaPlatformTransactionManager except jm configur java platform transact manag tm getTransactionManager get transact manag tm null null contain setTransactionManager tm contain set transact manag tm els transact transact throw new IllegalArgumentException properti illeg argument except properti transact enabl transactionManager transact manag not inject inject allow use transact camel jm camel jm camel activemq camel activemq without set extern TX manag manag,0,0,1,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsEndpointConfigurationTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsEndpointConfigurationTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsConfiguration.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsEndpointConfigurationTest.java;,0
5058,Zach Calvert,camel-core,0,Bug: Unique Endpoints Leaking in DefaultInflightRepository, bug bug uniqu endpoint leak DefaultInflightRepository default inflight repositori,If you have an endpoint protocol which uses unique URIs you will leak Strings in the HashMap stored in the DefaultInflightRepository (org.apache.camel.impl.DefaultInflightRepository)It seems there is a reference counting scheme in place  but it doesn't do a remove until the 'stop' method is called to shut the system down. We are running XMPP endpoints  which use a protocol like xmpp://someaccount@domain/password?to=someOtherAccountWhen there are 10 million accounts  not all of which are active  but all of which may message at some time or another  no references are removed to the endpointCount.When the count becomes 0  the reference should be removed and the size method will still return the appropriate result.Please be careful in the implementation to synchronize on some object (perhaps the AtomicInteger) reflecting a read/write lock on the endpoint count modification., endpoint protocol use uniqu URIs UR leak string HashMap hash map store DefaultInflightRepository default inflight repositori org apach camel impl DefaultInflightRepository org apach camel impl default inflight repositori seem refer count scheme place remov stop stop method call shut system run XMPP endpoint use protocol like xmpp someaccount domain password someOtherAccountWhen xmpp someaccount domain password account million account not activ may messag time anoth no refer remov endpointCount endpoint count count becom refer remov size method still return appropri result pleas result pleas care implement synchron object perhap AtomicInteger atom integ reflect read write read write lock endpoint count modif modif,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultInflightRepository.java;camel-core/src/test/java/org/apache/camel/impl/DefaultInflightRepositoryConcurrentTest.java;camel-core/src/test/java/org/apache/camel/impl/DefaultInflightRepositoryConcurrentTest.java;camel-core/src/main/java/org/apache/camel/impl/DefaultInflightRepository.java;camel-core/src/main/java/org/apache/camel/impl/RouteService.java;camel-core/src/main/java/org/apache/camel/spi/InflightRepository.java;camel-core/src/test/java/org/apache/camel/impl/InflightRepositoryRemoveRouteTest.java;camel-core/src/test/java/org/apache/camel/impl/DefaultInflightRepositoryConcurrentTest.java;,0
5063,Preben Asmussen,camel-core,0,npe in camel 2.9.1 validator, npe camel valid,validator component seems broken in 2.9.1. Gives you a npe when loading xsd from classpath during unittesting.See http://camel.465427.n5.nabble.com/npe-in-camel-2-9-1-validator-tc5540894.htmlprefixing with classpath eg. &lt;to uri='validator:classpath:BroadcastMonitor.xsd' /&gt; doesn't help., valid compon seem broken give npe load xsd classpath unittest see unittest see classpath eg eg lt lt uri valid classpath BroadcastMonitor xsd uri valid classpath broadcast monitor xsd gt gt help help,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/validator/DefaultLSResourceResolver.java;camel-core/src/test/java/org/apache/camel/component/validator/ValidatorIllegalImportTest.java;camel-core/src/test/resources/org/apache/camel/component/validator/BroadcastMonitor.xsd;camel-core/src/test/resources/org/apache/camel/component/validator/BroadcastMonitorFixed.xsd;camel-core/src/test/resources/org/apache/camel/component/validator/health.xsd;camel-core/src/test/resources/org/apache/camel/component/validator/person.xsd;,0
5080,João Anacleto,null,0,camel-jt400 - Parameter length when doing Program Call issue, camel jt camel jt paramet length program call issu,When the length of each parameter of a program.PGM is greater than the length of his values  the parameters are setted incorrectly.Example:Input of program.pgm:param1 -&gt; A5 (alphanumeric with length 5) param2 -&gt; A5 (alphanumeric with length 5) When the String array is {'123'  '456'} the values are setted on each parameter as:param1 = 12345param2 = 6, length paramet program PGM program PGM greater length valu paramet set incorrectli exampl input incorrectli exampl input program pgm param program pgm param gt gt alphanumer length param param gt gt alphanumer length string array valu set paramet param param param param,0,1,0,1,0,components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400PgmProducer.java;,0
5081,Christian Müller,tests,0,org.apache.camel.component.mybatis.MyBatisBatchConsumerTest.testBatchConsumer() fails unpredictable, org apach camel compon mybati MyBatisBatchConsumerTest testBatchConsumer org apach camel compon mybati bati batch consum test test batch consum fail unpredict,I assume we see this failure when we inserted the first test into the database (and only the first one) when the mybatis consumer starts to poll the database. See build failure: https://builds.apache.org/job/Camel.2.8.x.fulltest/org.apache.camel$camel-mybatis/149/, assum see failur insert first test databas first one one mybati consum start poll databas databas see build failur failur,0,0,0,1,0,components/camel-mybatis/src/main/java/org/apache/camel/component/mybatis/MyBatisConsumer.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisBatchConsumerTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisDeleteTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisInsertTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisPollingDelayRouteTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisQueueTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisRouteEmptyResultSetTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisSelectListTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisSelectListWithSplitTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisSelectOneTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisShutdownAllTasksTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisShutdownCurrentTaskOnlyTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisTestSupport.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisUnknownStatementTypeTest.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisUpdateTest.java;components/camel-mybatis/src/test/resources/SqlMapConfig.xml;,0
5097,Hadrian Zbarcea,null,0,Incorrect feature definition for camel-fop, incorrect featur definit camel fop camel fop,,,0,0,0,0,0,0,0
5099,Claus Ibsen,camel-core,0,Timer component - Should use thread name pattern so the thread name is aligned with the Camel threads, timer compon use thread name pattern thread name align camel thread,When using the timer component  the thread name will just be the timer name.Before2012-03-16 09:28:42 857 [foo ] INFO route1 - Fired timerAfter2012-03-16 09:28:18 611 [Camel (camel-1) thread #0 - foo ] INFO route1 - Fired timer, use timer compon thread name timer name name foo INFO rout rout fire timerAfter timer camel camel camel camel thread foo INFO rout rout fire timer,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/timer/TimerComponent.java;camel-core/src/test/java/org/apache/camel/component/timer/TimerRouteTest.java;camel-core/src/main/java/org/apache/camel/component/timer/TimerComponent.java;,0
5100,Claus Ibsen,camel-spring,0,Add option autogenColumns to csv data format in XML DSL, add option autogenColumns autogen column csv data format XML DSL,See nabblehttp://camel.465427.n5.nabble.com/CSV-dateformat-bug-Attribute-AutogenColumns-is-not-allowed-to-appear-in-element-camel-csv-tp5570066p5570066.htmlThis option is not exposed in the &lt;csv&gt; data format in the XML DSLs, see nabblehttp camel nabbl com CSV dateformat bug attribut AutogenColumns not allow appear element camel csv tp htmlThis nabblehttp camel nabbl com CSV dateformat bug attribut autogen column not allow appear element camel csv tp html option not expos lt csv gt lt csv gt data format XML DSLs DS Ls,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/dataformat/CsvDataFormat.java;components/camel-csv/src/test/java/org/apache/camel/dataformat/csv/CsvMarshalAutogenColumnsSpringTest.java;components/camel-csv/src/test/resources/org/apache/camel/dataformat/csv/CsvMarshalAutogenColumnsSpringTest-context.xml;camel-core/src/main/java/org/apache/camel/model/dataformat/CsvDataFormat.java;,0
5102,Claus Ibsen,camel-core; jmx,0,Timer endpoint getState does not work in JMX, timer endpoint getState get state not work JMX,The getState attribute does not work., getState get state attribut not work work,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/timer/TimerEndpoint.java;,0
5105,Babak Vahdat,camel-spring,0,Add the options configRef and strategyRef to csv data format in XML DSL, add option configRef config ref strategyRef strategi ref csv data format XML DSL,CAMEL-5100 provided the autogenColumns option which doesn't bring much on it's own (default is true)  which with an explicit value set to false nothing will be appended into the output other than '/n''s.So using the configRef and strategyRef options we could then bring the same power of expression inside XML DSL like inside Java. Following a sample where the user can customize the used CSVConfig and/or CSVStrategy being used: &lt;camelContext id='camel' xmlns='http://camel.apache.org/schema/spring'&gt; &lt;route&gt; &lt;from uri='direct:start' /&gt; &lt;marshal&gt; &lt;csv autogenColumns='false' delimiter='|' configRef='csvConfig1' /&gt; &lt;/marshal&gt; &lt;convertBodyTo type='java.lang.String' /&gt; &lt;to uri='mock:result' /&gt; &lt;/route&gt; &lt;route&gt; &lt;from uri='direct:start2' /&gt; &lt;marshal&gt; &lt;!-- make use of a strategy other than the default one which is 'org.apache.commons.csv.CSVStrategy.DEFAULT_STRATEGY' --&gt; &lt;csv autogenColumns='false' delimiter='|' configRef='csvConfig2' strategyRef='excelStrategy' /&gt; &lt;/marshal&gt; &lt;convertBodyTo type='java.lang.String' /&gt; &lt;to uri='mock:result2' /&gt; &lt;/route&gt; &lt;/camelContext&gt; &lt;bean id='csvConfig1' class='org.apache.commons.csv.writer.CSVConfig'&gt; &lt;property name='fields'&gt; &lt;list&gt; &lt;!-- here we're only interested in 'item' but not in 'orderId' or 'amount' --&gt; &lt;bean class='org.apache.commons.csv.writer.CSVField'&gt; &lt;property name='name' value='item' /&gt; &lt;/bean&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean id='csvConfig2' class='org.apache.commons.csv.writer.CSVConfig'&gt; &lt;property name='fields'&gt; &lt;list&gt; &lt;!-- here we're interested in both 'orderId' and 'amount' but not in 'item' --&gt; &lt;bean class='org.apache.commons.csv.writer.CSVField'&gt; &lt;property name='name' value='orderId' /&gt; &lt;/bean&gt; &lt;bean class='org.apache.commons.csv.writer.CSVField'&gt; &lt;property name='name' value='amount' /&gt; &lt;/bean&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean id='excelStrategy' class='org.springframework.beans.factory.config.FieldRetrievingFactoryBean'&gt; &lt;property name='staticField' value='org.apache.commons.csv.CSVStrategy.EXCEL_STRATEGY' /&gt; &lt;/bean&gt;, CAMEL CAMEL provid autogenColumns autogen column option bring much default true true explicit valu set fals noth append output use configRef config ref strategyRef strategi ref option could bring power express insid XML DSL like insid java java follow sampl user custom use CSVConfig CSV config CSVStrategy CSV strategi use use lt camelContext lt camel context id camel id camel xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt rout gt lt rout gt lt lt uri direct start uri direct start gt gt lt marshal gt lt marshal gt lt csv lt csv autogenColumns fals autogen column fals delimit delimit configRef csvConfig config ref csv config gt gt lt marshal gt lt marshal gt lt convertBodyTo lt convert bodi type java lang string type java lang string gt gt lt lt uri mock result uri mock result gt gt lt rout gt lt rout gt lt rout gt lt rout gt lt lt uri direct start uri direct start gt gt lt marshal gt lt marshal gt lt lt make use strategi default one org apach common csv CSVStrategy DEFAULT_STRATEGY org apach common csv CSV strategi DEFAULT STRATEGY gt gt lt csv lt csv autogenColumns fals autogen column fals delimit delimit configRef csvConfig config ref csv config strategyRef excelStrategy strategi ref excel strategi gt gt lt marshal gt lt marshal gt lt convertBodyTo lt convert bodi type java lang string type java lang string gt gt lt lt uri mock result uri mock result gt gt lt rout gt lt rout gt lt camelContext gt lt camel context gt lt bean lt bean id csvConfig id csv config class org apach common csv writer CSVConfig gt class org apach common csv writer CSV config gt lt properti lt properti name field gt name field gt lt list gt lt list gt lt lt interest item item not orderId order Id amount amount gt gt lt bean lt bean class org apach common csv writer CSVField gt class org apach common csv writer CSV field gt lt properti lt properti name name name name valu item valu item gt gt lt bean gt lt bean gt lt list gt lt list gt lt properti gt lt properti gt lt bean gt lt bean gt lt bean lt bean id csvConfig id csv config class org apach common csv writer CSVConfig gt class org apach common csv writer CSV config gt lt properti lt properti name field gt name field gt lt list gt lt list gt lt lt interest orderId order Id amount amount not item item gt gt lt bean lt bean class org apach common csv writer CSVField gt class org apach common csv writer CSV field gt lt properti lt properti name name name name valu orderId valu order Id gt gt lt bean gt lt bean gt lt bean lt bean class org apach common csv writer CSVField gt class org apach common csv writer CSV field gt lt properti lt properti name name name name valu amount valu amount gt gt lt bean gt lt bean gt lt list gt lt list gt lt properti gt lt properti gt lt bean gt lt bean gt lt bean lt bean id excelStrategy id excel strategi class org springframework bean factori config FieldRetrievingFactoryBean gt class org springframework bean factori config field retriev factori bean gt lt properti lt properti name staticField name static field valu org apach common csv CSVStrategy EXCEL_STRATEGY valu org apach common csv CSV strategi EXCEL STRATEGY gt gt lt bean gt lt bean gt,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/model/dataformat/CsvDataFormat.java;components/camel-csv/src/test/java/org/apache/camel/dataformat/csv/CsvMarshalAutogenColumnsSpringTest.java;components/camel-csv/src/test/resources/org/apache/camel/dataformat/csv/CsvMarshalAutogenColumnsSpringTest-context.xml;,0
5108,Michael Shorter,camel-restlet,0,Set Restlet Server Options and Return HTTP Headers Set in Exchange, set restlet server option return HTTP header set exchang,The underlying Restlet server options can now be set via an Endpoint option.HTTP headers (e.g. Expires or Last Modified) are returned properly from the exchange to the Restlet., underli restlet server option set via endpoint option HTTP option HTTP header expir last modifi modifi return properli exchang restlet restlet,0,1,0,0,0,components/camel-restlet/src/main/java/org/apache/camel/component/restlet/DefaultRestletBinding.java;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletBinding.java;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletComponent.java;components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletAddRouteTest.java;components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletRestartRouteTest.java;,0
5115,Willem Jiang,camel-cxf,0,CxfBeanDestination should copy the in message header to the out message, CxfBeanDestination cxf bean destin copi messag header messag,User complains about can not access any other headers after the cxfbean in this mail thread&#91;1&#93;.We should let the CxfBeanDestination copy the in message header before it sends the message back.&#91;1&#93;http://camel.465427.n5.nabble.com/Camel-CXF-Drops-Headers-tt5590792.html, user complain not access header cxfbean mail thread thread let CxfBeanDestination cxf bean destin copi messag header send messag back http camel nabbl com camel CXF drop header tt html back http camel nabbl com camel CXF drop header tt html,0,0,0,1,0,components/camel-cxf-transport/src/main/java/org/apache/camel/component/cxf/common/message/DefaultCxfMesssageMapper.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/cxfbean/CxfBeanTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/cxfbean/CxfBeanTest-context.xml;,0
5122,Jean-Baptiste Onofré,camel-rmi,0,RMI endpoint doesn't handle nested exception and raise CamelRuntimeException instead of RemoteException, RMI endpoint handl nest except rais CamelRuntimeException camel runtim except instead RemoteException remot except,When we have a route looking like:&lt;from uri='rmi:...'/&gt;&lt;to uri='myBean'/&gt;if an exception is raised on myBean  the RMI endpoint ignores the exception described in the RemoteInterface and always raises a RuntimeCamelException nesting the original exceptions.More over  RuntimeCamalException should not be raised by the RMI endpoint. It would make more sense to raise a RemoteException  as we are on a RMI endpoint., rout look like lt like lt uri rmi gt lt uri rmi gt lt uri myBean gt uri bean gt except rais myBean bean RMI endpoint ignor except describ RemoteInterface remot interfac alway rais RuntimeCamelException runtim camel except nest origin except except RuntimeCamalException runtim camal except not rais RMI endpoint endpoint would make sens rais RemoteException remot except RMI endpoint endpoint,0,0,0,0,0,components/camel-rmi/src/main/java/org/apache/camel/component/rmi/RmiConsumer.java;components/camel-rmi/src/test/java/org/apache/camel/component/rmi/DamnException.java;components/camel-rmi/src/test/java/org/apache/camel/component/rmi/EchoService.java;components/camel-rmi/src/test/java/org/apache/camel/component/rmi/IEcho.java;components/camel-rmi/src/test/java/org/apache/camel/component/rmi/RmiConcurrencyTest.java;components/camel-rmi/src/test/java/org/apache/camel/component/rmi/RmiDamnExceptionTest.java;components/camel-rmi/src/test/java/org/apache/camel/component/rmi/RmiIllegalArgumentExceptionTest.java;,0
5140,Claus Ibsen,camel-core,0,bean component - @Handler should take precedence in a bean that implements Predicate, bean compon handler handler take preced bean implement predic,If you use a bean in a Camel route  and have not specified the method name to invoke. Then Camel has to scan for suitable methods to use. And for that we have the @Handler annotation which should take precedence in this process. However if the bean implements Predicate  or Processor  then Camel will use that. However the @Handler should be used instead  as this is what the end-user expects. And also what we tell in the docs., use bean camel rout not specifi method name invok invok camel scan suitabl method use use handler handler annot take preced process process howev bean implement predic processor camel use howev handler handler use instead end user end user expect expect also tell doc doc,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanHandlerMethodPredicateTest.java;camel-core/src/test/java/org/apache/camel/component/bean/MyHandlerPredicateBean.java;,0
5162,Claus Ibsen,camel-core,0,OnException - Handler or Continued predicate is invoked twice per exception, OnException except handler continu predic invok twice per except,See CAMEL-5139When using handled(predicate) or continued(predicate) those is evaluated twice per exception. We should only do this once  which is what the end user would normally except., see CAMEL CAMEL use handl predic handl predic continu predic continu predic evalu twice per except except end user would normal except except,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinuePredicateTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinueTwoPredicateTest.java;,0
5167,Radoslaw Szymanek,null,0,onException policy within global context lost when error handler redefined within route context., onException except polici within global context lost error handler redefin within rout context context,This may as well be Camel feature (limitation of Java DSL)  but I found no indications/warning that this is a feature in Camel book or web documentation. The route is somewhat ill defined as local errorHandler should be placed before bean part  but maybe for those types of mistakes it should not have this nasty side effects of loosing global onException policy  but at least complain during route creation . Moreover  the route works properly if I remove global error handler  so it is rather nasty effect if route definition correctness depends on the existence of the global error handler definition.If I move local errorHandler before bean part then the my test passes as the onException policy is triggered and works properly. As soon as I redefine the error handler within a route the onException policy is no longer applicable for the route and the route propagates the exception back to the caller.  errorHandler(defaultErrorHandler().maximumRedeliveries(1)); onException(NullPointerException.class).setOnRedelivery(new NullRegistrationDateProcessor()); from('direct:toPropertyFile').routeId('registrationEntryToPropertyFile') .setHeader(Exchange.FILE_NAME  simple('${body.firstname}.${body.surname}')) .bean(RegistrationToPropertiesBean.class  'convert') // Potential bug in Camel  if the same error handler like global is turned on then onException defined in global context will not be picked up. .errorHandler(defaultErrorHandler().maximumRedeliveries(1)) // the code above is working if no default handler was created for a global context. .to('file://' + outFolder);, may well camel featur limit java DSL DSL found no indic warn indic warn featur camel book web document document rout somewhat ill defin local errorHandler error handler place bean part mayb type mistak not nasti side effect loos global onException except polici least complain rout creation moreov rout work properli remov global error handler rather nasti effect rout definit correct depend exist global error handler definit definit move local errorHandler error handler bean part test pass onException except polici trigger work properli properli soon redefin error handler within rout onException except polici no longer applic rout rout propag except back caller caller errorHandler defaultErrorHandler maximumRedeliveries error handler default error handler maximum redeliveri onException NullPointerException class setOnRedelivery new except null pointer except class set redeliveri new NullRegistrationDateProcessor null registr date processor direct toPropertyFile routeId registrationEntryToPropertyFile direct properti file rout Id registr entri properti file setHeader exchang FILE_NAME set header exchang FILE NAME simpl bodi firstnam bodi surnam simpl bodi firstnam bodi surnam bean RegistrationToPropertiesBean class bean registr properti bean class convert convert potenti bug camel error handler like global turn onException except defin global context not pick errorHandler defaultErrorHandler maximumRedeliveries error handler default error handler maximum redeliveri code work no default handler creat global context context file file outFolder folder,0,0,1,0,0,camel-core/src/test/java/org/apache/camel/issues/SameRouteAndContextScopedErrorHandlerIssueTest.java;,0
5177,Claus Ibsen,camel-core,0,Avoid parsing URI each time when getting uri from endpoint, avoid pars URI time get uri endpoint,In Camel 2.9  a new EndpointConfiguration was introduced  which has more fine grained details about an URI.However the getEndpointUri method on Endpoint is now parsing the uri on each call  this is not needed  and is also unnecessary overhead.We should parse this once.Also Camel's built-in type converter should be used during the parsing  and not just the hardcoded PropertyEditorTypeConverter which is to be considered removed as its not thread safe causes unforeseen side effects when 3rd party projects register property converter, camel new EndpointConfiguration endpoint configur introduc fine grain detail URI howev URI howev getEndpointUri get endpoint uri method endpoint pars uri call not need also unnecessari overhead overhead pars also also camel camel built built type convert use pars not hardcod PropertyEditorTypeConverter properti editor type convert consid remov not thread safe caus unforeseen side effect rd parti project regist properti convert,0,0,0,0,1,components/camel-irc/src/test/java/org/apache/camel/component/irc/IrcConfigurationTest.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/spring/CxfEndpointBeansRouterTest.java;camel-core/src/main/java/org/apache/camel/EndpointConfiguration.java;camel-core/src/main/java/org/apache/camel/impl/ConfigurationHelper.java;camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java;camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java;camel-core/src/main/java/org/apache/camel/impl/DefaultEndpointConfiguration.java;camel-core/src/main/java/org/apache/camel/impl/MappedEndpointConfiguration.java;camel-core/src/test/java/org/apache/camel/impl/ConfigurationHelperTest.java;camel-core/src/test/java/org/apache/camel/impl/EndpointConfigurationTest.java;,0
5178,Anders,camel-core,0,'IOException: No space left on device' exception swallowed by camel, IOException IO except No space left devic devic except swallow camel,When routing a file using the GenericFileConsumer object an exception is swallowed if the lock file cant be created (i.e there is no harddrive space).GenericFileConsumer.javaprotected void processExchange(final Exchange exchange) { GenericFile&lt;T&gt; file = getExchangeFileProperty(exchange); log.trace('Processing file: {}'  file); // must extract the absolute name before the begin strategy as the file could potentially be pre moved // and then the file name would be changed String absoluteFileName = file.getAbsoluteFilePath(); // check if we can begin processing the file try { final GenericFileProcessStrategy&lt;T&gt; processStrategy = endpoint.getGenericFileProcessStrategy(); boolean begin = processStrategy.begin(operations  endpoint  exchange  file); if (!begin) { log.debug(endpoint + ' cannot begin processing file: {}'  file); // begin returned false  so remove file from the in progress list as its no longer in progress endpoint.getInProgressRepository().remove(absoluteFileName); return; } } catch (Exception e) { if (log.isDebugEnabled()) { log.debug(endpoint + ' cannot begin processing file: ' + file + ' due to: ' + e.getMessage()  e); } endpoint.getInProgressRepository().remove(absoluteFileName); return; }....}When processStrategy.begin(operations  endpoint  exchange  file); throws an java.io.IOException this is swallowed in the catch method and never propagated to the error handling of camel. Output from log is: 11:33:44.290 [Camel (camel-2) thread #1 - file:/Users/xxxx/yyyy/Files/] DEBUG o.a.c.component.file.FileConsumer - Endpoint[file:/Users/xxxx/yyyy/Files/] cannot begin processing file: GenericFile[//Users/xxxx/yyyy/Files/file01] due to: No space left on devicejava.io.IOException: No space left on device at java.io.UnixFileSystem.createFileExclusively(Native Method) ~[na:1.6.0_31] at java.io.File.createNewFile(File.java:883) ~[na:1.6.0_31] at org.apache.camel.component.file.strategy.MarkerFileExclusiveReadLockStrategy.acquireExclusiveReadLock(MarkerFileExclusiveReadLockStrategy.java:54) ~[camel-core-2.9.0.jar:2.9.0] at org.apache.camel.component.file.strategy.GenericFileProcessStrategySupport.begin(GenericFileProcessStrategySupport.java:46) ~[camel-core-2.9.0.jar:2.9.0] at org.apache.camel.component.file.strategy.GenericFileRenameProcessStrategy.begin(GenericFileRenameProcessStrategy.java:46) ~[camel-core-2.9.0.jar:2.9.0] at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:308) [camel-core-2.9.0.jar:2.9.0] at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:175) [camel-core-2.9.0.jar:2.9.0] at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:136) [camel-core-2.9.0.jar:2.9.0] at org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:140) [camel-core-2.9.0.jar:2.9.0] at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:92) [camel-core-2.9.0.jar:2.9.0] at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) [na:1.6.0_31] at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317) [na:1.6.0_31] at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150) [na:1.6.0_31] at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98) [na:1.6.0_31] at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180) [na:1.6.0_31] at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204) [na:1.6.0_31] at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [na:1.6.0_31] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [na:1.6.0_31] at java.lang.Thread.run(Thread.java:680) [na:1.6.0_31]I have tried both tried error handling on the route and the DefaultErrorHandler way but this exception is never handled by the methods  ie Camel log them and then swallow them., rout file use GenericFileConsumer gener file consum object except swallow lock file cant creat no harddriv space GenericFileConsumer javaprotect space gener file consum javaprotect void processExchange final process exchang final exchang exchang exchang GenericFile lt gt gener file lt gt file getExchangeFileProperty exchang get exchang file properti exchang log trace process log trace process file file file file must extract absolut name begin strategi file could potenti pre move file name would chang string absoluteFileName absolut file name file getAbsoluteFilePath file get absolut file path check begin process file tri final GenericFileProcessStrategy lt gt gener file process strategi lt gt processStrategy process strategi endpoint getGenericFileProcessStrategy endpoint get gener file process strategi boolean begin processStrategy begin oper process strategi begin oper endpoint exchang file file begin begin log debug endpoint log debug endpoint cannot begin process file file file file begin return fals remov file progress list no longer progress endpoint getInProgressRepository remov absoluteFileName endpoint get progress repositori remov absolut file name return return catch except except log isDebugEnabled log debug enabl log debug endpoint log debug endpoint cannot begin process file file file due getMessage get messag endpoint getInProgressRepository remov absoluteFileName endpoint get progress repositori remov absolut file name return return processStrategy begin oper process strategi begin oper endpoint exchang file file throw java io IOException java io IO except swallow catch method never propag error handl camel camel output log camel camel camel camel thread file user xxxx yyyi file file user xxxx yyyi file DEBUG compon file FileConsumer compon file file consum endpoint file user xxxx yyyi file endpoint file user xxxx yyyi file cannot begin process file file GenericFile user xxxx yyyi file file gener file user xxxx yyyi file file due No space left devicejava io IOException devicejava io IO except No space left devic java io UnixFileSystem createFileExclusively nativ java io unix file system creat file exclus nativ method method na  na  java io file createNewFile file java java io file creat new file file java na  na  org apach camel compon file strategi MarkerFileExclusiveReadLockStrategy acquireExclusiveReadLock MarkerFileExclusiveReadLockStrategy java org apach camel compon file strategi marker file exclus read lock strategi acquir exclus read lock marker file exclus read lock strategi java camel core jar camel core jar org apach camel compon file strategi GenericFileProcessStrategySupport begin GenericFileProcessStrategySupport java org apach camel compon file strategi gener file process strategi support begin gener file process strategi support java camel core jar camel core jar org apach camel compon file strategi GenericFileRenameProcessStrategy begin GenericFileRenameProcessStrategy java org apach camel compon file strategi gener file renam process strategi begin gener file renam process strategi java camel core jar camel core jar org apach camel compon file GenericFileConsumer processExchange GenericFileConsumer java org apach camel compon file gener file consum process exchang gener file consum java camel core jar camel core jar org apach camel compon file GenericFileConsumer processBatch GenericFileConsumer java org apach camel compon file gener file consum process batch gener file consum java camel core jar camel core jar org apach camel compon file GenericFileConsumer poll GenericFileConsumer java org apach camel compon file gener file consum poll gener file consum java camel core jar camel core jar org apach camel impl ScheduledPollConsumer doRun ScheduledPollConsumer java org apach camel impl schedul poll consum run schedul poll consum java camel core jar camel core jar org apach camel impl ScheduledPollConsumer run ScheduledPollConsumer java org apach camel impl schedul poll consum run schedul poll consum java camel core jar camel core jar java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java na  na  java util concurr FutureTask sync innerRunAndReset FutureTask java java util concurr futur task sync inner run reset futur task java na  na  java util concurr FutureTask runAndReset FutureTask java java util concurr futur task run reset futur task java na  na  java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java na  na  java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask runPeriodic ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run period schedul thread pool executor java na  na  java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java na  na  java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java na  na  java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java na  na  java lang thread run thread java java lang thread run thread java na  na  tri tri error handl rout DefaultErrorHandler default error handler way except never handl method ie camel log swallow,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;camel-core/src/main/java/org/apache/camel/impl/DefaultConsumer.java;camel-core/src/main/java/org/apache/camel/impl/LoggingExceptionHandler.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerCustomExceptionHandlerTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerCustomExceptionHandlerTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumerCustomExceptionHandlerTest.java;,0
5180,Magnus Palmér,camel-bindy,0,Backmerge CAMEL-5018 to the Bindy component for non-required fields, backmerg CAMEL CAMEL bindi compon non requir non requir field,The issue  originally reported via CAMEL-5133  is to backmerge the CAMEL-5018 fix into the 2.9.x branch.I merged revision 1292164 into my local 2.9.x branch that I had updated with two new test cases.Before merge one test failed  after merge all tests were successfull.Attaching the updated model and tabtest.&#8212; Revision: 1292164Author: ningjiangDate: den 22 februari 2012 08:49:40Message:CAMEL-5018 support the set the default value on the field of bindy CVSModified : /camel/trunk/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyCsvFactory.javaModified : /camel/trunk/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/DataField.javaModified : /camel/trunk/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindySimpleCsvUnmarshallTest.javaModified : /camel/trunk/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/simple/oneclass/Order.java, issu origin report via CAMEL CAMEL backmerg CAMEL CAMEL fix branch branch merg revis local branch updat two new test case case merg one test fail merg test successful attach successful attach updat model tabtest tabtest revis revis author author ningjiangDate ningjiang date den februari messag CAMEL messag CAMEL support set default valu field bindi CVSModified CVS modifi camel trunk compon camel bindi src main java org apach camel dataformat bindi BindyCsvFactory javaModified camel trunk compon camel bindi src main java org apach camel dataformat bindi bindi csv factori java modifi camel trunk compon camel bindi src main java org apach camel dataformat bindi annot DataField javaModified camel trunk compon camel bindi src main java org apach camel dataformat bindi annot data field java modifi camel trunk compon camel bindi src test java org apach camel dataformat bindi csv BindySimpleCsvUnmarshallTest javaModified camel trunk compon camel bindi src test java org apach camel dataformat bindi csv bindi simpl csv unmarshal test java modifi camel trunk compon camel bindi src test java org apach camel dataformat bindi model simpl oneclass order java camel trunk compon camel bindi src test java org apach camel dataformat bindi model simpl oneclass order java,0,0,0,1,0,components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindyTabSeparatorTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/tab/PurchaseOrder.java;,0
5187,christian ohr,camel-core,0,JMX issues on WebSphere, JMX issu WebSphere web sphere,While setting up a Camel web application for WebSphere (7) I encountered two issues1. Documentation: the Camel JMX docs proposes the following settings for WebSphere:&lt;camel:jmxAgent id='agent' createConnector='true' mbeanObjectDomainName='org.yourname' mbeanServerDefaultDomain='WebSphere'/&gt;This registers the beans with the PlatformMbeanServer instead of the WebSphere MBean server. The following setup works better:&lt;camel:jmxAgent id='agent' createConnector='false' mbeanObjectDomainName='org.yourname' usePlatformMBeanServer='false' mbeanServerDefaultDomain='WebSphere'/&gt;2. For each Camel route  the same Tracer and DefaultErrorHandler MBeans are tried to be registered over and over again. Because WebSphere changes the ObjectNames on registration  server.isRegistered(name); in DefaultManagementAgent#registerMBeanWithServer always returns false  which causes the MBean to be re-registered  which again cause Exceptions  e.g.14:35:48 198 [WebContainer : 4] [] WARN - DefaultManagementLifecycleStrategy.onErrorHandlerAdd(485) | Could not register error handler builder: ErrorHandlerBuilderRef[CamelDefaultErrorHandlerBuilder] as ErrorHandler MBean.javax.management.InstanceAlreadyExistsException: org.apache.camel:cell=wdf-lap-0319Node01Cell name='DefaultErrorHandlerBuilder(ref:CamelDefaultErrorHandlerBuilder)' context=wdf-lap-0319/camelContext type=errorhandlers node=wdf-lap-0319Node01 process=server1 at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:465) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.internal_addObject(DefaultMBeanServerInterceptor.java:1496) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:975) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:929) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324) at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:494) at com.ibm.ws.management.PlatformMBeanServer.registerMBean(PlatformMBeanServer.java:484) at org.apache.camel.management.DefaultManagementAgent.registerMBeanWithServer(DefaultManagementAgent.java:320) at org.apache.camel.management.DefaultManagementAgent.register(DefaultManagementAgent.java:236)...The web application starts up  but with a lot of exceptions in the log.Proposal:Instead of using a Set&lt;ObjectName&gt; for mbeansRegistered  use a Map&lt;ObjectName  ObjectName&gt; where the key is the 'Camel' ObjectName and the value is the actually deployed ObjectName.I will provide a patch that illustrates the idea., set camel web applic WebSphere web sphere encount two issu issu document document camel JMX doc propos follow set WebSphere lt camel jmxAgent web sphere lt camel jmx agent id agent id agent createConnector true creat connector true mbeanObjectDomainName org yournam mbean object domain name org yournam mbeanServerDefaultDomain WebSphere gt mbean server default domain web sphere gt regist bean PlatformMbeanServer platform mbean server instead WebSphere web sphere MBean bean server server follow setup work better lt camel jmxAgent better lt camel jmx agent id agent id agent createConnector fals creat connector fals mbeanObjectDomainName org yournam mbean object domain name org yournam usePlatformMBeanServer fals use platform bean server fals mbeanServerDefaultDomain WebSphere gt mbean server default domain web sphere gt camel rout tracer DefaultErrorHandler default error handler MBeans bean tri regist WebSphere web sphere chang ObjectNames object name registr server isRegistered name server regist name DefaultManagementAgent registerMBeanWithServer default manag agent regist bean server alway return fals caus MBean bean regist regist caus except WebContainer web contain WARN DefaultManagementLifecycleStrategy onErrorHandlerAdd default manag lifecycl strategi error handler add could not regist error handler builder builder ErrorHandlerBuilderRef CamelDefaultErrorHandlerBuilder error handler builder ref camel default error handler builder ErrorHandler error handler MBean javax manag InstanceAlreadyExistsException bean javax manag instanc alreadi exist except org apach camel cell wdf lap node cell org apach camel cell wdf lap node cell name DefaultErrorHandlerBuilder ref CamelDefaultErrorHandlerBuilder name default error handler builder ref camel default error handler builder context wdf lap camelContext context wdf lap camel context type errorhandl type errorhandl node wdf lap node node wdf lap node process server process server com sun jmx mbeanserv repositori addMBean repositori java com sun jmx mbeanserv repositori add bean repositori java com sun jmx interceptor DefaultMBeanServerInterceptor internal_addObject DefaultMBeanServerInterceptor java com sun jmx interceptor default bean server interceptor internal_add object default bean server interceptor java com sun jmx interceptor DefaultMBeanServerInterceptor registerDynamicMBean DefaultMBeanServerInterceptor java com sun jmx interceptor default bean server interceptor regist dynam bean default bean server interceptor java com sun jmx interceptor DefaultMBeanServerInterceptor registerObject DefaultMBeanServerInterceptor java com sun jmx interceptor default bean server interceptor regist object default bean server interceptor java com sun jmx interceptor DefaultMBeanServerInterceptor registerMBean DefaultMBeanServerInterceptor java com sun jmx interceptor default bean server interceptor regist bean default bean server interceptor java com sun jmx mbeanserv JmxMBeanServer registerMBean JmxMBeanServer java com sun jmx mbeanserv jmx bean server regist bean jmx bean server java com ibm ws manag PlatformMBeanServer registerMBean PlatformMBeanServer java com ibm ws manag platform bean server regist bean platform bean server java org apach camel manag DefaultManagementAgent registerMBeanWithServer DefaultManagementAgent java org apach camel manag default manag agent regist bean server default manag agent java org apach camel manag DefaultManagementAgent regist DefaultManagementAgent java org apach camel manag default manag agent regist default manag agent java web applic start lot except log propos instead log propos instead use set lt ObjectName gt set lt object name gt mbeansRegistered mbean regist use map lt ObjectName map lt object name ObjectName gt object name gt key camel camel ObjectName object name valu actual deploy ObjectName object name provid patch illustr idea idea,0,1,1,0,0,camel-core/src/main/java/org/apache/camel/management/DefaultManagementAgent.java;camel-core/src/test/java/org/apache/camel/management/DefaultManagementAgentMockTest.java;,0
5189,Claus Ibsen,camel-core,0,Bean component - Should preserver properties from exchange to allow to transfer state, bean compon preserv properti exchang allow transfer state,See nabblehttp://camel.465427.n5.nabble.com/Stateful-Dynamic-Router-tp5647070p5647070.htmlThis allows other EIPs such as the dynamic route to use state when using a bean as its expression., see nabblehttp camel nabbl com state dynam router tp htmlThis nabblehttp camel nabbl com state dynam router tp html allow EIPs EI Ps dynam rout use state use bean express express,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/language/bean/BeanExpression.java;camel-core/src/test/java/org/apache/camel/processor/DynamicRouterExchangeHeadersTest.java;camel-core/src/test/java/org/apache/camel/processor/DynamicRouterExchangePropertiesTest.java;,0
5192,Jean-Baptiste Onofré,camel-cxf; camel-spring; camel-spring-integration,0,spring.schema is not up to date, spring schema spring schema not date,The URI of the Spring schema has been updated in Camel 2.9.1 and 2.8.4:http://camel.apache.org/schema/cxf/We can see that starting from 2.9.1 and 2.8.4  we suffix the schema with -spring or -blueprint.However  the spring.schema resource file has not been updated with this suffix., URI spring schema updat camel http camel apach org schema cxf http camel apach org schema cxf see start suffix schema spring blueprint howev blueprint howev spring schema spring schema resourc file not updat suffix suffix,0,0,0,1,0,components/camel-cxf/src/main/resources/META-INF/spring.schemas;components/camel-spring-integration/src/main/resources/META-INF/spring.schemas;components/camel-spring-security/src/main/resources/META-INF/spring.schemas;components/camel-spring/src/main/resources/META-INF/spring.schemas;,0
5193,Christian Tytgat,camel-core,0,Strange warning appears: WARN  org.apache.camel.processor.DeadLetterChannel - Cannot determine current route from Exchange with id, strang warn appear appear WARN org apach camel processor DeadLetterChannel org apach camel processor dead letter channel cannot determin current rout exchang id,The warning gets printed but other than that  everything seems to work. (I hope)12.04.19 10:34:26:463 [drisCamelContext JmsConsumer[dispatchHttpQueue] #4] WARN org.apache.camel.processor.DeadLetterChannel - Cannot determine current route from Exchange with id: ID-dris-ixor-be-42350-1334569164986-0-1052464  will fallback and use first error handler.12.04.19 10:34:26:463 [drisCamelContext JmsConsumer[dispatchHttpQueue] #4] WARN distribution.kv78.dispatch - Failed delivery (attempt = 199) : org.apache.http.conn.HttpHostConnectException: Connection to http://81.82.232.183:9292 refused - 0299c1d9 - KV8passtimes - 81.82.232.183:9292 - queue_dispatchHttpQueue_ID_dris.ixor.be-36583-1334569163882-4_1_24_1_1007When looking up the log statement in RedeliveryErrorHandler  I find this:else if (!exceptionPolicy.getErrorHandlers().isEmpty()) { // note this should really not happen  but we have this code as a fail safe // to be backwards compatible with the old behavior log.warn('Cannot determine current route from Exchange with id: {}  will fallback and use first error handler.'  exchange.getExchangeId()); processor = exceptionPolicy.getErrorHandlers().iterator().next(); }So it shouldn't happen but it happens after all...Here is the route causing the warning. I think it started when I made the route transacted. As shown in the log snippet above  the warning is printed when the HTTP endpoint throws an IOException (route ENDPOINT_DISPATCH) from(ENDPOINT_DISPATCH_QUEUE + '?cacheLevelName=CACHE_CONSUMER&amp;' + // necessary for message groups to work 'concurrentConsumers={{hermes.dris.distribution.kv78.concurrentOutgoingHttpDispatchers}}&amp;' + 'maxConcurrentConsumers={{hermes.dris.distribution.kv78.maxConcurrentOutgoingHttpDispatchers}}') .routeId(ROUTE_ID_DISPATCH_QUEUE) .onException(Throwable.class) // transacted routes override the default error handler // to avoid the message going to the the ActiveMQ DLQ  forward to our DLQ here .to(ENDPOINT_DLQ) .handled(true) .end() .transacted() // determine action // the timingPointSequencer will check what needs to happen with the message .beanRef('timingPointSequencer'  'handleDispatch') .choice() // normal situation  the message can be sent .when(header(TimingPointSequencer.HEADER_ACTION).isEqualTo(constant(TimingPointSequencer.ACTION_PROCEED))) .to(ENDPOINT_DISPATCH) // delay message  usually because of previous errors for this destination .when(header(TimingPointSequencer.HEADER_ACTION).isEqualTo(constant(TimingPointSequencer.ACTION_REENQUEUE))) .log(LoggingLevel.INFO  'Re-enqueuing' + MESSAGE_LOG_FORMAT) .to(ENDPOINT_DISPATCH_QUEUE) .otherwise() .log(LoggingLevel.ERROR  'No action header set ???' + MESSAGE_LOG_FORMAT) .to(ENDPOINT_DLQ) .end() .end(); from(ENDPOINT_DISPATCH) .routeId(ROUTE_ID_DISPATCH) .onException(IOException.class) // in case of IO exceptions  the message is always re-enqueued // reschedule parameters are set by the timingPointSequencer .beanRef('timingPointSequencer'  'handleFailure') .log(LoggingLevel.WARN  'Failed delivery (attempt = ${in.header.tpSecAttempt}) : ${in.header.CamelExceptionCaught}' + MESSAGE_LOG_FORMAT) .to(ENDPOINT_DISPATCH_QUEUE) .handled(true) .end() // clear http headers to avoid interference from other http endpoints .removeHeaders('CamelHttp*') .setHeader(Exchange.HTTP_URI  simple('http://${header.' + HEADER_DESTINATION_ADDRESS + '}')) .setHeader(Exchange.HTTP_PATH  simple('${properties:hermes.dris.distribution.kv78.controller.urlpath}')) .setHeader(Exchange.CONTENT_TYPE  constant('application/xml')) .setHeader(Exchange.CONTENT_ENCODING  constant('gzip')) // use gzip compression .log(verboseLoggingLevel  'Sending request to ${in.header.CamelHttpUri}/${in.header.CamelHttpPath}' + MESSAGE_LOG_FORMAT) // use multicast instead of a pipeline  or the audit log will contain the http response! .multicast() .stopOnException() .to(ENDPOINT_TIMINGPOINT_HTTP + '?httpClientConfigurerRef=timingPointHttpClientConfigurer&amp;headerFilterStrategy=#distributionHttpHeaderFilterStrategy'  ENDPOINT_AUDIT_OUTGOING) .end() .beanRef('timingPointSequencer'  'handleSuccess');, warn get print everyth seem work work hope hope drisCamelContext dri camel context JmsConsumer dispatchHttpQueue jm consum dispatch http queue WARN org apach camel processor DeadLetterChannel org apach camel processor dead letter channel cannot determin current rout exchang id id ID dri ixor ID dri ixor fallback use first error handler handler drisCamelContext dri camel context JmsConsumer dispatchHttpQueue jm consum dispatch http queue WARN distribut kv dispatch distribut kv dispatch fail deliveri attempt org apach http conn HttpHostConnectException org apach http conn http host connect except connect refus KV passtim KV passtim queue_dispatchHttpQueue_ID_dris ixor     queue_dispatch http queue ID_dris ixor     look log statement RedeliveryErrorHandler redeliveri error handler find els els exceptionPolicy getErrorHandlers isEmpty except polici get error handler empti note realli not happen code fail safe backward compat old behavior log warn cannot log warn cannot determin current rout exchang id id fallback use first error handler handler exchang getExchangeId exchang get exchang Id processor exceptionPolicy getErrorHandlers iter next except polici get error handler iter next happen happen rout caus warn warn think start made rout transact transact shown log snippet warn print HTTP endpoint throw IOException IO except rout ENDPOINT_DISPATCH ENDPOINT DISPATCH ENDPOINT_DISPATCH_QUEUE ENDPOINT DISPATCH QUEUE cacheLevelName CACHE_CONSUMER amp cach level name CACHE CONSUMER amp necessari messag group work concurrentConsumers herm dri distribut kv concurrentOutgoingHttpDispatchers amp concurr consum herm dri distribut kv concurr outgo http dispatch amp maxConcurrentConsumers herm dri distribut kv maxConcurrentOutgoingHttpDispatchers max concurr consum herm dri distribut kv max concurr outgo http dispatch routeId ROUTE_ID_DISPATCH_QUEUE rout Id ROUTE ID DISPATCH QUEUE onException throwabl class except throwabl class transact rout overrid default error handler avoid messag go ActiveMQ activ MQ DLQ forward DLQ ENDPOINT_DLQ ENDPOINT DLQ handl true handl true end end transact transact determin action timingPointSequencer time point sequenc check need happen messag beanRef timingPointSequencer bean ref time point sequenc handleDispatch handl dispatch choic choic normal situat messag sent header TimingPointSequencer HEADER_ACTION isEqualTo constant TimingPointSequencer ACTION_PROCEED header time point sequenc HEADER ACTION equal constant time point sequenc ACTION PROCEED ENDPOINT_DISPATCH ENDPOINT DISPATCH delay messag usual previou error destin header TimingPointSequencer HEADER_ACTION isEqualTo constant TimingPointSequencer ACTION_REENQUEUE header time point sequenc HEADER ACTION equal constant time point sequenc ACTION REENQUEUE log LoggingLevel INFO log log level INFO enqueu enqueu MESSAGE_LOG_FORMAT MESSAGE LOG FORMAT ENDPOINT_DISPATCH_QUEUE ENDPOINT DISPATCH QUEUE otherwis otherwis log LoggingLevel ERROR log log level ERROR No No action header set MESSAGE_LOG_FORMAT MESSAGE LOG FORMAT ENDPOINT_DLQ ENDPOINT DLQ end end end end ENDPOINT_DISPATCH ENDPOINT DISPATCH routeId ROUTE_ID_DISPATCH rout Id ROUTE ID DISPATCH onException IOException class except IO except class case IO except messag alway enqueu enqueu reschedul paramet set timingPointSequencer time point sequenc beanRef timingPointSequencer bean ref time point sequenc handleFailure handl failur log LoggingLevel WARN log log level WARN fail fail deliveri attempt header tpSecAttempt header tp sec attempt header CamelExceptionCaught header camel except caught MESSAGE_LOG_FORMAT MESSAGE LOG FORMAT ENDPOINT_DISPATCH_QUEUE ENDPOINT DISPATCH QUEUE handl true handl true end end clear http header avoid interfer http endpoint removeHeaders CamelHttp remov header camel http setHeader exchang HTTP_URI set header exchang HTTP URI simpl http header simpl http header HEADER_DESTINATION_ADDRESS HEADER DESTINATION ADDRESS setHeader exchang HTTP_PATH set header exchang HTTP PATH simpl properti herm dri distribut kv control urlpath simpl properti herm dri distribut kv control urlpath setHeader exchang CONTENT_TYPE set header exchang CONTENT TYPE constant applic xml constant applic xml setHeader exchang CONTENT_ENCODING set header exchang CONTENT ENCODING constant gzip constant gzip use gzip compress log verboseLoggingLevel log verbos log level send send request header CamelHttpUri header CamelHttpPath header camel http uri header camel http path MESSAGE_LOG_FORMAT MESSAGE LOG FORMAT use multicast instead pipelin audit log contain http respons respons multicast multicast stopOnException stop except ENDPOINT_TIMINGPOINT_HTTP ENDPOINT TIMINGPOINT HTTP httpClientConfigurerRef timingPointHttpClientConfigurer amp headerFilterStrategy distributionHttpHeaderFilterStrategy http client configur ref time point http client configur amp header filter strategi distribut http header filter strategi ENDPOINT_AUDIT_OUTGOING ENDPOINT AUDIT OUTGOING end end beanRef timingPointSequencer bean ref time point sequenc handleSuccess handl success,1,0,1,0,0,camel-core/src/test/java/org/apache/camel/issues/SingleOutputInMulticastIssueTest.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/test/java/org/apache/camel/issues/SingleOutputInMulticastIssueTest.java;,0
5196,Steve Barham,camel-ftp,0,SftpChangedExclusiveReadLockStrategy does not check the correct field to determine if a file is changing, SftpChangedExclusiveReadLockStrategy sftp chang exclus read lock strategi not check correct field determin file chang,I have recently upgraded from Camel 2.7 to a more recent version. I can confirm that the bug is still in trunk. In Camel 2.7  there was a generic FileChangedExclusiveReadLockStrategy. This checked the modification time of the file using GenericFile.lastModified. This field was set by SftpComponent#asRemoteFile as file.getAttrs().getMTime() * 1000. In Camel 2.8 onwards  this behaviour is implemented by SftpChangedExclusiveReadLockStrategy. This incorrectly (to my mind) retrieves the timestamp on line 67 using: newLastModified = f.getAttrs().getATime();Taking the atime of the file doesn't make a great deal of sense to me; on a POSIX compliant filesystem  the atime will be incremented every time the file is polled  meaning that this strategy will never be able to mark a file as unchanged. While some filesystems are mounted nowadays as noatime or relatime  the mtime is still absolutely the safest mechanism to determine if something is writing to a target file. The impact of this bug is that we cannot reliably poll files from a remote SFTP server., recent upgrad camel recent version version confirm bug still trunk trunk camel gener FileChangedExclusiveReadLockStrategy file chang exclus read lock strategi check modif time file use GenericFile lastModified gener file last modifi field set SftpComponent asRemoteFile sftp compon remot file file getAttrs getMTime file get attr get time camel onward behaviour implement SftpChangedExclusiveReadLockStrategy sftp chang exclus read lock strategi incorrectli mind mind retriev timestamp line use use newLastModified new last modifi getAttrs getATime take get attr get time take atim file make great deal sens POSIX compliant filesystem atim increment everi time file poll mean strategi never abl mark file unchang unchang filesystem mount nowaday noatim relatim mtime still absolut safest mechan determin someth write target file file impact bug cannot reliabl poll file remot SFTP server server,0,1,1,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/strategy/SftpChangedExclusiveReadLockStrategy.java;,0
5198,João Loureiro,null,0,Implement connection pooling in jt400 component, implement connect pool jt jt compon,Instead of eagerly obtaining a new connection to the AS/400 system  Endpoint instances request one from a connection pool. Users can specify that their own connection pool be used  or let Camel provide one (default behaviour).Functionally speaking  this feature does not introduce any change (it can be viewed as an optimization in advanced usage scenarios).Thread safety: the producers/consumers  which were inherently thread-safe  became not thread-safe in regard to their start/stop lifecycle.The following text can be used as the documentation for the new URI option:NameconnectionPoolDefault valueAS400ConnectionPool instanceDescriptionCamel 2.10: Reference to an com.ibm.as400.access.AS400ConnectionPool instance in the Registry. This is used for obtaining connections to the AS/400 system. The look up notation ('#' character) should be used., instead eagerli obtain new connect system endpoint instanc request one connect pool pool user specifi connect pool use let camel provid one default behaviour function behaviour function speak featur not introduc chang view optim advanc usag scenario thread scenario thread safeti safeti produc consum produc consum inher thread safe thread safe becam not thread safe thread safe regard start stop start stop lifecycl lifecycl follow text use document new URI option NameconnectionPoolDefault option nameconnect pool default valueAS ConnectionPool valu connect pool instanceDescriptionCamel instanc descript camel refer com ibm access ConnectionPool com ibm access connect pool instanc registri registri use obtain connect system system look notat charact charact use use,0,1,0,0,1,components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400Component.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400DataQueueConsumer.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400DataQueueEndpoint.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400DataQueueProducer.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400DataQueueService.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400Endpoint.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400PgmEndpoint.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400PgmProducer.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400ComponentDefaultConnectionPoolTest.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400ComponentTest.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400DataQueueConsumerTest.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400DataQueueEndpointTest.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400DataQueueProducerTest.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400EndpointConnectionTest.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400EndpointTest.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400PgmEndpointTest.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400PgmRouteTest.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400RouteTest.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400TestSupport.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/MockAS400ConnectionPool.java;,0
5199,Isidro Moreno,camel-core,0,initialDelay and idempotentRepository Endpoint URI parameters fail to be read from Camel context when Turkish language is set in host operating system., initialDelay initi delay idempotentRepository idempot repositori endpoint URI paramet fail read camel context turkish languag set host oper system system,org.apache.camel.util.ObjectHelper.capitalize() method uses native JAVA String.toUpperCase() method (without parameters)  which performs capitalization according to operating system current language and regional settings configuration. When these are set to Turkish  a call to capitalize() method  with a String starting with 'i' as parameter  returns Turkish dotted 'I' as capitalized 'i'  which is wrong according to programmatic language and expected behavior.This behaviour impacts  at least  in Endpoint URI parameters which names start with char 'i'  such as 'idempotentRepository' and 'initialDelay' URI parameters. When setter/getter methods lookup is performed for these parameters  wrong method names are returned due to ObjectHelper.capitalize() method. This method uses standard Java String.toUpperCase() function which returns a dotted 'I' instead of dotless 'I' for idempotentRepository and initialDelay parameters.To solve this  the attached patch consists of refactoring ObjectHelper.capitalize() method. Instead of calling toUpperCase() method  it is called toUpperCase(Locale.ENGLISH) to enforce 'I' character (dotless) return., org apach camel util ObjectHelper capit org apach camel util object helper capit method use nativ JAVA string toUpperCase string upper case method without paramet paramet perform capit accord oper system current languag region set configur configur set turkish call capit capit method string start paramet return turkish dot capit wrong accord programmat languag expect behavior behavior behaviour impact least endpoint URI paramet name start char idempotentRepository idempot repositori initialDelay initi delay URI paramet paramet setter getter setter getter method lookup perform paramet wrong method name return due ObjectHelper capit object helper capit method method method use standard java string toUpperCase string upper case function return dot instead dotless idempotentRepository idempot repositori initialDelay initi delay paramet paramet solv attach patch consist refactor ObjectHelper capit object helper capit method method instead call toUpperCase upper case method call toUpperCase local ENGLISH upper case local ENGLISH enforc charact dotless dotless return return,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/builder/xml/TimeUnitAdapter.java;camel-core/src/main/java/org/apache/camel/component/log/LogComponent.java;camel-core/src/main/java/org/apache/camel/component/mock/TimeClause.java;camel-core/src/main/java/org/apache/camel/impl/ConfigurationHelper.java;camel-core/src/main/java/org/apache/camel/impl/DefaultHeaderFilterStrategy.java;camel-core/src/main/java/org/apache/camel/impl/DefaultShutdownStrategy.java;camel-core/src/main/java/org/apache/camel/impl/ScheduledPollConsumer.java;camel-core/src/main/java/org/apache/camel/main/MainSupport.java;camel-core/src/main/java/org/apache/camel/model/SamplingDefinition.java;camel-core/src/main/java/org/apache/camel/processor/SamplingThrottler.java;camel-core/src/main/java/org/apache/camel/util/CamelContextHelper.java;camel-core/src/main/java/org/apache/camel/util/CaseInsensitiveMap.java;camel-core/src/main/java/org/apache/camel/util/GZIPHelper.java;camel-core/src/main/java/org/apache/camel/util/IntrospectionSupport.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/main/java/org/apache/camel/util/Time.java;camel-core/src/main/java/org/apache/camel/view/NodeData.java;camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationWithConnectorTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedShutdownStrategyTest.java;camel-core/src/test/java/org/apache/camel/processor/RoutePerformanceCountTest.java;camel-core/src/test/java/org/apache/camel/processor/RoutePerformanceTest.java;camel-core/src/test/java/org/apache/camel/processor/async/MyAsyncComponent.java;,0
5200,Claus Ibsen,camel-core,0,Potential dead-lock when shutting down Camel with NotifyBuilder doing notication, potenti dead lock dead lock shut camel NotifyBuilder notifi builder notic,See nabblehttp://camel.465427.n5.nabble.com/Gracefull-shutdown-timeouts-due-to-NotifyBuilder-blocks-on-context-tp5654048p5654048.htmlWe should avoid the synchronized getRoutes method which is really not needed., see nabblehttp camel nabbl com graceful shutdown timeout due NotifyBuilder block context tp htmlWe nabblehttp camel nabbl com graceful shutdown timeout due notifi builder block context tp html avoid synchron getRoutes get rout method realli not need need,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/test/java/org/apache/camel/issues/NotifyBuilderOnFailureShutdownCamelIssueTest.java;,0
5210,Hynek Cihlar,camel-core,0,Loop causes NullPointerException on error, loop caus NullPointerException null pointer except error,The following context will cause NullPointerException. &lt;routeContext id='myCamelContext' xmlns='http://camel.apache.org/schema/spring'&gt;  &lt;route&gt; &lt;from uri='jms:myQueue'/&gt; &lt;onException&gt; &lt;exception&gt;org.xml.sax.SAXParseException&lt;/exception&gt; &lt;redeliveryPolicy maximumRedeliveries='2'/&gt; &lt;handled&gt;&lt;constant&gt;true&lt;/constant&gt;&lt;/handled&gt; &lt;to uri='log:camelfatal?showAll=true&amp;multiline=true&amp;level=ERROR'/&gt;  &lt;/onException&gt; &lt;loop copy='true'&gt; &lt;constant&gt;3&lt;/constant&gt; &lt;inOnly uri='smtp://you_can_leave_this_unchanged'/&gt; &lt;/loop&gt; &lt;/route&gt; &lt;/routeContext&gt;The callstack on the NullPointerException:Daemon Thread [Camel (appServerCamelContext) thread #1 - JmsConsumer&#91;emailOutbox&#93;] (Suspended (exception NullPointerException))  DefaultErrorHandler(RedeliveryErrorHandler).processErrorHandler(Exchange  AsyncCallback  RedeliveryErrorHandler$RedeliveryData) line: 262  DefaultErrorHandler(RedeliveryErrorHandler).process(Exchange  AsyncCallback) line: 223  RouteContextProcessor.processNext(Exchange  AsyncCallback) line: 45  RouteContextProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  DefaultChannel.process(Exchange  AsyncCallback) line: 304  AsyncProcessorHelper.process(AsyncProcessor  Exchange  AsyncCallback) line: 73  LoopProcessor(DelegateAsyncProcessor).processNext(Exchange  AsyncCallback) line: 99  LoopProcessor.process(Exchange  AsyncCallback  AtomicInteger  AtomicInteger) line: 103  LoopProcessor.process(Exchange  AsyncCallback) line: 74  AsyncProcessorHelper.process(AsyncProcessor  Exchange  AsyncCallback) line: 73  InstrumentationProcessor(DelegateAsyncProcessor).processNext(Exchange  AsyncCallback) line: 99  InstrumentationProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  InstrumentationProcessor.process(Exchange  AsyncCallback) line: 71  AsyncProcessorHelper.process(AsyncProcessor  Exchange  AsyncCallback) line: 73  TraceInterceptor(DelegateAsyncProcessor).processNext(Exchange  AsyncCallback) line: 99  TraceInterceptor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  TraceInterceptor.process(Exchange  AsyncCallback) line: 91  AsyncProcessorHelper.process(AsyncProcessor  Exchange  AsyncCallback) line: 73  DefaultErrorHandler(RedeliveryErrorHandler).processErrorHandler(Exchange  AsyncCallback  RedeliveryErrorHandler$RedeliveryData) line: 333  DefaultErrorHandler(RedeliveryErrorHandler).process(Exchange  AsyncCallback) line: 223  RouteContextProcessor.processNext(Exchange  AsyncCallback) line: 45  RouteContextProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  DefaultChannel.process(Exchange  AsyncCallback) line: 304  RouteContextProcessor.processNext(Exchange  AsyncCallback) line: 45  RouteContextProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  UnitOfWorkProcessor.processAsync(Exchange  AsyncCallback  UnitOfWork) line: 150  UnitOfWorkProcessor.process(Exchange  AsyncCallback) line: 117  RouteInflightRepositoryProcessor.processNext(Exchange  AsyncCallback) line: 50  RouteInflightRepositoryProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  AsyncProcessorHelper.process(AsyncProcessor  Exchange  AsyncCallback) line: 73  InstrumentationProcessor(DelegateAsyncProcessor).processNext(Exchange  AsyncCallback) line: 99  InstrumentationProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  InstrumentationProcessor.process(Exchange  AsyncCallback) line: 71  AsyncProcessorHelper.process(AsyncProcessor  Exchange) line: 99  InstrumentationProcessor(DelegateAsyncProcessor).process(Exchange) line: 86  EndpointMessageListener.onMessage(Message) line: 104  DefaultJmsMessageListenerContainer(AbstractMessageListenerContainer).doInvokeListener(MessageListener  Message) line: 560  DefaultJmsMessageListenerContainer(AbstractMessageListenerContainer).invokeListener(Session  Message) line: 498  DefaultJmsMessageListenerContainer(AbstractMessageListenerContainer).doExecuteListener(Session  Message) line: 467  DefaultJmsMessageListenerContainer(AbstractPollingMessageListenerContainer).doReceiveAndExecute(Object  Session  MessageConsumer  TransactionStatus) line: 325  DefaultJmsMessageListenerContainer(AbstractPollingMessageListenerContainer).receiveAndExecute(Object  Session  MessageConsumer) line: 263  DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener() line: 1058  DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop() line: 1050  DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run() line: 947  ThreadPoolExecutor$Worker.runTask(Runnable) line: 886  ThreadPoolExecutor$Worker.run() line: 908  Thread.run() line: 662, follow context caus NullPointerException null pointer except lt routeContext lt rout context id myCamelContext id camel context xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt rout gt lt rout gt lt lt uri jm myQueue gt uri jm queue gt lt onException gt lt except gt lt except gt org xml sax SAXParseException lt except gt lt except gt org xml sax SAX pars except lt except gt lt redeliveryPolicy lt redeliveri polici maximumRedeliveries gt maximum redeliveri gt lt handl gt lt constant gt true lt constant gt lt handl gt lt handl gt lt constant gt true lt constant gt lt handl gt lt lt uri log camelfat showAll true amp multilin true amp level ERROR gt uri log camelfat show true amp multilin true amp level ERROR gt lt onException gt lt except gt lt loop lt loop copi true gt copi true gt lt constant gt lt constant gt lt constant gt lt constant gt lt inOnly lt uri smtp you_can_leave_this_unchanged gt uri smtp you_can_leave_this_unchanged gt lt loop gt lt loop gt lt rout gt lt rout gt lt routeContext gt lt rout context gt callstack NullPointerException daemon null pointer except daemon thread camel camel appServerCamelContext app server camel context thread JmsConsumer emailOutbox jm consum email outbox suspend suspend except NullPointerException null pointer except DefaultErrorHandler RedeliveryErrorHandler processErrorHandler exchang default error handler redeliveri error handler process error handler exchang AsyncCallback async callback RedeliveryErrorHandler RedeliveryData redeliveri error handler redeliveri data line line DefaultErrorHandler RedeliveryErrorHandler process exchang default error handler redeliveri error handler process exchang AsyncCallback async callback line line RouteContextProcessor processNext exchang rout context processor process next exchang AsyncCallback async callback line line RouteContextProcessor DelegateAsyncProcessor process exchang rout context processor deleg async processor process exchang AsyncCallback async callback line line DefaultChannel process exchang default channel process exchang AsyncCallback async callback line line AsyncProcessorHelper process AsyncProcessor async processor helper process async processor exchang AsyncCallback async callback line line LoopProcessor DelegateAsyncProcessor processNext exchang loop processor deleg async processor process next exchang AsyncCallback async callback line line LoopProcessor process exchang loop processor process exchang AsyncCallback async callback AtomicInteger atom integ AtomicInteger atom integ line line LoopProcessor process exchang loop processor process exchang AsyncCallback async callback line line AsyncProcessorHelper process AsyncProcessor async processor helper process async processor exchang AsyncCallback async callback line line InstrumentationProcessor DelegateAsyncProcessor processNext exchang instrument processor deleg async processor process next exchang AsyncCallback async callback line line InstrumentationProcessor DelegateAsyncProcessor process exchang instrument processor deleg async processor process exchang AsyncCallback async callback line line InstrumentationProcessor process exchang instrument processor process exchang AsyncCallback async callback line line AsyncProcessorHelper process AsyncProcessor async processor helper process async processor exchang AsyncCallback async callback line line TraceInterceptor DelegateAsyncProcessor processNext exchang trace interceptor deleg async processor process next exchang AsyncCallback async callback line line TraceInterceptor DelegateAsyncProcessor process exchang trace interceptor deleg async processor process exchang AsyncCallback async callback line line TraceInterceptor process exchang trace interceptor process exchang AsyncCallback async callback line line AsyncProcessorHelper process AsyncProcessor async processor helper process async processor exchang AsyncCallback async callback line line DefaultErrorHandler RedeliveryErrorHandler processErrorHandler exchang default error handler redeliveri error handler process error handler exchang AsyncCallback async callback RedeliveryErrorHandler RedeliveryData redeliveri error handler redeliveri data line line DefaultErrorHandler RedeliveryErrorHandler process exchang default error handler redeliveri error handler process exchang AsyncCallback async callback line line RouteContextProcessor processNext exchang rout context processor process next exchang AsyncCallback async callback line line RouteContextProcessor DelegateAsyncProcessor process exchang rout context processor deleg async processor process exchang AsyncCallback async callback line line DefaultChannel process exchang default channel process exchang AsyncCallback async callback line line RouteContextProcessor processNext exchang rout context processor process next exchang AsyncCallback async callback line line RouteContextProcessor DelegateAsyncProcessor process exchang rout context processor deleg async processor process exchang AsyncCallback async callback line line UnitOfWorkProcessor processAsync exchang unit work processor process async exchang AsyncCallback async callback UnitOfWork unit work line line UnitOfWorkProcessor process exchang unit work processor process exchang AsyncCallback async callback line line RouteInflightRepositoryProcessor processNext exchang rout inflight repositori processor process next exchang AsyncCallback async callback line line RouteInflightRepositoryProcessor DelegateAsyncProcessor process exchang rout inflight repositori processor deleg async processor process exchang AsyncCallback async callback line line AsyncProcessorHelper process AsyncProcessor async processor helper process async processor exchang AsyncCallback async callback line line InstrumentationProcessor DelegateAsyncProcessor processNext exchang instrument processor deleg async processor process next exchang AsyncCallback async callback line line InstrumentationProcessor DelegateAsyncProcessor process exchang instrument processor deleg async processor process exchang AsyncCallback async callback line line InstrumentationProcessor process exchang instrument processor process exchang AsyncCallback async callback line line AsyncProcessorHelper process AsyncProcessor async processor helper process async processor exchang exchang line line InstrumentationProcessor DelegateAsyncProcessor process exchang instrument processor deleg async processor process exchang line line EndpointMessageListener onMessage messag endpoint messag listen messag messag line line DefaultJmsMessageListenerContainer AbstractMessageListenerContainer doInvokeListener MessageListener default jm messag listen contain abstract messag listen contain invok listen messag listen messag messag line line DefaultJmsMessageListenerContainer AbstractMessageListenerContainer invokeListener session default jm messag listen contain abstract messag listen contain invok listen session messag messag line line DefaultJmsMessageListenerContainer AbstractMessageListenerContainer doExecuteListener session default jm messag listen contain abstract messag listen contain execut listen session messag messag line line DefaultJmsMessageListenerContainer AbstractPollingMessageListenerContainer doReceiveAndExecute object default jm messag listen contain abstract poll messag listen contain receiv execut object session MessageConsumer messag consum TransactionStatus transact statu line line DefaultJmsMessageListenerContainer AbstractPollingMessageListenerContainer receiveAndExecute object default jm messag listen contain abstract poll messag listen contain receiv execut object session MessageConsumer messag consum line line DefaultMessageListenerContainer AsyncMessageListenerInvoker invokeListener default messag listen contain async messag listen invok invok listen line line DefaultMessageListenerContainer AsyncMessageListenerInvoker executeOngoingLoop default messag listen contain async messag listen invok execut ongo loop line line DefaultMessageListenerContainer AsyncMessageListenerInvoker run default messag listen contain async messag listen invok run line line ThreadPoolExecutor worker runTask runnabl thread pool executor worker run task runnabl line line ThreadPoolExecutor worker run thread pool executor worker run line line thread run thread run line line,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/processor/LoopProcessor.java;camel-core/src/test/java/org/apache/camel/processor/LoopCopyErrorTest.java;,0
5218,Henrique Oliveira,camel-hazelcast,0,HazelcastComponent.doStop bombing out, HazelcastComponent doStop hazelcast compon stop bomb,I am setting up an own hazelcast instance on HazelcastComponent  it is created by Spring the problem is when HazelcastComponent.doStop is called  a NullPointerException is throw  becausecreateOwnInstance is null., set hazelcast instanc HazelcastComponent hazelcast compon creat spring problem HazelcastComponent doStop hazelcast compon stop call NullPointerException null pointer except throw becausecreateOwnInstance becausecr instanc null null,0,0,0,0,0,components/camel-hazelcast/src/main/java/org/apache/camel/component/hazelcast/HazelcastComponent.java;,0
5225,edge wang,camel-netty,0,camel-netty can't distinguish between Sharable and Unsharable codecs, camel netti camel netti distinguish sharabl unshar codec,Camel-netty uses general configuration model for referenced encoders/decoders for channel pipelines  see DefaultServerPipelineFactory. That is  create encoder/decoder objects at configuration parsing time and store them in a list  then use them when a pipeline is established. However  this will make encoder/decoder objects shared among different pipelines  that may cause data conflicts  when the encoder/decoder is not Sharable(has object status/not annotated as @Sharable)  e.g. a LengthFieldBasedFrameDecoder.Although we can avoid the problem by totally writing a new serverpipelinefactory for our apps  several problem still remains  please see detailed description and testcase for this bug at:http://camel.465427.n5.nabble.com/camel-netty-bug-and-the-need-of-best-practice-for-creating-referenced-parameter-object-on-looking-up-td5627926.html, camel netti camel netti use gener configur model referenc encod decod encod decod channel pipelin see DefaultServerPipelineFactory default server pipelin factori creat encod decod encod decod object configur pars time store list use pipelin establish establish howev make encod decod encod decod object share among differ pipelin may caus data conflict encod decod encod decod not sharabl sharabl object statu not statu not annot sharabl sharabl LengthFieldBasedFrameDecoder although length field base frame decod although avoid problem total write new serverpipelinefactori app sever problem still remain pleas see detail descript testcas bug http camel nabbl com camel netti bug need best practic creat referenc paramet object look td html http camel nabbl com camel netti bug need best practic creat referenc paramet object look td html,0,1,0,1,0,components/camel-netty/src/main/java/org/apache/camel/component/netty/ChannelHandlerFactories.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/ChannelHandlerFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultClientPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultServerPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyComponent.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyConfiguration.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/ShareableChannelHandlerFactory.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/MultipleCodecsTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/UnsharableCodecsConflicts2Test.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/UnsharableCodecsConflictsTest.java;components/camel-netty/src/test/resources/org/apache/camel/component/netty/multiple-codecs.xml;components/camel-netty/src/test/java/org/apache/camel/component/netty/UnsharableCodecsConflictsTest.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/ClientPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultClientPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultServerPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyConsumer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyProducer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/ServerPipelineFactory.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyCustomPipelineFactoryAsynchTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyCustomPipelineFactorySynchTest.java;,0
5227,Scott Parkerson,camel-jetty,0,Camel 2.9.2 jetty component no longer works with Jetty 7, camel jetti compon no longer work jetti,When attempting to create a camel-jetty endpoint in Camel 2.9.2  the following exception is thrown:java.lang.NoSuchMethodError: org.eclipse.jetty.servlet.ServletContextHandler.addFilter(Lorg/eclipse/jetty/servlet/FilterHolder;Ljava/lang/String;Ljava/util/EnumSet;)Vat org.apache.camel.component.jetty.JettyHttpComponent.enableMultipartFilter(JettyHttpComponent.java:407) at org.apache.camel.component.jetty.JettyHttpComponent.connect(JettyHttpComponent.java:325) at org.apache.camel.component.http.HttpEndpoint.connect(HttpEndpoint.java:148) at org.apache.camel.component.http.HttpConsumer.doStart(HttpConsumer.java:56) at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60) at org.apache.camel.impl.DefaultCamelContext.startService(DefaultCamelContext.java:1707) at org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRouteConsumers(DefaultCamelContext.java:1979) at org.apache.camel.impl.DefaultCamelContext.doStartRouteConsumers(DefaultCamelContext.java:1934) at org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:1862) at org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:1646) at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1533) at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1420) at org.apache.camel.spring.SpringCamelContext.doStart(SpringCamelContext.java:179) at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60) at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1388)...This appears to be a regression of a caused by the this merge from trunk  which I suspect requires Jetty 8 to be used.Creating the endpoint under 2.9.1 works fine., attempt creat camel jetti camel jetti endpoint camel follow except thrown java lang NoSuchMethodError thrown java lang No method error org eclips jetti servlet ServletContextHandler addFilter lorg eclips jetti servlet FilterHolder ljava lang string ljava util EnumSet vat org eclips jetti servlet servlet context handler add filter lorg eclips jetti servlet filter holder ljava lang string ljava util enum set vat org apach camel compon jetti JettyHttpComponent enableMultipartFilter JettyHttpComponent java org apach camel compon jetti jetti http compon enabl multipart filter jetti http compon java org apach camel compon jetti JettyHttpComponent connect JettyHttpComponent java org apach camel compon jetti jetti http compon connect jetti http compon java org apach camel compon http HttpEndpoint connect HttpEndpoint java org apach camel compon http http endpoint connect http endpoint java org apach camel compon http HttpConsumer doStart HttpConsumer java org apach camel compon http http consum start http consum java org apach camel support ServiceSupport start ServiceSupport java org apach camel support servic support start servic support java org apach camel impl DefaultCamelContext startService DefaultCamelContext java org apach camel impl default camel context start servic default camel context java org apach camel impl DefaultCamelContext doStartOrResumeRouteConsumers DefaultCamelContext java org apach camel impl default camel context start resum rout consum default camel context java org apach camel impl DefaultCamelContext doStartRouteConsumers DefaultCamelContext java org apach camel impl default camel context start rout consum default camel context java org apach camel impl DefaultCamelContext safelyStartRouteServices DefaultCamelContext java org apach camel impl default camel context safe start rout servic default camel context java org apach camel impl DefaultCamelContext doStartOrResumeRoutes DefaultCamelContext java org apach camel impl default camel context start resum rout default camel context java org apach camel impl DefaultCamelContext doStartCamel DefaultCamelContext java org apach camel impl default camel context start camel default camel context java org apach camel impl DefaultCamelContext doStart DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext doStart SpringCamelContext java org apach camel spring spring camel context start spring camel context java org apach camel support ServiceSupport start ServiceSupport java org apach camel support servic support start servic support java org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel impl default camel context start default camel context java appear regress caus merg trunk suspect requir jetti use creat use creat endpoint work fine fine,1,0,0,0,0,components/camel-jetty/src/main/java/org/apache/camel/component/jetty/CamelFilterWrapper.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;parent/pom.xml;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;,0
5243,João Loureiro,null,0,jt400: program call should support binary format, jt jt program call support binari format,Data queue message exchange supports both text and binary formats and so should the remote program call exchange. The specification is the same as the one for the data queue.Additionally  this patch supports the concept of ommiting a parameter. This is achieved by passing null as the parameter value.Implementation note:Since I don't know Camel's policy regarding API breaking  I opted to refer to Jt400DataQueueEndpoint.Format; but Format should now be a top-level class  since the concept is the same for data queues and programs., data queue messag exchang support text binari format remot program call exchang exchang specif one data queue addit queue addit patch support concept ommit paramet paramet achiev pass null paramet valu implement valu implement note sinc note sinc know camel camel polici regard API break opt refer Jt DataQueueEndpoint format Jt data queue endpoint format format top level top level class sinc concept data queue program program,0,1,0,0,0,components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400PgmEndpoint.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400PgmProducer.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400PgmEndpointTest.java;,0
5260,Ana Cortés,camel-ldap,0,LDAP Component lose headers, LDAP compon lose header,When we call to a LDAP endpoint  the result is returned in the Out body and we lose the IN headers (see http://camel.465427.n5.nabble.com/LDAP-Component-lose-headers-td5696602.html). A fix seems relatively easy. The solution could be add this line inside the process() method in LdapProducer.java exchange.getOut().setHeaders(exchange.getIn().getHeaders());, call LDAP endpoint result return bodi lose header see fix seem rel easi easi solut could add line insid process process method LdapProducer java ldap produc java exchang getOut setHeaders exchang getIn getHeaders exchang get set header exchang get get header,0,0,1,1,0,components/camel-ldap/src/main/java/org/apache/camel/component/ldap/LdapProducer.java;components/camel-ldap/src/test/java/org/apache/camel/component/ldap/LdapRouteTest.java;,0
5262,Claus Ibsen,camel-core,0,Relax simple language checking for function start/end tokens  to only validate start tokens has appropriate end token, relax simpl languag check function start end start end token valid start token appropri end token,See nabblehttp://camel.465427.n5.nabble.com/Translating-route-exceptions-to-JSON-with-Simple-Expression-Language-or-SPEL-tp5696933.html, see nabblehttp camel nabbl com translat rout except JSON simpl express languag SPEL tp html nabblehttp camel nabbl com translat rout except JSON simpl express languag SPEL tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/language/simple/SimpleExpressionParser.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleParserExpressionInvalidTest.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleTest.java;,0
5265,Manuel Holzleitner,camel-servlet,0,Incorrect Content-Length returned for converted result objects with Unicode characters, incorrect content length content length return convert result object unicod charact,The camel-servlet component responds with an incorrect http Content-Length header  causing the HTTP client to retreive a incomplete response  when the body of the out message is of a POJO type and is converted into a string that contains unicode characters.For example  the following route returns 'B?e W?r'  but should return 'B?e W?rld'.from('servlet:///testUnicodeWithObjectResponse?matchOnUriPrefix=true')  .process(new Processor() { public void process(Exchange exchange) throws Exception {  String contentType = exchange.getIn().getHeader(Exchange.CONTENT_TYPE  String.class); exchange.getOut().setHeader(Exchange.CONTENT_TYPE  contentType + '; charset=UTF-8');  }}) .transform(constant( new Object(){ @Override public String toString() Unknown macro: { return &quot;B?e W?rld&quot;; }  } ));The attached patch contains a fix for the problem and a test to reproduce the problem., camel servlet camel servlet compon respond incorrect http content length content length header caus HTTP client retreiv incomplet respons bodi messag POJO type convert string contain unicod charact charact exampl follow rout return return rld servlet testUnicodeWithObjectResponse matchOnUriPrefix true rld servlet test unicod object respons match uri prefix true process new process new processor processor public void process exchang process exchang exchang exchang throw except string contentType content type exchang getIn getHeader exchang CONTENT_TYPE exchang get get header exchang CONTENT TYPE string class string class exchang getOut setHeader exchang CONTENT_TYPE exchang get set header exchang CONTENT TYPE contentType content type charset UTF charset UTF transform constant transform constant new object object overrid overrid public string toString string unknown macro macro return quot quot rld quot rld quot attach patch contain fix problem test reproduc problem problem,0,1,1,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/DefaultHttpBinding.java;components/camel-servlet/src/test/java/org/apache/camel/component/servlet/HttpClientRouteTest.java;,0
5269,Bengt Rodehav,camel-ftp,0,Make it possible to change the remote file name without changing the local file name, make possibl chang remot file name without chang local file name,Currently  if you change the remote file name by changing the message header Exchange.FILE_NAME  this will not only change the remote file name but also the local file name. This is often undesirable. Instead it is a common requirement to archive the files that you process locally with their original file names unchanged.This has been discussed on the user mailing list:http://camel.465427.n5.nabble.com/how-to-specify-remote-file-name-when-using-FTP-endpoint-td5697227.html, current chang remot file name chang messag header exchang FILE_NAME exchang FILE NAME not chang remot file name also local file name name often undesir undesir instead common requir archiv file process local origin file name unchang unchang discuss user mail list http camel nabbl com specifi remot file name use FTP endpoint td html list http camel nabbl com specifi remot file name use FTP endpoint td html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileProducer.java;camel-core/src/test/java/org/apache/camel/component/file/FileProduceOverruleExpressionTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileProduceOverruleOnlyOnceTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileProduceOverruleTest.java;,0
5270,Jonathan Barber,camel-snmp,0,Add community and peer address of SNMP TRAP PDUs to camel-snmp header, add commun peer address SNMP TRAP PDUs PD Us camel snmp camel snmp header,A patch is included to add the community and peer address of SNMP traps that are received by camel. This is useful to determine where a trap originated from  as not all SNMPv2 traps include an OID that identifies the sender.The information is placed in the message header as strings with names:securityNamepeerAddressThese names correspond to the accessor names in the snmp4j API for the CommandResponderEvent class. securityName is not the correct name for SNMP v1/2 traps  but it's probably better to stick with a name that can be consistant between SNMP versions., patch includ add commun peer address SNMP trap receiv camel camel use determin trap origin not SNMPv SNM Pv trap includ OID identifi sender sender inform place messag header string name securityNamepeerAddressThese name secur namep address name correspond accessor name snmp snmp API CommandResponderEvent command respond event class class securityName secur name not correct name SNMP trap probabl better stick name consist SNMP version version,0,1,0,0,0,components/camel-snmp/src/main/java/org/apache/camel/component/snmp/SnmpEndpoint.java;components/camel-snmp/src/main/java/org/apache/camel/component/snmp/SnmpMessage.java;components/camel-snmp/src/main/java/org/apache/camel/component/snmp/SnmpTrapConsumer.java;,0
5274,Claus Ibsen,camel-jetty,0,Jetty client can corrupt streams if used in a bridge mode (proxy), jetti client corrupt stream use bridg mode proxi proxi,The jetty http producer should favor streams over Strings  which otherwise could cause the payload to be corrupted if doing a bridge mode  eg from jetty to jetty., jetti http produc favor stream string otherwis could caus payload corrupt bridg mode eg jetti jetti jetti,0,0,0,0,0,components/camel-jetty/src/main/java/org/apache/camel/component/jetty/DefaultJettyHttpBinding.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyContentExchange.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpProducer.java;,0
5275,Arjen Duursma,build system,0,Dependencies with inconsitant paths in repository, depend inconsit path repositori,Artifactory doesn't by default serve artifacts that have a path inconsistancy in it's repository. The used maven-shade-plugin version 1.4 used by camel 2.10.0-SNAPSHOT depends on such a component. this is fixed in version 1.6I was unable to add an attachement  so here is the patch inline:      Eclipse Workspace Patch 1.0#P camelIndex: parent/pom.xml===================================================================   parent/pom.xml (revision 1338042)+++ parent/pom.xml (working copy)@@ -1684 7 +1684 7 @@ &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;     &lt;version&gt;1.4&lt;/version&gt;+ &lt;version&gt;1.6&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt;, artifactori default serv artifact path inconsist repositori repositori use maven shade plugin maven shade plugin version use camel SNAPSHOT SNAPSHOT depend compon compon fix version unabl add attach patch inlin inlin eclips workspac patch camelIndex camel index parent pom xml parent pom xml parent pom xml parent pom xml revis parent pom xml parent pom xml work copi copi lt plugin gt lt plugin gt lt groupId gt org apach maven plugin lt groupId gt lt group Id gt org apach maven plugin lt group Id gt lt artifactId gt maven shade plugin lt artifactId gt lt artifact Id gt maven shade plugin lt artifact Id gt lt version gt lt version gt lt version gt lt version gt lt version gt lt version gt lt version gt lt version gt lt plugin gt lt plugin gt lt plugin gt lt plugin gt,0,1,1,0,0,parent/pom.xml;pom.xml;,0
5279,Hadrian Zbarcea,camel-stream,0,camel-stream overwrites files instead of appending, camel stream camel stream overwrit file instead append,When a file stream is used with camel-stream  the file is not opened in append mode  therefore the file is overwritten with every message  ending up with just the last message  all others are lost.This contrasts with the documented behavior., file stream use camel stream camel stream file not open append mode therefor file overwritten everi messag end last messag other lost lost contrast document behavior behavior,0,0,0,0,0,0,0
5284,Hadrian Zbarcea,camel-stream,0,camel-stream should not close stream after each write, camel stream camel stream not close stream write,The StreamProducer in camel-stream closes the stream after every write  which significantly affects performance., StreamProducer stream produc camel stream camel stream close stream everi write significantli affect perform perform,0,0,0,0,0,0,0
5299,Raúl Kripalani,camel-blueprint; camel-core,0,EventNotifiers don't work under Blueprint, EventNotifiers event notifi work blueprint,EventNotifiers don't work with Blueprint Camel Contexts. Testing on latest 2.10-SNAPSHOT  updated on 22 May 16:45 GMT.After some debugging  it looks like the bean lookup performed on line 202 of AbstractCamelContextFactoryBean.afterPropertiesSet() triggers the initialization of the CamelContext as part of the lookup. As part of the init  all services are started  including the ManagementContext and its EventNotifiers (which we were just looking up).EventNotifiers are then added but never started because they came in late., EventNotifiers event notifi work blueprint camel context context test latest SNAPSHOT SNAPSHOT updat may GMT GMT debug look like bean lookup perform line AbstractCamelContextFactoryBean afterPropertiesSet abstract camel context factori bean properti set trigger initi CamelContext camel context part lookup lookup part init servic start includ ManagementContext manag context EventNotifiers event notifi look EventNotifiers event notifi ad never start came late late,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/management/DefaultManagementStrategy.java;camel-core/src/main/java/org/apache/camel/management/ManagedManagementStrategy.java;camel-core/src/main/java/org/apache/camel/management/ManagementStrategyFactory.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/handler/CamelNamespaceHandler.java;components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/EventNotifierTest.java;components/camel-test-blueprint/src/test/resources/org/apache/camel/test/blueprint/eventNotifier.xml;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/handler/CamelNamespaceHandler.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelRedeliveryPolicyFactoryBean.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelThreadPoolFactoryBean.java;components/camel-core-xml/src/main/java/org/apache/camel/core/xml/util/jsse/AbstractBaseSSLContextParametersFactoryBean.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/blueprint/CamelBlueprint8Test.java;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/blueprint/blueprint-18.xml;,0
5308,Daniel Galán y Martins,camel-core,0,Main is bound to DefaultCamelContext, main bound DefaultCamelContext default camel context,We are using our own CamelContext  which is extending the DefaultCamelContext. Using Main is impossible in this case  since the getCamelContextMap()-method creates statically a DefaultCamelContext. Overriding this method doesn't works either  since the field registery is final  and no other accessors are defined.The given path doesn't breaks existing code bases  and gives an easy possiblity to override the context-creation  as well as access to the registry., use CamelContext camel context extend DefaultCamelContext default camel context use main imposs case sinc getCamelContextMap method get camel context map method creat static DefaultCamelContext default camel context overrid method work either sinc field registeri final no accessor defin defin given path break exist code base give easi possibl overrid context creation context creation well access registri registri,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/main/Main.java;,0
5320,Nestor Urquiza,camel-ftp,0,camel-ftp - Add option to check files without downloading, camel ftp camel ftp add option check file without download,download=false could be an option to stop poll consumers from downloading files when all you need is to check for file attributes.The need was generated from ftp component but it could potentially apply to any file consumer. For more info see the original thread http://camel.465427.n5.nabble.com/Camel-FTP-SFTP-check-instead-of-download-td5713363.html, download fals download fals could option stop poll consum download file need check file attribut attribut need gener ftp compon could potenti appli file consum consum info see origin thread,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileEndpoint.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpNotDownloadTest.java;,0
5326,Claus Ibsen,camel-bindy,0,camel-bindy - Do not use locale if not explicit configured, camel bindi camel bindi not use local not explicit configur,Bindy should newer use locale if not explicit configured to use one  as they will format numbers and whatnot in unexpected ways.For example an integer with an US locale will have comma as thousand separator  and that dont go well when marshalling to a CSV file  as the comma is also often a separator there., bindi newer use local not explicit configur use one format number whatnot unexpect way way exampl integ US local comma thousand separ dont go well marshal CSV file comma also often separ,0,0,0,0,0,components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyCsvFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/FormatFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/Section.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/csv/BindyCsvDataFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/format/BytePatternFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/format/DatePatternFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/format/DoublePatternFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/format/FloatPatternFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/format/IntegerPatternFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/format/LongPatternFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/format/NumberPatternFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/format/ShortPatternFormat.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindySimpleCsvUnmarshallBadIntegerTest.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionBuilder.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionClause.java;camel-core/src/main/java/org/apache/camel/builder/ExpressionClauseSupport.java;camel-core/src/main/java/org/apache/camel/language/tokenizer/TokenizeLanguage.java;camel-core/src/main/java/org/apache/camel/model/language/TokenizerExpression.java;camel-core/src/main/java/org/apache/camel/util/GroupIterator.java;camel-core/src/test/java/org/apache/camel/processor/SplitGroupMultiLinesTest.java;camel-core/src/test/java/org/apache/camel/util/GroupIteratorTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringSplitGroupMultiLinesTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SplitGroupMultiLinesTest.xml;,0
5347,Rob Davies,null,0,Add a Camel Component to support MQTT, add camel compon support MQTT,MQTT is a light weight messaging protocol for small sensors and mobile devices - see http://mqtt.org, MQTT light weight messag protocol small sensor mobil devic see,0,0,0,1,0,components/camel-mqtt/pom.xml;components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTComponent.java;components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTConfiguration.java;components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTConsumer.java;components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTEndpoint.java;components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTProducer.java;components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/package.html;components/camel-mqtt/src/main/resources/META-INF/LICENSE.txt;components/camel-mqtt/src/main/resources/META-INF/NOTICE.txt;components/camel-mqtt/src/main/resources/META-INF/services/org/apache/camel/component/mqtt;components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTBaseTest.java;components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTConfigurationTest.java;components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTConsumerTest.java;components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTProducerTest.java;components/camel-mqtt/src/test/resources/log4j.properties;components/camel-mqtt/src/test/resources/test-options.properties;components/pom.xml;parent/pom.xml;apache-camel/pom.xml;apache-camel/src/main/descriptors/common-bin.xml;parent/pom.xml;platforms/karaf/features/src/main/resources/features.xml;tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelMqttTest.java;,0
5355,Claus Ibsen,camel-sql,0,camel-sql - Should support % sign in query, camel sql camel sql support sign queri,See nabbleWe should look into supporting the % sign in the sql component.It should possible be less strict in uri validation as people can enter SQL queries. And to make it easy  they should just be able to dump in the SQL as is.We should also consider adding an option to refer to a SQL that is enlisted in the registry.Also people should be able to externalize their SQL in a .properties file and have Camel lookup that using the {{ }} notation, see nabbleWe nabbl look support sign sql compon compon possibl less strict uri valid peopl enter SQL queri queri make easi abl dump SQL also consid ad option refer SQL enlist registri also registri also peopl abl extern SQL properti file camel lookup use notat,0,0,0,0,0,components/camel-sql/src/test/java/org/apache/camel/component/sql/SpringSqlEndpointLikeTest.java;components/camel-sql/src/test/java/org/apache/camel/component/sql/SqlEndpointLikeTest.java;components/camel-sql/src/test/resources/org/apache/camel/component/sql/SpringSqlEndpointLikeTest.xml;,0
5360,Christian Müller,karaf,0,Camel features file doesn't validate, camel featur file valid,If you execute$camel/platforms/karaf&gt;mvn clean install -Pvalidateit fails in the feature definition validation for the following components:camel-quickfixcamel-cxfcamel-cdi, execut camel platform karaf gt mvn execut camel platform karaf gt mvn clean instal pvalidateit pvalidateit fail featur definit valid follow compon camel quickfixcamel cxfcamel cdi compon camel quickfixcamel cxfcamel cdi,0,0,0,1,0,tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/CamelSpringWebServiceTest.java;platforms/karaf/features/src/main/resources/features.xml;,0
5363,Claus Ibsen,camel-jms,0,camel-jms - Exception thrown from destination resolver should trigger Camel exception handling, camel jm camel jm except thrown destin resolv trigger camel except handl,See nabblehttp://camel.465427.n5.nabble.com/Camel-Error-handling-throwing-exception-not-moving-to-error-queue-tp5714076.htmlThe jms producer should catch unhandled exceptions from the Spring JMS  such as its destination resolver. And ensure the callback is invoked  to let Camel error handler be triggered., see nabblehttp camel nabbl com camel error handl throw except not move error queue tp htmlThe nabblehttp camel nabbl com camel error handl throw except not move error queue tp html jm produc catch unhandl except spring JMS destin resolv resolv ensur callback invok let camel error handler trigger trigger,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsProducer.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsInOnlyInvalidDestinationTest.java;,0
5365,Akitoshi Yoshida,camel-cxf,0,SOAPMessage to InputStream conversion needed for some CXF SOAPMessage Provider scenarios, SOAPMessage SOAP messag InputStream input stream convers need CXF SOAPMessage SOAP messag provid scenario,When you have a SOAPMessage Provider based CXF endpoint in your Camel route and the message is forwarded to an input stream based processor or producer (e.g.  File)  it is necessary to have a converter that converts SOAPMessage into InputStream.It would be practical to have this conversion method included in CxfConverter.I am attaching a test case and a possible implementation. This implementation uses CachedOutputStream to make an InputStream from a SOAPMessage. There might be a better way to get an InputStream  but I don't know a simple one.Thanks., SOAPMessage SOAP messag provid base CXF endpoint camel rout messag forward input stream base processor produc file file necessari convert convert SOAPMessage SOAP messag InputStream input stream would practic convers method includ CxfConverter cxf convert attach test case possibl implement implement implement use CachedOutputStream cach output stream make InputStream input stream SOAPMessage SOAP messag might better way get InputStream input stream know simpl one thank one thank,0,1,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/converter/CxfConverter.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/converter/CxfConverter.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/SoapTargetBean.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/SoapMessageProviderStreamContext.xml;,0
5372,Ivan Sobolev,camel-core,0,Shutting down one of the contexts breaks async redeliveries in others: RedeliveryErrorHandler has static reference to a thread pool, shut one context break async redeliveri other other RedeliveryErrorHandler redeliveri error handler static refer thread pool,ErrorRedeliveryHandler has static reference to a thread pool used for scheduling retries  thus when it's stopped it stops a pool used by other handler instances(e.g. from other contexts)  thus they now can't redeliver., ErrorRedeliveryHandler error redeliveri handler static refer thread pool use schedul retri thu stop stop pool use handler instanc instanc context context thu redeliv redeliv,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/CamelContext.java;camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java;camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java;camel-core/src/main/java/org/apache/camel/processor/DefaultErrorHandler.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/test/java/org/apache/camel/impl/MultipleLifecycleStrategyTest.java;camel-core/src/test/java/org/apache/camel/issues/RedeliveryErrorHandlerAsyncDelayedTwoCamelContextIssueTest.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandler.java;components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java;,0
5376,Alexis Kinsella,camel-mail,0,Mail component does not work as expected (Email Deletion is partially broken et Disconnect does not work well), mail compon not work expect email email delet partial broken et disconnect not work well well,The way disconnect is implemented causes issues with some other options of the consumer. For instance 'disconnect' option is not compatible with 'delete' option.The delete action is done in completion action (processCommit: line 185). On line 305  processCommit method checks if folder is open  but 'disconnect' option force folder at null value at the end of poll method (Line 149).I guess disconnect method should be called on completion after any other completion actions occured: It is not possible to make completion actions if connection to mail server is closed.The result of the usage of disconnect option and delete option is a NullPointerException on test: 'if (!folder.isOpen())' statement on line 308.Issue should be always reproductible.I let you fix the priority of the issue  but it is an annoying issue even if there is a workaround by disabling disconnect option ..., way disconnect implement caus issu option consum consum instanc disconnect disconnect option not compat delet delet option option delet action done complet action processCommit process commit line line processCommit process commit method check folder open disconnect disconnect option forc folder null valu end poll method line line guess disconnect method call complet complet action occur occur not possibl make complet action connect mail server close close result usag disconnect option delet option NullPointerException null pointer except test test folder isOpen folder open statement line issu issu alway reproduct reproduct let fix prioriti issu annoy issu even workaround disabl disconnect option,0,1,0,1,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;,0
5396,Mark Hillary,camel-jms,0,Improve performance of DefaultJmsKeyFormatStrategy, improv perform DefaultJmsKeyFormatStrategy default jm key format strategi,The current default implementation uses String.replace/replaceAll to escape the illegal characters in the header key. This is unfortunate because replace/replaceAll are implemented in terms of regular expressions which makes the escaping quite costly for something that is executed for every single message. Also it's quite likely that the headers will be identical for every single message that's published via JMS. The attached patch makes two changes; Use Commons Lang StringUtil.replaceEach which using a StringBuilder internally to do the replacement. This adds a dependency on Commons Lang. Cache the output of StringUtil.replaceEach in a ConcurrentHashMap. This could be moved to a separate class if caching every key is a concern. Or this could be changed to use an LRUCache, current default implement use string replac replaceAll string replac replac escap illeg charact header key key unfortun replac replaceAll replac replac implement term regular express make escap quit costli someth execut everi singl messag messag also quit like header ident everi singl messag publish via JMS JMS attach patch make two chang chang use common lang StringUtil replaceEach string util replac use StringBuilder string builder intern replac replac add depend common lang lang cach output StringUtil replaceEach string util replac ConcurrentHashMap concurr hash map could move separ class cach everi key concern concern could chang use LRUCache LRU cach,0,1,0,0,1,camel-core/src/main/java/org/apache/camel/util/StringHelper.java;camel-core/src/test/java/org/apache/camel/util/StringHelperTest.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/DefaultJmsKeyFormatStrategy.java;camel-core/src/main/java/org/apache/camel/util/StringHelper.java;camel-core/src/main/java/org/apache/camel/util/StringHelper.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/DefaultJmsKeyFormatStrategy.java;,0
5405,Sergey Beryozkin,camel-cxf,0,CXF Transport loses HTTP Matrix parameters, CXF transport lose HTTP matrix paramet,DefaultCxfMesssageMapper (note the typo - to be fixed in a follow-up JIRA) wrongly initializes CXF Message Message.REQUEST_URI property with the value of Camel Exchange.HTTP_PATH  even though Camel Exchange.HTTP_URI is available.The net effect is that the HTTP matrix parameters if any attached to the last HTTP path segment are lost. Another side-effect is that Exchange.HTTP_PATH will contain the decoded value (done at HTTPServletRequest level) which can lead to the matching issues at the JAX-RS level.A simple patch is attached, DefaultCxfMesssageMapper default cxf messsag mapper note typo fix follow follow JIRA JIRA wrongli initi CXF messag messag REQUEST_URI messag REQUEST URI properti valu camel exchang HTTP_PATH exchang HTTP PATH even though camel exchang HTTP_URI exchang HTTP URI avail avail net effect HTTP matrix paramet attach last HTTP path segment lost lost anoth side effect side effect exchang HTTP_PATH exchang HTTP PATH contain decod valu done HTTPServletRequest HTTP servlet request level level lead match issu JAX RS JAX RS level level simpl patch attach,0,1,0,0,0,components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Producer.java;components/camel-cxf-transport/src/test/java/org/apache/camel/component/cxf/common/message/DefaultCxfMessageMapperTest.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaProducer.java;components/camel-cxf-transport/src/main/java/org/apache/camel/component/cxf/common/message/DefaultCxfMesssageMapper.java;components/camel-cxf-transport/src/main/java/org/apache/camel/component/cxf/common/message/DefaultCxfMesssageMapper.java;components/camel-cxf-transport/src/test/java/org/apache/camel/component/cxf/common/message/DefaultCxfMessageMapperTest.java;,0
5406,emanuele gherardini,camel-core; tests,0,Threads EIP hangs Junit4 tests using adviceWith, thread EIP hang junit junit test use adviceWith advic,If the  threds()  DSL keyword is used in a route and a Junit4 test is performed  the test hangs indefenitely.The issue is descibed here:http://camel.465427.n5.nabble.com/Threads-EIP-hangs-Unit-Tests-JUnit4-td5715031.htmlplease find attached a self-consistent sample project to reproduce it., thred thred DSL keyword use rout junit junit test perform test hang indefenit indefenit issu descib http camel nabbl com thread EIP hang unit test JUnit td htmlpleas http camel nabbl com thread EIP hang unit test unit td htmlpleas find attach self consist self consist sampl project reproduc,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/impl/InterceptSendToEndpoint.java;camel-core/src/test/java/org/apache/camel/issues/ThreadsDoTryCatchInterceptSendToAllEndpointIssueTest.java;,0
5407,Claus Ibsen,camel-core; camel-ftp,0,Better error message when trying to write a null body as file, better error messag tri write null bodi file,See nabblehttp://camel.465427.n5.nabble.com/Can-t-route-wsdl-request-into-file-tp5715201.htmlWe should have a better error message instead of something about no type converter exception.We could also consider an option to the file producer  to silently ignore writing files if there is no message body.Finding a good name for this option is a challenge  skipNullBody ignoreWritingNullBody, see nabblehttp camel nabbl com rout wsdl request file tp htmlWe nabblehttp camel nabbl com rout wsdl request file tp html better error messag instead someth no type convert except except could also consid option file produc silent ignor write file no messag bodi find bodi find good name option challeng skipNullBody skip null bodi ignoreWritingNullBody ignor write null bodi,0,1,0,1,1,camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java;camel-core/src/test/java/org/apache/camel/component/file/FileProducerAllowNullBodyFileAlreadyExistsTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileProducerAllowNullBodyTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerAllowNullBodyFileAlreadyExistTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerAllowNullBodyTest.java;camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/test/java/org/apache/camel/component/file/FileProducerAllowNullBodyFileAlreadyExistsTest.java;camel-core/src/test/java/org/apache/camel/component/file/FileProducerAllowNullBodyTest.java;,0
5411,Ralf Kornberger,camel-mqtt,0,MQTT Endpoint does not correctly return the MQTT-Payload, MQTT endpoint not correctli return MQTT payload MQTT payload,MQTT Endpoint does not correctly return the MQTT-Payload. It returns the whole MQTT Message (header + payload).The bug is in line 89 of MQTTEndpoint.java (version 2.11  but also in 2.10) exchange.getIn().setBody(body.getData());must become exchange.getIn().setBody(body.toByteArray()); because getData() ignores the offset (to skip the MQTT header) set in the body byte array., MQTT endpoint not correctli return MQTT payload MQTT payload return whole MQTT messag header payload payload bug line MQTTEndpoint java MQTT endpoint java version also exchang getIn setBody bodi getData must exchang get set bodi bodi get data must becom exchang getIn setBody bodi toByteArray exchang get set bodi bodi byte array getData get data ignor offset skip MQTT header header set bodi byte array array,0,1,0,1,0,components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTEndpoint.java;,0
5412,Pontus Ullgren,camel-quartz,0,ObjectAlreadyExistsException when 'redeploying' routes that uses CronScheduledRoutePolicy, ObjectAlreadyExistsException object alreadi exist except redeploy redeploy rout use CronScheduledRoutePolicy cron schedul rout polici,When a route that has a CronScheduledRoutePolicy is removed it does not properly clean up the quartz jobs. The result (apart from possible memory leak) is that if the route is removed from the context and then readded with the same route id a ObjectAlreadyExistsException.This is done using the following steps.1. Stop the route2. Remove the route (and it's endpoints) from the context.3. (Re)add the route to the context using the same name.Attached is a testcase that shows the problem.I've solved this by adding my own implementation of onRemove (that calls doStop()) to CronScheduledRoutePolicy., rout CronScheduledRoutePolicy cron schedul rout polici remov not properli clean quartz job job result apart possibl memori leak leak rout remov context read rout id ObjectAlreadyExistsException object alreadi exist except done use follow step step stop rout rout remov rout endpoint endpoint context context add add rout context use name attach name attach testcas show problem problem solv ad implement onRemove remov call doStop stop CronScheduledRoutePolicy cron schedul rout polici,0,1,0,0,1,components/camel-quartz/src/main/java/org/apache/camel/routepolicy/quartz/CronScheduledRoutePolicy.java;,0
5415,Max Shalashov,camel-core,0,Simple does not handle empty values in predicates properly, simpl not handl empti valu predic properli,Example code:...&lt;choice&gt; &lt;when&gt; &lt;simple&gt;${property.someProperty} == ''&lt;/simple&gt; ... &lt;/when&gt;...Error message: right must be specified, exampl code lt choic gt code lt choic gt lt gt lt gt lt simpl gt properti someProperty lt simpl gt properti properti lt simpl gt lt simpl gt lt gt error lt gt error messag messag right must specifi,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/language/simple/ast/DoubleQuoteStart.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/SingleQuoteStart.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleOperatorTest.java;,0
5444,Claus Ibsen,camel-jms,0,camel-jms - Log at INFO level if shared replyTo queues are in use  as they are not as fast as temporary or exclusive queues, camel jm camel jm log INFO level share replyTo repli queue use not fast temporari exclus queue,See nabblehttp://camel.465427.n5.nabble.com/fyi-SI-tp5716049.htmlWe should log at INFO (maybe even WARN level) if shared reply queues are in use as they are not as fast. They have their purposes though  such as a shared clustered queue  or if a queue is used by other apps too (not ideally thought). Temporary and Exclusive reply queues are faster.See the JMS docs at the request reply section  for much more details., see nabblehttp camel nabbl com fyi SI tp htmlWe nabblehttp camel nabbl com fyi SI tp html log INFO mayb even WARN level level share repli queue use not fast fast purpos though share cluster queue queue use app not ideal thought thought temporari exclus repli queue faster see faster see JMS doc request repli section much detail detail,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/PersistentQueueReplyManager.java;,0
5459,Fabio Berchtold,camel-mail,0,Folder closed too early when working asynchronously, folder close earli work asynchron,When using a MailConsumer connected with IMAP to a mailserver and routing the messages to SEDA or any other asynchronous endpoint  it can cause a com.sun.mail.util.FolderClosedIOException or javax.mail.FolderClosedException to happen if you are trying to process the mails/messages attachments.This is because the IMAP folder gets closed at the end of each MailConsumer.poll()I propose to add a new MailConfiguration option 'closeFolder'  which can override this behaviour.Here's an example on how to reproduce the problem. (Scala code  sorry! But it should be self-explanatory)You need a couple of mails with attachments in your mailbox to test this. ~10 mails should be enough to cause the exceptions.import javax.mail.internet.MimeMultipartimport org.apache.camel.impl.DefaultCamelContextimport org.apache.camel.scala.dsl.builder.RouteBuilderimport scala.io.Sourceobject Main {  def main(args: Array&#91;String&#93;): Unit = { val camelContext = new DefaultCamelContext val host = 'imap.gmail.com' val username = '*****@gmail.com' val password = '*****' // this will cause com.sun.mail.util.FolderClosedIOException or javax.mail.FolderClosedException val endpoint = 'imaps://'host'?password='password'&amp;username='username'&amp;folderName=INBOX&amp;unseen=false&amp;disconnect=false&amp;mapMailMessage=true&amp;connectionTimeout=60000' // with fix / new feature 'closeFolder' set to false //val endpoint = 'imaps://'host'?password='password'&amp;username='username'&amp;folderName=INBOX&amp;unseen=false&amp;disconnect=false&amp;mapMailMessage=true&amp;connectionTimeout=60000&amp;closeFolder=false' camelContext.addRoutes( new RouteBuilder { endpoint .to('seda:process') from('seda:process?concurrentConsumers=5') ==&gt; { process { ex =&gt; val att = ex.getIn.getBody.asInstanceOf[MimeMultipart].getBodyPart(1) println('Attachment Name:' + att.getFileName) println('Attachment Content:' + att.getDataHandler.getContent) println('Attachment Content:' + Source.fromInputStream(att.getDataHandler.getInputStream).mkString) Thread.sleep(2500) // simulate some work being done here with the attachment  takes time.. } } } ) camelContext.start() Thread.sleep(45 * 1000) camelContext.stop() }}, use MailConsumer mail consum connect IMAP mailserv rout messag SEDA asynchron endpoint caus com sun mail util FolderClosedIOException com sun mail util folder close IO except javax mail FolderClosedException javax mail folder close except happen tri process mail messag mail messag attach attach IMAP folder get close end MailConsumer poll mail consum poll propos add new MailConfiguration mail configur option closeFolder close folder overrid behaviour behaviour exampl reproduc problem problem scala scala code sorri sorri self explanatori self explanatori need coupl mail attach mailbox test mail enough caus except import except import javax mail internet MimeMultipartimport javax mail internet mime multipartimport org apach camel impl DefaultCamelContextimport org apach camel impl default camel contextimport org apach camel scala dsl builder RouteBuilderimport org apach camel scala dsl builder rout builderimport scala io sourceobject scala io sourceobject main def main arg main arg array string array string unit val camelContext camel context new DefaultCamelContext default camel context val host imap gmail com imap gmail com val usernam gmail com gmail com val password caus com sun mail util FolderClosedIOException com sun mail util folder close IO except javax mail FolderClosedException javax mail folder close except val endpoint imap host password password amp usernam usernam amp folderName INBOX amp unseen fals amp disconnect fals amp mapMailMessage true amp connectionTimeout imap host password password amp usernam usernam amp folder name INBOX amp unseen fals amp disconnect fals amp map mail messag true amp connect timeout fix new featur closeFolder close folder set fals val endpoint imap host password password amp usernam usernam amp folderName INBOX amp unseen fals amp disconnect fals amp mapMailMessage true amp connectionTimeout amp closeFolder fals imap host password password amp usernam usernam amp folder name INBOX amp unseen fals amp disconnect fals amp map mail messag true amp connect timeout amp close folder fals camelContext addRoutes camel context add rout new RouteBuilder rout builder endpoint seda process seda process seda process concurrentConsumers seda process concurr consum gt gt process ex gt gt val att ex getIn getBody asInstanceOf MimeMultipart getBodyPart ex get get bodi instanc mime multipart get bodi part println attach println attach name name att getFileName att get file name println attach println attach content content att getDataHandler getContent att get data handler get content println attach println attach content content sourc fromInputStream att getDataHandler getInputStream mkString sourc input stream att get data handler get input stream mk string thread sleep thread sleep simul work done attach take time time camelContext start camel context start thread sleep thread sleep camelContext stop camel context stop,0,0,1,1,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConsumer.java;,0
5461,Patrick Ohl,camel-core,0,IOConverter.toInputStream opens a BufferReader which will never be closed, IOConverter toInputStream IO convert input stream open BufferReader buffer reader never close,If called with a non-null charset IOConvert.toInputStream returns a InputStream which will never close the opened BufferedReader., call non null non null charset IOConvert toInputStream IO convert input stream return InputStream input stream never close open BufferedReader buffer reader,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/converter/IOConverter.java;,0
5464,Raúl Kripalani,camel-activemq; camel-jms,0,camel-jms consumer doesn't send back a reply in all cases, camel jm camel jm consum send back repli case,In a very simple route consuming from a Camel JMS endpoint receiving InOut exchanges (i.e. JMSReplyTo header present)  the endpoint will not send back replies.This happens because Camel JMS only returns a reply if the OUT message is set. But if the route looks like: consumer =&gt; processor  and Camel doesn't find the need to 'weave in' an implicit Pipeline processor  no one will implicitly take care of mapping the IN message to an OUT message (unless the user knows about these internal aspects - but we shouldn't expect them too).As a result  these routes DON'T WORK...&lt;route&gt; &lt;from uri='timer:foo?fixedRate=true&amp;amp;period=10000' /&gt; &lt;setBody&gt;&lt;constant&gt;Hello Raul&lt;/constant&gt;&lt;/setBody&gt; &lt;to uri='log:SendingRequest?showAll=true' /&gt; &lt;inOut uri='activemq:queue:test1?requestTimeout=1000' /&gt; &lt;to uri='log:ReceivedReply?showAll=true' /&gt;&lt;/route&gt; &lt;route&gt; &lt;from uri='activemq:queue:test1' /&gt; &lt;to uri='log:ReceivedRequest?showAll=true' /&gt;&lt;/route&gt;... but just by adding an additional log endpoint to the second route (or any other thing  for that matter)  it starts to work because Camel weaves in the Pipeline processor.Other workarounds that work: explicitly wrapping the log endpoint in a &lt;pipeline&gt; DSL &lt;setBody&gt;&lt;simple&gt;${in.body}&lt;/simple&gt;&lt;/setBody&gt;Or simply introducing anything that will force Camel to insert a Pipeline processor.IMHO  there are two solutions to avoid this issue: Always weave in a Pipeline processor (adds overhead in simple routes and may cause regressions) Adapt EndpointMessageListener to pick the IN message when the exchange is out capable and expectation of a reply existsI'm happy to work on a patch for Camel 2.10.1.EDIT: Just wrapping the single endpoint in &lt;pipeline /&gt; doesn't function as a workaround., simpl rout consum camel JMS endpoint receiv InOut exchang JMSReplyTo JMS repli header present present endpoint not send back repli repli happen camel JMS return repli messag set set rout look like like consum gt gt processor camel find need weav implicit pipelin processor no one implicitli take care map messag messag unless user know intern aspect expect result rout WORK lt rout gt WORK lt rout gt lt lt uri timer foo fixedRate true amp amp period uri timer foo fix rate true amp amp period gt gt lt setBody gt lt constant gt hello lt set bodi gt lt constant gt hello raul lt constant gt lt setBody gt raul lt constant gt lt set bodi gt lt lt uri log SendingRequest showAll true uri log send request show true gt gt lt inOut lt uri activemq queue test requestTimeout uri activemq queue test request timeout gt gt lt lt uri log ReceivedReply showAll true uri log receiv repli show true gt lt rout gt gt lt rout gt lt rout gt lt rout gt lt lt uri activemq queue test uri activemq queue test gt gt lt lt uri log ReceivedRequest showAll true uri log receiv request show true gt lt rout gt gt lt rout gt ad addit log endpoint second rout thing matter matter start work camel weav pipelin processor processor workaround work work explicitli wrap log endpoint lt pipelin gt lt pipelin gt DSL lt setBody gt lt simpl gt bodi lt simpl gt lt setBody gt lt set bodi gt lt simpl gt bodi lt simpl gt lt set bodi gt simpli introduc anyth forc camel insert pipelin processor IMHO processor IMHO two solut avoid issu issu alway weav pipelin processor add overhead simpl rout may caus regress regress adapt EndpointMessageListener endpoint messag listen pick messag exchang capabl expect repli existsI exist happi work patch camel EDIT EDIT wrap singl endpoint lt pipelin lt pipelin gt gt function workaround workaround,0,1,0,1,1,components/camel-jms/src/main/java/org/apache/camel/component/jms/EndpointMessageListener.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsInOutWithNoOutBodyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsRouteRequestReplyTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsSimpleRequestLateReplyTest.java;,0
5474,Willem Jiang,camel-blueprint,0,Support to build the camel-soap offline, support build camel soap camel soap offlin,camel-soap introduce soap12.xsd which has the import from the internet  it will cause some trouble when you build the camel-soap offline., camel soap camel soap introduc soap xsd soap xsd import internet caus troubl build camel soap camel soap offlin offlin,0,0,0,0,0,components/camel-soap/src/main/resources/soap12.xsd;components/camel-soap/src/main/resources/xml.xsd;,0
5485,Babak Vahdat,camel-mybatis,0,camel-mybatis should do a proper transaction demarcation while reading/writing from/to database., camel mybati camel mybati proper transact demarc read write read write databas databas,See http://camel.465427.n5.nabble.com/MyBatis-Component-Bug-consumer-onConsume-hits-error-transactions-are-committed-instead-of-rollback-td5716774.htmlOther than DefaultMyBatisProcessingStrategy the same issue exists by MyBatisProducer as well.Another thing which is currently missing completley is that there's no transaction demarcation by the Producer at all while reading from the database  e.g. by SelectOne or SelectList statement types., see DefaultMyBatisProcessingStrategy default bati process strategi issu exist MyBatisProducer bati produc well anoth well anoth thing current miss completley no transact demarc produc read databas SelectOne select one SelectList select list statement type type,0,0,0,1,0,components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisInsertWithRollbackTest.java;components/camel-mybatis/src/main/java/org/apache/camel/component/mybatis/DefaultMyBatisProcessingStrategy.java;components/camel-mybatis/src/main/java/org/apache/camel/component/mybatis/MyBatisProducer.java;components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisInsertWithRollbackTest.java;,1
5492,Christian Müller,camel-jetty,0,Add option to restrict HTTP method in camel-jetty and camel-servlet, add option restrict HTTP method camel jetti camel jetti camel servlet camel servlet,See http://camel.465427.n5.nabble.com/Jetty-consumer-restricting-methods-td5716938.html, see,0,1,0,1,0,components/camel-http/src/main/java/org/apache/camel/component/http/CamelServlet.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpEndpoint.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/CamelServlet.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpComponent.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpEndpoint.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/CamelContinuationServlet.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpMethodRestrictTest.java;components/camel-servlet/src/main/java/org/apache/camel/component/servlet/ServletComponent.java;components/camel-servlet/src/test/java/org/apache/camel/component/servlet/HttpClientRouteTest.java;,0
5495,Akitoshi Yoshida,camel-core,0,file endpoints on windows without volume name in the path url not working in some cases, file endpoint window without volum name path url not work case,I am using file endpoints on Windows without the volume name just like the normal unix based paths look.That means  I have something like file:///tmp/file-in and file:///tmp/file-outThe funny thing that I noticed is that each endpoint itself works fine  but when a route is set up from one to the other  it fails because there seems to be an inconsistency in the way the windows path is handled in the camel-core's file component.As mentioned  each file endpoint itself is working fine. For example  the consumer file endpoint configured in a routefrom('file:///tmp/file-in').to('mock:test')works fine.Similarly  the produce file endpoint configured in a routefrom('direct:test').to('file:///tmp/file-out')works fine.But when a route is setup to connect these two file endpoints  the producer endpoint fails to create the output file.Concretely  there is the following code in GenericFileEndpoint.configureMessage that determines the file name. String name = file.isAbsolute() ? file.getAbsoluteFilePath() : file.getRelativeFilePath(); // skip leading endpoint configured directory String endpointPath = getConfiguration().getDirectory() + getFileSeparator();In this particular case  the name variable is set to 'C:/tmp/file-in/sample.xml' while the endpointPath variable is set to '/tmp/file-in'.So  the subsequent code to extract the file name part  shown below  fails to match the path. if (ObjectHelper.isNotEmpty(endpointPath) &amp;&amp; name.startsWith(endpointPath)) { name = ObjectHelper.after(name  endpointPath); }As a result  the file name is not extracted as 'sample.xml' but remain unchanged as 'C:/tmp/file-in/sample.xml'.Consequently  when the file producer endpoint tries to write this file in the file system  it tries to write a file as '/tmp/file-out/C:/tmp/file-in/sample.xml'  resulting in an error.I modified FileComponent and FileEndpoint so that the endpoint path is stored correctly in this case to make the above extraction code find the file name part correctly.Attached is this proposed patch and a test case which runs on windows and on non-windows but this issue can only be demonstrated under windows.testRouteToFileOnly and testRouteFromFileOnly work without this patch while testRouteFileToFile fails without this patch on windows.Thanks for looking into this issue.Regards  Aki, use file endpoint window without volum name like normal unix base path look look mean someth like funni thing notic endpoint work fine rout set one fail seem inconsist way window path handl camel core camel core file compon compon mention file endpoint work fine fine exampl consum file endpoint configur routefrom file tmp file mock test work routefrom file tmp file mock test work fine similarli fine similarli produc file endpoint configur routefrom direct test file tmp file work routefrom direct test file tmp file work fine fine rout setup connect two file endpoint produc endpoint fail creat output file concret file concret follow code GenericFileEndpoint configureMessage gener file endpoint configur messag determin file name name string name file isAbsolute file absolut file getAbsoluteFilePath file get absolut file path file getRelativeFilePath file get rel file path skip lead endpoint configur directori string endpointPath endpoint path getConfiguration getDirectory get configur get directori getFileSeparator get file separ particular case name variabl set tmp file sampl xml tmp file sampl xml endpointPath endpoint path variabl set tmp file tmp file subsequ code extract file name part shown fail match path path ObjectHelper isNotEmpty endpointPath object helper not empti endpoint path amp amp amp amp name startsWith endpointPath name start endpoint path name ObjectHelper name object helper name endpointPath endpoint path result file name not extract sampl xml sampl xml remain unchang tmp file sampl xml consequ tmp file sampl xml consequ file produc endpoint tri write file file system tri write file tmp file tmp file sampl xml tmp file tmp file sampl xml result error error modifi FileComponent file compon FileEndpoint file endpoint endpoint path store correctli case make extract code find file name part correctli attach correctli attach propos patch test case run window non window non window issu demonstr window testRouteToFileOnly window test rout file testRouteFromFileOnly test rout file work without patch testRouteFileToFile test rout file file fail without patch window thank window thank look issu regard issu regard aki,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/FileComponent.java;camel-core/src/main/java/org/apache/camel/component/file/FileEndpoint.java;camel-core/src/test/java/org/apache/camel/component/file/FileRouteOnDosWithNoVolTest.java;,0
5500,Claus Ibsen,camel-test,0,camel-testng - The spring base test class should use @AfterMethod on teardown as its parent does, camel testng camel testng spring base test class use AfterMethod method teardown parent,See nabblehttp://camel.465427.n5.nabble.com/Problem-with-testng-CamelSpringTestSupport-several-contexts-runs-simultaneously-tp5716447.html, see nabblehttp camel nabbl com problem testng CamelSpringTestSupport sever context run simultan tp html nabblehttp camel nabbl com problem testng camel spring test support sever context run simultan tp html,0,0,0,1,0,components/camel-testng/src/main/java/org/apache/camel/testng/CamelSpringTestSupport.java;,0
5513,Claus Ibsen,camel-core,0,Add option to changed readLock to denote whether a zero file size is accepted or not, add option chang readLock read lock denot whether zero file size accept not,Some people may write zero files and want them to be accepted., peopl may write zero file want accept accept,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileEndpoint.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileChangedExclusiveReadLockStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/FileProcessStrategyFactory.java;camel-core/src/test/java/org/apache/camel/component/file/strategy/FileChangedZeroLengthReadLockTest.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/strategy/FtpChangedExclusiveReadLockStrategy.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/strategy/FtpProcessStrategyFactory.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/strategy/SftpChangedExclusiveReadLockStrategy.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/strategy/SftpProcessStrategyFactory.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpChangedZeroLengthReadLockTest.java;,0
5526,Alexander Titov,camel-xmpp,0,'ThreadID is already used' exception under heavy load, ThreadID thread ID alreadi use use except heavi load,In situations with heavy load or under load tests we rarely got exception: 2012-08-21 12:28:02 620 [ool-26-thread-7] ERROR DefaultErrorHandler - Failed delivery for (MessageId: ID-atitov-pc-60956-1345537671897-2-143205 on ExchangeId: ID-atitov-pc-60956-1345537671897-2-143206). Exhausted after delivery attempt: 1 caught: java.lang.IllegalArgumentException: ThreadID is already usedjava.lang.IllegalArgumentException: ThreadID is already used at org.jivesoftware.smack.ChatManager.createChat(ChatManager.java:163) at org.apache.camel.component.xmpp.XmppPrivateChatProducer.getOrCreateChat(XmppPrivateChatProducer.java:97) at org.apache.camel.component.xmpp.XmppPrivateChatProducer.process(XmppPrivateChatProducer.java:65) at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:120) at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:292) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:115) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:91) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:330) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:303) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.Pipeline.process(Pipeline.java:117) at org.apache.camel.processor.Pipeline.process(Pipeline.java:80) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:122) at org.apache.camel.processor.RouteInflightRepositoryProcessor.processNext(RouteInflightRepositoryProcessor.java:48) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:61) at org.apache.camel.processor.UnitOfWorkProcessor.processAsync(UnitOfWorkProcessor.java:150) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:117) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:86) at org.apache.camel.processor.UnitOfWorkProducer.process(UnitOfWorkProducer.java:63) at org.apache.camel.impl.ProducerCache$2.doInProducer(ProducerCache.java:360) at org.apache.camel.impl.ProducerCache$2.doInProducer(ProducerCache.java:1) at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:227) at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:331) at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:169) at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:111) at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:124) at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:131) at org.apache.camel.component.xmpp.XmppProducerConcurrentTest$1.call(XmppProducerConcurrentTest.java:79) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) at java.util.concurrent.FutureTask.run(FutureTask.java:138) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662)2012-08-21 12:28:02 621 [ool-26-thread-5] ERROR DefaultErrorHandler - Failed delivery for (MessageId: ID-atitov-pc-60956-1345537671897-2-143207 on ExchangeId: ID-atitov-pc-60956-1345537671897-2-143208). Exhausted after delivery attempt: 1 caught: java.lang.IllegalArgumentException: ThreadID is already usedjava.lang.IllegalArgumentException: ThreadID is already used at org.jivesoftware.smack.ChatManager.createChat(ChatManager.java:163) at org.apache.camel.component.xmpp.XmppPrivateChatProducer.getOrCreateChat(XmppPrivateChatProducer.java:97) at org.apache.camel.component.xmpp.XmppPrivateChatProducer.process(XmppPrivateChatProducer.java:65) at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:120) at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:292) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:115) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:91) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:330) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:303) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.Pipeline.process(Pipeline.java:117) at org.apache.camel.processor.Pipeline.process(Pipeline.java:80) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:122) at org.apache.camel.processor.RouteInflightRepositoryProcessor.processNext(RouteInflightRepositoryProcessor.java:48) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:61) at org.apache.camel.processor.UnitOfWorkProcessor.processAsync(UnitOfWorkProcessor.java:150) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:117) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:86) at org.apache.camel.processor.UnitOfWorkProducer.process(UnitOfWorkProducer.java:63) at org.apache.camel.impl.ProducerCache$2.doInProducer(ProducerCache.java:360) at org.apache.camel.impl.ProducerCache$2.doInProducer(ProducerCache.java:1) at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:227) at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:331) at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:169) at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:111) at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:124) at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:131) at org.apache.camel.component.xmpp.XmppProducerConcurrentTest$1.call(XmppProducerConcurrentTest.java:79) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) at java.util.concurrent.FutureTask.run(FutureTask.java:138) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662) After debugging and looking at source code we figured out  that smack use some sort of map with week references for chat cache. When memory is low java GC discards chat instances  but in Process() method they instantiated over and over again without synchronization:XmppPrivateChatProducer.java public void process(Exchange exchange) { ......................... Chat chat = chatManager.getThreadChat(endpoint.getChatId()); if (chat == null) { LOG.trace('Creating new chat instance with thread ID {}'  endpoint.getChatId()); chat = chatManager.createChat(getParticipant()  endpoint.getChatId()  new MessageListener() { public void processMessage(Chat chat  Message message) { // not here to do conversation if (LOG.isDebugEnabled()) { LOG.debug('Received and discarding message from {} : {}'  getParticipant()  message.getBody()); } } }); } .........................} But smack implementation prohibits chat instances with same chatId., situat heavi load load test rare got except except ool thread ool thread ERROR DefaultErrorHandler default error handler fail deliveri MessageId messag Id ID atitov pc ID atitov pc ExchangeId exchang Id ID atitov pc ID atitov pc exhaust deliveri attempt attempt caught caught java lang IllegalArgumentException java lang illeg argument except ThreadID thread ID alreadi usedjava lang IllegalArgumentException usedjava lang illeg argument except ThreadID thread ID alreadi use org jivesoftwar smack ChatManager createChat ChatManager java org jivesoftwar smack chat manag creat chat chat manag java org apach camel compon xmpp XmppPrivateChatProducer getOrCreateChat XmppPrivateChatProducer java org apach camel compon xmpp xmpp privat chat produc get creat chat xmpp privat chat produc java org apach camel compon xmpp XmppPrivateChatProducer process XmppPrivateChatProducer java org apach camel compon xmpp xmpp privat chat produc process xmpp privat chat produc java org apach camel util AsyncProcessorConverterHelper ProcessorToAsyncProcessorBridge process AsyncProcessorConverterHelper java org apach camel util async processor convert helper processor async processor bridg process async processor convert helper java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor SendProcessor doInAsyncProducer SendProcessor java org apach camel processor send processor async produc send processor java org apach camel impl ProducerCache doInAsyncProducer ProducerCache java org apach camel impl produc cach async produc produc cach java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor DefaultChannel process DefaultChannel java org apach camel processor interceptor default channel process default channel java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel processor RouteInflightRepositoryProcessor processNext RouteInflightRepositoryProcessor java org apach camel processor rout inflight repositori processor process next rout inflight repositori processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel compon direct DirectProducer process DirectProducer java org apach camel compon direct direct produc process direct produc java org apach camel processor UnitOfWorkProcessor processAsync UnitOfWorkProcessor java org apach camel processor unit work processor process async unit work processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor UnitOfWorkProducer process UnitOfWorkProducer java org apach camel processor unit work produc process unit work produc java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache sendExchange ProducerCache java org apach camel impl produc cach send exchang produc cach java org apach camel impl ProducerCache send ProducerCache java org apach camel impl produc cach send produc cach java org apach camel impl DefaultProducerTemplate send DefaultProducerTemplate java org apach camel impl default produc templat send default produc templat java org apach camel impl DefaultProducerTemplate sendBody DefaultProducerTemplate java org apach camel impl default produc templat send bodi default produc templat java org apach camel impl DefaultProducerTemplate sendBody DefaultProducerTemplate java org apach camel impl default produc templat send bodi default produc templat java org apach camel compon xmpp XmppProducerConcurrentTest call XmppProducerConcurrentTest java org apach camel compon xmpp xmpp produc concurr test call xmpp produc concurr test java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java java util concurr FutureTask run FutureTask java java util concurr futur task run futur task java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java ool thread ool thread ERROR DefaultErrorHandler default error handler fail deliveri MessageId messag Id ID atitov pc ID atitov pc ExchangeId exchang Id ID atitov pc ID atitov pc exhaust deliveri attempt attempt caught caught java lang IllegalArgumentException java lang illeg argument except ThreadID thread ID alreadi usedjava lang IllegalArgumentException usedjava lang illeg argument except ThreadID thread ID alreadi use org jivesoftwar smack ChatManager createChat ChatManager java org jivesoftwar smack chat manag creat chat chat manag java org apach camel compon xmpp XmppPrivateChatProducer getOrCreateChat XmppPrivateChatProducer java org apach camel compon xmpp xmpp privat chat produc get creat chat xmpp privat chat produc java org apach camel compon xmpp XmppPrivateChatProducer process XmppPrivateChatProducer java org apach camel compon xmpp xmpp privat chat produc process xmpp privat chat produc java org apach camel util AsyncProcessorConverterHelper ProcessorToAsyncProcessorBridge process AsyncProcessorConverterHelper java org apach camel util async processor convert helper processor async processor bridg process async processor convert helper java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor SendProcessor doInAsyncProducer SendProcessor java org apach camel processor send processor async produc send processor java org apach camel impl ProducerCache doInAsyncProducer ProducerCache java org apach camel impl produc cach async produc produc cach java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor DefaultChannel process DefaultChannel java org apach camel processor interceptor default channel process default channel java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel processor RouteInflightRepositoryProcessor processNext RouteInflightRepositoryProcessor java org apach camel processor rout inflight repositori processor process next rout inflight repositori processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel compon direct DirectProducer process DirectProducer java org apach camel compon direct direct produc process direct produc java org apach camel processor UnitOfWorkProcessor processAsync UnitOfWorkProcessor java org apach camel processor unit work processor process async unit work processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor UnitOfWorkProducer process UnitOfWorkProducer java org apach camel processor unit work produc process unit work produc java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache sendExchange ProducerCache java org apach camel impl produc cach send exchang produc cach java org apach camel impl ProducerCache send ProducerCache java org apach camel impl produc cach send produc cach java org apach camel impl DefaultProducerTemplate send DefaultProducerTemplate java org apach camel impl default produc templat send default produc templat java org apach camel impl DefaultProducerTemplate sendBody DefaultProducerTemplate java org apach camel impl default produc templat send bodi default produc templat java org apach camel impl DefaultProducerTemplate sendBody DefaultProducerTemplate java org apach camel impl default produc templat send bodi default produc templat java org apach camel compon xmpp XmppProducerConcurrentTest call XmppProducerConcurrentTest java org apach camel compon xmpp xmpp produc concurr test call xmpp produc concurr test java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java java util concurr FutureTask run FutureTask java java util concurr futur task run futur task java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java debug look sourc code figur smack use sort map week refer chat cach cach memori low java GC discard chat instanc process process method instanti without synchron XmppPrivateChatProducer java synchron xmpp privat chat produc java public void process exchang process exchang exchang exchang chat chat chatManager getThreadChat endpoint getChatId chat manag get thread chat endpoint get chat Id chat null null LOG trace creat LOG trace creat new chat instanc thread ID endpoint getChatId endpoint get chat Id chat chatManager createChat getParticipant chat manag creat chat get particip endpoint getChatId endpoint get chat Id new MessageListener messag listen public void processMessage chat process messag chat chat messag messag messag not convers LOG isDebugEnabled LOG debug enabl LOG debug receiv LOG debug receiv discard messag getParticipant get particip messag getBody messag get bodi smack implement prohibit chat instanc chatId chat Id,1,1,1,1,0,components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java;,0
5527,Claus Ibsen,tooling,0,Maven archetype - Generates wrong plugin for surefire plugin, maven archetyp gener wrong plugin surefir plugin,The blueprint archetype creates wrong pom.xml. The groupId for the surefire plugin is wrong., blueprint archetyp creat wrong pom xml pom xml groupId group Id surefir plugin wrong wrong,0,0,0,0,0,tooling/archetypes/camel-archetype-blueprint/src/main/resources-filtered/META-INF/maven/archetype-metadata.xml;tooling/archetypes/camel-archetype-blueprint/src/main/resources/archetype-resources/pom.xml;parent/pom.xml;,0
5528,Christian Müller,camel-aws,0,Improve how the AWS-SQS component create a new queue with additional attributes, improv AWS SQS AWS SQS compon creat new queue addit attribut,,,0,0,0,0,0,components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsEndpoint.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/integration/SqsComponentIntegrationTest.java;,0
5535,Amit Patel,camel-restlet,0,Multiple restlet routes of the same restlet URI but different VERBs does not work in Apache Camel 2.10.0   both routes work in Apache Camel 2.9.1., multipl restlet rout restlet URI differ VERBs VER Bs not work apach camel rout work apach camel,Multiple restlet routes of the same restlet URI but different VERBs does not work in Apache Camel 2.10.0   both routes work in Apache Camel 2.9.1. Reproduce Steps:-----------------1) Add a restlet route with a from uri of restlet:///nimbus/hello.restlet/1.0?restletMethods=get&lt;route xmlns='http://camel.apache.org/schema/spring' trace='true' &gt; &lt;from uri='restlet:///nimbus/hello.restlet/1.0?restletMethods=get'/&gt; &lt;transform&gt; &lt;simple&gt;Hello Restlet Method: ${header.CamelHttpMethod} ID:${header.id}&lt;/simple&gt; &lt;/transform&gt; &lt;/route&gt;2) Add a restlet route with a from uri of restlet:///nimbus/hello.restlet/1.0?restletMethods=post &lt;route xmlns='http://camel.apache.org/schema/spring' trace='true' &gt; &lt;from uri='restlet:///nimbus/hello.restlet/1.0?restletMethods=post'/&gt; &lt;transform&gt; &lt;simple&gt;Hello Restlet Method: ${header.CamelHttpMethod} ID:${header.id}&lt;/simple&gt; &lt;/transform&gt; &lt;/route&gt;3) route 1work fine  but #2 results in the following exception. both route work fine in Camel 2.9.1.Exception:012-07-27 10:29:20 646-0400 ERROR grails.app.service.nimbus.ComputeService localhost addRoute for hello.restletpost failed - Failed to start route nimbus.hello.restletpost.1.0 because of Multiple consumers for the same endpoint is not allowed: Endpoint&#91;/nimbus/hello.restlet/1.0&#93; Caused by: org.apache.camel.FailedToStartRouteException: Failed to start route nimbus.hello.restletpost.1.0 because of Multiple consumers for the same endpoint is not allowed: Endpoint&#91;/nimbus/hello.restlet/1.0&#93; at org.apache.camel.impl.DefaultCamelContext(doStartOrResumeRouteConsumers:1993) I've already posted on http://camel.465427.n5.nabble.com/Apache-Camel-2-10-0-multiple-restlet-routes-of-the-same-restlet-URI-but-different-VERBs-does-not-work-td5716556.html, multipl restlet rout restlet URI differ VERBs VER Bs not work apach camel rout work apach camel reproduc step step add restlet rout uri restlet nimbu hello restlet restletMethods get lt rout restlet nimbu hello restlet restlet method get lt rout xmln http camel apach org schema spring xmln http camel apach org schema spring trace true trace true gt gt lt lt uri restlet nimbu hello restlet restletMethods get gt uri restlet nimbu hello restlet restlet method get gt lt transform gt lt transform gt lt simpl gt hello lt simpl gt hello restlet method method header CamelHttpMethod header camel http method ID header id lt simpl gt ID header id lt simpl gt lt transform gt lt transform gt lt rout gt lt rout gt add restlet rout uri restlet nimbu hello restlet restletMethods post restlet nimbu hello restlet restlet method post lt rout lt rout xmln http camel apach org schema spring xmln http camel apach org schema spring trace true trace true gt gt lt lt uri restlet nimbu hello restlet restletMethods post gt uri restlet nimbu hello restlet restlet method post gt lt transform gt lt transform gt lt simpl gt hello lt simpl gt hello restlet method method header CamelHttpMethod header camel http method ID header id lt simpl gt ID header id lt simpl gt lt transform gt lt transform gt lt rout gt lt rout gt rout work fine result follow except except rout work fine camel except except ERROR grail app servic nimbu ComputeService grail app servic nimbu comput servic localhost addRoute add rout hello restletpost hello restletpost fail fail start rout nimbu hello restletpost nimbu hello restletpost multipl consum endpoint not allow allow endpoint nimbu hello restlet endpoint nimbu hello restlet caus org apach camel FailedToStartRouteException org apach camel fail start rout except fail start rout nimbu hello restletpost nimbu hello restletpost multipl consum endpoint not allow allow endpoint nimbu hello restlet endpoint nimbu hello restlet org apach camel impl DefaultCamelContext doStartOrResumeRouteConsumers org apach camel impl default camel context start resum rout consum alreadi post,0,0,1,1,1,components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletComponent.java;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletEndpoint.java;components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletMultiRoutesEndpointTest.java;,0
5536,Claus Ibsen,null,0,Possible issue in camel-apns - Reported on user forum, possibl issu camel apn camel apn report user forum,See nabblehttp://camel.465427.n5.nabble.com/Issue-with-ApnsServiceFactory-tp5717573.html, see nabblehttp camel nabbl com issu ApnsServiceFactory tp html nabblehttp camel nabbl com issu apn servic factori tp html,0,1,0,1,0,components/camel-apns/src/main/java/org/apache/camel/component/apns/factory/ApnsServiceFactory.java;,0
5537,Andrew Lawrenson,camel-mina2,0,Mina2 Consumer doesn't reliably work with SSL, mina mina consum reliabl work SSL,I've been trying to write a service using Camel 2.10.0 which uses the mina2 component to expose a service  and which uses SSL  using an endpoint of:mina2:tcp://localhost:6500?sync=true&amp;filters=#hl7SslFilterFactory #hl7CodecFilter&amp;allowDefaultCodec=falsehowever  what I found was that the SSL handshake was failing quite often for no apparent reason. Investigating further  it appeared that messages sent during the handshake were being processed out of order - specifically  when the client (which uses a standard java SSLSocket) sent a 'TLSv1 Change Cipher Spec' followed by a 'TLSv1 Handshake'  the 'TLSv1 Handshake' was being processed before the 'TLSv1 Change Cipher Spec'  breaking the process.This appears to have been caused because when the the Mina2Consumer configures MINA for tcp (in Mina2Consumer.setupSocketProtocol)  it is using a UnorderedThreadPoolExecutor - which allows messages to be processed in any order. Switching this to use a OrderedThreadPoolExecutor instead has fixed the issue.May I request that the use of UnorderedThreadPoolExecutor vs OrderedThreadPoolExecutor be configurable via endpoint parameters? (or OrderedThreadPoolExecutor is used when SSL if configured). I'm assuming the reason for the use of UnorderedThreadPoolExecutor is simply for performance., tri write servic use camel use mina mina compon expos servic use SSL use endpoint mina tcp localhost sync true amp filter hl SslFilterFactory mina tcp localhost sync true amp filter hl ssl filter factori hl CodecFilter amp allowDefaultCodec falsehowev hl codec filter amp allow default codec falsehowev found SSL handshak fail quit often no appar reason reason investig appear messag sent handshak process order specif client use standard java SSLSocket SSL socket sent TLSv TL Sv chang cipher spec spec follow TLSv TL Sv handshak handshak TLSv TL Sv handshak handshak process TLSv TL Sv chang cipher spec spec break process process appear caus mina consum mina consum configur MINA tcp mina consum setupSocketProtocol mina consum setup socket protocol use UnorderedThreadPoolExecutor unord thread pool executor allow messag process order order switch use OrderedThreadPoolExecutor order thread pool executor instead fix issu may issu may request use UnorderedThreadPoolExecutor unord thread pool executor vs OrderedThreadPoolExecutor order thread pool executor configur via endpoint paramet paramet OrderedThreadPoolExecutor order thread pool executor use SSL configur configur assum reason use UnorderedThreadPoolExecutor unord thread pool executor simpli perform perform,0,0,0,1,0,components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Configuration.java;components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Consumer.java;components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Producer.java;,0
5540,Claus Ibsen,camel-core,0,File consumer - NPE if configured to consume from root directory, file consum NPE configur consum root directori,See nabblehttp://camel.465427.n5.nabble.com/Setting-root-folder-as-endpoint-Could-not-poll-endpoint-NPE-tp5717845.html, see nabblehttp camel nabbl com set root folder endpoint could not poll endpoint NPE tp html nabblehttp camel nabbl com set root folder endpoint could not poll endpoint NPE tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumeRootDirManualTest.java;,0
5545,Rich Newcomb,null,0,Support key password for private key access in XMLSecurity, support key password privat key access XMLSecurity XML secur,Enhance the XMLSecurity component to enable access of a private key (for decryption) from a Java key store using a password that is unique to the key  and different than the key store password.The likely solution is to allow an optional 'keyPassword' parameter in the XMLSecurity data format.A description of the issue in context is here :http://camel.465427.n5.nabble.com/XMLSecurity-key-recovery-fails-when-keystore-and-key-use-different-passwords-td5718094.html, enhanc XMLSecurity XML secur compon enabl access privat key decrypt decrypt java key store use password uniqu key differ key store password password like solut allow option keyPassword key password paramet XMLSecurity XML secur data format format descript issu context http camel nabbl com XMLSecurity key recoveri fail keystor key use differ password td html http camel nabbl com XML secur key recoveri fail keystor key use differ password td html,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/builder/DataFormatClause.java;camel-core/src/main/java/org/apache/camel/model/dataformat/XMLSecurityDataFormat.java;components/camel-xmlsecurity/src/main/java/org/apache/camel/dataformat/xmlsecurity/XMLSecurityDataFormat.java;components/camel-xmlsecurity/src/test/java/org/apache/camel/dataformat/xmlsecurity/SpringXmlSecurityDataFormatWithKeyPasswordTest.java;components/camel-xmlsecurity/src/test/java/org/apache/camel/dataformat/xmlsecurity/XMLSecurityDataFormatTest.java;components/camel-xmlsecurity/src/test/resources/org/apache/camel/dataformat/xmlsecurity/SpringXmlSecurityDataFormatWithKeyPasswordTest-context.xml;components/camel-xmlsecurity/src/test/resources/recipient-with-key-pass.ks;camel-core/src/main/java/org/apache/camel/model/dataformat/XMLSecurityDataFormat.java;,1
5555,Ashwin Pejavar,camel-quartz,0,In ScheduledRoutePolicy a suspended route cannot be started, ScheduledRoutePolicy schedul rout polici suspend rout cannot start,If a route is suspended using the ScheduledRoutePolicy and its subclasses (CronScheduledRoutePolicy)  it cannot be resumed or started.Looking at the code in ScheduledRoutePolicy.onJobExecute()  on start/resume actions  the route status is first checked and must be stopped or suspended before any actions is taken.Suspension of a route  only suspends the consumer and not the route  and hence the start/resume after a suspend does nothing.One solution could be to also check the status of the consumer on start/resume. This would require adding a isSuspended() to serviceHelper and should be relatively straightforward., rout suspend use ScheduledRoutePolicy schedul rout polici subclass CronScheduledRoutePolicy cron schedul rout polici cannot resum start look start look code ScheduledRoutePolicy onJobExecute schedul rout polici job execut start resum start resum action rout statu first check must stop suspend action taken suspens taken suspens rout suspend consum not rout henc start resum start resum suspend noth one noth one solut could also check statu consum start resum start resum would requir ad isSuspended suspend serviceHelper servic helper rel straightforward straightforward,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/util/ServiceHelper.java;components/camel-quartz/src/main/java/org/apache/camel/routepolicy/quartz/ScheduledRoutePolicy.java;components/camel-quartz/src/test/java/org/apache/camel/routepolicy/quartz/SimpleScheduledRoutePolicyTest.java;,0
5562,Akitoshi Yoshida,camel-beanio,0,camel-beanio using beanio 2.0 should be using the 2012/03 beanio namespace, camel beanio camel beanio use beanio use beanio namespac,camel-beanio which uses beanio-2.0.x library should use the beanio 2.0's namepsace (http://www.beanio.org/2012/03) and not the 1.2 namespace ( http://www.beanio.org/2011/01) in its test cases.The background to this is described in this mail thread.http://camel.465427.n5.nabble.com/issue-with-camel-beanio-s-version-used-in-trunk-td5718596.html, camel beanio camel beanio use beanio beanio librari use beanio namepsac http www beanio org http www beanio org not namespac test case case background describ mail thread http camel nabbl com issu camel beanio version use trunk td html thread http camel nabbl com issu camel beanio version use trunk td html,0,1,0,1,0,components/camel-beanio/src/test/resources/org/apache/camel/dataformat/beanio/mappings.xml;,0
5569,Scott England-Sullivan,camel-cxf,0,Make Spring Optional Bundle Import for CXF Transport, make spring option bundl import CXF transport,The camel-cxf-transport component should define the Spring import packages as optional given they are only required if using the Spring DSL namespaces. If you are using Java DSL Spring is not required.Best Regards Scott ES, camel cxf transport camel cxf transport compon defin spring import packag option given requir use spring DSL namespac namespac use java DSL spring not requir best requir best regard scott ES,0,1,0,0,0,components/camel-cxf-transport/pom.xml;,0
5574,Akitoshi Yoshida,camel-ftp,0,camel-sftp's stepwise behavior to walk up and down relatively to avoid potential traversal issues, camel sftp camel sftp stepwis behavior walk rel avoid potenti travers issu,I am having a directory traversal problem using the stepwise mode of camel-sftp at the producer side. Basically  it can walk down the path from the starting directory to the walking directory  but it cannot go back correctly to the original starting directly. The server is SSH-2.0-Cleo VLProxy/3.0.1 SSH FTP server.I saw a related JIRA issue CAMEL-3309 that describes some issues in the stepwise traversal and some background to this related problem.My question is on the part that changes the working directory back to the original starting folder. I am wondering why we are using stepwise traversal from the ancestor directory towards the starting child directory  instead of moving upwards relatively from the working directory back to the starting directory. This reverse traversal does not require accessing the ancestry path above the staring directory (hence  not affected by the accessing problem). And in fact  I think this reverse stepwise traversal seems more natural order than doing stepwise traversal each time from top down. How do you think?I have made a change that implements this reverse stepwise traversal in SftpOperations and also made a few minor improvement changes.This changed version passes all the existing tests and works also against the above server.I am attaching a patch file for this change. I would appreciate if you can comment on it.Thanks.regards  aki, directori travers problem use stepwis mode camel sftp camel sftp produc side side basic walk path start directori walk directori cannot go back correctli origin start directli directli server SSH cleo SSH cleo VLProxy VL proxi SSH FTP server server saw relat JIRA issu CAMEL CAMEL describ issu stepwis travers background relat problem problem question part chang work directori back origin start folder folder wonder use stepwis travers ancestor directori toward start child directori instead move upward rel work directori back start directori directori revers travers not requir access ancestri path stare directori henc not affect access problem problem fact think revers stepwis travers seem natur order stepwis travers time top think think made chang implement revers stepwis travers SftpOperations sftp oper also made minor improv chang chang chang version pass exist test work also server server attach patch file chang chang would appreci comment thank regard thank regard aki,0,1,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;,0
5592,Meifang Shen,camel-core,0,Logger Level is always at default level('ERROR') when error handler is LoggingErrorHandler, logger level alway default level ERROR level ERROR error handler LoggingErrorHandler log error handler,when logger level is set to other level (WARN  DEBUG or INFO) except for ERROR  but actually the log is always at ERROR level (it's the default level)., logger level set level WARN WARN DEBUG INFO INFO except ERROR actual log alway ERROR level default level level,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/LoggingErrorHandlerBuilder.java;camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java;camel-core/src/test/java/org/apache/camel/builder/LoggingErrorHandlerBuilderTest.java;,0
5604,Claus Ibsen,camel-jackson,0,camel-jackson - Make it easier to support List as output out of the box, camel jackson camel jackson make easier support list output box,See nabblehttp://camel.465427.n5.nabble.com/JSON-Jackson-return-list-rather-than-POJO-tp5717341.htmlWe should look into making it easier to output a List as output with jackson json. On the nabble link there is an example and pseduo code how to do that.We should find a way to make that easy in Camel. Either as some new option  or somehow auto detect its a List etc., see nabblehttp camel nabbl com JSON jackson return list rather POJO tp htmlWe nabblehttp camel nabbl com JSON jackson return list rather POJO tp html look make easier output list output jackson json json nabbl link exampl pseduo code find way make easi camel camel either new option somehow auto detect list etc etc,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/dataformat/JsonDataFormat.java;components/camel-jackson/src/main/java/org/apache/camel/component/jackson/JackconConstants.java;components/camel-jackson/src/main/java/org/apache/camel/component/jackson/JacksonConstants.java;components/camel-jackson/src/main/java/org/apache/camel/component/jackson/JacksonDataFormat.java;components/camel-jackson/src/main/java/org/apache/camel/component/jackson/ListJacksonDataFormat.java;components/camel-jackson/src/test/java/org/apache/camel/component/jackson/JacksonMarshalUnmarshalListTest.java;components/camel-jackson/src/test/java/org/apache/camel/component/jackson/JacksonMarshalUnmarshalTypeHeaderTest.java;components/camel-jackson/src/test/java/org/apache/camel/component/jackson/ListJacksonUnmarshalDTest.java;components/camel-jackson/src/test/java/org/apache/camel/component/jackson/SpringJacksonMarshalUnmarshalListTest.java;components/camel-jackson/src/test/resources/org/apache/camel/component/jackson/SpringJacksonMarshalUnmarshalListTest.xml;,0
5610,Willem Jiang,null,0,camel-hl7 bundle should specify the mina version, camel hl camel hl bundl specifi mina version,As there could be different version of mina or mina2 exist in the OSGi platform  we need to specify the right version rang on camel-hl7 which has the dependency on the mina., could differ version mina mina mina exist OSGi OS Gi platform need specifi right version rang camel hl camel hl depend mina mina,0,0,0,0,0,components/camel-hl7/pom.xml;,0
5624,João Loureiro,null,0,An exception when constructing JT400 endpoints should not leak the password, except construct JT JT endpoint not leak password,Sanitize the endpoint URI in the message of the runtime exception thrown in the constructors for Jt400DataQueueEndpoint and Jt400PgmEndpoint., sanit endpoint URI messag runtim except thrown constructor Jt DataQueueEndpoint Jt data queue endpoint Jt PgmEndpoint Jt pgm endpoint,0,1,0,0,0,components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400DataQueueEndpoint.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400PgmEndpoint.java;,1
5626,Raúl Kripalani,camel-jms,0,JmsToJmsTransactedSecurityTest in camel-jms fails every now and then, JmsToJmsTransactedSecurityTest jm jm transact secur test camel jm camel jm fail everi,Test JmsToJmsTransactedSecurityTest fails every now and then because of JMS message redelivery. When the entire test class is executed  it sometimes happens that the message that failed at testJmsSecurityFailure test method pops up in the assertions of testJmsSecurityOK., test JmsToJmsTransactedSecurityTest jm jm transact secur test fail everi JMS messag redeliveri redeliveri entir test class execut sometim happen messag fail testJmsSecurityFailure test jm secur failur test method pop assert testJmsSecurityOK test jm secur OK,0,0,0,0,0,components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/JmsToJmsTransactedSecurityTest.java;,0
5631,Frank Schönheit,camel-core,0,EventHelper.notifyRouteStarted skips all remaining notifiers if one if the notifiers ignores route events, EventHelper notifyRouteStarted event helper notifi rout start skip remain notifi one notifi ignor rout event,Having two or more notifiers registered at the management strategy of a camel context  where one of the notifiers (not the last one) is set up to ignore route events  results in all remaining notifiers to be skipped when notifying a RouteStartedEvent.Look at http://svn.apache.org/viewvc/camel/branches/camel-2.10.x/camel-core/src/main/java/org/apache/camel/util/EventHelper.java?revision=1340446&amp;view=markup  line 237: There's a 'return' which actually should be a 'continue'.Note: CamelContextStoppingEvents are also affected., two notifi regist manag strategi camel context one notifi not last one one set ignor rout event result remain notifi skip notifi RouteStartedEvent look rout start event look line return return actual continu note continu note CamelContextStoppingEvents camel context stop event also affect affect,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/util/EventHelper.java;camel-core/src/test/java/org/apache/camel/util/EventHelperTest.java;,0
5632,Joakim Sundqvist,camel-core,0,ObjectHelper.resolveUriPath is broken  can not handle:  '../../' correctly, ObjectHelper resolveUriPath object helper resolv uri path broken not handl handl correctli,In my xsl-files I have imports and includes that resides in folders a few levels up.Ex: &lt;xsl:include href='../../common/myfunctions.xsl'/&gt;When camel starts up and tries to resolve the paths it crashes because of the current implementation in ObjectHelper.resolveUriPath(..)Made a simple testcase that demonstrates my problem.public void testResolveUriPath() throws Exception { assertEquals('xslt/'  ObjectHelper.resolveUriPath('xslt/one/../')); // OK assertEquals('xslt/'  ObjectHelper.resolveUriPath('xslt/one/../two/../')); // OK assertEquals('xslt/'  ObjectHelper.resolveUriPath('xslt/')); // OK assertEquals(''  ObjectHelper.resolveUriPath('./')); // OK assertEquals('xslt/'  ObjectHelper.resolveUriPath('xslt/one/two/../../')); // Fails  gives 'xslt/one/.' assertEquals('xslt/'  ObjectHelper.resolveUriPath('xslt/one/two/../.././'));// Fails  gives 'xslt/one/.' }, xsl file xsl file import includ resid folder level Ex Ex lt xsl includ lt xsl includ href common myfunct xsl gt href common myfunct xsl gt camel start tri resolv path crash current implement ObjectHelper resolveUriPath made object helper resolv uri path made simpl testcas demonstr problem public problem public void testResolveUriPath test resolv uri path throw except assertEquals xslt assert equal xslt ObjectHelper resolveUriPath xslt one object helper resolv uri path xslt one OK assertEquals xslt assert equal xslt ObjectHelper resolveUriPath xslt one two object helper resolv uri path xslt one two OK assertEquals xslt assert equal xslt ObjectHelper resolveUriPath xslt object helper resolv uri path xslt OK assertEquals assert equal ObjectHelper resolveUriPath object helper resolv uri path OK assertEquals xslt assert equal xslt ObjectHelper resolveUriPath xslt one two object helper resolv uri path xslt one two fail give xslt one xslt one assertEquals xslt assert equal xslt ObjectHelper resolveUriPath xslt one two object helper resolv uri path xslt one two fail give xslt one xslt one,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/util/FileUtil.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java;,0
5636,Raúl Kripalani,camel-core,0,Enricher with async routing not handling exceptions thrown from AggregationStrategy, enrich async rout not handl except thrown AggregationStrategy aggreg strategi,The Enricher does not handle exceptions thrown from the AggregationStrategy when the async routing engine has kicked in. It leads to the following thread dump  callback thread remains blocked forever.'Camel (context) thread #10 - JmsConsumer[queue]' daemon prio=5 tid=103666000 nid=0x113c25000 waiting on condition [113c24000] java.lang.Thread.State: WAITING (parking) at sun.misc.Unsafe.park(Native Method) - parking to wait for &lt;7fd4a8de0&gt; (a java.util.concurrent.CountDownLatch$Sync) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:156) at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:811) at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:969) at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1281) at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:207) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:120) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85) at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:91) at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:560) at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:498) at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:263) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1050) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:947) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:680), enrich not handl except thrown AggregationStrategy aggreg strategi async rout engin kick lead follow thread dump callback thread remain block forev camel forev camel context context thread JmsConsumer queue jm consum queue daemon prio prio tid tid nid nid wait condit java lang thread state java lang thread state WAITING park park sun misc unsaf park nativ sun misc unsaf park nativ method method park wait lt fd de gt lt fd de gt java util concurr CountDownLatch sync java util concurr count latch sync java util concurr lock LockSupport park LockSupport java java util concurr lock lock support park lock support java java util concurr lock AbstractQueuedSynchronizer parkAndCheckInterrupt AbstractQueuedSynchronizer java java util concurr lock abstract queu synchron park check interrupt abstract queu synchron java java util concurr lock AbstractQueuedSynchronizer doAcquireSharedInterruptibly AbstractQueuedSynchronizer java java util concurr lock abstract queu synchron acquir share interrupt abstract queu synchron java java util concurr lock AbstractQueuedSynchronizer acquireSharedInterruptibly AbstractQueuedSynchronizer java java util concurr lock abstract queu synchron acquir share interrupt abstract queu synchron java java util concurr CountDownLatch await CountDownLatch java java util concurr count latch await count latch java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel compon jm EndpointMessageListener onMessage EndpointMessageListener java org apach camel compon jm endpoint messag listen messag endpoint messag listen java org springframework jm listen AbstractMessageListenerContainer doInvokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer invokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer doExecuteListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain execut listen abstract messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer doReceiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer receiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker invokeListener DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok invok listen default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker executeOngoingLoop DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok execut ongo loop default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker run DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok run default messag listen contain java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java,1,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/BuilderSupport.java;camel-core/src/main/java/org/apache/camel/processor/Enricher.java;camel-core/src/test/java/org/apache/camel/processor/enricher/EnricherAsyncUnhandledExceptionTest.java;,0
5647,Claus Ibsen,camel-core; eip,0,EIPs using custom aggregation strategy should fail if not possible to find in registry, EIPs EI Ps use custom aggreg strategi fail not possibl find registri,Some EIPs support using a custom aggregations strategy. And if you use XML DSL to refer to a custom strategy  then you may have typo  or the strategy do not implement the interface.What we should do is to ensure to fail if the custom strategy could not be looked up. Some EIPs such as the content enricher will fallback and use a default strategy. This is wrong., EIPs EI Ps support use custom aggreg strategi strategi use XML DSL refer custom strategi may typo strategi not implement interfac interfac ensur fail custom strategi could not look EIPs EI Ps content enrich fallback use default strategi strategi wrong wrong,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilderRef.java;camel-core/src/main/java/org/apache/camel/impl/DefaultRouteContext.java;camel-core/src/main/java/org/apache/camel/model/AggregateDefinition.java;camel-core/src/main/java/org/apache/camel/model/EnrichDefinition.java;camel-core/src/main/java/org/apache/camel/model/IdempotentConsumerDefinition.java;camel-core/src/main/java/org/apache/camel/model/LoadBalancerDefinition.java;camel-core/src/main/java/org/apache/camel/model/MulticastDefinition.java;camel-core/src/main/java/org/apache/camel/model/PollEnrichDefinition.java;camel-core/src/main/java/org/apache/camel/model/ProcessDefinition.java;camel-core/src/main/java/org/apache/camel/model/RecipientListDefinition.java;camel-core/src/main/java/org/apache/camel/model/WireTapDefinition.java;camel-core/src/main/java/org/apache/camel/spi/RouteContext.java;camel-core/src/main/java/org/apache/camel/util/CamelContextHelper.java;camel-core/src/test/java/org/apache/camel/model/ProcessorTypeConfigurationTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/ErrorHandlerCamelContextRefNotFoundTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/ErrorHandlerRouteContextRefNotFoundTest.java;,0
5655,Anton Koscejev,camel-blueprint; camel-spring,0,Camel Endpoint ignores camelContextId property in Spring configuration, camel endpoint ignor camelContextId camel context Id properti spring configur,Camel Endpoint  if configured outside camelContext element in Spring configuration  ignores camelContextId property. Steps to reproduce: Configure two contexts in spring configuration. Then in the same config file configure two endpoints outside camelContext  but with camelContextId specified. Both endpoints will be created pointing to the same (first) camel context  despite being configured to different contexts. Attempting to use them by reference results in failure  as endpoint camelContext doesn't match the expected one., camel endpoint configur outsid camelContext camel context element spring configur ignor camelContextId camel context Id properti properti step reproduc reproduc configur two context spring configur configur config file configur two endpoint outsid camelContext camel context camelContextId camel context Id specifi specifi endpoint creat point first first camel context despit configur differ context context attempt use refer result failur endpoint camelContext camel context match expect one one,0,0,0,0,0,components/camel-core-xml/src/main/java/org/apache/camel/core/xml/AbstractCamelFactoryBean.java;components/camel-spring/src/test/java/org/apache/camel/spring/config/DualCamelContextEndpointOutsideTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/config/DualCamelContextEndpointOutsideTest.xml;,0
5657,Claus Ibsen,camel-core; eip,0,Recipient list EIP - Should shutdown thread pool if parallel mode enabled, recipi list EIP shutdown thread pool parallel mode enabl,We should shutdown the thread pool for recipient list if a pool was in use  and it can be shutdown.The logic in doShutdown is missing that.Camel would though have a fail-safe when it shutdown itself to shutdown that pool otherwise. But we should shutdown when the EIP is shutdown itself., shutdown thread pool recipi list pool use shutdown shutdown logic doShutdown shutdown miss camel camel would though fail safe fail safe shutdown shutdown pool otherwis otherwis shutdown EIP shutdown,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/RecipientList.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;,0
5670,Stefan Hudelmaier,camel-mqtt,0,camel-mqtt - Nullpointer Exception when disconnected from broker, camel mqtt camel mqtt nullpoint except disconnect broker,Hi  from time to time  we get the following exception when producing messages via camel-mqtt:Caused by: java.lang.NullPointerException at org.fusesource.mqtt.client.CallbackConnection.publish(CallbackConnection.java:551) at org.fusesource.mqtt.client.CallbackConnection.publish(CallbackConnection.java:545) at org.apache.camel.component.mqtt.MQTTEndpoint.publish(MQTTEndpoint.java:166) at org.apache.camel.component.mqtt.MQTTProducer.doProcess(MQTTProducer.java:66) at org.apache.camel.component.mqtt.MQTTProducer.process(MQTTProducer.java:38) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)[...]From looking at the source of both camel-mqtt and the fusesource mqtt client  it looks like that this is caused by the mqtt-client being disconnected and trying to invoke the onFailure method on the callback:CallbackConnection.javapublic void publish(UTF8Buffer topic  Buffer payload  QoS qos  boolean retain  Callback&lt;Void&gt; cb) { queue.assertExecuting(); if( disconnected ) { cb.onFailure(createDisconnectedError()); return; } PUBLISH command = new PUBLISH().qos(qos).retain(retain); command.topicName(topic).payload(payload); send(command  cb); }camel-mqtt passes in null for the callback though. Wouldn't it be better if a more fitting exception were thrown  or if camel passed in a Callback in order to receive the onFailure event when disconnected from the broker?, Hi time time get follow except produc messag via camel mqtt caus camel mqtt caus java lang NullPointerException java lang null pointer except org fusesourc mqtt client CallbackConnection publish CallbackConnection java org fusesourc mqtt client callback connect publish callback connect java org fusesourc mqtt client CallbackConnection publish CallbackConnection java org fusesourc mqtt client callback connect publish callback connect java org apach camel compon mqtt MQTTEndpoint publish MQTTEndpoint java org apach camel compon mqtt MQTT endpoint publish MQTT endpoint java org apach camel compon mqtt MQTTProducer doProcess MQTTProducer java org apach camel compon mqtt MQTT produc process MQTT produc java org apach camel compon mqtt MQTTProducer process MQTTProducer java org apach camel compon mqtt MQTT produc process MQTT produc java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java look sourc camel mqtt camel mqtt fusesourc mqtt client look like caus mqtt client mqtt client disconnect tri invok onFailure failur method callback CallbackConnection javapubl callback callback connect javapubl void publish UTF buffer publish UTF buffer topic buffer payload QoS Qo qo boolean retain callback lt void gt callback lt void gt cb cb queue assertExecuting queue assert execut disconnect cb onFailure createDisconnectedError cb failur creat disconnect error return return PUBLISH command new PUBLISH qo qo retain retain PUBLISH qo qo retain retain command topicName topic payload payload command topic name topic payload payload send command send command cb cb camel mqtt camel mqtt pass null callback though though better fit except thrown camel pass callback order receiv onFailure failur event disconnect broker broker,1,0,1,0,0,components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTComponent.java;components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTConfiguration.java;components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTConsumer.java;components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTEndpoint.java;components/camel-mqtt/src/main/java/org/apache/camel/component/mqtt/MQTTProducer.java;components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTConfigurationTest.java;components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTConsumerTest.java;components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTProducerTest.java;components/camel-mqtt/src/test/resources/log4j.properties;components/camel-mqtt/src/test/resources/test-options.properties;,0
5681,Claus Ibsen,camel-core,0,Using recipient list in a doTry ... doCatch situation dont work properly, use recipi list doTry tri doCatch catch situat dont work properli,See nabblehttp://camel.465427.n5.nabble.com/Issue-with-doTry-doCatch-not-routing-correctly-tp5720325.htmlThe end user would expect that doTry .. doCatch will overrule. However it gets a bit further more complicated if the try block routes to other routes and using EIPs such as recipient list., see nabblehttp camel nabbl com issu doTry doCatch not rout correctli tp htmlThe nabblehttp camel nabbl com issu tri catch not rout correctli tp html end user would expect doTry tri doCatch catch overrul overrul howev get bit complic tri block rout rout use EIPs EI Ps recipi list list,0,0,0,1,0,camel-core/src/test/java/org/apache/camel/processor/onexception/DoCatchDirectDynamicRouteTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/DoCatchDirectRecipientListStreamingTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/DoCatchDirectRecipientListTest.java;camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java;camel-core/src/main/java/org/apache/camel/processor/TryProcessor.java;camel-core/src/test/java/org/apache/camel/processor/MulticastParallelStopOnExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/RecipientListParallelFineGrainedErrorHandlingTest.java;camel-core/src/test/java/org/apache/camel/processor/SplitterParallelStopOnExceptionTest.java;camel-core/src/test/java/org/apache/camel/processor/onexception/DoCatchDirectRecipientListTest.java;,0
5689,Claus Ibsen,camel-netty,0,Netty - Should use ordered thread pool, netti use order thread pool,We should favor using OrderedMemoryAwareThreadPoolExecutor andOrderedDownstreamThreadPoolExecutor to ensure ordering of events in a channel.See nabblehttp://camel.465427.n5.nabble.com/Netty-or-Mina-Async-in-the-same-socket-tp5720478.htmlWe can add an option so people can turn it off  like we did for mina2., favor use OrderedMemoryAwareThreadPoolExecutor order memori awar thread pool executor andOrderedDownstreamThreadPoolExecutor order downstream thread pool executor ensur order event channel see channel see nabblehttp camel nabbl com netti mina async socket tp htmlWe nabblehttp camel nabbl com netti mina async socket tp html add option peopl turn like mina mina,0,0,0,1,0,tests/camel-itest/src/test/java/org/apache/camel/itest/netty/NettyAsyncRequestReplyTest.java;tests/camel-itest/src/test/resources/log4j.properties;components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultServerPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyConfiguration.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyConsumer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyHelper.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyProducer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ClientChannelHandler.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ServerChannelHandler.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettyConcurrentTest.java;,0
5694,Claus Ibsen,camel-jms,0,camel-jms - Should also allow multiple consumers from multiple routes from the same queue, camel jm camel jm also allow multipl consum multipl rout queue,If having 2+ routes that consumes from the same queue  then that should be allowed.Its a bit unusual though for queues in Camel as you most likely want to use the same route for the same queue. But there is nothing in the JMS spec that forbids this., rout consum queue allow allow bit unusu though queue camel like want use rout queue queue noth JMS spec forbid,0,0,0,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsEndpoint.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsMultipleConsumersTest.java;,0
5702,Claus Ibsen,camel-netty,0,camel-netty - The ordered thread pool should be shared, camel netti camel netti order thread pool share,Related to CAMEL-5689The ordered memory thread pool from Netty is intended to be shared per application. And not per consumer., relat CAMEL CAMEL order memori thread pool netti intend share per applic applic not per consum consum,0,0,0,0,0,components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultServerPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyComponent.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyEndpoint.java;,0
5707,Claus Ibsen,camel-core,0,NotifyBuilder should be thread safe, NotifyBuilder notifi builder thread safe,In high concurrent tests the NotifyBuilder may miss a counter., high concurr test NotifyBuilder notifi builder may miss counter counter,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/NotifyBuilder.java;camel-core/src/main/java/org/apache/camel/builder/NotifyBuilder.java;,0
5710,Amit Patel,camel-restlet,0,Rest route returns response with http Status code 500 Internal Server Error when response has Last-Modified or Header-expires in header as string., rest rout return respons http statu code intern server error respons last modifi last modifi header expir header expir header string string,Rest route returns Response with http Status code 500 Internal Server Error and expected response headers/body when response has Last-Modified or Header-expires in header as string. I found the issue in below code it try to convert string Wed  31 Dec 1969 18:00:00 CS to Date and it fails. Is it posible to convert String Date without knowing Date format?DefaultRestletBinding======================= if (header.equalsIgnoreCase(HeaderConstants.HEADER_LAST_MODIFIED)) { if (value instanceof Calendar) { message.getEntity().setModificationDate(((Calendar) value).getTime()); } else if (value instanceof Date) { message.getEntity().setModificationDate((Date) value); } else { Date date = exchange.getContext().getTypeConverter().mandatoryConvertTo(Date.class  value); // Here it try to convert String to Date it throws No type converter available to convert from type: java.lang.String to the required type: java.util.Date with value Wed  31 Dec 1969 18:00:00 CS message.getEntity().setModificationDate(date); } }Stack trace===========7 Oct 2012 08:28:06 010 WARN org.restlet.Component.StatusFilter - Exception or error caught in status serviceorg.apache.camel.RuntimeCamelException: Cannot process request at org.apache.camel.component.restlet.RestletConsumer$1.handle(RestletConsumer.java:62) at org.apache.camel.component.restlet.MethodBasedRouter.handle(MethodBasedRouter.java:54) at org.restlet.routing.Filter.doHandle(Filter.java:159) at org.restlet.routing.Filter.handle(Filter.java:206) at org.restlet.routing.Router.doHandle(Router.java:500) at org.restlet.routing.Router.handle(Router.java:740) at org.restlet.routing.Filter.doHandle(Filter.java:159) at org.restlet.routing.Filter.handle(Filter.java:206) at org.restlet.routing.Router.doHandle(Router.java:500) at org.restlet.routing.Router.handle(Router.java:740) at org.restlet.routing.Filter.doHandle(Filter.java:159) at org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:154) at org.restlet.routing.Filter.handle(Filter.java:206) at org.restlet.routing.Filter.doHandle(Filter.java:159) at org.restlet.routing.Filter.handle(Filter.java:206) at org.restlet.engine.ChainHelper.handle(ChainHelper.java:114) at org.restlet.Component.handle(Component.java:391) at org.restlet.Server.handle(Server.java:491) at org.restlet.engine.ServerHelper.handle(ServerHelper.java:75) at org.restlet.engine.http.HttpServerHelper.handle(HttpServerHelper.java:153) at org.restlet.ext.servlet.ServerServlet.service(ServerServlet.java:1031) at org.apache.shiro.grails.SavedRequestFilter.doFilter(SavedRequestFilter.java:56) at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:360) at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:276) at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:344) at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:272) at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:909) at java.lang.Thread.run(Thread.java:662)Caused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.lang.String to the required type: java.util.Date with value Wed  31 Dec 1969 18:00:00 CST at org.apache.camel.impl.converter.BaseTypeConverterRegistry.mandatoryConvertTo(BaseTypeConverterRegistry.java:169), rest rout return respons http statu code intern server error expect respons header bodi header bodi respons last modifi last modifi header expir header expir header string string found issu code tri convert string wed dec CS date fail fail posibl convert string date without know date format DefaultRestletBinding format default restlet bind header equalsIgnoreCase HeaderConstants HEADER_LAST_MODIFIED header equal ignor case header constant HEADER LAST MODIFIED valu instanceof calendar calendar messag getEntity setModificationDate calendar messag get entiti set modif date calendar valu getTime valu get time els valu instanceof date date messag getEntity setModificationDate date messag get entiti set modif date date valu valu els date date exchang getContext getTypeConverter mandatoryConvertTo date class exchang get context get type convert mandatori convert date class valu valu tri convert string date throw No type convert avail convert type type java lang string java lang string requir type type java util date java util date valu wed dec CS messag getEntity setModificationDate date messag get entiti set modif date date stack stack trace trace oct WARN org restlet compon StatusFilter org restlet compon statu filter except error caught statu serviceorg apach camel RuntimeCamelException serviceorg apach camel runtim camel except cannot process request org apach camel compon restlet RestletConsumer handl RestletConsumer java org apach camel compon restlet restlet consum handl restlet consum java org apach camel compon restlet MethodBasedRouter handl MethodBasedRouter java org apach camel compon restlet method base router handl method base router java org restlet rout filter doHandle filter java org restlet rout filter handl filter java org restlet rout filter handl filter java org restlet rout filter handl filter java org restlet rout router doHandle router java org restlet rout router handl router java org restlet rout router handl router java org restlet rout router handl router java org restlet rout filter doHandle filter java org restlet rout filter handl filter java org restlet rout filter handl filter java org restlet rout filter handl filter java org restlet rout router doHandle router java org restlet rout router handl router java org restlet rout router handl router java org restlet rout router handl router java org restlet rout filter doHandle filter java org restlet rout filter handl filter java org restlet engin applic StatusFilter doHandle StatusFilter java org restlet engin applic statu filter handl statu filter java org restlet rout filter handl filter java org restlet rout filter handl filter java org restlet rout filter doHandle filter java org restlet rout filter handl filter java org restlet rout filter handl filter java org restlet rout filter handl filter java org restlet engin ChainHelper handl ChainHelper java org restlet engin chain helper handl chain helper java org restlet compon handl compon java org restlet compon handl compon java org restlet server handl server java org restlet server handl server java org restlet engin ServerHelper handl ServerHelper java org restlet engin server helper handl server helper java org restlet engin http HttpServerHelper handl HttpServerHelper java org restlet engin http http server helper handl http server helper java org restlet ext servlet ServerServlet servic ServerServlet java org restlet ext servlet server servlet servic server servlet java org apach shiro grail SavedRequestFilter doFilter SavedRequestFilter java org apach shiro grail save request filter filter save request filter java org apach shiro web servlet AbstractShiroFilter executeChain AbstractShiroFilter java org apach shiro web servlet abstract shiro filter execut chain abstract shiro filter java org apach shiro web servlet AbstractShiroFilter call AbstractShiroFilter java org apach shiro web servlet abstract shiro filter call abstract shiro filter java org apach shiro subject support SubjectCallable doCall SubjectCallable java org apach shiro subject support subject callabl call subject callabl java org apach shiro subject support SubjectCallable call SubjectCallable java org apach shiro subject support subject callabl call subject callabl java org apach shiro subject support DelegatingSubject execut DelegatingSubject java org apach shiro subject support deleg subject execut deleg subject java org apach shiro web servlet AbstractShiroFilter doFilterInternal AbstractShiroFilter java org apach shiro web servlet abstract shiro filter filter intern abstract shiro filter java org apach shiro web servlet OncePerRequestFilter doFilter OncePerRequestFilter java org apach shiro web servlet per request filter filter per request filter java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java caus java lang thread run thread java caus org apach camel NoTypeConversionAvailableException org apach camel No type convers avail except No type convert avail convert type type java lang string java lang string requir type type java util date java util date valu wed dec CST org apach camel impl convert BaseTypeConverterRegistry mandatoryConvertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri mandatori convert base type convert registri java,1,0,1,0,0,components/camel-restlet/src/main/java/org/apache/camel/component/restlet/DefaultRestletBinding.java;,0
5712,Claus Ibsen,camel-blueprint,0,BlueprintCamelContext should not get started in the init() method but later when the blueprint container is fully initialized, BlueprintCamelContext blueprint camel context not get start init init method later blueprint contain fulli initi,The init() method in BlueprintCamelContext should not call maybeStart(). but instead should be started when the blueprint container is done doing all its dance and initialization.For example Spring sends on ContextRefreshedEvent when its done.We need something similar for blueprint to tell us when its done doing its initialization et all.The problem is that the CamelContext should not be started until all that other stuff is initialized as well., init init method BlueprintCamelContext blueprint camel context not call maybeStart mayb start instead start blueprint contain done danc initi initi exampl spring send ContextRefreshedEvent context refresh event done done need someth similar blueprint tell us done initi et problem CamelContext camel context not start stuff initi well well,0,0,0,1,0,components/camel-blueprint/src/main/java/org/apache/camel/blueprint/BlueprintCamelContext.java;components/camel-blueprint/src/main/java/org/apache/camel/blueprint/CamelContextFactoryBean.java;components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/BlueprintPackageScanTest.java;components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/scan/MyCoolRoute.java;components/camel-test-blueprint/src/test/resources/org/apache/camel/test/blueprint/packagescan.xml;,0
5722,Raúl Kripalani,camel-jetty,0,Classloader mixup when consumers across bundles share the same camel-jetty port, classload mixup consum across bundl share camel jetti camel jetti port,Happens in an OSGi environment; but it is also applicable in modular servers that build dynamic classloaders (e.g. JBoss AS) per deployed artifacts (WAR  module  EAR  etc.).If bundles A and B are both creating camel-jetty consumers on the same TCP port  the consumers will share the underlying Jetty connector. Moreover  the Jetty connector is indeed created by the first consumer that initialises on that TCP port.Since the Camel route executes on the Jetty Connector thread  all class resolutions will happen against the classloader of the bundle that initialises first.This makes class resolution absolutely undeterministic and erratic. Quite a nasty bug IMHO.Perhaps this can be fixed by adding a call to Thread.setContextClassLoader() passing the classloader of the JettyHttpEndpoint  as soon as a request comes in?, happen OSGi OS Gi environ environ also applic modular server build dynam classload JBoss boss per deploy artifact WAR WAR modul EAR etc etc bundl creat camel jetti camel jetti consum TCP port consum share underli jetti connector connector moreov jetti connector inde creat first consum initialis TCP port sinc port sinc camel rout execut jetti connector thread class resolut happen classload bundl initialis first first make class resolut absolut undeterminist errat errat quit nasti bug IMHO perhap IMHO perhap fix ad call thread setContextClassLoader thread set context class loader pass classload JettyHttpEndpoint jetti http endpoint soon request come,0,0,0,1,0,components/camel-http/src/main/java/org/apache/camel/component/http/CamelServlet.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/CamelContinuationServlet.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/jetty/JettyClassloaderCheckProcessor.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/jetty/OSGiJettyCamelContextsClassloaderTest.java;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/jetty/Classloader-CamelContext1.xml;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/jetty/Classloader-CamelContext2.xml;components/camel-http/src/main/java/org/apache/camel/component/http/CamelServlet.java;tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/osgi/jetty/OSGiJettyCamelContextsClassloaderTest.java;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/jetty/Classloader-CamelContext1.xml;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/jetty/Classloader-CamelContext2.xml;,0
5724,Andrej Zachar,camel-spring-ws,0,Spring-WS consumer and producer do not propagate some custome headers and attachements to a response message, spring WS spring WS consum produc not propag custom header attach respons messag,Hi!I wanted to send back as response or as a request some soap messages with modified header.I found out that SpringWebserviceProducer and SpringWebserviceConsumer do not populate a soap header for any outgoing message from a camel exchange.In the attachments I am sending you a patch against camel-spring-ws 2.10.1 that solves this issue.Please let me know  what do you think about it.Best regards Andrej, Hi Hi want send back respons request soap messag modifi header header found SpringWebserviceProducer spring webservic produc SpringWebserviceConsumer spring webservic consum not popul soap header outgo messag camel exchang exchang attach send patch camel spring ws camel spring ws solv issu pleas issu pleas let know think best best regard andrej,0,1,0,0,0,components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceComponent.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceConfiguration.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceConsumer.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceProducer.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/filter/MessageFilter.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/filter/impl/BasicFilterStrategy.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/filter/impl/BasicMessageFilter.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/MessageFilterResolvingDefaultsTest.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/MessageFilterResolvingTest.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/filter/impl/BasicMessageFilterTest.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/testfilters/EmptyMessageFilter.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/testfilters/GlobalMessageFilter.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/testfilters/LocalMessageFilter.java;components/camel-spring-ws/pom.xml;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceComponent.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/SpringWebserviceConfiguration.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/filter/impl/BasicFilterStrategy.java;components/camel-spring-ws/src/main/java/org/apache/camel/component/spring/ws/filter/impl/BasicMessageFilter.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/MessageFilterResolvingDefaultsTest.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/MessageFilterResolvingTest.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/filter/impl/BasicMessageFilterTest.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/testfilters/EmptyMessageFilter.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/testfilters/GlobalMessageFilter.java;components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/testfilters/LocalMessageFilter.java;components/camel-spring-ws/src/test/resources/org/apache/camel/component/spring/ws/DefaultMessageFilter-context.xml;components/camel-spring-ws/src/test/resources/org/apache/camel/component/spring/ws/MessageFilter-context.xml;components/camel-spring-ws/src/test/resources/sampleAttachment.txt;,0
5757,Maxime Tremblay,camel-http,0,HTTP 1.1 Host header not set correctly with camel-http4, HTTP host header not set correctli camel http camel http,The HTTP 1.1 Host header is not set correctly when using the camel-http4 component as a proxy with bridgeEnpoint=true.The original request Host header is set in the proxied request instead of the host of the service requested by the proxy (ref: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html section 14.23).This simple route shows the problem: &lt;route autoStartup='true' id='TestHost' xmlns:ns2='http://camel.apache.org/schema/web' xmlns='http://camel.apache.org/schema/spring'&gt; &lt;from uri='jetty:http://0.0.0.0:8090/TestHost'/&gt; &lt;to uri='https4://www.google.com?bridgeEndpoint=true&amp;throwExceptionOnFailure=false'/&gt; &lt;/route&gt; This is what I get in the log:INFO | jvm 1 | 2012/10/26 14:52:48 | [ qtp31541880-35 - /TestHost] DefaultClientConnection DEBUG Sending request: GET / HTTP/1.1INFO | jvm 1 | 2012/10/26 14:52:48 | [ qtp31541880-35 - /TestHost] wire DEBUG &gt;&gt; 'GET / HTTP/1.1&#91;/r&#93;&#91;/n&#93;'INFO | jvm 1 | 2012/10/26 14:52:48 | [ qtp31541880-35 - /TestHost] wire DEBUG &gt;&gt; 'breadcrumbId: ID-localhost-1329-1351277552803-0-2&#91;/r&#93;&#91;/n&#93;'INFO | jvm 1 | 2012/10/26 14:52:48 | [ qtp31541880-35 - /TestHost] wire DEBUG &gt;&gt; 'User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/20100101 Firefox/15.0&#91;/r&#93;&#91;/n&#93;'INFO | jvm 1 | 2012/10/26 14:52:48 | [ qtp31541880-35 - /TestHost] wire DEBUG &gt;&gt; 'Accept-Encoding: gzip  deflate&#91;/r&#93;&#91;/n&#93;'INFO | jvm 1 | 2012/10/26 14:52:48 | [ qtp31541880-35 - /TestHost] wire DEBUG &gt;&gt; 'Host: localhost:8090&#91;/r&#93;&#91;/n&#93;'INFO | jvm 1 | 2012/10/26 14:52:48 | [ qtp31541880-35 - /TestHost] wire DEBUG &gt;&gt; 'Accept: text/html application/xhtml+xml application/xml;q=0.9 /;q=0.8&#91;/r&#93;&#91;/n&#93;'INFO | jvm 1 | 2012/10/26 14:52:48 | [ qtp31541880-35 - /TestHost] wire DEBUG &gt;&gt; 'Accept-Language: en-us en;q=0.5&#91;/r&#93;&#91;/n&#93;'INFO | jvm 1 | 2012/10/26 14:52:48 | [ qtp31541880-35 - /TestHost] wire DEBUG &gt;&gt; 'Connection: Keep-Alive&#91;/r&#93;&#91;/n&#93;'INFO | jvm 1 | 2012/10/26 14:52:48 | [ qtp31541880-35 - /TestHost] wire DEBUG &gt;&gt; '&#91;/r&#93;&#91;/n&#93;', HTTP host header not set correctli use camel http camel http compon proxi bridgeEnpoint true bridg enpoint true origin request host header set proxi request instead host servic request proxi ref ref section simpl rout show problem problem lt rout lt rout autoStartup true auto startup true id TestHost id test host xmln ns http camel apach org schema web xmln ns http camel apach org schema web xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt lt uri jetti http TestHost gt uri jetti http test host gt lt lt uri http www googl com bridgeEndpoint true amp throwExceptionOnFailure fals gt uri http www googl com bridg endpoint true amp throw except failur fals gt lt rout gt lt rout gt get log INFO log INFO jvm qtp qtp TestHost test host DefaultClientConnection default client connect DEBUG send request request GET HTTP INFO HTTP INFO jvm qtp qtp TestHost test host wire DEBUG gt gt gt gt GET GET HTTP INFO HTTP INFO jvm qtp qtp TestHost test host wire DEBUG gt gt gt gt breadcrumbId breadcrumb Id ID localhost INFO ID localhost INFO jvm qtp qtp TestHost test host wire DEBUG gt gt gt gt user agent user agent mozilla mozilla window window NT WOW WOW rv rv gecko gecko firefox INFO firefox INFO jvm qtp qtp TestHost test host wire DEBUG gt gt gt gt accept encod accept encod gzip deflat INFO deflat INFO jvm qtp qtp TestHost test host wire DEBUG gt gt gt gt host host localhost INFO localhost INFO jvm qtp qtp TestHost test host wire DEBUG gt gt gt gt accept accept text html text html applic xhtml xml applic xhtml xml applic xml applic xml INFO INFO jvm qtp qtp TestHost test host wire DEBUG gt gt gt gt accept languag accept languag en us en us en INFO en INFO jvm qtp qtp TestHost test host wire DEBUG gt gt gt gt connect connect keep aliv INFO keep aliv INFO jvm qtp qtp TestHost test host wire DEBUG gt gt gt gt,0,1,0,0,0,components/camel-ahc/src/main/java/org/apache/camel/component/ahc/DefaultAhcBinding.java;components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpProducer.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpProducer.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/BaseJettyTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpProxyRouteTest.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyRouteTest.java;,0
5761,Carlos Roman,camel-aws,0,Update SqsConsumer to extend Visibility Timeout correctly, updat SqsConsumer sq consum extend visibl timeout correctli,Currently SqsConsumer will scheduled a future to happen start occruing 1/2 the visibility timeout  and reoccur again at the visibility timeout period. Because of the way SQS works  when you request a ChangeMessageVisibility timeout it does not add that to the time remaining on the message visibility. Instead it will set the message visibility to the time out given. This means that what actually happens in the camel code is that: we request the ChangeMessageVisibility timeout to be set to X seconds from now after X/2 seconds then every X seconds after that we we request the ChangeMessageVisibility timeout to be set to X from nowThis means that our message will become visible every now and again as the ChangeMessageVisibility timeout is not updated in time as period between successive executions is the same as the timeout period we request.I've attached two patches which would fix this issue. 'aws_sqs_visibility_timeout_simple.patch' - This patch changes the way we set up the future. The delay and period are now the same so that we call ChangeMessageVisibility every X/2 after the message has been pulled. 'aws_sqs_visibility_timeout_phased_timeout.patch' - This one keeps the delay to 1/2 the period and requests ChangeMessageVisibility every period. This time though it requests the visibility to be 1.5 * the period. This means that it behaves as originally planned  as if it was adding duration to the visibility duration left. This means we call Amazon less times and still keep the message hidden as expected.This was looked at with Alex Hutter (both working on same project)., current SqsConsumer sq consum schedul futur happen start occru visibl timeout reoccur visibl timeout period period way SQS work request ChangeMessageVisibility chang messag visibl timeout not add time remain messag visibl visibl instead set messag visibl time given given mean actual happen camel code request ChangeMessageVisibility chang messag visibl timeout set second second everi second request ChangeMessageVisibility chang messag visibl timeout set nowThis mean messag becom visibl everi ChangeMessageVisibility chang messag visibl timeout not updat time period success execut timeout period request request attach two patch would fix issu issu aws_sqs_visibility_timeout_simple patch aws_sqs_visibility_timeout_simple patch patch chang way set futur futur delay period call ChangeMessageVisibility chang messag visibl everi messag pull pull aws_sqs_visibility_timeout_phased_timeout patch aws_sqs_visibility_timeout_phased_timeout patch one keep delay period request ChangeMessageVisibility chang messag visibl everi period period time though request visibl period period mean behav origin plan ad durat visibl durat left left mean call amazon less time still keep messag hidden expect expect look alex hutter work project project,0,0,0,0,1,components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsConsumer.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/SqsExtendMessageVisibilityTest.java;,0
5766,Claus Ibsen,camel-jetty,0,Configuring jetty component with a different name dont work with jetty consumer, configur jetti compon differ name dont work jetti consum,For example if you do &lt;route&gt; &lt;from uri='jetty2:http://localhost:9090/myapp'/&gt; &lt;transform&gt; &lt;simple&gt;Hello ${body}&lt;/simple&gt; &lt;/transform&gt; &lt;/route&gt;Then it fails withjava.net.SocketException: Unresolved address at sun.nio.ch.Net.translateToSocketException(Net.java:58) at sun.nio.ch.Net.translateException(Net.java:84) at sun.nio.ch.Net.translateException(Net.java:90) at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:61) at org.eclipse.jetty.server.nio.SelectChannelConnector.open(SelectChannelConnector.java:187) at org.eclipse.jetty.server.AbstractConnector.doStart(AbstractConnector.java:316) at org.eclipse.jetty.server.nio.SelectChannelConnector.doStart(SelectChannelConnector.java:265) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.Server.doStart(Server.java:286) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.apache.camel.component.jetty.JettyHttpComponent.connect(JettyHttpComponent.java:315) at org.apache.camel.component.http.HttpEndpoint.connect(HttpEndpoint.java:149) at org.apache.camel.component.http.HttpConsumer.doStart(HttpConsumer.java:56) at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60)..., exampl lt rout gt lt rout gt lt lt uri jetti http localhost myapp gt uri jetti http localhost myapp gt lt transform gt lt transform gt lt simpl gt hello lt simpl gt hello bodi lt simpl gt bodi lt simpl gt lt transform gt lt transform gt lt rout gt lt rout gt fail withjava net SocketException withjava net socket except unresolv address sun nio ch net translateToSocketException net java sun nio ch net translat socket except net java sun nio ch net translateException net java sun nio ch net translat except net java sun nio ch net translateException net java sun nio ch net translat except net java sun nio ch ServerSocketAdaptor bind ServerSocketAdaptor java sun nio ch server socket adaptor bind server socket adaptor java org eclips jetti server nio SelectChannelConnector open SelectChannelConnector java org eclips jetti server nio select channel connector open select channel connector java org eclips jetti server AbstractConnector doStart AbstractConnector java org eclips jetti server abstract connector start abstract connector java org eclips jetti server nio SelectChannelConnector doStart SelectChannelConnector java org eclips jetti server nio select channel connector start select channel connector java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server server doStart server java org eclips jetti server server start server java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org apach camel compon jetti JettyHttpComponent connect JettyHttpComponent java org apach camel compon jetti jetti http compon connect jetti http compon java org apach camel compon http HttpEndpoint connect HttpEndpoint java org apach camel compon http http endpoint connect http endpoint java org apach camel compon http HttpConsumer doStart HttpConsumer java org apach camel compon http http consum start http consum java org apach camel support ServiceSupport start ServiceSupport java org apach camel support servic support start servic support java,1,0,1,0,0,components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;components/camel-jetty/src/test/java/org/apache/camel/component/jetty/JettyComponentSpringConfiguredTest.java;components/camel-jetty/src/test/resources/org/apache/camel/component/jetty/JettyComponentSpringConfiguredTest.xml;,0
5767,Christian Müller,camel-core,0,Camel Splitter eat up exceptions recorded by the underlying Scanner, camel splitter eat except record underli scanner,See http://camel.465427.n5.nabble.com/Trouble-with-split-tokenize-on-linux-td5721677.html for details, see detail,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/Splitter.java;camel-core/src/test/data/crm.sample.csv;camel-core/src/test/java/org/apache/camel/processor/SplitterWithScannerIoExceptionTest.java;,0
5769,Raúl Kripalani,camel-jms,0,Camel JMS producer can block a thread under specific circumstances, camel JMS produc block thread specif circumst,This is an edge case  but when the following circumstances concur  the asynchronous routing engine in Camel become blocked: Sending an InOut exchange over JMS (request/reply)  where: Persistent messages are enabled (deliveryPersistent=true) useMessageIDasCorrelationID is enabled replyToType is Temporary queues (default) (using TemporaryQueueReplyManager) a timeout is setYou have to be really unlucky  but if the following condition is satisfied  a thread will become blocked:time the broker takes to ACK the produced message &gt; message timeoutHence  if we have a timeout of 3000ms  and the broker takes 4000ms to ACK the message (e.g. slow Disk I/O while the journal is rotating - it happened to us)  at some point we'll see this.2012-10-30 10:46:57 680 | WARN | CorrelationMap | 89 - org.apache.camel.camel-core - 2.8.0.fuse-06-11 | Exception occurred during purge task. This exception will be ignored.java.lang.NullPointerExceptionThe CorrelationMap is rendered useless  so if subsequent exchanges time out  the ReplyHandler may never get an onTimeout callback  thus leading to the waiting thread getting blocked forever if the async routing engine was in place., edg case follow circumst concur asynchron rout engin camel becom block block send InOut exchang JMS request repli request repli persist messag enabl deliveryPersistent true deliveri persist true useMessageIDasCorrelationID use messag da correl ID enabl replyToType repli type temporari queue default default use TemporaryQueueReplyManager temporari queue repli manag timeout setYou set realli unlucki follow condit satisfi thread becom block time block time broker take ACK produc messag gt gt messag timeoutHence timeout henc timeout ms broker take ms ACK messag slow disk journal rotat happen us us point see WARN CorrelationMap correl map org apach camel camel core org apach camel camel core fuse fuse except occur purg task task except ignor java lang NullPointerExceptionThe ignor java lang null pointer except CorrelationMap correl map render useless subsequ exchang time ReplyHandler repli handler may never get onTimeout timeout callback thu lead wait thread get block forev async rout engin place place,0,0,1,0,1,camel-core/src/main/java/org/apache/camel/support/DefaultTimeoutMap.java;camel-core/src/main/java/org/apache/camel/support/DefaultTimeoutMap.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyManager.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsBlockedAsyncRoutingEngineTest.java;,0
5770,Christian Müller,camel-core,0,RoutePolicySupport should provide some easy to use utility methods to suspend/resume routes as we have it already to start/stop routes, RoutePolicySupport rout polici support provid easi use util method suspend resum suspend resum rout alreadi start stop start stop rout,,,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/RoutePolicySupport.java;camel-core/src/test/java/org/apache/camel/impl/RoutePolicySupportTest.java;,0
5774,Viktor Nikolenko,camel-activemq; camel-core; camel-jms,0,ActiveMQ target endpoint with transferExchange=true does not work together with source File endpoint with preMove option set, ActiveMQ activ MQ target endpoint transferExchange true transfer exchang true not work togeth sourc file endpoint preMove pre move option set,Got failure on a simple route reading from file and sending to ActiveMQ queue.On source File endpoint set preMove option to some folder  and on target activemq endpoint set transferExchange=true.It fails with FileNotFound exception  trying to read file from original location  not from temporary preMoved one.Without preMove all works perfect.Simplified Spring application context with Camel routes looks like this:&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;beans xmlns='http://www.springframework.org/schema/beans' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation=' http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd'&gt; &lt;bean id='brokerService' class='org.apache.activemq.broker.BrokerService' init-method='start' destroy-method='stop'&gt; &lt;property name='brokerName' value='localhost' /&gt; &lt;property name='useJmx' value='false' /&gt; &lt;property name='transportConnectorURIs'&gt; &lt;list&gt; &lt;value&gt;vm://localhost&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean id='jmsConnectionFactory' class='org.apache.activemq.ActiveMQConnectionFactory' depends-on='brokerService'&gt; &lt;property name='brokerURL' value='vm://localhost'/&gt; &lt;property name='redeliveryPolicy' ref='redeliveryPolicyConfigActiveMQ'/&gt; &lt;/bean&gt; &lt;bean id='pooledConnectionFactory' class='org.apache.activemq.pool.PooledConnectionFactory' init-method='start' destroy-method='stop'&gt; &lt;property name='maxConnections' value='8' /&gt; &lt;property name='maximumActive' value='500' /&gt; &lt;property name='connectionFactory' ref='jmsConnectionFactory' /&gt; &lt;/bean&gt; &lt;bean id='redeliveryPolicyConfigActiveMQ' class='org.apache.activemq.RedeliveryPolicy'&gt; &lt;property name='maximumRedeliveries' value='1'/&gt; &lt;property name='redeliveryDelay' value='5000'/&gt; &lt;/bean&gt; &lt;camelContext id='testCustomer' xmlns='http://camel.apache.org/schema/spring'&gt; &lt;endpoint id='sourceEndpoint' uri='file:e:/work/ids/testCustomer/input/?preMove=.tmp&amp;delay=1000&amp;readLock=rename&amp;copyAndDeleteOnRenameFail=false&amp;move=.archive&amp;moveFailed=.failed' /&gt; &lt;endpoint id='destJms' uri='activemq:queue:source?transferExchange=true&amp;connectionFactory=#pooledConnectionFactory' /&gt; &lt;route id='testRoute'&gt; &lt;from ref='sourceEndpoint' /&gt; &lt;to ref='destJms' /&gt; &lt;/route&gt; &lt;/camelContext&gt;&lt;/beans&gt;Exception trace:org.apache.camel.TypeConversionException: Error during type conversion from type: java.io.File to the required type: byte[] with value e:/work/ids/testCustomer/input/payment.xml due java.io.FileNotFoundException: e:/work/ids/testCustomer/input/payment.xml (The system cannot find the file specified) at com.it.ids.exceptions.HandleException.process(HandleException.java:20) at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:163) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:303) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.Pipeline.process(Pipeline.java:117) at org.apache.camel.processor.Pipeline.process(Pipeline.java:80) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.FatalFallbackErrorHandler.processNext(FatalFallbackErrorHandler.java:42) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.RedeliveryErrorHandler.deliverToFailureProcessor(RedeliveryErrorHandler.java:766) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:273) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:303) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.UnitOfWorkProcessor.processAsync(UnitOfWorkProcessor.java:150) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:117) at org.apache.camel.processor.RouteInflightRepositoryProcessor.processNext(RouteInflightRepositoryProcessor.java:48) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:336) at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:189) at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:155) at org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:142) at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:92) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317) at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662)Caused by: org.apache.camel.RuntimeCamelException: java.io.FileNotFoundException: e:/work/ids/testCustomer/input/payment.xml (The system cannot find the file specified) at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1270) at org.apache.camel.util.ObjectHelper.invokeMethod(ObjectHelper.java:926) at org.apache.camel.impl.converter.StaticMethodTypeConverter.convertTo(StaticMethodTypeConverter.java:47) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.doConvertTo(BaseTypeConverterRegistry.java:253) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.mandatoryConvertTo(BaseTypeConverterRegistry.java:155) at org.apache.camel.component.file.FileBinding.loadContent(FileBinding.java:57) at org.apache.camel.component.file.GenericFileConverter.genericFileToInputStream(GenericFileConverter.java:123) at org.apache.camel.component.file.GenericFileConverter.genericFileToSerializable(GenericFileConverter.java:152) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.camel.util.ObjectHelper.invokeMethod(ObjectHelper.java:922) at org.apache.camel.impl.converter.StaticMethodTypeConverter.convertTo(StaticMethodTypeConverter.java:47) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.doConvertTo(BaseTypeConverterRegistry.java:253) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.convertTo(BaseTypeConverterRegistry.java:111) at org.apache.camel.impl.DefaultExchangeHolder.checkMapSerializableObjects(DefaultExchangeHolder.java:209) at org.apache.camel.impl.DefaultExchangeHolder.safeSetProperties(DefaultExchangeHolder.java:177) at org.apache.camel.impl.DefaultExchangeHolder.marshal(DefaultExchangeHolder.java:93) at org.apache.camel.impl.DefaultExchangeHolder.marshal(DefaultExchangeHolder.java:71) at org.apache.camel.component.jms.JmsBinding.createJmsMessage(JmsBinding.java:439) at org.apache.camel.component.jms.JmsBinding.makeJmsMessage(JmsBinding.java:287) at org.apache.camel.component.jms.JmsProducer$2.createMessage(JmsProducer.java:266) at org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.doSendToDestination(JmsConfiguration.java:215) at org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.access$100(JmsConfiguration.java:158) at org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate$3.doInJms(JmsConfiguration.java:192) at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:466) at org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.send(JmsConfiguration.java:189) at org.apache.camel.component.jms.JmsProducer.doSend(JmsProducer.java:398) at org.apache.camel.component.jms.JmsProducer.processInOnly(JmsProducer.java:352) at org.apache.camel.component.jms.JmsProducer.process(JmsProducer.java:132) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:122) at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:298) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:117) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:163) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:334) ... 28 moreCaused by: java.io.FileNotFoundException: e:/work/ids/testCustomer/input/payment.xml (The system cannot find the file specified) at java.io.FileInputStream.open(Native Method) at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:106) at org.apache.camel.converter.IOConverter.toInputStream(IOConverter.java:73) at org.apache.camel.converter.IOConverter.toByteArray(IOConverter.java:243) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.camel.util.ObjectHelper.invokeMethod(ObjectHelper.java:922) ... 71 more, got failur simpl rout read file send ActiveMQ activ MQ queue queue sourc file endpoint set preMove pre move option folder target activemq endpoint set transferExchange true transfer exchang true fail FileNotFound file not found except tri read file origin locat not temporari preMoved pre move one without one without preMove pre move work perfect simplifi perfect simplifi spring applic context camel rout look like lt xml lt xml version version encod UTF gt lt bean encod UTF gt lt bean xmln http www springframework org schema bean xmln http www springframework org schema bean xmln xsi http www org XMLSchema instanc xmln xsi http www org XML schema instanc xsi schemaLocation xsi schema locat lt bean lt bean id brokerService id broker servic class org apach activemq broker BrokerService class org apach activemq broker broker servic init method start init method start destroy method stop gt destroy method stop gt lt properti lt properti name brokerName name broker name valu localhost valu localhost gt gt lt properti lt properti name useJmx name use jmx valu fals valu fals gt gt lt properti lt properti name transportConnectorURIs gt name transport connector UR gt lt list gt lt list gt lt valu gt vm localhost lt valu gt lt valu gt vm localhost lt valu gt lt list gt lt list gt lt properti gt lt properti gt lt bean gt lt bean gt lt bean lt bean id jmsConnectionFactory id jm connect factori class org apach activemq ActiveMQConnectionFactory class org apach activemq activ MQ connect factori depend brokerService gt depend broker servic gt lt properti lt properti name brokerURL name broker URL valu vm localhost gt valu vm localhost gt lt properti lt properti name redeliveryPolicy name redeliveri polici ref redeliveryPolicyConfigActiveMQ gt ref redeliveri polici config activ MQ gt lt bean gt lt bean gt lt bean lt bean id pooledConnectionFactory id pool connect factori class org apach activemq pool PooledConnectionFactory class org apach activemq pool pool connect factori init method start init method start destroy method stop gt destroy method stop gt lt properti lt properti name maxConnections name max connect valu valu gt gt lt properti lt properti name maximumActive name maximum activ valu valu gt gt lt properti lt properti name connectionFactory name connect factori ref jmsConnectionFactory ref jm connect factori gt gt lt bean gt lt bean gt lt bean lt bean id redeliveryPolicyConfigActiveMQ id redeliveri polici config activ MQ class org apach activemq RedeliveryPolicy gt class org apach activemq redeliveri polici gt lt properti lt properti name maximumRedeliveries name maximum redeliveri valu gt valu gt lt properti lt properti name redeliveryDelay name redeliveri delay valu gt valu gt lt bean gt lt bean gt lt camelContext lt camel context id testCustomer id test custom xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt endpoint lt endpoint id sourceEndpoint id sourc endpoint uri file work id testCustomer input preMove tmp amp delay amp readLock renam amp copyAndDeleteOnRenameFail fals amp move archiv amp moveFailed fail uri file work id test custom input pre move tmp amp delay amp read lock renam amp copi delet renam fail fals amp move archiv amp move fail fail gt gt lt endpoint lt endpoint id destJms id dest jm uri activemq queue sourc transferExchange true amp connectionFactory pooledConnectionFactory uri activemq queue sourc transfer exchang true amp connect factori pool connect factori gt gt lt rout lt rout id testRoute gt id test rout gt lt lt ref sourceEndpoint ref sourc endpoint gt gt lt lt ref destJms ref dest jm gt gt lt rout gt lt rout gt lt camelContext gt lt bean gt except lt camel context gt lt bean gt except trace org apach camel TypeConversionException trace org apach camel type convers except error type convers type type java io file java io file requir type type byte byte valu work id testCustomer input payment xml work id test custom input payment xml due java io FileNotFoundException java io file not found except work id testCustomer input payment xml work id test custom input payment xml system cannot find file specifi specifi com id except HandleException process HandleException java com id except handl except process handl except java org apach camel util AsyncProcessorConverterHelper ProcessorToAsyncProcessorBridge process AsyncProcessorConverterHelper java org apach camel util async processor convert helper processor async processor bridg process async processor convert helper java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor DefaultChannel process DefaultChannel java org apach camel processor interceptor default channel process default channel java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor FatalFallbackErrorHandler processNext FatalFallbackErrorHandler java org apach camel processor fatal fallback error handler process next fatal fallback error handler java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler deliverToFailureProcessor RedeliveryErrorHandler java org apach camel processor redeliveri error handler deliv failur processor redeliveri error handler java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor DefaultChannel process DefaultChannel java org apach camel processor interceptor default channel process default channel java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor UnitOfWorkProcessor processAsync UnitOfWorkProcessor java org apach camel processor unit work processor process async unit work processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel processor RouteInflightRepositoryProcessor processNext RouteInflightRepositoryProcessor java org apach camel processor rout inflight repositori processor process next rout inflight repositori processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel compon file GenericFileConsumer processExchange GenericFileConsumer java org apach camel compon file gener file consum process exchang gener file consum java org apach camel compon file GenericFileConsumer processBatch GenericFileConsumer java org apach camel compon file gener file consum process batch gener file consum java org apach camel compon file GenericFileConsumer poll GenericFileConsumer java org apach camel compon file gener file consum poll gener file consum java org apach camel impl ScheduledPollConsumer doRun ScheduledPollConsumer java org apach camel impl schedul poll consum run schedul poll consum java org apach camel impl ScheduledPollConsumer run ScheduledPollConsumer java org apach camel impl schedul poll consum run schedul poll consum java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRunAndReset FutureTask java java util concurr futur task sync inner run reset futur task java java util concurr FutureTask runAndReset FutureTask java java util concurr futur task run reset futur task java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask runPeriodic ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run period schedul thread pool executor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java java util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java caus java lang thread run thread java caus org apach camel RuntimeCamelException org apach camel runtim camel except java io FileNotFoundException java io file not found except work id testCustomer input payment xml work id test custom input payment xml system cannot find file specifi specifi org apach camel util ObjectHelper wrapRuntimeCamelException ObjectHelper java org apach camel util object helper wrap runtim camel except object helper java org apach camel util ObjectHelper invokeMethod ObjectHelper java org apach camel util object helper invok method object helper java org apach camel impl convert StaticMethodTypeConverter convertTo StaticMethodTypeConverter java org apach camel impl convert static method type convert convert static method type convert java org apach camel impl convert BaseTypeConverterRegistry doConvertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel impl convert BaseTypeConverterRegistry mandatoryConvertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri mandatori convert base type convert registri java org apach camel compon file FileBinding loadContent FileBinding java org apach camel compon file file bind load content file bind java org apach camel compon file GenericFileConverter genericFileToInputStream GenericFileConverter java org apach camel compon file gener file convert gener file input stream gener file convert java org apach camel compon file GenericFileConverter genericFileToSerializable GenericFileConverter java org apach camel compon file gener file convert gener file serializ gener file convert java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org apach camel util ObjectHelper invokeMethod ObjectHelper java org apach camel util object helper invok method object helper java org apach camel impl convert StaticMethodTypeConverter convertTo StaticMethodTypeConverter java org apach camel impl convert static method type convert convert static method type convert java org apach camel impl convert BaseTypeConverterRegistry doConvertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel impl convert BaseTypeConverterRegistry convertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel impl DefaultExchangeHolder checkMapSerializableObjects DefaultExchangeHolder java org apach camel impl default exchang holder check map serializ object default exchang holder java org apach camel impl DefaultExchangeHolder safeSetProperties DefaultExchangeHolder java org apach camel impl default exchang holder safe set properti default exchang holder java org apach camel impl DefaultExchangeHolder marshal DefaultExchangeHolder java org apach camel impl default exchang holder marshal default exchang holder java org apach camel impl DefaultExchangeHolder marshal DefaultExchangeHolder java org apach camel impl default exchang holder marshal default exchang holder java org apach camel compon jm JmsBinding createJmsMessage JmsBinding java org apach camel compon jm jm bind creat jm messag jm bind java org apach camel compon jm JmsBinding makeJmsMessage JmsBinding java org apach camel compon jm jm bind make jm messag jm bind java org apach camel compon jm JmsProducer createMessage JmsProducer java org apach camel compon jm jm produc creat messag jm produc java org apach camel compon jm JmsConfiguration CamelJmsTemplate doSendToDestination JmsConfiguration java org apach camel compon jm jm configur camel jm templat send destin jm configur java org apach camel compon jm JmsConfiguration CamelJmsTemplate access JmsConfiguration java org apach camel compon jm jm configur camel jm templat access jm configur java org apach camel compon jm JmsConfiguration CamelJmsTemplate doInJms JmsConfiguration java org apach camel compon jm jm configur camel jm templat jm jm configur java org springframework jm core JmsTemplate execut JmsTemplate java org springframework jm core jm templat execut jm templat java org apach camel compon jm JmsConfiguration CamelJmsTemplate send JmsConfiguration java org apach camel compon jm jm configur camel jm templat send jm configur java org apach camel compon jm JmsProducer doSend JmsProducer java org apach camel compon jm jm produc send jm produc java org apach camel compon jm JmsProducer processInOnly JmsProducer java org apach camel compon jm jm produc process jm produc java org apach camel compon jm JmsProducer process JmsProducer java org apach camel compon jm jm produc process jm produc java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor SendProcessor doInAsyncProducer SendProcessor java org apach camel processor send processor async produc send processor java org apach camel impl ProducerCache doInAsyncProducer ProducerCache java org apach camel impl produc cach async produc produc cach java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java moreCaused caus java io FileNotFoundException java io file not found except work id testCustomer input payment xml work id test custom input payment xml system cannot find file specifi specifi java io FileInputStream open nativ java io file input stream open nativ method method java io FileInputStream lt init gt FileInputStream java java io file input stream lt init gt file input stream java org apach camel convert IOConverter toInputStream IOConverter java org apach camel convert IO convert input stream IO convert java org apach camel convert IOConverter toByteArray IOConverter java org apach camel convert IO convert byte array IO convert java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org apach camel util ObjectHelper invokeMethod ObjectHelper java org apach camel util object helper invok method object helper java,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/file/FileBinding.java;camel-core/src/main/java/org/apache/camel/impl/DefaultExchangeHolder.java;camel-core/src/test/java/org/apache/camel/impl/DefaultExchangeHolderTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/FileRouteJmsKeepLastModifiedTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/FileRouteJmsPreMoveTest.java;,0
5781,Massyl Nait,camel-aws,0,limitaions on s3 component. no means to specify acl on created object. objects do not inherit acl from the bucket they belong to., limitaion compon compon no mean specifi acl creat object object object not inherit acl bucket belong,When using s3 component to create new object on amazon bucket  there is no means to specify acl that will be applied to this newly created object. s3 objects do not inherit acl applied to the bucket they belong to. in s3 camel component (enpoint) we can specify bucket policy but not objects acl.the limitation is in s3producer.there is an attachment file (patch) to fix this quickly and whith little modifications to the existing code. but i think that we need to enhance the design of this component to be more flexible and rely on strategy that executes requests to interact with s3.for now there is no tests for s3producer in camel-aws thus i don't supply a unit test.if we enhance the design we can change or improve this layer with less effort. and we can do tests obviously., use compon creat new object amazon bucket no mean specifi acl appli newli creat object object object not inherit acl appli bucket belong camel compon enpoint enpoint specifi bucket polici not object acl acl limit produc produc attach file patch patch fix quickli whith littl modif exist code code think need enhanc design compon flexibl reli strategi execut request interact no test produc produc camel aw camel aw thu suppli unit test test enhanc design chang improv layer less effort effort test obvious obvious,0,1,0,0,0,components/camel-aws/src/main/java/org/apache/camel/component/aws/s3/S3Constants.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/s3/S3Producer.java;,0
5782,Julien Graglia,camel-aws,0,regression : invalid SetQueueAttributesRequest created  works on 2.10.1, regress invalid SetQueueAttributesRequest set queue attribut request creat work,In org.apache.camel.component.aws.sqs.SqsEndpoint.updateQueueAttributes if I don't have any configuration  the created SetQueueAttributesRequest contains a null atttribute collection and AWS emit an error.In 2.10.1  no problem.Workaround in 2.10.2 : force the create SetQueueAttributesRequest to contain a valid attribute collection by defining a configuration in camel. For exemple: from('aws-sqs://'queue'?amazonSQSClient=#amazonSQSClient&amp;delay='pollCycle.getMillis()'&amp;maxMessagesPerPoll=10&amp;deleteAfterRead=false')  -&gt; works on 2.10.1  fail on 2.10.2if I add an argument to my URI'&amp;defaultVisibilityTimeout=30'  -&gt; works on 2.10.1  works on 2.10.2Exception : {{Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route SQS-to-MongoDB-EVENTS: Route[[From[aws-sqs://EVENTS?amazonSQSClient=#amazonSQSClien... because of Failed to resolve endpoint: aws-sqs://EVENTS?amazonSQSClient=%23amazonSQSClient&amp;delay=60000&amp;deleteAfterRead=false&amp;maxMessagesPerPoll=10 due to: The request must contain the parameter Attribute.Name. at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:176) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:722) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:1789) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1575) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1444) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1412) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at com.netceler.iv5measure.contract.impl.sqs.CamelRoutesLauncher.start(CamelRoutesLauncher.java:55) ~&#91;webapp-0.1.2-SNAPSHOT.jar:0.1.2-SNAPSHOT&#93; at com.netceler.iv5measure.contract.impl.config.ConfiguredStreamInitializer.startStreams(ConfiguredStreamInitializer.java:39) ~&#91;webapp-0.1.2-SNAPSHOT.jar:0.1.2-SNAPSHOT&#93; ... 58 common frames omittedCaused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: aws-sqs://EVENTS?amazonSQSClient=%23amazonSQSClient&amp;delay=60000&amp;deleteAfterRead=false&amp;maxMessagesPerPoll=10 due to: The request must contain the parameter Attribute.Name. at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:479) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.util.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:50) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.model.RouteDefinition.resolveEndpoint(RouteDefinition.java:186) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:108) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:114) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.model.FromDefinition.resolveEndpoint(FromDefinition.java:72) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultRouteContext.getEndpoint(DefaultRouteContext.java:90) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:851) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:171) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; ... 66 common frames omittedCaused by: com.amazonaws.AmazonServiceException: The request must contain the parameter Attribute.Name. at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:614) ~&#91;aws-java-sdk-1.3.23.jar:na&#93; at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:312) ~&#91;aws-java-sdk-1.3.23.jar:na&#93; at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:165) ~&#91;aws-java-sdk-1.3.23.jar:na&#93; at com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:812) ~&#91;aws-java-sdk-1.3.23.jar:na&#93; at com.amazonaws.services.sqs.AmazonSQSClient.setQueueAttributes(AmazonSQSClient.java:246) ~&#91;aws-java-sdk-1.3.23.jar:na&#93; at com.netceler.infra.aws.sqs.JMXSQS.setQueueAttributes(JMXSQS.java:108) ~&#91;infra-sqs-0.0.3-SNAPSHOT.jar:0.0.3-SNAPSHOT&#93; at com.netceler.infra.aws.sqs.AmazonSQSClientProxy.setQueueAttributes(AmazonSQSClientProxy.java:63) ~&#91;infra-sqs-0.0.3-SNAPSHOT.jar:0.0.3-SNAPSHOT&#93; at org.apache.camel.component.aws.sqs.SqsEndpoint.updateQueueAttributes(SqsEndpoint.java:139) ~&#91;camel-aws-2.10.2.jar:2.10.2&#93; at org.apache.camel.component.aws.sqs.SqsEndpoint.doStart(SqsEndpoint.java:93) ~&#91;camel-aws-2.10.2.jar:2.10.2&#93; at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultCamelContext.startService(DefaultCamelContext.java:1763) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultCamelContext.doAddService(DefaultCamelContext.java:931) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultCamelContext.addService(DefaultCamelContext.java:892) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:475) ~&#91;camel-core-2.10.2.jar:2.10.2&#93; ... 74 common frames omitted}}, org apach camel compon aw sq SqsEndpoint updateQueueAttributes org apach camel compon aw sq sq endpoint updat queue attribut configur creat SetQueueAttributesRequest set queue attribut request contain null atttribut collect AWS emit error error no problem workaround problem workaround forc creat SetQueueAttributesRequest set queue attribut request contain valid attribut collect defin configur camel camel exempl exempl aw sq queue amazonSQSClient amazonSQSClient amp delay pollCycle getMillis amp maxMessagesPerPoll amp deleteAfterRead fals aw sq queue amazon SQS client amazon SQS client amp delay poll cycl get milli amp max messag per poll amp delet read fals gt gt work fail add argument URI amp defaultVisibilityTimeout URI amp default visibl timeout gt gt work work except except caus caus org apach camel FailedToCreateRouteException org apach camel fail creat rout except fail creat rout SQS MongoDB EVENTS SQS mongo DB EVENTS rout aw sq EVENTS amazonSQSClient amazonSQSClien rout aw sq EVENTS amazon SQS client amazon SQS clien fail resolv endpoint endpoint aw sq EVENTS amazonSQSClient amazonSQSClient amp delay amp deleteAfterRead fals amp maxMessagesPerPoll aw sq EVENTS amazon SQS client amazon SQS client amp delay amp delet read fals amp max messag per poll due request must contain paramet attribut name attribut name org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java camel core jar camel core jar org apach camel impl DefaultCamelContext startRoute DefaultCamelContext java org apach camel impl default camel context start rout default camel context java camel core jar camel core jar org apach camel impl DefaultCamelContext startRouteDefinitions DefaultCamelContext java org apach camel impl default camel context start rout definit default camel context java camel core jar camel core jar org apach camel impl DefaultCamelContext doStartCamel DefaultCamelContext java org apach camel impl default camel context start camel default camel context java camel core jar camel core jar org apach camel impl DefaultCamelContext doStart DefaultCamelContext java org apach camel impl default camel context start default camel context java camel core jar camel core jar org apach camel support ServiceSupport start ServiceSupport java org apach camel support servic support start servic support java camel core jar camel core jar org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel impl default camel context start default camel context java camel core jar camel core jar com netcel iv measur contract impl sq CamelRoutesLauncher start CamelRoutesLauncher java com netcel iv measur contract impl sq camel rout launcher start camel rout launcher java webapp SNAPSHOT jar SNAPSHOT webapp SNAPSHOT jar SNAPSHOT com netcel iv measur contract impl config ConfiguredStreamInitializer startStreams ConfiguredStreamInitializer java com netcel iv measur contract impl config configur stream initi start stream configur stream initi java webapp SNAPSHOT jar SNAPSHOT webapp SNAPSHOT jar SNAPSHOT common frame omittedCaused omit caus org apach camel ResolveEndpointFailedException org apach camel resolv endpoint fail except fail resolv endpoint endpoint aw sq EVENTS amazonSQSClient amazonSQSClient amp delay amp deleteAfterRead fals amp maxMessagesPerPoll aw sq EVENTS amazon SQS client amazon SQS client amp delay amp delet read fals amp max messag per poll due request must contain paramet attribut name attribut name org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java camel core jar camel core jar org apach camel util CamelContextHelper getMandatoryEndpoint CamelContextHelper java org apach camel util camel context helper get mandatori endpoint camel context helper java camel core jar camel core jar org apach camel model RouteDefinition resolveEndpoint RouteDefinition java org apach camel model rout definit resolv endpoint rout definit java camel core jar camel core jar org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java camel core jar camel core jar org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java camel core jar camel core jar org apach camel model FromDefinition resolveEndpoint FromDefinition java org apach camel model definit resolv endpoint definit java camel core jar camel core jar org apach camel impl DefaultRouteContext getEndpoint DefaultRouteContext java org apach camel impl default rout context get endpoint default rout context java camel core jar camel core jar org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java camel core jar camel core jar org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java camel core jar camel core jar common frame omittedCaused omit caus com amazonaw AmazonServiceException com amazonaw amazon servic except request must contain paramet attribut name attribut name com amazonaw http AmazonHttpClient handleErrorResponse AmazonHttpClient java com amazonaw http amazon http client handl error respons amazon http client java aw java sdk jar na aw java sdk jar na com amazonaw http AmazonHttpClient executeHelper AmazonHttpClient java com amazonaw http amazon http client execut helper amazon http client java aw java sdk jar na aw java sdk jar na com amazonaw http AmazonHttpClient execut AmazonHttpClient java com amazonaw http amazon http client execut amazon http client java aw java sdk jar na aw java sdk jar na com amazonaw servic sq AmazonSQSClient invok AmazonSQSClient java com amazonaw servic sq amazon SQS client invok amazon SQS client java aw java sdk jar na aw java sdk jar na com amazonaw servic sq AmazonSQSClient setQueueAttributes AmazonSQSClient java com amazonaw servic sq amazon SQS client set queue attribut amazon SQS client java aw java sdk jar na aw java sdk jar na com netcel infra aw sq JMXSQS setQueueAttributes JMXSQS java com netcel infra aw sq JMXSQS set queue attribut JMXSQS java infra sq SNAPSHOT jar SNAPSHOT infra sq SNAPSHOT jar SNAPSHOT com netcel infra aw sq AmazonSQSClientProxy setQueueAttributes AmazonSQSClientProxy java com netcel infra aw sq amazon SQS client proxi set queue attribut amazon SQS client proxi java infra sq SNAPSHOT jar SNAPSHOT infra sq SNAPSHOT jar SNAPSHOT org apach camel compon aw sq SqsEndpoint updateQueueAttributes SqsEndpoint java org apach camel compon aw sq sq endpoint updat queue attribut sq endpoint java camel aw jar camel aw jar org apach camel compon aw sq SqsEndpoint doStart SqsEndpoint java org apach camel compon aw sq sq endpoint start sq endpoint java camel aw jar camel aw jar org apach camel support ServiceSupport start ServiceSupport java org apach camel support servic support start servic support java camel core jar camel core jar org apach camel impl DefaultCamelContext startService DefaultCamelContext java org apach camel impl default camel context start servic default camel context java camel core jar camel core jar org apach camel impl DefaultCamelContext doAddService DefaultCamelContext java org apach camel impl default camel context add servic default camel context java camel core jar camel core jar org apach camel impl DefaultCamelContext addService DefaultCamelContext java org apach camel impl default camel context add servic default camel context java camel core jar camel core jar org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java camel core jar camel core jar common frame omit omit,1,0,0,0,0,components/camel-aws/pom.xml;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsEndpoint.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/SqsEndpointTest.java;,0
5783,Akitoshi Yoshida,camel-test,0,option to add bundle directives in the generated test bundles by camel-test-blueprint, option add bundl direct gener test bundl camel test blueprint camel test blueprint,The generated test bundle by camel-test-blueprint has the plain test class name as the bundle symbolic name in its manifest.Some test cases may require bundle directives to be added to the bundle symbolic name entry in the manifest.One such test case is for disabling xml validation.To support such blueprint test cases  I would like to add an option in CamelBlueprintTestSupport to customize the bundle directives., gener test bundl camel test blueprint camel test blueprint plain test class name bundl symbol name manifest manifest test case may requir bundl direct ad bundl symbol name entri manifest one manifest one test case disabl xml valid valid support blueprint test case would like add option CamelBlueprintTestSupport camel blueprint test support custom bundl direct direct,0,1,0,0,0,components/camel-test-blueprint/src/main/java/org/apache/camel/test/blueprint/CamelBlueprintHelper.java;components/camel-test-blueprint/src/main/java/org/apache/camel/test/blueprint/CamelBlueprintTestSupport.java;components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/IgnoreDatatypesTest.java;components/camel-test-blueprint/src/test/resources/org/apache/camel/test/blueprint/ignoreDatatypes.xml;,0
5791,Akitoshi Yoshida,camel-cxf; tests,0,Adding blueprint based camel-cxf tests using camel-test-blueprint, ad blueprint base camel cxf camel cxf test use camel test blueprint camel test blueprint,Adding some blueprint scenario tests for camel-cxf using camel-test-blueprint.I put this in a separate test-only component under the tests folder. I can't put the test classes directly within camel-cxf because of the way how the bundle context is generated  namely the jars on the classpath are scanned and added to the context. Hence  the tests are in a separate component that refer to all the bundle jars that they need.I don't know if the tests folder is the the right location for this test component  though., ad blueprint scenario test camel cxf camel cxf use camel test blueprint camel test blueprint put separ test test compon test folder folder put test class directli within camel cxf camel cxf way bundl context gener name jar classpath scan ad context context henc test separ compon refer bundl jar need need know test folder right locat test compon though though,0,1,0,0,0,tests/camel-blueprint-cxf-test/pom.xml;tests/camel-blueprint-cxf-test/src/test/java/org/apache/camel/component/cxf/CXFTestSupport.java;tests/camel-blueprint-cxf-test/src/test/java/org/apache/camel/component/cxf/HelloService.java;tests/camel-blueprint-cxf-test/src/test/java/org/apache/camel/test/cxf/blueprint/CxfEndpointBeansTest.java;tests/camel-blueprint-cxf-test/src/test/java/org/apache/camel/test/cxf/blueprint/CxfPayloadProviderRouterTest.java;tests/camel-blueprint-cxf-test/src/test/java/org/apache/camel/test/cxf/blueprint/MyProcessor.java;tests/camel-blueprint-cxf-test/src/test/resources/log4j.properties;tests/camel-blueprint-cxf-test/src/test/resources/org/apache/camel/test/cxf/blueprint/CxfEndpointBeans.xml;tests/camel-blueprint-cxf-test/src/test/resources/org/apache/camel/test/cxf/blueprint/CxfPayloadProviderRouterBeans.xml;tests/pom.xml;,0
5847,Arnout Engelen,camel-mongodb,0,camel-mongodb - Add converters for files or inputstreams, camel mongodb camel mongodb add convert file inputstream,Inserting files into MongoDB doesn't work like this:from('file:///tmp/test/apachecon?runLoggingLevel=TRACE') .to('mongodb:connectionBean?database=x&amp;collection=y&amp;operation=insert');It requires an explicit .convertBodyTo(String.class). The attached patch adds Converter}}s for File and InputStream object  detecting and supporting both {{JSON and BSON files/streams.The new String(input  'utf-8')) fragment seems a bit dodgy  but I don't really see a better way., insert file MongoDB mongo DB work like file tmp test apachecon runLoggingLevel TRACE file tmp test apachecon run log level TRACE mongodb connectionBean databas amp collect amp oper insert mongodb connect bean databas amp collect amp oper insert requir explicit convertBodyTo string class convert bodi string class attach patch add convert convert file InputStream input stream object detect support JSON JSON BSON file stream file stream new string input string input utf utf fragment seem bit dodgi realli see better way way,0,1,1,1,0,components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/converters/MongoDbBasicConverters.java;components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/converters/MongoDbBasicConverters.java;components/camel-mongodb/src/test/java/org/apache/camel/component/mongodb/MongoDbConversionsTest.java;,0
5860,David J. M. Karlsen,camel-validator,0,Regression in validator component in 2.10.3, regress valid compon,I get:CaughtExceptionType:java.lang.NullPointerException  CaughtExceptionMessage:null  StackTrace:java.lang.NullPointerException at org.apache.camel.converter.jaxp.XmlConverter.toStreamSource(XmlConverter.java:516) at org.apache.camel.converter.jaxp.XmlConverter.toSAXSource(XmlConverter.java:399) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.apache.camel.util.ObjectHelper.invokeMethod(ObjectHelper.java:923) at org.apache.camel.impl.converter.InstanceMethodTypeConverter.convertTo(InstanceMethodTypeConverter.java:66) at org.apache.camel.support.TypeConverterSupport.convertTo(TypeConverterSupport.java:34) at org.apache.camel.processor.validation.ValidatingProcessor.getSource(ValidatingProcessor.java:343) at org.apache.camel.processor.validation.ValidatingProcessor.process(ValidatingProcessor.java:100) at org.apache.camel.impl.ProcessorEndpoint.onExchange(ProcessorEndpoint.java:101) at org.apache.camel.impl.ProcessorEndpoint$1.process(ProcessorEndpoint.java:71) at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61) atorg.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:122) at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:298) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:117) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) /when I upgrade camel to 2.10.3 and use the validator component:&lt;camel:to uri='validator:META-INF/xsd/transactiongatetransfertransaction.xsd' /&gt;this did not happen in 2.10.2 or versions before that., get CaughtExceptionType java lang NullPointerException get caught except type java lang null pointer except CaughtExceptionMessage null caught except messag null StackTrace java lang NullPointerException stack trace java lang null pointer except org apach camel convert jaxp XmlConverter toStreamSource XmlConverter java org apach camel convert jaxp xml convert stream sourc xml convert java org apach camel convert jaxp XmlConverter toSAXSource XmlConverter java org apach camel convert jaxp xml convert SAX sourc xml convert java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org apach camel util ObjectHelper invokeMethod ObjectHelper java org apach camel util object helper invok method object helper java org apach camel impl convert InstanceMethodTypeConverter convertTo InstanceMethodTypeConverter java org apach camel impl convert instanc method type convert convert instanc method type convert java org apach camel support TypeConverterSupport convertTo TypeConverterSupport java org apach camel support type convert support convert type convert support java org apach camel processor valid ValidatingProcessor getSource ValidatingProcessor java org apach camel processor valid valid processor get sourc valid processor java org apach camel processor valid ValidatingProcessor process ValidatingProcessor java org apach camel processor valid valid processor process valid processor java org apach camel impl ProcessorEndpoint onExchange ProcessorEndpoint java org apach camel impl processor endpoint exchang processor endpoint java org apach camel impl ProcessorEndpoint process ProcessorEndpoint java org apach camel impl processor endpoint process processor endpoint java org apach camel util AsyncProcessorConverterHelper ProcessorToAsyncProcessorBridge process AsyncProcessorConverterHelper java org apach camel util async processor convert helper processor async processor bridg process async processor convert helper java atorg apach camel util AsyncProcessorHelper process AsyncProcessorHelper java atorg apach camel util async processor helper process async processor helper java org apach camel processor SendProcessor doInAsyncProducer SendProcessor java org apach camel processor send processor async produc send processor java org apach camel impl ProducerCache doInAsyncProducer ProducerCache java org apach camel impl produc cach async produc produc cach java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java upgrad camel use valid compon lt camel compon lt camel uri valid META INF xsd transactiongatetransfertransact xsd uri valid META INF xsd transactiongatetransfertransact xsd gt gt not happen version,1,0,1,1,0,camel-core/src/main/java/org/apache/camel/processor/validation/ValidatingProcessor.java;camel-core/src/test/java/org/apache/camel/component/validator/ValidatorRouteTest.java;,0
5864,Raúl Kripalani,camel-core; camel-xslt,0,Pre-XSLT and Validator Type Conversions from byte[] may easily fail, pre XSLT pre XSLT valid type convers byte byte may easili fail,XsltBuilder.getSource(Exchange e  Object o) tries to convert the payload to a Source. If you have a byte[] payload  then the following type converter will likely be picked:InstanceMethodTypeConverter: public javax.xml.transform.sax.SAXSource org.apache.camel.converter.jaxp.XmlConverter.toSAXSource(byte[] org.apache.camel.Exchange) throws java.io.IOException org.xml.sax.SAXException javax.xml.transform.TransformerExceptionThis type converter requires the Exchange (InstanceMethodTypeConverter.useExchange == true)  but line 461 of XsltBuilder doesn't pass it on.Therefore  a NullPointerException happens because the conversion method tries to access the Exchange., XsltBuilder getSource exchang xslt builder get sourc exchang object tri convert payload sourc sourc byte byte payload follow type convert like pick InstanceMethodTypeConverter pick instanc method type convert public javax xml transform sax SAXSource javax xml transform sax SAX sourc org apach camel convert jaxp XmlConverter toSAXSource byte org apach camel convert jaxp xml convert SAX sourc byte org apach camel exchang org apach camel exchang throw java io IOException java io IO except org xml sax SAXException org xml sax SAX except javax xml transform TransformerExceptionThis javax xml transform transform except type convert requir exchang InstanceMethodTypeConverter useExchange instanc method type convert use exchang true true line XsltBuilder xslt builder pass therefor therefor NullPointerException null pointer except happen convers method tri access exchang exchang,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/builder/xml/XsltBuilder.java;camel-core/src/test/java/org/apache/camel/component/xslt/XsltRouteTest.java;,0
5880,Babak Vahdat,camel-quickfix,0,camel-quickfix: QuickfixjEndpoint should adhere the InOut exchange pattern if you would ask for this MEP, camel quickfix camel quickfix QuickfixjEndpoint quickfixj endpoint adher InOut exchang pattern would ask MEP,See http://camel.465427.n5.nabble.com/camel-quickfix-RequestReplyExample-java-io-IOException-td5723769.html, see,0,1,0,1,0,components/camel-quickfix/pom.xml;components/camel-quickfix/src/main/java/org/apache/camel/component/quickfixj/MessagePredicate.java;components/camel-quickfix/src/main/java/org/apache/camel/component/quickfixj/QuickfixjEndpoint.java;components/camel-quickfix/src/main/java/org/apache/camel/component/quickfixj/converter/QuickfixjConverters.java;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/QuickfixjConsumerTest.java;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/QuickfixjProducerTest.java;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/examples/RequestReplyExample.java;components/camel-quickfix/pom.xml;components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/examples/RequestReplyExample.java;,0
5881,Preben Asmussen,camel-ftp,0,FTP endpoints should support charset property like File endpoint does, FTP endpoint support charset properti like file endpoint,FTP endpoints should support charset property like the File endpoint does. Currently you have to remember to set the CamelCharsetName Exchange property if you want to have the message body transformed to another charset.See http://camel.465427.n5.nabble.com/Problem-w-FTP-producer-and-charset-td5723604.htmlI'll work on a patch and attach it later., FTP endpoint support charset properti like file endpoint current rememb set CamelCharsetName camel charset name exchang properti want messag bodi transform anoth charset see charset see work patch attach later later,0,1,0,1,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerWithCharsetTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerFileWithCharsetTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerWithCharsetTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerFileWithCharsetTest.java;,0
5883,Claus Ibsen,camel-core,0,File consumer - When using done file name then delete the file when batch is complete, file consum use done file name delet file batch complet,When using doneFileName then the file is deleted on each completion of files in the batch. And you get WARN logs about the done file cannot be deleted  because the 1st already deleted the file.We should defer and only delete the done file on the last in the batch., use doneFileName done file name file delet complet file batch batch get WARN log done file cannot delet st alreadi delet file file defer delet done file last batch batch,0,0,0,0,1,camel-core/src/main/java/org/apache/camel/component/file/GenericFileOnCompletion.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumeDoneFileIssueTest.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileOnCompletion.java;camel-core/src/test/java/org/apache/camel/component/file/FileConsumeDoneFileIssueTest.java;,0
5888,Gennadiy Bukhmatov,camel-core,0,When call removeRouteDefinition the route doesn't removed from collection of route Definitions., call removeRouteDefinition remov rout definit rout remov collect rout definit definit,When I call removeRouteDefinition for DefaultCamelContext  the route doesn't removed from collection of routes. public synchronized void removeRouteDefinition(RouteDefinition routeDefinition) throws Exception { String id = routeDefinition.idOrCreate(nodeIdFactory); stopRoute(id); removeRoute(id); }it is just remove it from running route service if context is running.When we do restart context this route started again. Workaround for this issue is call removeRouteDefinitions and wrap single route into collection.But when I call removeRouteDefinitions - it is process correctly: remove from collections of definitions and after removed from running route services. public synchronized void removeRouteDefinitions(Collection&lt;RouteDefinition&gt; routeDefinitions) throws Exception { this.routeDefinitions.removeAll(routeDefinitions); for (RouteDefinition routeDefinition : routeDefinitions) { removeRouteDefinition(routeDefinition); } }, call removeRouteDefinition remov rout definit DefaultCamelContext default camel context rout remov collect rout rout public synchron void removeRouteDefinition RouteDefinition remov rout definit rout definit routeDefinition rout definit throw except string id routeDefinition idOrCreate nodeIdFactory rout definit id creat node Id factori stopRoute id stop rout id removeRoute id remov rout id remov run rout servic context run run restart context rout start workaround issu call removeRouteDefinitions remov rout definit wrap singl rout collect collect call removeRouteDefinitions remov rout definit process correctli correctli remov collect definit remov run rout servic servic public synchron void removeRouteDefinitions collect lt RouteDefinition gt remov rout definit collect lt rout definit gt routeDefinitions rout definit throw except routeDefinitions removeAll routeDefinitions rout definit remov rout definit RouteDefinition rout definit routeDefinition rout definit routeDefinitions rout definit removeRouteDefinition routeDefinition remov rout definit rout definit,0,0,1,0,1,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;camel-core/src/test/java/org/apache/camel/impl/CamelContextAddRouteDefinitionsFromXmlTest.java;,1
5889,Oleg Kozlov,camel-scala,0,Scala DSL: no tokenize('...') method, scala DSL DSL no token token method,This is related to issue https://issues.apache.org/jira/browse/CAMEL-5803It looks like the fix included tokenizeXML() method  but there is still not tokenize()  I have a usecase where I have to split my in message body (text) by semi-colon character for downstream processing  so I need to be able to do something like the following in Scala DSL:split(_.in) tokenize(';')I fix would be very welcome  also  if there is a work around with TokenizeLanguage etc - please let me know  thank you!, relat issu look like fix includ tokenizeXML token XML method still not token token usecas split messag bodi text text semi colon semi colon charact downstream process need abl someth like follow scala DSL split  DSL split  token token fix would welcom also work around TokenizeLanguage token languag etc pleas let know thank,0,0,1,1,0,components/camel-scala/src/main/scala/org/apache/camel/scala/dsl/languages/Languages.scala;components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/SplitterTokenizeHeaderTest.scala;components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/SplitterTokenizePairTest.scala;components/camel-scala/src/test/scala/org/apache/camel/scala/dsl/SplitterTokenizeTest.scala;,0
5890,Willem Jiang,null,0,NPE when jaxb fallback converter is used with RequestEntityConverter, NPE jaxb fallback convert use RequestEntityConverter request entiti convert,As the RequestEntityConverter.toRequestEntity(String str  Exchange exchange) doesn't has check if the exchange is null  it caused the NPE as the user complain in camel user mailing list&#91;1&#93;&#91;1&#93;http://camel.465427.n5.nabble.com/Content-Enrich-Error-when-upgrading-Apache-Camel-from-2-9-2-to-any-higher-version-td5724244.htmlHere is the stack trace.CaughtExceptionType:org.apache.camel.TypeConversionException  CaughtExceptionMessage:Error during type conversion from type: com.ecc.DamBean to the required type: org.apache.commons.httpclient.methods.RequestEntity with value com.ecc.DamBean@8811a59 due Error during type conversion from type: java.lang.String to the required type: org.apache.commons.httpclient.methods.RequestEntity with value ... The complete Stack Trace : Exchange[ExchangePattern:InOnly  BodyType:String  Body:  CaughtExceptionType:org.apache.camel.TypeConversionException  CaughtExceptionMessage:Error during type conversion from type: com.ecc.DamBean to the required type: org.apache.commons.httpclient.methods.RequestEntity with value com.ecc.DamBean@8811a59 due Error during type conversion from type: java.lang.String to the required type: org.apache.commons.httpclient.methods.RequestEntity with value due java.lang.NullPointerException  StackTrace:org.apache.camel.TypeConversionException: Error during type conversion from type: com.ecc.DamBean to the required type: org.apache.commons.httpclient.methods.RequestEntity with value com.ecc.DamBean@8811a59 due Error during type conversion from type: java.lang.String to the required type: org.apache.commons.httpclient.methods.RequestEntity with value due java.lang.NullPointerException at org.apache.camel.converter.jaxb.FallbackTypeConverter.convertTo(FallbackTypeConverter.java:98) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.doConvertTo(BaseTypeConverterRegistry.java:289) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.convertTo(BaseTypeConverterRegistry.java:111) at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:72) at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:47) at org.apache.camel.component.http.HttpProducer.createRequestEntity(HttpProducer.java:390) at org.apache.camel.component.http.HttpProducer.createMethod(HttpProducer.java:343) at org.apache.camel.component.http.HttpProducer.process(HttpProducer.java:91) at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.Enricher.process(Enricher.java:114) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:91) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:334) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:61) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:303) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.Pipeline.process(Pipeline.java:148) at org.apache.camel.processor.Pipeline.process(Pipeline.java:80) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:61) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.UnitOfWorkProcessor.processAsync(UnitOfWorkProcessor.java:150) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:117) at org.apache.camel.processor.RouteInflightRepositoryProcessor.processNext(RouteInflightRepositoryProcessor.java:57) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.component.seda.SedaConsumer.sendToConsumers(SedaConsumer.java:275) at org.apache.camel.component.seda.SedaConsumer.doRun(SedaConsumer.java:185) at org.apache.camel.component.seda.SedaConsumer.run(SedaConsumer.java:139) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:909) at java.lang.Thread.run(Thread.java:662)Caused by: org.apache.camel.TypeConversionException: Error during type conversion from type: java.lang.String to the required type: org.apache.commons.httpclient.methods.RequestEntity with value due java.lang.NullPointerException at org.apache.camel.impl.converter.BaseTypeConverterRegistry.convertTo(BaseTypeConverterRegistry.java:126) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.convertTo(BaseTypeConverterRegistry.java:98) at org.apache.camel.converter.jaxb.FallbackTypeConverter.marshall(FallbackTypeConverter.java:222) at org.apache.camel.converter.jaxb.FallbackTypeConverter.convertTo(FallbackTypeConverter.java:94) ... 44 moreCaused by: org.apache.camel.RuntimeCamelException: java.lang.NullPointerException at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1271) at org.apache.camel.util.ObjectHelper.invokeMethod(ObjectHelper.java:927) at org.apache.camel.impl.converter.StaticMethodTypeConverter.convertTo(StaticMethodTypeConverter.java:47) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.doConvertTo(BaseTypeConverterRegistry.java:253) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.convertTo(BaseTypeConverterRegistry.java:111) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.convertTo(BaseTypeConverterRegistry.java:98) at org.apache.camel.converter.jaxb.FallbackTypeConverter.marshall(FallbackTypeConverter.java:222) at org.apache.camel.converter.jaxb.FallbackTypeConverter.convertTo(FallbackTypeConverter.java:94) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.doConvertTo(BaseTypeConverterRegistry.java:289) at org.apache.camel.impl.converter.BaseTypeConverterRegistry.convertTo(BaseTypeConverterRegistry.java:111) at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:72) at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:47) at org.apache.camel.component.http.HttpProducer.createRequestEntity(HttpProducer.java:390) at org.apache.camel.component.http.HttpProducer.createMethod(HttpProducer.java:343) at org.apache.camel.component.http.HttpProducer.process(HttpProducer.java:91) at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.Enricher.process(Enricher.java:114) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:91) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:334) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:303) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.Pipeline.process(Pipeline.java:117) at org.apache.camel.processor.Pipeline.process(Pipeline.java:80) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.UnitOfWorkProcessor.processAsync(UnitOfWorkProcessor.java:150) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:117) at org.apache.camel.processor.RouteInflightRepositoryProcessor.processNext(RouteInflightRepositoryProcessor.java:48) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.component.seda.SedaConsumer.sendToConsumers(SedaConsumer.java:275) at org.apache.camel.component.seda.SedaConsumer.doRun(SedaConsumer.java:183) at org.apache.camel.component.seda.SedaConsumer.run(SedaConsumer.java:139) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) ... 1 moreCaused by: java.lang.NullPointerException at org.apache.camel.component.http.RequestEntityConverter.toRequestEntity(RequestEntityConverter.java:51) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.camel.util.ObjectHelper.invokeMethod(ObjectHelper.java:923) ... 50 more], RequestEntityConverter toRequestEntity string request entiti convert request entiti string str exchang exchang exchang check exchang null caus NPE user complain camel user mail list http camel nabbl com content enrich error upgrad apach camel higher version td htmlHere list http camel nabbl com content enrich error upgrad apach camel higher version td html stack trace CaughtExceptionType org apach camel TypeConversionException trace caught except type org apach camel type convers except CaughtExceptionMessage error caught except messag error type convers type type com ecc DamBean com ecc dam bean requir type type org apach common httpclient method RequestEntity org apach common httpclient method request entiti valu com ecc DamBean com ecc dam bean due error type convers type type java lang string java lang string requir type type org apach common httpclient method RequestEntity org apach common httpclient method request entiti valu complet stack trace exchang ExchangePattern InOnly exchang exchang pattern BodyType string bodi type string bodi bodi CaughtExceptionType org apach camel TypeConversionException caught except type org apach camel type convers except CaughtExceptionMessage error caught except messag error type convers type type com ecc DamBean com ecc dam bean requir type type org apach common httpclient method RequestEntity org apach common httpclient method request entiti valu com ecc DamBean com ecc dam bean due error type convers type type java lang string java lang string requir type type org apach common httpclient method RequestEntity org apach common httpclient method request entiti valu due java lang NullPointerException java lang null pointer except StackTrace org apach camel TypeConversionException stack trace org apach camel type convers except error type convers type type com ecc DamBean com ecc dam bean requir type type org apach common httpclient method RequestEntity org apach common httpclient method request entiti valu com ecc DamBean com ecc dam bean due error type convers type type java lang string java lang string requir type type org apach common httpclient method RequestEntity org apach common httpclient method request entiti valu due java lang NullPointerException java lang null pointer except org apach camel convert jaxb FallbackTypeConverter convertTo FallbackTypeConverter java org apach camel convert jaxb fallback type convert convert fallback type convert java org apach camel impl convert BaseTypeConverterRegistry doConvertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel impl convert BaseTypeConverterRegistry convertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel impl MessageSupport getBody MessageSupport java org apach camel impl messag support get bodi messag support java org apach camel impl MessageSupport getBody MessageSupport java org apach camel impl messag support get bodi messag support java org apach camel compon http HttpProducer createRequestEntity HttpProducer java org apach camel compon http http produc creat request entiti http produc java org apach camel compon http HttpProducer createMethod HttpProducer java org apach camel compon http http produc creat method http produc java org apach camel compon http HttpProducer process HttpProducer java org apach camel compon http http produc process http produc java org apach camel util AsyncProcessorConverterHelper ProcessorToAsyncProcessorBridge process AsyncProcessorConverterHelper java org apach camel util async processor convert helper processor async processor bridg process async processor convert helper java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor enrich process enrich java org apach camel processor enrich process enrich java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor DefaultChannel process DefaultChannel java org apach camel processor interceptor default channel process default channel java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor UnitOfWorkProcessor processAsync UnitOfWorkProcessor java org apach camel processor unit work processor process async unit work processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel processor RouteInflightRepositoryProcessor processNext RouteInflightRepositoryProcessor java org apach camel processor rout inflight repositori processor process next rout inflight repositori processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel compon seda SedaConsumer sendToConsumers SedaConsumer java org apach camel compon seda seda consum send consum seda consum java org apach camel compon seda SedaConsumer doRun SedaConsumer java org apach camel compon seda seda consum run seda consum java org apach camel compon seda SedaConsumer run SedaConsumer java org apach camel compon seda seda consum run seda consum java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java caus java lang thread run thread java caus org apach camel TypeConversionException org apach camel type convers except error type convers type type java lang string java lang string requir type type org apach common httpclient method RequestEntity org apach common httpclient method request entiti valu due java lang NullPointerException java lang null pointer except org apach camel impl convert BaseTypeConverterRegistry convertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel impl convert BaseTypeConverterRegistry convertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel convert jaxb FallbackTypeConverter marshal FallbackTypeConverter java org apach camel convert jaxb fallback type convert marshal fallback type convert java org apach camel convert jaxb FallbackTypeConverter convertTo FallbackTypeConverter java org apach camel convert jaxb fallback type convert convert fallback type convert java moreCaused caus org apach camel RuntimeCamelException org apach camel runtim camel except java lang NullPointerException java lang null pointer except org apach camel util ObjectHelper wrapRuntimeCamelException ObjectHelper java org apach camel util object helper wrap runtim camel except object helper java org apach camel util ObjectHelper invokeMethod ObjectHelper java org apach camel util object helper invok method object helper java org apach camel impl convert StaticMethodTypeConverter convertTo StaticMethodTypeConverter java org apach camel impl convert static method type convert convert static method type convert java org apach camel impl convert BaseTypeConverterRegistry doConvertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel impl convert BaseTypeConverterRegistry convertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel impl convert BaseTypeConverterRegistry convertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel convert jaxb FallbackTypeConverter marshal FallbackTypeConverter java org apach camel convert jaxb fallback type convert marshal fallback type convert java org apach camel convert jaxb FallbackTypeConverter convertTo FallbackTypeConverter java org apach camel convert jaxb fallback type convert convert fallback type convert java org apach camel impl convert BaseTypeConverterRegistry doConvertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel impl convert BaseTypeConverterRegistry convertTo BaseTypeConverterRegistry java org apach camel impl convert base type convert registri convert base type convert registri java org apach camel impl MessageSupport getBody MessageSupport java org apach camel impl messag support get bodi messag support java org apach camel impl MessageSupport getBody MessageSupport java org apach camel impl messag support get bodi messag support java org apach camel compon http HttpProducer createRequestEntity HttpProducer java org apach camel compon http http produc creat request entiti http produc java org apach camel compon http HttpProducer createMethod HttpProducer java org apach camel compon http http produc creat method http produc java org apach camel compon http HttpProducer process HttpProducer java org apach camel compon http http produc process http produc java org apach camel util AsyncProcessorConverterHelper ProcessorToAsyncProcessorBridge process AsyncProcessorConverterHelper java org apach camel util async processor convert helper processor async processor bridg process async processor convert helper java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor enrich process enrich java org apach camel processor enrich process enrich java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor DefaultChannel process DefaultChannel java org apach camel processor interceptor default channel process default channel java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor UnitOfWorkProcessor processAsync UnitOfWorkProcessor java org apach camel processor unit work processor process async unit work processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel processor RouteInflightRepositoryProcessor processNext RouteInflightRepositoryProcessor java org apach camel processor rout inflight repositori processor process next rout inflight repositori processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel compon seda SedaConsumer sendToConsumers SedaConsumer java org apach camel compon seda seda consum send consum seda consum java org apach camel compon seda SedaConsumer doRun SedaConsumer java org apach camel compon seda seda consum run seda consum java org apach camel compon seda SedaConsumer run SedaConsumer java org apach camel compon seda seda consum run seda consum java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java moreCaused caus java lang NullPointerException java lang null pointer except org apach camel compon http RequestEntityConverter toRequestEntity RequestEntityConverter java org apach camel compon http request entiti convert request entiti request entiti convert java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org apach camel util ObjectHelper invokeMethod ObjectHelper java org apach camel util object helper invok method object helper java,1,0,0,1,0,tests/camel-itest/src/test/java/org/apache/camel/itest/jaxb/JaxbFallbackTypeConverterTest.java;components/camel-http/src/main/java/org/apache/camel/component/http/RequestEntityConverter.java;components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/FallbackTypeConverter.java;tests/camel-itest/src/test/java/org/apache/camel/itest/jaxb/JaxbFallbackTypeConverterTest.java;tests/camel-itest/src/test/java/org/apache/camel/itest/jaxb/example/Bar.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpEntityConverter.java;,0
5899,Claus Ibsen,camel-netty,0,camel-netty - Producer should avoid blocking while waiting for connection, camel netti camel netti produc avoid block wait connect,We should at most wait for the connection timeout to trigger., wait connect timeout trigger trigger,0,0,0,0,0,components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyProducer.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/handlers/ClientChannelHandler.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyProducer.java;,0
5917,Claus Ibsen,camel-jms,0,camel-jms - JmsPollingConsumer use the constant fields from JmsTemplate for receiveNoWait etc, camel jm camel jm JmsPollingConsumer jm poll consum use constant field JmsTemplate jm templat receiveNoWait receiv No wait etc,See nabblehttp://camel.465427.n5.nabble.com/JmsPollingConsumer-and-method-receiveNoWait-has-incorrect-timeout-value-tp5722817.html, see nabblehttp camel nabbl com JmsPollingConsumer method receiveNoWait incorrect timeout valu tp html nabblehttp camel nabbl com jm poll consum method receiv No wait incorrect timeout valu tp html,0,0,0,1,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsPollingConsumer.java;,0
5926,Christian Müller,camel-spring-integration,0,SpringIntegrationConsumer should honor the 'inOut' instance variable by setting the MEP and sending back message headers, SpringIntegrationConsumer spring integr consum honor inOut instanc variabl set MEP send back messag header,See http://camel.465427.n5.nabble.com/how-to-obtain-camel-smpp-submit-message-id-td5723868.html for details, see detail,0,0,0,1,0,components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationBinding.java;components/camel-spring-integration/src/main/java/org/apache/camel/component/spring/integration/SpringIntegrationConsumer.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/MyProcessor.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationOneWayConsumerTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationProducerTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/SpringIntegrationTwoWayConsumerTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/adapter/CamelSourceAdapterTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/adapter/CamelTargetAdapterTest.java;components/camel-spring-integration/src/test/java/org/apache/camel/component/spring/integration/adapter/ConfigurationTest.java;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/adapter/CamelTarget.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/oneWayConsumer.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/producer.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/springChannelConverter.xml;components/camel-spring-integration/src/test/resources/org/apache/camel/component/spring/integration/twoWayConsumer.xml;,0
5928,Caspar MacRae,null,0,SJMS component's pom.xml missing taskmanager package in camel.osgi.private.pkg, SJMS compon compon pom xml pom xml miss taskmanag packag camel osgi privat pkg camel osgi privat pkg,Hi I know it's not out in the wild yet but with this tiny patch SJMS is usable in my spike project.Sadly doesn't affect the number of passing/failing tests.The pom's &lt;camel.osgi.private.pkg&gt; section is missing an entry for the org.apache.camel.component.sjms.taskmanager package.thanks Caspar, Hi know not wild yet tini patch SJMS usabl spike project sadli project sadli affect number pass fail pass fail test test pom pom lt camel osgi privat pkg gt lt camel osgi privat pkg gt section miss entri org apach camel compon sjm taskmanag org apach camel compon sjm taskmanag packag thank packag thank caspar,0,1,0,0,0,components/camel-sjms/pom.xml;,0
5950,Alexandre Gattiker,camel-cache,0,Cache producer is not thread safe, cach produc not thread safe,from('direct:causeFailure') .split().body().parallelProcessing() .setHeader(CacheConstants.CACHE_OPERATION  constant(CacheConstants.CACHE_OPERATION_DELETEALL)) .to('cache://MyTestCache');  String[] body = new String[] { 'a'  'b' }; template.sendBody(body); net.sf.ehcache.ObjectExistsException: Cache MyTestCache already exists at net.sf.ehcache.CacheManager.addCacheNoCheck(CacheManager.java:1294) at net.sf.ehcache.CacheManager.addCache(CacheManager.java:1184) at org.apache.camel.component.cache.CacheEndpoint.initializeCache(CacheEndpoint.java:137) at org.apache.camel.component.cache.CacheProducer.process(CacheProducer.java:56) at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:122) at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:298) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:117) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:91) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:334) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:303) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:334) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.UnitOfWorkProcessor.processAsync(UnitOfWorkProcessor.java:150) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:117) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:99) at org.apache.camel.processor.MulticastProcessor.doProcessParallel(MulticastProcessor.java:709) at org.apache.camel.processor.MulticastProcessor.access$200(MulticastProcessor.java:80) at org.apache.camel.processor.MulticastProcessor$1.call(MulticastProcessor.java:290) at org.apache.camel.processor.MulticastProcessor$1.call(MulticastProcessor.java:275) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) at java.util.concurrent.FutureTask.run(FutureTask.java:166) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) at java.lang.Thread.run(Thread.java:722), direct causeFailure direct caus failur split bodi parallelProcessing split bodi parallel process setHeader CacheConstants CACHE_OPERATION set header cach constant CACHE OPERATION constant CacheConstants CACHE_OPERATION_DELETEALL constant cach constant CACHE OPERATION DELETEALL cach MyTestCache cach test cach string string bodi new string string templat sendBody bodi templat send bodi bodi net sf ehcach ObjectExistsException net sf ehcach object exist except cach MyTestCache test cach alreadi exist net sf ehcach CacheManager addCacheNoCheck CacheManager java net sf ehcach cach manag add cach No check cach manag java net sf ehcach CacheManager addCache CacheManager java net sf ehcach cach manag add cach cach manag java org apach camel compon cach CacheEndpoint initializeCache CacheEndpoint java org apach camel compon cach cach endpoint initi cach cach endpoint java org apach camel compon cach CacheProducer process CacheProducer java org apach camel compon cach cach produc process cach produc java org apach camel util AsyncProcessorConverterHelper ProcessorToAsyncProcessorBridge process AsyncProcessorConverterHelper java org apach camel util async processor convert helper processor async processor bridg process async processor convert helper java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor SendProcessor doInAsyncProducer SendProcessor java org apach camel processor send processor async produc send processor java org apach camel impl ProducerCache doInAsyncProducer ProducerCache java org apach camel impl produc cach async produc produc cach java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor DefaultChannel process DefaultChannel java org apach camel processor interceptor default channel process default channel java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor UnitOfWorkProcessor processAsync UnitOfWorkProcessor java org apach camel processor unit work processor process async unit work processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor MulticastProcessor doProcessParallel MulticastProcessor java org apach camel processor multicast processor process parallel multicast processor java org apach camel processor MulticastProcessor access MulticastProcessor java org apach camel processor multicast processor access multicast processor java org apach camel processor MulticastProcessor call MulticastProcessor java org apach camel processor multicast processor call multicast processor java org apach camel processor MulticastProcessor call MulticastProcessor java org apach camel processor multicast processor call multicast processor java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java java util concurr FutureTask run FutureTask java java util concurr futur task run futur task java java util concurr ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurr thread pool executor run worker thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java,1,0,1,0,0,components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheRegistryRefTest.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheConsumer.java;components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheProducer.java;components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheRegistryRefTest.java;,0
5959,Claus Ibsen,camel-core; eip,0,Dead Letter Channel - Store failed route id on Exchange, dead letter channel store fail rout id exchang,Seehttp://camel.465427.n5.nabble.com/Retrieve-failed-Route-from-deadLetterChannel-tp5725420.htmlWe should store the route id where we failed  this allows end users to get that as a detail if they route to another route as part of DLC. You can get the current route  but if you let DLC be a route  then its that route you get  and not the route that failed.So we need to store this as part of the RedeliveryErrorHandler logic inside camel-core.We do have failed endpoint store already. eg if it failed sending a message to an endpoint. But we lack the route id., seehttp camel nabbl com retriev fail rout deadLetterChannel tp htmlWe seehttp camel nabbl com retriev fail rout dead letter channel tp html store rout id fail allow end user get detail rout anoth rout part DLC DLC get current rout let DLC rout rout get not rout fail fail need store part RedeliveryErrorHandler redeliveri error handler logic insid camel core camel core fail endpoint store alreadi alreadi eg fail send messag endpoint endpoint lack rout id id,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/Exchange.java;camel-core/src/main/java/org/apache/camel/processor/RedeliveryErrorHandler.java;camel-core/src/test/java/org/apache/camel/processor/DeadLetterChannelFailureRouteIdTest.java;camel-core/src/test/java/org/apache/camel/processor/DefaultErrorHandlerFailureRouteIdTest.java;camel-core/src/test/java/org/apache/camel/processor/OnExceptionFailureRouteIdTest.java;,0
5968,Krishnan,camel-core; camel-jms; karaf,0,ClassNotFoundException: weblogic.jndi.WLInitialContextFactory when starting the route via Karaf start-route(camel:route-start) command., ClassNotFoundException class not found except weblog jndi WLInitialContextFactory weblog jndi WL initi context factori start rout via karaf start rout camel rout start start rout camel rout start command command,We have a simple camel route definied in Java DSL:from('wmq:queue:ESB_TEST_IN').routeId('IN').autoStartup(true).log('${body}');This route receives JMS messages from a WebLogicJMS queue with name ESB_TEST_IN and logs the body to the log file.The route works fine when autoStartup is set to true. But when autoStartup is set to false then the creation of the WebLogic InitialContext failed because of an ClassNotFoundException regarding weblogic.jndi.WLInitialContextFactory and the following message is written to the karaf log file:2012-12-07 12:03:21 502 WARN : DefaultJmsMessageListenerContainer | Setup of JMS message listener invoker failed for destination 'ESB_TEST_IN' - trying to recover. Cause: Destination &#91;ESB_TEST_IN&#93; not found in JNDI; nested exception is javax.naming.NoInitialContextException: Cannot instantiate class: weblogic.jndi.WLInitialContextFactory &#91;Root exception is java.lang.ClassNotFoundException: weblogic.jndi.WLInitialContextFactory&#93; [org.springframework.jms.listener.DefaultMessageListenerContainer | mer&#91;ESB_TEST_IN&#93; | org.springframework.jms.3.0.7.RELEASE(id=135)]This issue's related to https://jira.talendforge.org/browse/TESB-7884, simpl camel rout defini java DSL wmq queue ESB_TEST_IN routeId autoStartup true log bodi DSL wmq queue ESB TEST rout Id auto startup true log bodi rout receiv JMS messag WebLogicJMS web logic JMS queue name ESB_TEST_IN ESB TEST log bodi log file file rout work fine autoStartup auto startup set true true autoStartup auto startup set fals creation WebLogic web logic InitialContext initi context fail ClassNotFoundException class not found except regard weblog jndi WLInitialContextFactory weblog jndi WL initi context factori follow messag written karaf log file file WARN DefaultJmsMessageListenerContainer default jm messag listen contain setup JMS messag listen invok fail destin ESB_TEST_IN ESB TEST tri recov recov caus caus destin ESB_TEST_IN ESB TEST not found JNDI JNDI nest except javax name NoInitialContextException javax name No initi context except cannot instanti class class weblog jndi WLInitialContextFactory weblog jndi WL initi context factori root root except java lang ClassNotFoundException java lang class not found except weblog jndi WLInitialContextFactory weblog jndi WL initi context factori org springframework jm listen DefaultMessageListenerContainer org springframework jm listen default messag listen contain mer ESB_TEST_IN mer ESB TEST org springframework jm RELEASE id org springframework jm RELEASE id issu issu relat,0,1,1,0,0,platforms/karaf/commands/src/main/java/org/apache/camel/karaf/commands/AbstractRouteCommand.java;platforms/karaf/commands/src/main/java/org/apache/camel/karaf/commands/RouteResume.java;platforms/karaf/commands/src/main/java/org/apache/camel/karaf/commands/RouteStart.java;platforms/karaf/commands/src/main/java/org/apache/camel/karaf/commands/RouteStop.java;platforms/karaf/commands/src/main/java/org/apache/camel/karaf/commands/RouteSuspend.java;platforms/karaf/commands/src/main/java/org/apache/camel/karaf/commands/AbstractRouteCommand.java;,0
5969,Aaron Whiteside,osgi,0,OsgiServiceRegistry to lookup services with filter on name=blah, OsgiServiceRegistry osgi servic registri lookup servic filter name blah name blah,OsgiServiceRegistry to lookup services with filter on name=blahWhen using the # bean resolver prefix in plain OSGi (not blueprint) the only way to lookup a service is by specifying the full registered class/interface name of that service.The OsgiServiceRegistry should also try and lookup a service like the OsgiComponentResolver does using a filter on a service property. I suggest that the filter be on a property called 'name'.This means the method public &lt;T&gt; T lookup(String name  Class&lt;T&gt; type) should try to lookup the service with the class from the type parameter and filter on '(name=' + name ')'..., OsgiServiceRegistry osgi servic registri lookup servic filter name blahWhen name blah use bean resolv prefix plain OSGi OS Gi not blueprint blueprint way lookup servic specifi full regist class interfac class interfac name servic servic OsgiServiceRegistry osgi servic registri also tri lookup servic like OsgiComponentResolver osgi compon resolv use filter servic properti properti suggest filter properti call name name mean method public lt gt lt gt lookup string lookup string name class lt gt class lt gt type type tri lookup servic class type paramet filter name name name,0,0,1,0,0,components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiServiceRegistry.java;components/camel-core-osgi/src/test/java/org/apache/camel/core/osgi/CamelMockBundleContext.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiServiceRegistry.java;components/camel-core-osgi/src/test/java/org/apache/camel/core/osgi/CamelMockBundleContext.java;components/camel-core-osgi/src/test/java/org/apache/camel/core/osgi/ServiceRegistryTest.java;,0
5987,Claus Ibsen,camel-core; eip,0,Using annotations DSL in beans may cause async callback to be called twice, use annot DSL bean may caus async callback call twice,The bean processor and bean invocation logic may in cases when the EIP annotations is used on beans  cause the callback to be called twice.Noticed this problem during investigation of See CAMEL-5905, bean processor bean invoc logic may case EIP annot use bean caus callback call twice notic twice notic problem investig see CAMEL CAMEL,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanProcessor.java;camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/MethodInvocation.java;components/camel-spring/src/test/java/org/apache/camel/component/bean/BeanWithRecipientListTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/bind/BeanInfoTest.java;,0
5994,Alexis Kinsella,camel-quartz,0,CamelJob implementation rely on some inconsistent endpoints LRU cache - Camel endpoints may not be called on quartz fire after some days of uptime, CamelJob camel job implement reli inconsist endpoint LRU cach camel endpoint may not call quartz fire day uptim,CamelJobs rely on some endpoints LRU cache from camel context. If i'm not wrong  since LRU Cache relies on SoftReferences  Garbage Collector can decide to evict some entries and especially QuartzEndpoints.It happens that sometimes endpoints evicted from LRU Caches are QuartzEndpoints. Since QuartzEnpoints are searched from CamelJob in LRU cache  they are not reachable anymore.The side effect  is that CamelJob isntance initializes a new QuartzEndpoint  but loadbalancer is not initialized since it is initialized from QuartzConsumer.The result is that quartz triggers jobs that instanciate Quartz endpoints with unintialized load balancers which are unable to call processor from the routes associated.I have joined a fix that rely on the search of QuartzEndpoints from initalized routes of Camel context.Fundamentally  the search of endpoints should not rely on endpoints LRU cache. It is a broken design.Hope it helps.By the way  there are other issues related to QuartzEndpoint load balancer initalization: If quartz starts before startup of Camel routes you will have the same issue: Correctly initialized QuartzEndpoints are not in LRU cache since Camel has not started routes (and so endpoints and consumers). Quartz will trigger job  and camel job will search for QuartzEndpoint and put it in LRUCache with uninitialized load balancer., CamelJobs camel job reli endpoint LRU cach camel context context not wrong sinc LRU cach reli SoftReferences soft refer garbag collector decid evict entri especi QuartzEndpoints quartz endpoint happen sometim endpoint evict LRU cach QuartzEndpoints quartz endpoint sinc QuartzEnpoints quartz enpoint search CamelJob camel job LRU cach not reachabl anymor anymor side effect CamelJob camel job isntanc initi new QuartzEndpoint quartz endpoint loadbalanc not initi sinc initi QuartzConsumer quartz consum result quartz trigger job instanci quartz endpoint uninti load balanc unabl call processor rout associ associ join fix reli search QuartzEndpoints quartz endpoint init rout camel context fundament context fundament search endpoint not reli endpoint LRU cach cach broken design hope design hope help help way issu relat QuartzEndpoint quartz endpoint load balanc init init quartz start startup camel rout issu issu correctli initi QuartzEndpoints quartz endpoint not LRU cach sinc camel not start rout endpoint consum consum quartz trigger job camel job search QuartzEndpoint quartz endpoint put LRUCache LRU cach uniniti load balanc balanc,0,0,1,0,0,components/camel-quartz/src/main/java/org/apache/camel/component/quartz/CamelJob.java;components/camel-quartz/src/test/java/org/apache/camel/component/quartz/QuartzCronRouteWithSmallCacheTest.java;,0
5999,Amit Patel,camel-restlet,0,RestletComponent component is not removing added route from routers list although route is removed from Context., RestletComponent restlet compon compon not remov ad rout router list although rout remov context context,In RestletComponent class add entry to instance variable 'private final Map&lt;String  MethodBasedRouter&gt; routers = new HashMap&lt;String  MethodBasedRouter&gt;()' map while invoking getMethodRouter method  but it never remove in disconnect method  also disconnect method has local variable with same name as instance variable 'routes'.Camel Development Forums=========================http://camel.465427.n5.nabble.com/Camel-Restlet-2-10-3-RestletComponent-component-does-not-remove-added-route-form-routers-although-ro-td5726000.html, RestletComponent restlet compon class add entri instanc variabl privat final map lt string map lt string MethodBasedRouter gt method base router gt router new HashMap lt string hash map lt string MethodBasedRouter gt method base router gt map invok getMethodRouter get method router method never remov disconnect method also disconnect method local variabl name instanc variabl rout camel rout camel develop forum http camel nabbl com camel restlet RestletComponent compon not remov ad rout form router although ro td html forum http camel nabbl com camel restlet restlet compon compon not remov ad rout form router although ro td html,0,1,0,0,0,components/camel-restlet/src/main/java/org/apache/camel/component/restlet/MethodBasedRouter.java;components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletComponent.java;,0
6019,Daniel Gredler,camel-crypto,0,Add PGP signature and signature verification support to PGPDataFormat, add PGP signatur signatur verif support PGPDataFormat PGP data format,PGPDataFormat currently supports PGP encryption (equivalent to 'gpg -e') and decryption (equivalent to 'gpg -d')  but does not support simultaneously encrypting and signing (equivalent to 'gpg -e -s') or simultaneously decrypting and verifying (equivalent to 'gpg -v -d').This patch adds three new optional attributes to the PGPDataFormat class (signatureKeyUserid  signatureKeyFileName  signaturePassword)  which can be used to sign while encrypting  or to verify a signature while decrypting., PGPDataFormat PGP data format current support PGP encrypt equival gpg decrypt equival gpg not support simultan encrypt sign equival gpg simultan decrypt verifi equival gpg patch add three new option attribut PGPDataFormat PGP data format class signatureKeyUserid signatur key userid signatureKeyFileName signatur key file name signaturePassword signatur password use sign encrypt verifi signatur decrypt decrypt,0,1,0,0,0,components/camel-crypto/src/main/java/org/apache/camel/converter/crypto/PGPDataFormat.java;components/camel-crypto/src/main/java/org/apache/camel/converter/crypto/PGPDataFormatUtil.java;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/AbstractPGPDataFormatTest.java;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/PGPDataFormatDynamicTest.java;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/PGPDataFormatElGamalTest.java;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/PGPDataFormatTest.java;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/SpringPGPDataFormatTest.java;components/camel-crypto/src/test/java/org/apache/camel/converter/crypto/PGPDataFormatTest.java;,1
6033,Christian Müller,camel-core,0,NoRedeliveryOnShutdown doesn't work for DeadLetterChannel, NoRedeliveryOnShutdown No redeliveri shutdown work DeadLetterChannel dead letter channel,See http://camel.465427.n5.nabble.com/Wrong-test-for-allowRedeliveryWhileStopping-possible-bug-td5726184.html for details.The assumption is if we use 'allowRedeliveryWhileStopping(false)' in an error handler definition which use a dead letter channel  the message should be send to the configured dead letter channel if we are in a delivery by stopping Camel (instead of dropping the message)., see detail detail assumpt use allowRedeliveryWhileStopping fals allow redeliveri stop fals error handler definit use dead letter channel messag send configur dead letter channel deliveri stop camel instead drop messag messag,0,0,1,1,0,camel-core/src/test/java/org/apache/camel/processor/RedeliveryDeadLetterErrorHandlerNoRedeliveryOnShutdownTest.java;,0
6039,Rich Newcomb,camel-bindy,0,camel-bindy fixed length record improvements, camel bindi camel bindi fix length record improv,The attached patch provides the following improvements for the camel-bindy fixed length record data format: full support for fixed-length header and footer records allows delimited (variable length) fields to be defined within 'fixed-length' records enables the length of a data field to be defined dynamically by another field in the same record fixed-length records can be defined using ordinal / relative pos valuesNew annotation properties:------------------@DataField + lengthPos (int) &#8211; Optionally identifies a data field in the record that defines the fixed length for this field + delimiter (String) &#8211; Optional delimiter to be used if this field has a variable length@FixedLengthRecord + hasHeader (boolean) &#8211; Indicates that the record(s) of this type may be preceded by a single header record at the beginning of the file / stream + hasFooter (boolean) &#8211; Indicates that the record(s) of this type may be followed by a single footer record at the end of the file / stream + skipHeader (boolean) &#8211; Configures the data format to skip marshalling / unmarshalling of the header record + skipFooter (boolean) &#8211; Configures the data format to skip marshalling / unmarshalling of the footer record + isHeader (boolean) &#8211; Identifies this FixedLengthRecord as a header record + isFooter (boolean) &#8211; Identifies this FixedLengthRecord as a footer record, attach patch provid follow improv camel bindi camel bindi fix length record data format format full support fix length fix length header footer record allow delimit variabl length length field defin within fix length fix length record enabl length data field defin dynam anoth field record fix length fix length record defin use ordin rel po valuesNew valu new annot properti DataField properti data field lengthPos length po int int option identifi data field record defin fix length field delimit string string option delimit use field variabl length FixedLengthRecord length fix length record hasHeader header boolean boolean indic record record type may preced singl header record begin file stream hasFooter footer boolean boolean indic record record type may follow singl footer record end file stream skipHeader skip header boolean boolean configur data format skip marshal unmarshal header record skipFooter skip footer boolean boolean configur data format skip marshal unmarshal footer record isHeader header boolean boolean identifi FixedLengthRecord fix length record header record isFooter footer boolean boolean identifi FixedLengthRecord fix length record footer record,0,1,0,0,1,components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/dynamic/BindyFixedLengthDynamicFieldTest.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/delimited/BindyFixedLengthDelimitedFieldTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/dynamic/BindyFixedLengthDynamicFieldTest.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyFixedLengthFactory.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/DataField.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/annotation/FixedLengthRecord.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/fixed/BindyFixedLengthDataFormat.java;components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/util/AnnotationModelLoader.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/delimited/BindyFixedLengthDelimitedFieldTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/dynamic/BindyFixedLengthDynamicFieldTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/headerfooter/BindySimpleFixedLengthHeaderFooterTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/headerfooter/Order.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/headerfooter/OrderFooter.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/headerfooter/OrderHeader.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/ordinal/BindySimpleFixedLengthOrdinalPosTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/skipheader/BindyFixedLengthHeaderFooterSkipHeaderTest.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/skipheader/Order.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/skipheader/OrderFooter.java;components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/fixed/skipheader/OrderHeader.java;,0
6043,Christian Müller,camel-core,0,Improve the BeanInfo performance, improv BeanInfo bean info perform,See http://camel.465427.n5.nabble.com/BeanInfo-performance-issues-td5726912.html for details., see detail detail,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/test/java/org/apache/camel/component/bean/CamelSimpleExpressionPerfTestRunner.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanComponent.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfoCacheKey.java;camel-core/src/test/java/org/apache/camel/component/bean/CamelSimpleExpressionPerfTestRunner.java;,0
6045,Christoph Giera,camel-mail,0,Camel Email Component Missing Attachments, camel email compon miss attach,see http://camel.465427.n5.nabble.com/Camel-Email-Component-Missing-Attachments-td3386382.html#a5727102The disposition field is optional(see RFC 2183)  so it is possible that camel misses attachments. if (disposition != null &amp;&amp; (disposition.equalsIgnoreCase(Part.ATTACHMENT) || disposition.equalsIgnoreCase(Part.INLINE))) { // only add named attachments String fileName = part.getFileName(); if (fileName != null) { LOG.debug('Mail contains file attachment: ' + fileName); // Parts marked with a disposition of Part.ATTACHMENT are clearly attachments CollectionHelper.appendValue(map  fileName  part.getDataHandler()); } }Adding the fileName check to the if should resolve the issue., see disposit field option see option see RFC possibl camel miss attach attach disposit null amp amp amp amp disposit equalsIgnoreCase part ATTACHMENT disposit equal ignor case part ATTACHMENT disposit equalsIgnoreCase part INLINE disposit equal ignor case part INLINE add name attach string fileName file name part getFileName part get file name fileName file name null null LOG debug mail LOG debug mail contain file attach attach fileName file name part mark disposit part ATTACHMENT part ATTACHMENT clearli attach CollectionHelper appendValue map collect helper append valu map fileName file name part getDataHandler part get data handler ad ad fileName file name check resolv issu issu,0,1,1,1,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;,0
6057,Vitalii Tymchyshyn,camel-spring,0,Camel Spring registry does not look into parent contexts, camel spring registri not look parent context,trunk components/camel-spring/src/main/java/org/apache/camel/spring/spi/ApplicationContextRegistry.javahas next method: @Override public &lt;T&gt; Map&lt;String  T&gt; findByTypeWithName(Class&lt;T&gt; type) { return applicationContext.getBeansOfType(type); }but this method does not look into application context parent contexts.org.springframework.beans.factory.BeanFactoryUtils#beansOfTypeIncludingAncestors should be used instead., trunk compon camel spring src main java org apach camel spring spi ApplicationContextRegistry javaha compon camel spring src main java org apach camel spring spi applic context registri javaha next method method overrid overrid public lt gt lt gt map lt string map lt string gt gt findByTypeWithName class lt gt find type name class lt gt type type return applicationContext getBeansOfType type applic context get bean type type method not look applic context parent context org springframework bean factori BeanFactoryUtils beansOfTypeIncludingAncestors context org springframework bean factori bean factori util bean type includ ancestor use instead instead,0,0,1,0,0,components/camel-spring/src/main/java/org/apache/camel/spring/spi/ApplicationContextRegistry.java;components/camel-spring/src/test/java/org/apache/camel/spring/spi/ParentContextRegistryTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/spi/parentContextRegistryTestChild.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/spi/parentContextRegistryTestParent.xml;,0
6059,Claus Ibsen,karaf,0,camel-rss and camel-atom - Not installable in Karaf, camel rss camel rss camel atom camel atom not instal karaf,karaf@root&gt; features:install camel-rssError executing command: Manifest not present in the first entry of the zip mvn:org.apache.ws.commons.axiom/axiom-impl/1.2.14I think we got a JAR that is flawed 1.2.14, karaf root gt karaf root gt featur instal featur instal camel rssError camel rss error execut command command manifest not present first entri zip mvn org apach ws common axiom axiom impl mvn org apach ws common axiom axiom impl think got JAR flaw,0,0,1,0,0,parent/pom.xml;,0
6063,Thomas Vautrin,camel-mail,0,Check if body is a MimeMessage and send it directly without create a MimeMessage from body and headers, check bodi MimeMessage mime messag send directli without creat MimeMessage mime messag bodi header,In a route with a component which create a MimeMessage and set it in body  the mail producer ignores the type of body and create his own MimeMessage from body content and headers.The patch add the control of type and disable the override of MailProducer with his own message.The MimeMessage contained in body is sent directly.Patch contains test and fix, rout compon creat MimeMessage mime messag set bodi mail produc ignor type bodi creat MimeMessage mime messag bodi content header header patch add control type disabl overrid MailProducer mail produc messag messag MimeMessage mime messag contain bodi sent directli patch directli patch contain test fix,0,1,0,0,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailProducer.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailProducerTest.java;,0
6068,Akitoshi Yoshida,camel-blueprint,0,CamelBlueprintContext may be wrongly started and this may lead to a deadlock, CamelBlueprintContext camel blueprint context may wrongli start may lead deadlock,We observed a deadlock situation that seems to be caused by the change that came in with CAMEL-5712  which changed the way how CamelBlueprintContext is started to solve another issue.The current code listens to the service registered event for org.osgi....BlueprintContainer (supposedly for its associated BP container) and decides to start itself if not started. From the description of the ticket  this change was intended to make sure the starting of the context occurs after its BP container is registered. In that case  should it be checking whether the received event belongs to the same bundle? This checking is missing in the current code and consequently  it may wrongly react to the event from another bundle's container registration event. When this happens under some specific timing situation  it may also lead to a deadlock.So  should we be checking the event source in CamelBlueprintContext's serviceChanged method?Regards  akiStack trace from 2.10.3========================================================================Name: Blueprint Extender: 3State: BLOCKED on java.lang.Object@9064b42 owned by: Blueprint Extender: 2Total blocked: 13 Total waited: 38Stack trace: org.apache.aries.blueprint.container.BlueprintRepository.createInstances(BlueprintRepository.java:212)org.apache.aries.blueprint.container.BlueprintRepository.createInstance(BlueprintRepository.java:198)org.apache.aries.blueprint.container.BlueprintRepository.create(BlueprintRepository.java:137)org.apache.aries.blueprint.container.BlueprintContainerImpl.getComponentInstance(BlueprintContainerImpl.java:709)org.apache.camel.blueprint.BlueprintContainerRegistry.lookup(BlueprintContainerRegistry.java:41)org.apache.camel.impl.CompositeRegistry.lookup(CompositeRegistry.java:68)org.apache.camel.impl.PropertyPlaceholderDelegateRegistry.lookup(PropertyPlaceholderDelegateRegistry.java:49)org.apache.camel.blueprint.BlueprintComponentResolver.resolveComponent(BlueprintComponentResolver.java:39)org.apache.camel.impl.DefaultCamelContext.getComponent(DefaultCamelContext.java:314) locked java.util.HashMap@1660de94org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:456)org.apache.camel.util.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:50)org.apache.camel.model.RouteDefinition.resolveEndpoint(RouteDefinition.java:186)org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:108)org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:114)org.apache.camel.model.FromDefinition.resolveEndpoint(FromDefinition.java:72)org.apache.camel.impl.DefaultRouteContext.getEndpoint(DefaultRouteContext.java:90)org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:851)org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:171)org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:722)org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:1789)org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1575)org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1444) locked org.apache.camel.blueprint.BlueprintCamelContext@5011bafaorg.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60)org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1412)org.apache.camel.blueprint.BlueprintCamelContext.maybeStart(BlueprintCamelContext.java:127)org.apache.camel.blueprint.BlueprintCamelContext.serviceChanged(BlueprintCamelContext.java:96)org.eclipse.osgi.internal.serviceregistry.FilteredServiceListener.serviceChanged(FilteredServiceListener.java:104)org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:861)org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:148)org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:819)org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:771)org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:130)org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:214)org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:433)org.apache.aries.blueprint.container.BlueprintContainerImpl.registerService(BlueprintContainerImpl.java:410)org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:346)org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:230) locked java.util.concurrent.atomic.AtomicBoolean@3cb3ada locked java.util.concurrent.atomic.AtomicBoolean@31b4d206java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)java.util.concurrent.FutureTask.run(FutureTask.java:138)java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)java.lang.Thread.run(Thread.java:722)========================================================================Name: Blueprint Extender: 2State: BLOCKED onorg.apache.camel.blueprint.BlueprintCamelContext@5011bafa owned by: Blueprint Extender: 3Total blocked: 24 Total waited: 58Stack trace: org.apache.camel.impl.DefaultCamelContext.getTypeConverter(DefaultCamelContext.java:1053)org.apache.camel.util.EndpointHelper.setProperties(EndpointHelper.java:249)org.apache.camel.impl.DefaultComponent.setProperties(DefaultComponent.java:222)org.apache.camel.component.file.GenericFileComponent.createEndpoint(GenericFileComponent.java:64)org.apache.camel.component.file.GenericFileComponent.createEndpoint(GenericFileComponent.java:36)org.apache.camel.impl.DefaultComponent.createEndpoint(DefaultComponent.java:91)org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:461)org.apache.camel.core.xml.AbstractCamelEndpointFactoryBean.getObject(AbstractCamelEndpointFactoryBean.java:46)sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)java.lang.reflect.Method.invoke(Method.java:597)org.apache.aries.blueprint.utils.ReflectionUtils.invoke(ReflectionUtils.java:226)org.apache.aries.blueprint.container.BeanRecipe.invoke(BeanRecipe.java:824)org.apache.aries.blueprint.container.BeanRecipe.getInstance(BeanRecipe.java:234)org.apache.aries.blueprint.container.BeanRecipe.internalCreate(BeanRecipe.java:706)org.apache.aries.blueprint.di.AbstractRecipe.create(AbstractRecipe.java:64) locked java.lang.Object@9064b42org.apache.aries.blueprint.container.BlueprintRepository.createInstances(BlueprintRepository.java:219) locked java.lang.Object@9064b42org.apache.aries.blueprint.container.BlueprintRepository.createAll(BlueprintRepository.java:147)org.apache.aries.blueprint.container.BlueprintContainerImpl.instantiateEagerComponents(BlueprintContainerImpl.java:631)org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:337)org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:230) locked java.util.concurrent.atomic.AtomicBoolean@53b00227 locked java.util.concurrent.atomic.AtomicBoolean@5648a168java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)java.util.concurrent.FutureTask.run(FutureTask.java:138)java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)java.lang.Thread.run(Thread.java:722), observ deadlock situat seem caus chang came CAMEL CAMEL chang way CamelBlueprintContext camel blueprint context start solv anoth issu issu current code listen servic regist event org osgi BlueprintContainer org osgi blueprint contain supposedli associ BP contain contain decid start not start start descript ticket chang intend make sure start context occur BP contain regist regist case check whether receiv event belong bundl bundl check miss current code consequ may wrongli react event anoth bundl bundl contain registr event event happen specif time situat may also lead deadlock deadlock check event sourc CamelBlueprintContext camel blueprint context serviceChanged servic chang method regard method regard akiStack aki stack trace name name blueprint extend extend state state BLOCKED java lang object java lang object own blueprint extend extend total total block block total wait wait stack stack trace trace org apach ari blueprint contain BlueprintRepository createInstances BlueprintRepository java org apach ari blueprint contain BlueprintRepository createInstance BlueprintRepository java org apach ari blueprint contain BlueprintRepository creat BlueprintRepository java org apach ari blueprint contain BlueprintContainerImpl getComponentInstance BlueprintContainerImpl java org apach camel blueprint BlueprintContainerRegistry lookup BlueprintContainerRegistry java org apach camel impl CompositeRegistry lookup CompositeRegistry java org apach camel impl PropertyPlaceholderDelegateRegistry lookup PropertyPlaceholderDelegateRegistry java org apach camel blueprint BlueprintComponentResolver resolveComponent BlueprintComponentResolver java org apach camel impl DefaultCamelContext getComponent DefaultCamelContext java org apach ari blueprint contain blueprint repositori creat instanc blueprint repositori java org apach ari blueprint contain blueprint repositori creat instanc blueprint repositori java org apach ari blueprint contain blueprint repositori creat blueprint repositori java org apach ari blueprint contain blueprint contain impl get compon instanc blueprint contain impl java org apach camel blueprint blueprint contain registri lookup blueprint contain registri java org apach camel impl composit registri lookup composit registri java org apach camel impl properti placehold deleg registri lookup properti placehold deleg registri java org apach camel blueprint blueprint compon resolv resolv compon blueprint compon resolv java org apach camel impl default camel context get compon default camel context java lock java util HashMap de org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel util CamelContextHelper getMandatoryEndpoint CamelContextHelper java org apach camel model RouteDefinition resolveEndpoint RouteDefinition java org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel model FromDefinition resolveEndpoint FromDefinition java org apach camel impl DefaultRouteContext getEndpoint DefaultRouteContext java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel impl DefaultCamelContext startRoute DefaultCamelContext java org apach camel impl DefaultCamelContext startRouteDefinitions DefaultCamelContext java org apach camel impl DefaultCamelContext doStartCamel DefaultCamelContext java org apach camel impl DefaultCamelContext doStart DefaultCamelContext java java util hash map de org apach camel impl default camel context get endpoint default camel context java org apach camel util camel context helper get mandatori endpoint camel context helper java org apach camel model rout definit resolv endpoint rout definit java org apach camel impl default rout context resolv endpoint default rout context java org apach camel impl default rout context resolv endpoint default rout context java org apach camel model definit resolv endpoint definit java org apach camel impl default rout context get endpoint default rout context java org apach camel model rout definit add rout rout definit java org apach camel model rout definit add rout rout definit java org apach camel impl default camel context start rout default camel context java org apach camel impl default camel context start rout definit default camel context java org apach camel impl default camel context start camel default camel context java org apach camel impl default camel context start default camel context java lock org apach camel blueprint BlueprintCamelContext bafaorg apach camel support ServiceSupport start ServiceSupport java org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel blueprint BlueprintCamelContext maybeStart BlueprintCamelContext java org apach camel blueprint BlueprintCamelContext serviceChanged BlueprintCamelContext java org eclips osgi intern serviceregistri FilteredServiceListener serviceChanged FilteredServiceListener java org eclips osgi framework intern core BundleContextImpl dispatchEvent BundleContextImpl java org eclips osgi framework eventmgr EventManager dispatchEvent EventManager java org eclips osgi framework eventmgr ListenerQueue dispatchEventSynchronous ListenerQueue java org eclips osgi intern serviceregistri ServiceRegistry publishServiceEventPrivileged ServiceRegistry java org eclips osgi intern serviceregistri ServiceRegistry publishServiceEvent ServiceRegistry java org eclips osgi intern serviceregistri ServiceRegistrationImpl regist ServiceRegistrationImpl java org eclips osgi intern serviceregistri ServiceRegistry registerService ServiceRegistry java org eclips osgi framework intern core BundleContextImpl registerService BundleContextImpl java org apach ari blueprint contain BlueprintContainerImpl registerService BlueprintContainerImpl java org apach ari blueprint contain BlueprintContainerImpl doRun BlueprintContainerImpl java org apach ari blueprint contain BlueprintContainerImpl run BlueprintContainerImpl java org apach camel blueprint blueprint camel context bafaorg apach camel support servic support start servic support java org apach camel impl default camel context start default camel context java org apach camel blueprint blueprint camel context mayb start blueprint camel context java org apach camel blueprint blueprint camel context servic chang blueprint camel context java org eclips osgi intern serviceregistri filter servic listen servic chang filter servic listen java org eclips osgi framework intern core bundl context impl dispatch event bundl context impl java org eclips osgi framework eventmgr event manag dispatch event event manag java org eclips osgi framework eventmgr listen queue dispatch event synchron listen queue java org eclips osgi intern serviceregistri servic registri publish servic event privileg servic registri java org eclips osgi intern serviceregistri servic registri publish servic event servic registri java org eclips osgi intern serviceregistri servic registr impl regist servic registr impl java org eclips osgi intern serviceregistri servic registri regist servic servic registri java org eclips osgi framework intern core bundl context impl regist servic bundl context impl java org apach ari blueprint contain blueprint contain impl regist servic blueprint contain impl java org apach ari blueprint contain blueprint contain impl run blueprint contain impl java org apach ari blueprint contain blueprint contain impl run blueprint contain impl java lock java util concurr atom AtomicBoolean cb ada java util concurr atom atom boolean cb ada lock java util concurr atom AtomicBoolean java util concurr executor RunnableAdapter call executor java java util concurr FutureTask sync innerRun FutureTask java java util concurr FutureTask run FutureTask java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java lang thread run thread java name java util concurr atom atom boolean java util concurr executor runnabl adapt call executor java java util concurr futur task sync inner run futur task java java util concurr futur task run futur task java java util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java java util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java java util concurr thread pool executor worker run task thread pool executor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java name blueprint extend extend state state BLOCKED onorg apach camel blueprint BlueprintCamelContext bafa onorg apach camel blueprint blueprint camel context bafa own blueprint extend extend total total block block total wait wait stack stack trace trace org apach camel impl DefaultCamelContext getTypeConverter DefaultCamelContext java org apach camel util EndpointHelper setProperties EndpointHelper java org apach camel impl DefaultComponent setProperties DefaultComponent java org apach camel compon file GenericFileComponent createEndpoint GenericFileComponent java org apach camel compon file GenericFileComponent createEndpoint GenericFileComponent java org apach camel impl DefaultComponent createEndpoint DefaultComponent java org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel core xml AbstractCamelEndpointFactoryBean getObject AbstractCamelEndpointFactoryBean java sun reflect NativeMethodAccessorImpl invok nativ org apach camel impl default camel context get type convert default camel context java org apach camel util endpoint helper set properti endpoint helper java org apach camel impl default compon set properti default compon java org apach camel compon file gener file compon creat endpoint gener file compon java org apach camel compon file gener file compon creat endpoint gener file compon java org apach camel impl default compon creat endpoint default compon java org apach camel impl default camel context get endpoint default camel context java org apach camel core xml abstract camel endpoint factori bean get object abstract camel endpoint factori bean java sun reflect nativ method accessor impl invok nativ method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java java lang reflect method invok method java org apach ari blueprint util ReflectionUtils invok ReflectionUtils java org apach ari blueprint contain BeanRecipe invok BeanRecipe java org apach ari blueprint contain BeanRecipe getInstance BeanRecipe java org apach ari blueprint contain BeanRecipe internalCreate BeanRecipe java org apach ari blueprint di AbstractRecipe creat AbstractRecipe java method sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java org apach ari blueprint util reflect util invok reflect util java org apach ari blueprint contain bean recip invok bean recip java org apach ari blueprint contain bean recip get instanc bean recip java org apach ari blueprint contain bean recip intern creat bean recip java org apach ari blueprint di abstract recip creat abstract recip java lock java lang object org apach ari blueprint contain BlueprintRepository createInstances BlueprintRepository java java lang object org apach ari blueprint contain blueprint repositori creat instanc blueprint repositori java lock java lang object org apach ari blueprint contain BlueprintRepository createAll BlueprintRepository java org apach ari blueprint contain BlueprintContainerImpl instantiateEagerComponents BlueprintContainerImpl java org apach ari blueprint contain BlueprintContainerImpl doRun BlueprintContainerImpl java org apach ari blueprint contain BlueprintContainerImpl run BlueprintContainerImpl java java lang object org apach ari blueprint contain blueprint repositori creat blueprint repositori java org apach ari blueprint contain blueprint contain impl instanti eager compon blueprint contain impl java org apach ari blueprint contain blueprint contain impl run blueprint contain impl java org apach ari blueprint contain blueprint contain impl run blueprint contain impl java lock java util concurr atom AtomicBoolean java util concurr atom atom boolean lock java util concurr atom AtomicBoolean java util concurr executor RunnableAdapter call executor java java util concurr FutureTask sync innerRun FutureTask java java util concurr FutureTask run FutureTask java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask access ScheduledThreadPoolExecutor java java util concurr ScheduledThreadPoolExecutor ScheduledFutureTask run ScheduledThreadPoolExecutor java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java lang thread run thread java java util concurr atom atom boolean java util concurr executor runnabl adapt call executor java java util concurr futur task sync inner run futur task java java util concurr futur task run futur task java java util concurr schedul thread pool executor schedul futur task access schedul thread pool executor java java util concurr schedul thread pool executor schedul futur task run schedul thread pool executor java java util concurr thread pool executor worker run task thread pool executor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java,0,1,0,0,0,components/camel-blueprint/src/main/java/org/apache/camel/blueprint/BlueprintCamelContext.java;,0
6084,Charles Moulliard,camel-cxf,0,SOAP over JMS does not work with camel-cxf endpoint, SOAP JMS not work camel cxf camel cxf endpoint,If we would like to use SOAP over JMS using CXF &amp; Camel (2.10) that fails.The CXF endpoint receives well the incoming request from the JMS queue[aultMessageListenerContainer-1] HelloWorldServicePortType INFO Inbound Message----------------------------ID: 1Content-Type: text/xmlHeaders: {JMSMessageType=[text]}Payload: &lt;soapenv:Envelope xmlns:soapenv='http://schemas.xmlsoap.org/soap/envelope/' xmlns:hel='http://helloworld.mycompany.redhat.com'&gt; &lt;soapenv:Header/&gt; &lt;soapenv:Body&gt; &lt;hel:sayHello&gt; &lt;hel:name&gt;fred&lt;/hel:name&gt; &lt;/hel:sayHello&gt; &lt;/soapenv:Body&gt;&lt;/soapenv:Envelope&gt;--------------------------------------[aultMessageListenerContainer-1] route1 INFO SOAP Request received message[aultMessageListenerContainer-1] route1 INFO Mock service repliedbut the response is not returned by CXF neither published in a (reply) queue.Here is the Camel Route @Override public void configure() throws Exception {from('cxf:bean:endpoint.service.worklist?dataFormat=MESSAGE') .convertBodyTo(String.class) .log('SOAP Request received message').setHeader('JMSReplyTo').constant('supervisorworklist.response') .transform().constant(response) // RESPONSE = SOAP MESSAGE .log('Mock service replied'); }&amp; Config&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;beans xmlns='http://www.springframework.org/schema/beans' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:camel='http://camel.apache.org/schema/spring' xmlns:osgi='http://www.springframework.org/schema/osgi' xmlns:cxf='http://camel.apache.org/schema/cxf' xmlns:jms='http://cxf.apache.org/transports/jms' xsi:schemaLocation=' http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/osgi http://www.springframework.org/schema/osgi/spring-osgi.xsd http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf-2.10.0-spring.xsd http://cxf.apache.org/transports/jms http://cxf.apache.org/schemas/configuration/jms.xsd'&gt; &lt;bean id='jms.connectionFactory' class='org.apache.activemq.ActiveMQConnectionFactory'&gt; &lt;!-- &lt;property name='brokerURL' value='vm://myEmbeddedBroker?broker.persistent=false' /&gt;--&gt; &lt;property name='brokerURL' value='tcp://localhost:61616'/&gt; &lt;/bean&gt; &lt;bean id='jms.config.service' class='org.apache.cxf.transport.jms.JMSConfiguration'&gt; &lt;property name='connectionFactory' ref='jms.connectionFactory' /&gt; &lt;property name='targetDestination' value='supervisorworklist' /&gt; &lt;property name='replyDestination' value='supervisorworklist.response'/&gt; &lt;/bean&gt; &lt;bean id='logginOutInterceptor' class='org.apache.cxf.interceptor.LoggingOutInterceptor'/&gt; &lt;bean id='logginInInterceptor' class='org.apache.cxf.interceptor.LoggingInInterceptor'/&gt; &lt;!-- Producer Endpoint --&gt; &lt;cxf:cxfEndpoint id='endpoint.service.worklist' address='jms://'serviceClass='com.redhat.mycompany.helloworld.HelloWorldService' serviceName='s:HelloWorldService' endpointName='s:HelloWorldOverJms' xmlns:s='http://helloworld.atos.redhat.com'&gt; &lt;cxf:features&gt; &lt;bean xmlns='http://www.springframework.org/schema/beans'class='org.apache.cxf.transport.jms.JMSConfigFeature'&gt; &lt;property name='jmsConfig' ref='jms.config.service' /&gt; &lt;/bean&gt; &lt;/cxf:features&gt; &lt;cxf:inInterceptors&gt; &lt;ref bean='logginInInterceptor'/&gt; &lt;/cxf:inInterceptors&gt; &lt;cxf:outInterceptors&gt; &lt;ref bean='logginOutInterceptor'/&gt; &lt;/cxf:outInterceptors&gt; &lt;/cxf:cxfEndpoint&gt; &lt;camelContext xmlns='http://camel.apache.org/schema/spring'&gt; &lt;package&gt;com.redhat.mycompany.cxf&lt;/package&gt; &lt;/camelContext&gt;&lt;/beans&gt;, would like use SOAP JMS use CXF amp amp camel fail fail CXF endpoint receiv well incom request JMS queue aultMessageListenerContainer queue ault messag listen contain HelloWorldServicePortType hello world servic port type INFO inbound messag ID messag ID content type content type text xmlHeaders text xml header JMSMessageType text payload JMS messag type text payload lt soapenv envelop lt soapenv envelop xmln soapenv http schema xmlsoap org soap envelop xmln soapenv http schema xmlsoap org soap envelop xmln hel http helloworld mycompani redhat com gt xmln hel http helloworld mycompani redhat com gt lt soapenv header gt lt soapenv header gt lt soapenv bodi gt lt soapenv bodi gt lt hel sayHello gt lt hel say hello gt lt hel name gt fred lt hel name gt lt hel name gt fred lt hel name gt lt hel sayHello gt lt hel say hello gt lt soapenv bodi gt lt soapenv envelop gt aultMessageListenerContainer lt soapenv bodi gt lt soapenv envelop gt ault messag listen contain rout rout INFO SOAP request receiv messag aultMessageListenerContainer messag ault messag listen contain rout rout INFO mock servic repliedbut respons not return CXF neither publish repli repli queue queue camel rout overrid overrid public void configur configur throw except cxf bean endpoint servic worklist dataFormat MESSAGE cxf bean endpoint servic worklist data format MESSAGE convertBodyTo string class convert bodi string class log SOAP log SOAP request receiv messag setHeader JMSReplyTo constant supervisorworklist respons messag set header JMS repli constant supervisorworklist respons transform constant respons transform constant respons RESPONSE SOAP MESSAGE log mock log mock servic repli repli amp amp config lt xml config lt xml version version encod UTF gt lt bean encod UTF gt lt bean xmln http www springframework org schema bean xmln http www springframework org schema bean xmln xsi http www org XMLSchema instanc xmln xsi http www org XML schema instanc xmln camel http camel apach org schema spring xmln camel http camel apach org schema spring xmln osgi http www springframework org schema osgi xmln osgi http www springframework org schema osgi xmln cxf http camel apach org schema cxf xmln cxf http camel apach org schema cxf xmln jm http cxf apach org transport jm xmln jm http cxf apach org transport jm xsi schemaLocation xsi schema locat lt bean lt bean id jm connectionFactory id jm connect factori class org apach activemq ActiveMQConnectionFactory gt class org apach activemq activ MQ connect factori gt lt lt lt properti lt properti name brokerURL name broker URL valu vm myEmbeddedBroker broker persist fals valu vm embed broker broker persist fals gt gt gt gt lt properti lt properti name brokerURL name broker URL valu tcp localhost gt valu tcp localhost gt lt bean gt lt bean gt lt bean lt bean id jm config servic id jm config servic class org apach cxf transport jm JMSConfiguration gt class org apach cxf transport jm JMS configur gt lt properti lt properti name connectionFactory name connect factori ref jm connectionFactory ref jm connect factori gt gt lt properti lt properti name targetDestination name target destin valu supervisorworklist valu supervisorworklist gt gt lt properti lt properti name replyDestination name repli destin valu supervisorworklist respons gt valu supervisorworklist respons gt lt bean gt lt bean gt lt bean lt bean id logginOutInterceptor id loggin interceptor class org apach cxf interceptor LoggingOutInterceptor gt class org apach cxf interceptor log interceptor gt lt bean lt bean id logginInInterceptor id loggin interceptor class org apach cxf interceptor LoggingInInterceptor gt class org apach cxf interceptor log interceptor gt lt lt produc endpoint gt gt lt cxf cxfEndpoint lt cxf cxf endpoint id endpoint servic worklist id endpoint servic worklist address jm serviceClass com redhat mycompani helloworld HelloWorldService address jm servic class com redhat mycompani helloworld hello world servic serviceName HelloWorldService servic name hello world servic endpointName HelloWorldOverJms endpoint name hello world jm xmln http helloworld ato redhat com gt xmln http helloworld ato redhat com gt lt cxf featur gt lt cxf featur gt lt bean lt bean xmln http www springframework org schema bean class org apach cxf transport jm JMSConfigFeature gt xmln http www springframework org schema bean class org apach cxf transport jm JMS config featur gt lt properti lt properti name jmsConfig name jm config ref jm config servic ref jm config servic gt gt lt bean gt lt bean gt lt cxf featur gt lt cxf featur gt lt cxf inInterceptors gt lt cxf interceptor gt lt ref lt ref bean logginInInterceptor gt bean loggin interceptor gt lt cxf inInterceptors gt lt cxf interceptor gt lt cxf outInterceptors gt lt cxf interceptor gt lt ref lt ref bean logginOutInterceptor gt bean loggin interceptor gt lt cxf outInterceptors gt lt cxf interceptor gt lt cxf cxfEndpoint gt lt cxf cxf endpoint gt lt camelContext lt camel context xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt packag gt com redhat mycompani cxf lt packag gt lt packag gt com redhat mycompani cxf lt packag gt lt camelContext gt lt bean gt lt camel context gt lt bean gt,0,0,1,0,0,components/camel-cxf/pom.xml;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfConsumer.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/jms/CxfEndpointJMSConsumerTest.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/jms/camel-context.xml;,0
6089,Akitoshi Yoshida,camel-cxf,0,CXFEndpoint blueprint config having binding element may lead to NPE, CXFEndpoint CXF endpoint blueprint config bind element may lead NPE,There seems to be an error in the EndpointpointDefinitionParser in parsing the binding element. Concretely speaking  that element is not parsed from the right element but wrongly from its parent element.So  when you have something like &lt;camel-cxf:cxfEndpoint id='routerEndpoint' ...&gt; ... &lt;camel-cxf:binding&gt; &lt;soap:soapBinding mtomEnabled='true' version='1.2'/&gt; &lt;/camel-cxf:binding&gt; &lt;/camel-cxf:cxfEndpoint&gt;you may get an NPE  as shown in:java.lang.NullPointerException: null at org.apache.aries.blueprint.container.RecipeBuilder.getValue(RecipeBuilder.java:335) ~&#91;na:na&#93; at org.apache.aries.blueprint.container.RecipeBuilder.createBeanRecipe(RecipeBuilder.java:258) ~&#91;na:na&#93; at org.apache.aries.blueprint.container.RecipeBuilder.createRecipe(RecipeBuilder.java:106) ~&#91;na:na&#93; at org.apache.aries.blueprint.container.RecipeBuilder.createRepository(RecipeBuilder.java:89) ~&#91;na:na&#93; at org.apache.aries.blueprint.container.BlueprintContainerImpl.getRepository(BlueprintContainerImpl.java:438) ~&#91;na:na&#93; at org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:288) ~&#91;na:na&#93; at org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:230) ~[na:naFixing this line in EndpointDefinitionParser will fix this issue., seem error EndpointpointDefinitionParser endpointpoint definit parser pars bind element element concret speak element not pars right element wrongli parent element element someth like lt camel cxf cxfEndpoint lt camel cxf cxf endpoint id routerEndpoint id router endpoint gt gt lt camel cxf bind gt lt camel cxf bind gt lt soap soapBinding lt soap soap bind mtomEnabled true mtom enabl true version gt version gt lt camel cxf bind gt lt camel cxf bind gt lt camel cxf cxfEndpoint gt lt camel cxf cxf endpoint gt may get NPE shown java lang NullPointerException java lang null pointer except null org apach ari blueprint contain RecipeBuilder getValue RecipeBuilder java org apach ari blueprint contain recip builder get valu recip builder java na na na na org apach ari blueprint contain RecipeBuilder createBeanRecipe RecipeBuilder java org apach ari blueprint contain recip builder creat bean recip recip builder java na na na na org apach ari blueprint contain RecipeBuilder createRecipe RecipeBuilder java org apach ari blueprint contain recip builder creat recip recip builder java na na na na org apach ari blueprint contain RecipeBuilder createRepository RecipeBuilder java org apach ari blueprint contain recip builder creat repositori recip builder java na na na na org apach ari blueprint contain BlueprintContainerImpl getRepository BlueprintContainerImpl java org apach ari blueprint contain blueprint contain impl get repositori blueprint contain impl java na na na na org apach ari blueprint contain BlueprintContainerImpl doRun BlueprintContainerImpl java org apach ari blueprint contain blueprint contain impl run blueprint contain impl java na na na na org apach ari blueprint contain BlueprintContainerImpl run BlueprintContainerImpl java org apach ari blueprint contain blueprint contain impl run blueprint contain impl java na naFixing na na fix line EndpointDefinitionParser endpoint definit parser fix issu issu,1,0,1,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/blueprint/EndpointDefinitionParser.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/blueprint/RsClientDefinitionParser.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/blueprint/RsServerDefinitionParser.java;tests/camel-blueprint-cxf-test/src/test/java/org/apache/camel/test/cxf/blueprint/CxfConsumerSoap12Test.java;tests/camel-blueprint-cxf-test/src/test/resources/org/apache/camel/test/cxf/blueprint/CxfConsumerSoap12Beans.xml;,0
6091,Chris Miles,camel-sql,0,Improvement to SqlProducer class, improv SqlProducer sql produc class,I have came across a bug with the Microsoft SQL Server driver (4.0) in where the folowing line is problematic:int expected = ps.getParameterMetaData().getParameterCount();If I run the following query through the component:INSERT INTO &#91;NEW_TABLE&#93; SELECT * FROM &#91;OLD_TABLE&#93; WHERE ID = #expected is set to 0 which results in my value not being set.Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The value is not set for the parameter number 1.While this is a SQL Server issue  unfortunately the source is not available and an update is not likely any time soon to return the correct meta data. It would be handy if this Producer put the query preperation a little more into the hands of the user. I.e. let me say there are 5 parameters to be prepared along with the 5 values to use.If the user has manually put 5 items in a Map in the body  then can we not just use the map length to identify how many values and then iterate them., came across bug microsoft SQL server driver folow line problemat int problemat int expect ps getParameterMetaData getParameterCount ps get paramet meta data get paramet count run follow queri compon INSERT compon INSERT NEW_TABLE NEW TABLE SELECT OLD_TABLE OLD TABLE ID expect set result valu not set caus set caus com microsoft sqlserver jdbc SQLServerException com microsoft sqlserver jdbc SQL server except valu not set paramet number SQL server issu unfortun sourc not avail updat not like time soon return correct meta data data would handi produc put queri preper littl hand user user let say paramet prepar along valu use use user manual put item map bodi not use map length identifi mani valu iter,1,0,1,0,0,components/camel-sql/src/main/java/org/apache/camel/component/sql/SqlEndpoint.java;components/camel-sql/src/main/java/org/apache/camel/component/sql/SqlProducer.java;components/camel-sql/src/test/java/org/apache/camel/component/sql/SqlProducerParametersCountTest.java;,0
6097,Benjamin Truitt,camel-core,0,Race condition in AggregatorProcessor recovery sometimes causes duplicates, race condit AggregatorProcessor aggreg processor recoveri sometim caus duplic,There seems to be a race condition in org.apache.camel.processor.aggregate.AggregateProcessor's RecoverTask. That task calls recoverable.scan() to find Exchanges that may need to be recovered. Since scan() might return Exchanges that are actually just in progress  the RecoverTask then checks to see if the Exchange really is in progress. It does this by calling inProgressCompleteExchanges.contains(exchangeId). However  that collection may have been modified during the time between when scan() returned and when contains() is called. This would happen if the in-progress Exchange completes before contains() is called. In that situation  inProgress would evaluate to false  so the Exchange would be recovered. This results in a duplicate Exchange being output by the Aggregator component. One possible solution might be to prevent updating the inProgressCompleteExchanges during the critical section. Another possible solution might be to copy inProgressCompleteExchanges before calling scan(). I'm sure that there are other ways to deal with this also., seem race condit org apach camel processor aggreg AggregateProcessor org apach camel processor aggreg aggreg processor RecoverTask recov task task call recover scan recover scan find exchang may need recov recov sinc scan scan might return exchang actual progress RecoverTask recov task check see exchang realli progress progress call inProgressCompleteExchanges contain exchangeId progress complet exchang contain exchang Id howev collect may modifi time scan scan return contain contain call call would happen progress progress exchang complet contain contain call call situat inProgress progress would evalu fals exchang would recov recov result duplic exchang output aggreg compon compon one possibl solut might prevent updat inProgressCompleteExchanges progress complet exchang critic section section anoth possibl solut might copi inProgressCompleteExchanges progress complet exchang call scan scan sure way deal also also,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;,0
6109,Matt Pavlovich,camel-core,0,step in a  block runs when the  tag is closed in the wrong place, step block run tag close wrong place,Example route:&lt;doTry&gt; &lt;to ... &gt;&lt;/doTry&gt;&lt;doCatch&gt; &lt;exception&gt;java.lang.Exception&lt;/exception&gt; &lt;to uri='log.... '/&gt;&lt;/doCatch&gt;The &lt;to uri='log...'/&gt; line will execute every time  regardless if there is an exception or not.I believe the preferred behavior would be that the route should fails to load/validate. Alternatively  the &lt;to uri='log..' /&gt; should not run when there is not an exception.Thanks!, exampl rout lt doTry gt rout lt tri gt lt lt gt lt doTry gt lt doCatch gt gt lt tri gt lt catch gt lt except gt java lang except lt except gt lt except gt java lang except lt except gt lt lt uri log uri log gt lt doCatch gt gt lt catch gt lt lt uri log gt uri log gt line execut everi time regardless except not not believ prefer behavior would rout fail load valid load valid altern lt lt uri log uri log gt gt not run not except thank except thank,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/CatchDefinition.java;camel-core/src/main/java/org/apache/camel/model/FinallyDefinition.java;camel-core/src/main/java/org/apache/camel/model/TryDefinition.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringTryCatchMisconfiguredTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringTryCatchMisconfiguredFinallyTest.xml;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringTryCatchMisconfiguredTest.xml;,0
6123,Raúl Kripalani,camel-jms,0,camel-jms: InOut exchange can time out even if response was received, camel jm camel jm InOut exchang time even respons receiv,When performing an InOut JMS exchange with a certain requestTimeout  if the reply message is received in time  but the following formula stands true: T0 + T1 &gt;= T!  where:T0 = JMS response timeT1 = remaining route processing time following the replyT! = requestTimeoutThen camel-jms will throw an ExchangeTimedOutException regardless of the fact that the reply was truly received in time.I'm surprised this bug has gone unnoticed until now  as it's been present since mid-2010.Example unit test: @Test public void testTimeoutNotTriggered() throws Exception { getMockEndpoint('mock:exception').expectedMessageCount(0); template.requestBody('activemq:test'  '&lt;hello /&gt;'); assertMockEndpointsSatisfied(); } @Override protected RouteBuilder createRouteBuilder() throws Exception { return new RouteBuilder() { @Override public void configure() throws Exception { onException(ExchangeTimedOutException.class) .handled(true) .to('mock:exception'); from('activemq:test') .inOut('activemq:test?requestTimeout=500') .delay(constant(1000)); from('activemq:test') .log('test'); } }; }, perform InOut JMS exchang certain requestTimeout request timeout repli messag receiv time follow formula stand true true gt gt JMS respons timeT time remain rout process time follow replyT repli requestTimeoutThen request timeout camel jm camel jm throw ExchangeTimedOutException exchang time except regardless fact repli truli receiv time time surpris bug gone unnot present sinc mid exampl mid exampl unit test test test test public void testTimeoutNotTriggered test timeout not trigger throw except getMockEndpoint mock except expectedMessageCount get mock endpoint mock except expect messag count templat requestBody activemq test templat request bodi activemq test lt hello lt hello gt gt assertMockEndpointsSatisfied assert mock endpoint satisfi overrid overrid protect RouteBuilder rout builder createRouteBuilder creat rout builder throw except return new RouteBuilder rout builder overrid overrid public void configur configur throw except onException ExchangeTimedOutException class except exchang time except class handl true handl true mock except mock except activemq test activemq test inOut activemq test requestTimeout activemq test request timeout delay constant delay constant activemq test activemq test log test log test,0,0,1,0,0,components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/QueueReplyManager.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/TemporaryQueueReplyManager.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsChainedEndpointDelayTimeout.java;,0
6129,Claus Ibsen,camel-core,0,Simple language - bean function - issue when parameter value has comma, simpl languag bean function issu paramet valu comma,See nabblehttp://camel.465427.n5.nabble.com/Prolems-with-parametrized-bean-method-call-via-simple-tp5728319.html, see nabblehttp camel nabbl com prolem parametr bean method call via simpl tp html nabblehttp camel nabbl com prolem parametr bean method call via simpl tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/LiteralExpression.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/LiteralNode.java;camel-core/src/main/java/org/apache/camel/language/simple/ast/SimpleFunctionStart.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/main/java/org/apache/camel/util/StringQuoteHelper.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanMethodValueWithCommaTest.java;camel-core/src/test/java/org/apache/camel/component/bean/SimpleLanguageBeanFunctionMethodValueWithCommaTest.java;camel-core/src/test/java/org/apache/camel/util/StingQuoteHelperTest.java;,0
6154,Sven Smets,camel-mail; camel-quartz,0,NPE when using the imap mail component with quartz or the timer and pollEnrich, NPE use imap mail compon quartz timer pollEnrich poll enrich,There is a NPE when using the imap mail component with quartz or the timer and pollEnrich as dicussed here:http://camel.465427.n5.nabble.com/Schedule-file-mail-endpoint-td3356666.html#a3357538I reproduced it on version 2.10.3 and 2.10.4 with &lt;route id='myTest'&gt; &lt;from uri='timer://foo?fixedRate=true&amp;period=10000'/&gt; &lt;pollEnrich uri='imap://userName@hostName?password=***'/&gt;  &lt;to uri='log:testroute?showAll=true&amp;level=INFO'/&gt; &lt;/route&gt;We need to use it with the quartz component (so we can use a cron expression)  but get the same error &lt;route id='myTest'&gt; &lt;from uri='quartz://testTimer?cron=0+?'/&gt; &lt;pollEnrich uri='imap://userName@hostName?password=***'/&gt;  &lt;to uri='log:testroute?showAll=true&amp;level=INFO'/&gt; &lt;/route&gt;11/03/2013 10:32:04 &#91;DefaultQuartzScheduler-context_Worker-1&#93; ERROR org.apache.camel.processor.DefaultErrorHandler - Failed delivery for (MessageId: ID-W7-009430-52415-1362994261595-0-3 on ExchangeId: ID-W7-009430-52415-1362994261595-0-2). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error occurred during aggregation. Exchange[Message: &#91;Body is null&#93;]. Caused by: [org.apache.camel.RuntimeCamelException - Failed to extract body due to: null. Exchange: Exchange&#91;MailMessage: com.sun.mail.imap.IMAPMessage@411a3fe4&#93;. Message: com.sun.mail.imap.IMAPMessage@411a3fe4]org.apache.camel.CamelExchangeException: Error occurred during aggregation. Exchange[Message: &#91;Body is null&#93;]. Caused by: [org.apache.camel.RuntimeCamelException - Failed to extract body due to: null. Exchange: Exchange&#91;MailMessage: com.sun.mail.imap.IMAPMessage@411a3fe4&#93;. Message: com.sun.mail.imap.IMAPMessage@411a3fe4] at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:194)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:72)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:91)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:334)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:46)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:308)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:117)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:46)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.UnitOfWorkProcessor.processAsync(UnitOfWorkProcessor.java:150)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:117)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.RouteInflightRepositoryProcessor.processNext(RouteInflightRepositoryProcessor.java:48)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:72)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.loadbalancer.QueueLoadBalancer.process(QueueLoadBalancer.java:44)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:99)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.processor.loadbalancer.QueueLoadBalancer.process(QueueLoadBalancer.java:71)&#91;camel-core-2.10.4.jar:2.10.4&#93; at org.apache.camel.component.quartz.QuartzEndpoint.onJobExecute(QuartzEndpoint.java:113)&#91;camel-quartz-2.10.4.jar:2.10.4&#93; at org.apache.camel.component.quartz.CamelJob.execute(CamelJob.java:61)&#91;camel-quartz-2.10.4.jar:2.10.4&#93; at org.quartz.core.JobRunShell.run(JobRunShell.java:216)&#91;quartz-1.8.5.jar:&#93; at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:549)&#91;quartz-1.8.5.jar:&#93;, NPE use imap mail compon quartz timer pollEnrich poll enrich dicuss http camel nabbl com schedul file mail endpoint td html http camel nabbl com schedul file mail endpoint td html reproduc version lt rout lt rout id myTest gt id test gt lt lt uri timer foo fixedRate true amp period gt uri timer foo fix rate true amp period gt lt pollEnrich lt poll enrich uri imap userName hostName password gt uri imap user name host name password gt lt lt uri log testrout showAll true amp level INFO gt uri log testrout show true amp level INFO gt lt rout gt lt rout gt need use quartz compon use cron express express get error lt rout lt rout id myTest gt id test gt lt lt uri quartz testTimer cron gt uri quartz test timer cron gt lt pollEnrich lt poll enrich uri imap userName hostName password gt uri imap user name host name password gt lt lt uri log testrout showAll true amp level INFO gt uri log testrout show true amp level INFO gt lt rout gt lt rout gt DefaultQuartzScheduler context_Worker default quartz schedul context worker ERROR org apach camel processor DefaultErrorHandler org apach camel processor default error handler fail deliveri MessageId messag Id ID ID ExchangeId exchang Id ID ID exhaust deliveri attempt attempt caught caught org apach camel CamelExchangeException org apach camel camel exchang except error occur aggreg aggreg exchang messag exchang messag bodi bodi null null caus org apach camel RuntimeCamelException org apach camel runtim camel except fail extract bodi due null null exchang exchang exchang MailMessage exchang mail messag com sun mail imap IMAPMessage fe com sun mail imap IMAP messag fe messag messag com sun mail imap IMAPMessage fe org apach camel CamelExchangeException com sun mail imap IMAP messag fe org apach camel camel exchang except error occur aggreg aggreg exchang messag exchang messag bodi bodi null null caus org apach camel RuntimeCamelException org apach camel runtim camel except fail extract bodi due null null exchang exchang exchang MailMessage exchang mail messag com sun mail imap IMAPMessage fe com sun mail imap IMAP messag fe messag messag com sun mail imap IMAPMessage fe com sun mail imap IMAP messag fe org apach camel processor PollEnricher process PollEnricher java camel core jar org apach camel processor poll enrich process poll enrich java camel core jar org apach camel util AsyncProcessorConverterHelper ProcessorToAsyncProcessorBridge process AsyncProcessorConverterHelper java camel core jar org apach camel util async processor convert helper processor async processor bridg process async processor convert helper java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process next deleg async processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel manag InstrumentationProcessor process InstrumentationProcessor java camel core jar org apach camel manag instrument processor process instrument processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process next deleg async processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel processor interceptor TraceInterceptor process TraceInterceptor java camel core jar org apach camel processor interceptor trace interceptor process trace interceptor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java camel core jar org apach camel processor redeliveri error handler process error handler redeliveri error handler java camel core jar org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java camel core jar org apach camel processor redeliveri error handler process redeliveri error handler java camel core jar org apach camel processor RouteContextProcessor processNext RouteContextProcessor java camel core jar org apach camel processor rout context processor process next rout context processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel processor interceptor DefaultChannel process DefaultChannel java camel core jar org apach camel processor interceptor default channel process default channel java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor pipelin process pipelin java camel core jar org apach camel processor pipelin process pipelin java camel core jar org apach camel processor pipelin process pipelin java camel core jar org apach camel processor pipelin process pipelin java camel core jar org apach camel processor RouteContextProcessor processNext RouteContextProcessor java camel core jar org apach camel processor rout context processor process next rout context processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel processor UnitOfWorkProcessor processAsync UnitOfWorkProcessor java camel core jar org apach camel processor unit work processor process async unit work processor java camel core jar org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java camel core jar org apach camel processor unit work processor process unit work processor java camel core jar org apach camel processor RouteInflightRepositoryProcessor processNext RouteInflightRepositoryProcessor java camel core jar org apach camel processor rout inflight repositori processor process next rout inflight repositori processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process next deleg async processor java camel core jar org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java camel core jar org apach camel processor deleg async processor process deleg async processor java camel core jar org apach camel manag InstrumentationProcessor process InstrumentationProcessor java camel core jar org apach camel manag instrument processor process instrument processor java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor loadbalanc QueueLoadBalancer process QueueLoadBalancer java camel core jar org apach camel processor loadbalanc queue load balanc process queue load balanc java camel core jar org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java camel core jar org apach camel util async processor helper process async processor helper java camel core jar org apach camel processor loadbalanc QueueLoadBalancer process QueueLoadBalancer java camel core jar org apach camel processor loadbalanc queue load balanc process queue load balanc java camel core jar org apach camel compon quartz QuartzEndpoint onJobExecute QuartzEndpoint java camel quartz jar org apach camel compon quartz quartz endpoint job execut quartz endpoint java camel quartz jar org apach camel compon quartz CamelJob execut CamelJob java camel quartz jar org apach camel compon quartz camel job execut camel job java camel quartz jar org quartz core JobRunShell run JobRunShell java quartz jar org quartz core job run shell run job run shell java quartz jar org quartz simpl SimpleThreadPool WorkerThread run SimpleThreadPool java quartz jar org quartz simpl simpl thread pool worker thread run simpl thread pool java quartz jar,1,0,1,1,0,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailPollEnrichNoMailTest.java;components/camel-mail/src/test/java/org/apache/camel/component/mail/MailPollEnrichTest.java;camel-core/src/test/java/org/apache/camel/processor/enricher/PollEnrichNullBodyTest.java;,0
6155,Willem Jiang,camel-stream,0,Camel stream producer never close the stream of file, camel stream produc never close stream file,When I was working on CAMEL-6147  I found the file stream is never closed  even it met the close condition., work CAMEL CAMEL found file stream never close even met close condit condit,0,0,0,0,0,components/camel-stream/src/main/java/org/apache/camel/component/stream/StreamEndpoint.java;components/camel-stream/src/main/java/org/apache/camel/component/stream/StreamProducer.java;components/camel-stream/src/test/java/org/apache/camel/component/stream/SplitStreamFileTest.java;,0
6168,Jonas Fügedi,camel-sql,0,SQL component will not look for parameters in header when no body in message, SQL compon not look paramet header no bodi messag,Line 60 in SqlProducer checks if the body is null. This will cause any parameters in header fields not to be populated into the prepared statement. Sample scenario is with a camel-jetty enriching a response using camel-sql., line SqlProducer sql produc check bodi null null caus paramet header field not popul prepar statement statement sampl scenario camel jetti camel jetti enrich respons use camel sql camel sql,0,0,0,0,0,components/camel-sql/src/main/java/org/apache/camel/component/sql/SqlProducer.java;components/camel-sql/src/test/java/org/apache/camel/component/sql/SqlProducerNullBodyHeaderTest.java;components/camel-sql/src/test/java/org/apache/camel/component/sql/SqlProducerNullBodyTest.java;,0
6172,Claus Ibsen,camel-core; eip,0,Aggregate EIP - Completion from batch consumer should trigger first, aggreg EIP complet batch consum trigger first,See nabblehttp://camel.465427.n5.nabble.com/Issue-Aggregator2-BatchCompletion-disturbed-by-other-completions-and-fails-to-happen-when-it-probabl-tp5728850.html, see nabblehttp camel nabbl com issu aggreg BatchCompletion disturb complet fail happen probabl tp html nabblehttp camel nabbl com issu aggreg batch complet disturb complet fail happen probabl tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java;camel-core/src/test/java/org/apache/camel/processor/aggregator/AggregateCompletionSizeAndBatchConsumerTest.java;,0
6173,Claus Ibsen,camel-http; camel-jetty,0,camel-http - When bridging endpoints then there may be double parameter values if client sends uri parameters, camel http camel http bridg endpoint may doubl paramet valu client send uri paramet,If you have a jetty/http bridge endpoint  and the caller sends in a parameter with a value that has url encodings  then you may have double values when calling the bridge.eg callinghttp://localhost:23001/jettyTestRouteA?param1=%2B447777111222And having a jetty -&gt; http bridge  you can end up with double values.Caused by: java.lang.AssertionError: expected:&lt; 447777111222&gt; but was:&lt;[+447777111222  +447777111222]&gt;, jetti http jetti http bridg endpoint caller send paramet valu url encod may doubl valu call bridg eg bridg eg callinghttp localhost jettyTestRouteA param callinghttp localhost jetti test rout param jetti gt gt http bridg end doubl valu caus valu caus java lang AssertionError java lang assert error expect lt expect lt gt gt lt lt gt gt,0,0,0,1,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpProducer.java;components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpProducer.java;components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpProducer.java;,0
6176,Daniel Goering,camel-core,0,Camel 2.10.1 incapable of working with + in endpoint URIs, camel incap work endpoint URIs UR,In the class org.apache.camel.util.URISupport which will be used to resolve endpoints (DefaultCamelContext#normalizeEndpointUri) the method parseParameters will be called.At first the java.net.Uri#getQuery will be called with according to the javadoc 'Returns the decoded query component of this URI' returns a decoded URI. If that fails the java.net.Uri#getSchemeSpecificPart method will be called which according to the javadoc 'Returns the decoded scheme-specific part of this URI.' returns a decoded URI.So to summarize we get in any case a decoded URI.As workaround for CAMEL-4954 all % are encoded  i.e. replaced by %25.The URI will then be decoded again in the method org.apache.camel.util.URISupport#parseQuery(String) with java.net.URLDecoder#decode(String String).This code leads to the following behaviour: If a + is properly encoded with foo%2Bbar the foo%2Bbar will be substituted by the first call with foo+bar and then decoded again which leads to foo bar. If the + is not encoded at all foo+bar will be decoded to foo bar in the first step and not be changed again in the second step. If the + is double encoded to foo%252Bbar the first call will transform it to foo%2Bbar  then the workaround for CAMEL-4954 will change it back to foo%252Bbar and the final decode will change it again to foo%2Bbar.Thus  currently there is no way to use a + in passwords or similar parameter values if the parameter has to be supplied via endpoint URIs., class org apach camel util URISupport org apach camel util URI support use resolv endpoint DefaultCamelContext normalizeEndpointUri default camel context normal endpoint uri method parseParameters pars paramet call call first java net uri getQuery java net uri get queri call accord javadoc return return decod queri compon URI URI return decod URI URI fail java net uri getSchemeSpecificPart java net uri get scheme specif part method call accord javadoc return return decod scheme specif scheme specif part URI URI return decod URI URI summar get case decod URI URI workaround CAMEL CAMEL encod replac URI decod method org apach camel util URISupport parseQuery string org apach camel util URI support pars queri string java net URLDecoder decod string java net URL decod decod string string string code lead follow behaviour behaviour properli encod foo bbar foo bbar foo bbar foo bbar substitut first call foo bar foo bar decod lead foo bar bar not encod foo bar foo bar decod foo bar first step not chang second step step doubl encod foo bbar foo bbar first call transform foo bbar foo bbar workaround CAMEL CAMEL chang back foo bbar foo bbar final decod chang foo bbar thu foo bbar thu current no way use password similar paramet valu paramet suppli via endpoint URIs UR,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java;camel-core/src/main/java/org/apache/camel/util/URISupport.java;camel-core/src/test/java/org/apache/camel/issues/EndpointWithRawUriParameterTest.java;camel-core/src/test/java/org/apache/camel/util/URISupportTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpProducerRawPasswordTest.java;components/camel-ftp/src/test/resources/users.properties;,1
6177,Christian Müller,camel-aws,0,Camel-AWS should support any implementation of AmazonXXX (not only AmazonXXXClient), camel AWS camel AWS support implement AmazonXXX amazon XXX not AmazonXXXClient amazon XXX client,See http://camel.465427.n5.nabble.com/camel-pull-request-making-change-so-that-we-can-use-camel-aws-integration-td5729038.html, see,0,0,0,1,0,components/camel-aws/src/main/java/org/apache/camel/component/aws/cw/CwConfiguration.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/cw/CwEndpoint.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/s3/S3Configuration.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/s3/S3Consumer.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/s3/S3Endpoint.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sdb/SdbEndpoint.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sns/SnsConfiguration.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sns/SnsEndpoint.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsConfiguration.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsConsumer.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsEndpoint.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsProducer.java;,0
6187,Fried Hoeben,camel-http,0,http4 component should default to charset based on content type, http http compon default charset base content type,HttpProducer determines the charset of an outgoing StringEntity based on an Exchange property (Exchange.CHARSET_NAME)  using null if that property is not set. It also sets the content-type based on the content-type of the camel message (this may also contain a character encoding). If these two don't match the receiver of the http request will probably not be able to parse the message. It would be better if the charset of the StringEntity would by default match the charset specified in the content-type. Matching these two is done when receiving response messages (in HttpProducer.extractResponseBody())...Suggested fix (in HttpProducer.createRequestEntity())  you could of course also do something like org.apache.camel.component.http4.helper.HttpHelper.setCharsetFromContentType() but my approach uses org.apache.http.entity.ContentType and java.nio.charset.Charset instead of trying to determine the correct charset itself):// be a bit careful with String as any type can most likely be converted to String// so we only do an instanceof check and accept String if the body is really a String// do not fallback to use the default charset as it can influence the request// (for example application/x-www-form-urlencoded forms being sent)String charset = IOHelper.getCharsetName(exchange  false);if (charset == null &amp;&amp; contentType != null){ ContentType ct = ContentType.parse(contentType); if (ct != null) { Charset cs = ct.getCharset(); if (cs != null) { charset = cs.name(); } }}StringEntity entity = new StringEntity((String) data  charset);entity.setContentType(contentType);answer = entity;, HttpProducer http produc determin charset outgo StringEntity string entiti base exchang properti exchang CHARSET_NAME exchang CHARSET NAME use null properti not set set also set content type content type base content type content type camel messag may also contain charact encod encod two match receiv http request probabl not abl pars messag messag would better charset StringEntity string entiti would default match charset specifi content type content type match two done receiv respons messag HttpProducer extractResponseBody suggest http produc extract respons bodi suggest fix HttpProducer createRequestEntity http produc creat request entiti could cours also someth like org apach camel compon http helper HttpHelper setCharsetFromContentType org apach camel compon http helper http helper set charset content type approach use org apach http entiti ContentType org apach http entiti content type java nio charset charset java nio charset charset instead tri determin correct charset bit care string type like convert string string instanceof check accept string bodi realli string string not fallback use default charset influenc request request exampl applic www form urlencod applic www form urlencod form sent string sent string charset IOHelper getCharsetName exchang IO helper get charset name exchang fals fals charset null amp amp amp amp contentType content type null null ContentType content type ct ContentType pars contentType content type pars content type ct null null charset cs ct getCharset ct get charset cs null null charset cs name cs name StringEntity string entiti entiti new StringEntity string string entiti string data charset entiti setContentType contentType answer charset entiti set content type content type answer entiti entiti,0,0,1,0,0,components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpProducer.java;,0
6218,Alan Foster,null,0,TransferExchage InOut ActiveMQ Exception, TransferExchage transfer exchag InOut ActiveMQ activ MQ except,The scnearios are : when using the transferExchange option only on the producer  I don't get the body back  but not the header. When I use the transferExchange option on both producer and consumer  I get the headers back  but not the body. And instead I get the following exception[ryQueueReplyManager[temporary]] TemporaryQueueReplyManager WARN Execution of JMS message listener failed. Caused by: [java.lang.NullPointerException - null]java.lang.NullPointerException at org.apache.camel.impl.DefaultExchangeHolder.unmarshal(DefaultExchangeHolder.java:107) at org.apache.camel.component.jms.JmsBinding.extractBodyFromJms(JmsBinding.java:128) at org.apache.camel.component.jms.JmsMessage.createBody(JmsMessage.java:214) at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:41) at org.apache.camel.component.jms.reply.ReplyManagerSupport.processReply(ReplyManagerSupport.java:136) at org.apache.camel.component.jms.reply.TemporaryQueueReplyHandler.onReply(TemporaryQueueReplyHandler.java:54) at org.apache.camel.component.jms.reply.TemporaryQueueReplyManager.handleReplyMessage(TemporaryQueueReplyManager.java:71) at org.apache.camel.component.jms.reply.ReplyManagerSupport.onMessage(ReplyManagerSupport.java:113) at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:560) at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:498) at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:467) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:325) at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:263) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1058) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1050) at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:947) at java.lang.Thread.run(Thread.java:662), scneario use transferExchange transfer exchang option produc get bodi back not header header use transferExchange transfer exchang option produc consum get header back not bodi bodi instead get follow except ryQueueReplyManager temporari except ry queue repli manag temporari TemporaryQueueReplyManager temporari queue repli manag WARN execut JMS messag listen fail fail caus java lang NullPointerException java lang null pointer except null java lang NullPointerException null java lang null pointer except org apach camel impl DefaultExchangeHolder unmarsh DefaultExchangeHolder java org apach camel impl default exchang holder unmarsh default exchang holder java org apach camel compon jm JmsBinding extractBodyFromJms JmsBinding java org apach camel compon jm jm bind extract bodi jm jm bind java org apach camel compon jm JmsMessage createBody JmsMessage java org apach camel compon jm jm messag creat bodi jm messag java org apach camel impl MessageSupport getBody MessageSupport java org apach camel impl messag support get bodi messag support java org apach camel compon jm repli ReplyManagerSupport processReply ReplyManagerSupport java org apach camel compon jm repli repli manag support process repli repli manag support java org apach camel compon jm repli TemporaryQueueReplyHandler onReply TemporaryQueueReplyHandler java org apach camel compon jm repli temporari queue repli handler repli temporari queue repli handler java org apach camel compon jm repli TemporaryQueueReplyManager handleReplyMessage TemporaryQueueReplyManager java org apach camel compon jm repli temporari queue repli manag handl repli messag temporari queue repli manag java org apach camel compon jm repli ReplyManagerSupport onMessage ReplyManagerSupport java org apach camel compon jm repli repli manag support messag repli manag support java org springframework jm listen AbstractMessageListenerContainer doInvokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer invokeListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain invok listen abstract messag listen contain java org springframework jm listen AbstractMessageListenerContainer doExecuteListener AbstractMessageListenerContainer java org springframework jm listen abstract messag listen contain execut listen abstract messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer doReceiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen AbstractPollingMessageListenerContainer receiveAndExecute AbstractPollingMessageListenerContainer java org springframework jm listen abstract poll messag listen contain receiv execut abstract poll messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker invokeListener DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok invok listen default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker executeOngoingLoop DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok execut ongo loop default messag listen contain java org springframework jm listen DefaultMessageListenerContainer AsyncMessageListenerInvoker run DefaultMessageListenerContainer java org springframework jm listen default messag listen contain async messag listen invok run default messag listen contain java java lang thread run thread java java lang thread run thread java,1,0,0,0,1,camel-core/src/main/java/org/apache/camel/impl/DefaultExchangeHolder.java;components/camel-jms/src/main/java/org/apache/camel/component/jms/reply/ReplyManagerSupport.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsInOutTransferExchangeTest.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/SerializableRequestDto.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/SerializableResponseDto.java;,0
6227,Claus Ibsen,camel-gson,0,json data format - Add support for configuring gson options, json data format add support configur gson option,Seehttp://stackoverflow.com/questions/15686032/apache-camel-gson-formatterWe should make it possible to configure those gson options in the DSL., seehttp stackoverflow com question apach camel gson formatterWe seehttp stackoverflow com question apach camel gson formatt make possibl configur gson option DSL DSL,0,0,0,1,0,components/camel-gson/src/main/java/org/apache/camel/component/gson/GsonDataFormat.java;components/camel-gson/src/test/java/org/apache/camel/component/gson/GsonFieldNamePolicyTest.java;components/camel-gson/src/test/java/org/apache/camel/component/gson/PersonPojo.java;components/camel-gson/src/test/java/org/apache/camel/component/gson/SpringGsonFieldNamePolicyTest.java;components/camel-gson/src/test/resources/org/apache/camel/component/gson/SpringGsonFieldNamePolicyTest.xml;,0
6234,Hadrian Zbarcea,camel-bindy,0,camel-bindy - Multiple models in the same package lead to unpredictable results, camel bindi camel bindi multipl model packag lead unpredict result,BindyCsvDataFormat only holds one model. When multiple models are defined in the same package or field positions overlap  only one @DataField is kept (the last one) overwriting the previous mapping. This leads to unpredictable behavior  from the wrong field value being populated  to format mismatch exceptions for fields of different types.This behavior is by design  as camel supports deep models  spread over multiple files (see AnnotationModelLoader.loadModels() implementation where whole packages are scanned).The documentation is rather vague  but I believe supporting multiple models in the same package is not really feasible  and overkill at best. Therefore my preference would be to keep the functionality as is and document the limitation.Currently the BindyCVSFieldEndingWithSeparatorIssueTest fails due to a conflict between MyCsvRecord.class and BindyDoubleQuotesCsvUnmarshallTest.Order.class defined in the same package. Moving MyCsvRecord to a different package is a trivial fix. I will look into adding some model validation as well to WARN if the model is inconsistent (i.e. has overlaps or gaps)., BindyCsvDataFormat bindi csv data format hold one model model multipl model defin packag field posit overlap one DataField data field kept last one one overwrit previou map map lead unpredict behavior wrong field valu popul format mismatch except field differ type type behavior design camel support deep model spread multipl file see AnnotationModelLoader loadModels annot model loader load model implement whole packag scan scan document rather vagu believ support multipl model packag not realli feasibl overkil best best therefor prefer would keep function document limit current limit current BindyCVSFieldEndingWithSeparatorIssueTest bindi CVS field end separ issu test fail due conflict MyCsvRecord class csv record class BindyDoubleQuotesCsvUnmarshallTest order class bindi doubl quot csv unmarshal test order class defin packag packag move MyCsvRecord csv record differ packag trivial fix fix look ad model valid well WARN model inconsist overlap gap gap,0,0,0,1,0,0,0
6240,Jason Chaffee,camel-http,0,Http4 component does not support PATCH, http http compon not support PATCH,If I try to use PATCH  it gives me an error about it not being in an enum. However  the HttpClient does support it.http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/methods/HttpPatch.html, tri use PATCH give error not enum enum howev HttpClient http client support http hc apach org httpcompon client ga httpclient apidoc org apach http client method HttpPatch html http hc apach org httpcompon client ga httpclient apidoc org apach http client method http patch html,0,1,0,1,0,components/camel-http4/src/main/java/org/apache/camel/component/http4/HttpMethods.java;components/camel-http4/src/test/java/org/apache/camel/component/http4/BaseHttpTest.java;components/camel-http4/src/test/java/org/apache/camel/component/http4/HttpMethodsTest.java;,0
6244,Claus Ibsen,tooling,0,camel:run in blueprint is broken, camel run camel run blueprint broken,Due the Aries blueprint upgrade then the blueprint extenders may run 2+ due classpath issues., due ari blueprint upgrad blueprint extend may run due classpath issu issu,0,0,0,0,0,components/camel-blueprint/pom.xml;tooling/maven/camel-maven-plugin/src/main/java/org/apache/camel/maven/RunMojo.java;,0
6252,Claus Ibsen,camel-aws; tests,0,camel-aws - Possible concurrent modification exception, camel aw camel aw possibl concurr modif except,Noticed this from CI test serversStacktracejava.util.ConcurrentModificationException at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:819) at java.util.ArrayList$Itr.next(ArrayList.java:791) at org.apache.camel.component.aws.sqs.SqsExtendMessageVisibilityTest.longReceiveExtendsMessageVisibility(SqsExtendMessageVisibilityTest.java:61) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30) at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:47) at org.junit.rules.RunRules.evaluate(RunRules.java:18) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30) at org.junit.runners.ParentRunner.run(ParentRunner.java:300) at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53) at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:119) at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:101) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.apache.maven.surefire.booter.ProviderFactory$ClassLoaderProxy.invoke(ProviderFactory.java:103) at com.sun.proxy.$Proxy0.invoke(Unknown Source) at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:150) at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcess(SurefireStarter.java:91) at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:69)Standard Output@SLTests run: 1  Failures: 0  Errors: 0  Skipped: 0  Time elapsed: 2.032 sec@SLRunning org.apache.camel.component.aws.sqs.SqsExtendMessageVisibilityTest, notic CI test serversStacktracejava util ConcurrentModificationException server stacktracejava util concurr modif except java util ArrayList itr checkForComodification ArrayList java java util array list itr check comodif array list java java util ArrayList itr next ArrayList java java util array list itr next array list java org apach camel compon aw sq SqsExtendMessageVisibilityTest longReceiveExtendsMessageVisibility SqsExtendMessageVisibilityTest java org apach camel compon aw sq sq extend messag visibl test long receiv extend messag visibl sq extend messag visibl test java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org junit runner model FrameworkMethod runReflectiveCall FrameworkMethod java org junit runner model framework method run reflect call framework method java org junit intern runner model ReflectiveCallable run ReflectiveCallable java org junit intern runner model reflect callabl run reflect callabl java org junit runner model FrameworkMethod invokeExplosively FrameworkMethod java org junit runner model framework method invok explos framework method java org junit intern runner statement InvokeMethod evalu InvokeMethod java org junit intern runner statement invok method evalu invok method java org junit intern runner statement RunBefores evalu RunBefores java org junit intern runner statement run befor evalu run befor java org junit intern runner statement RunAfters evalu RunAfters java org junit intern runner statement run after evalu run after java org junit rule TestWatcher evalu TestWatcher java org junit rule test watcher evalu test watcher java org junit rule RunRules evalu RunRules java org junit rule run rule evalu run rule java org junit runner ParentRunner runLeaf ParentRunner java org junit runner parent runner run leaf parent runner java org junit runner BlockJUnit ClassRunner runChild BlockJUnit ClassRunner java org junit runner block unit class runner run child block unit class runner java org junit runner BlockJUnit ClassRunner runChild BlockJUnit ClassRunner java org junit runner block unit class runner run child block unit class runner java org junit runner ParentRunner run ParentRunner java org junit runner parent runner run parent runner java org junit runner ParentRunner schedul ParentRunner java org junit runner parent runner schedul parent runner java org junit runner ParentRunner runChildren ParentRunner java org junit runner parent runner run children parent runner java org junit runner ParentRunner access ParentRunner java org junit runner parent runner access parent runner java org junit runner ParentRunner evalu ParentRunner java org junit runner parent runner evalu parent runner java org junit intern runner statement RunAfters evalu RunAfters java org junit intern runner statement run after evalu run after java org junit runner ParentRunner run ParentRunner java org junit runner parent runner run parent runner java org apach maven surefir junit JUnit TestSet execut JUnit TestSet java org apach maven surefir junit unit test set execut unit test set java org apach maven surefir junit JUnit provid executeTestSet JUnit provid java org apach maven surefir junit unit provid execut test set unit provid java org apach maven surefir junit JUnit provid invok JUnit provid java org apach maven surefir junit unit provid invok unit provid java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org apach maven surefir booter ProviderFactory ClassLoaderProxy invok ProviderFactory java org apach maven surefir booter provid factori class loader proxi invok provid factori java com sun proxi proxi invok unknown com sun proxi proxi invok unknown sourc sourc org apach maven surefir booter SurefireStarter invokeProvider SurefireStarter java org apach maven surefir booter surefir starter invok provid surefir starter java org apach maven surefir booter SurefireStarter runSuitesInProcess SurefireStarter java org apach maven surefir booter surefir starter run suit process surefir starter java org apach maven surefir booter ForkedBooter main ForkedBooter java standard org apach maven surefir booter fork booter main fork booter java standard output SLTests output SL test run run failur failur error error skip skip time elaps elaps sec SLRunning sec SL run org apach camel compon aw sq SqsExtendMessageVisibilityTest org apach camel compon aw sq sq extend messag visibl test,1,0,0,0,0,components/camel-aws/src/test/java/org/apache/camel/component/aws/s3/AmazonS3ClientMock.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/AmazonSQSClientMock.java;,0
6258,Claus Ibsen,camel-sql,0,Sql component - Add noop option to execute the query but dont change the message body afterwards, sql compon add noop option execut queri dont chang messag bodi afterward,Seehttp://blog.mgm-tp.com/2013/04/camel-router-part1/comment-page-1/#comment-4161Even if the query returns a result set  you may not want to grab that or change the message body.For that we can have a noop=true|false option. If there is a better name for the option then we can go for that  though noop was the first name that came to my mind., seehttp blog mgm tp com camel router part comment page comment even seehttp blog mgm tp com camel router part comment page comment even queri return result set may not want grab chang messag bodi bodi noop true fals noop true fals option option better name option go though noop first name came mind mind,0,1,0,1,0,components/camel-sql/src/main/java/org/apache/camel/component/sql/SqlEndpoint.java;components/camel-sql/src/main/java/org/apache/camel/component/sql/SqlProducer.java;components/camel-sql/src/test/java/org/apache/camel/component/sql/SqlProducerNoopTest.java;,0
6259,Claus Ibsen,camel-core; jmx,0,Scheduled thread pools is not removed from JMX when shutting down, schedul thread pool not remov JMX shut,For example if a route use the aggragate eip with a completion timeout  then the scheduled thread pool is enlisted in JMX. But not removed when the route is removed. Though as fail-safe we always remove the JMX when camel is stopping.But for people doing dynamic add/remove routes this can become a problem., exampl rout use aggrag eip complet timeout schedul thread pool enlist JMX JMX not remov rout remov remov though fail safe fail safe alway remov JMX camel stop stop peopl dynam add remov add remov rout becom problem problem,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultExecutorServiceManager.java;camel-core/src/test/java/org/apache/camel/impl/MultipleLifecycleStrategyTest.java;camel-core/src/test/java/org/apache/camel/management/ManagedRemoveRouteAggregateThreadPoolTest.java;,0
6261,Claus Ibsen,camel-core,0,Simple ognl expression - Possible NPE when using String replaceFirst and replacing with an empty string, simpl ognl express possibl NPE use string replaceFirst replac first replac empti string,See nabblehttp://camel.465427.n5.nabble.com/2-11-NPE-with-replaceFirst-tp5730321.html, see nabblehttp camel nabbl com NPE replaceFirst tp html nabblehttp camel nabbl com NPE replac first tp html,0,0,0,1,0,components/camel-jclouds/pom.xml;parent/pom.xml;,0
6262,Manfred Dohmen,camel-core,0,org.apache.camel.support.ServiceSupport: InputStream not being explicitly closed, org apach camel support ServiceSupport org apach camel support servic support InputStream input stream not explicitli close,In method getVersion() of ServiceSupport there is an InputStream opened around line 284:InputStream is = getClass().getResourceAsStream('/META-INF/maven/org.apache.camel/camel-core/pom.properties');This stream is not closed explicitly.If you undeploy an application from a container like GlassFish you get a warning like this:[#|2013-04-11T18:02:00.783+0200|WARNING|glassfish3.1.2|javax.enterprise.system.core.classloading.com.sun.enterprise.loader|_ThreadID=137;_ThreadName=Thread-2;|Input stream has been finalized or forced closed without being explicitly closed; stream instantiation reported in following stack tracejava.lang.Throwable at com.sun.enterprise.loader.ASURLClassLoader$SentinelInputStream.&lt;init&gt;(ASURLClassLoader.java:1230) at com.sun.enterprise.loader.ASURLClassLoader$InternalJarURLConnection.getInputStream(ASURLClassLoader.java:1338) at java.net.URLClassLoader.getResourceAsStream(URLClassLoader.java:233) at com.sun.enterprise.loader.ASURLClassLoader.getResourceAsStream(ASURLClassLoader.java:872) at java.lang.Class.getResourceAsStream(Class.java:2049) at org.apache.camel.support.ServiceSupport.getVersion(ServiceSupport.java:284) at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1439) at org.apache.camel.cdi.CdiCamelContext.start(CdiCamelContext.java:61) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#91;...&#93;These were similar issues: XBEAN-190  JCR-2962, method getVersion get version ServiceSupport servic support InputStream input stream open around line InputStream input stream getClass getResourceAsStream META INF maven org apach camel camel core pom properti get class get resourc stream META INF maven org apach camel camel core pom properti stream not close explicitli explicitli undeploy applic contain like GlassFish glass fish get warn like WARNING glassfish javax enterpris system core classload com sun enterpris loader _ThreadID _ThreadName thread input WARNING glassfish javax enterpris system core classload com sun enterpris loader  thread ID  thread name thread input stream final forc close without explicitli close close stream instanti report follow stack tracejava lang throwabl tracejava lang throwabl com sun enterpris loader ASURLClassLoader SentinelInputStream lt init gt ASURLClassLoader java com sun enterpris loader ASURL class loader sentinel input stream lt init gt ASURL class loader java com sun enterpris loader ASURLClassLoader InternalJarURLConnection getInputStream ASURLClassLoader java com sun enterpris loader ASURL class loader intern jar URL connect get input stream ASURL class loader java java net URLClassLoader getResourceAsStream URLClassLoader java java net URL class loader get resourc stream URL class loader java com sun enterpris loader ASURLClassLoader getResourceAsStream ASURLClassLoader java com sun enterpris loader ASURL class loader get resourc stream ASURL class loader java java lang class getResourceAsStream class java java lang class get resourc stream class java org apach camel support ServiceSupport getVersion ServiceSupport java org apach camel support servic support get version servic support java org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel cdi CdiCamelContext start CdiCamelContext java org apach camel cdi cdi camel context start cdi camel context java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method similar issu issu XBEAN XBEAN JCR JCR,1,0,1,0,0,camel-core/src/main/java/org/apache/camel/support/ServiceSupport.java;camel-core/src/main/java/org/apache/camel/support/ServiceSupport.java;camel-core/src/main/java/org/apache/camel/support/ServiceSupport.java;,0
6267,Willem Jiang,null,0,camel-cxfrs blueprint configure could not be installed if there are some subelement settings, camel cxfr camel cxfr blueprint configur could not instal subel set,Got the OOM Exception when blueprint want to parser the setting like this.&lt;camelcxf:rsClient id='rsClient' address='http://localhost:9002/rest' serviceClass='org.apache.camel.itest.osgi.cxf.jaxrs.testbean.CustomerService'&gt; &lt;camelcxf:features&gt; &lt;bean class='org.apache.cxf.feature.LoggingFeature'/&gt; &lt;/camelcxf:features&gt; &lt;/camelcxf:rsClient&gt;, got OOM except blueprint want parser set like lt camelcxf rsClient lt camelcxf rs client id rsClient id rs client address http localhost rest address http localhost rest serviceClass org apach camel itest osgi cxf jaxr testbean CustomerService gt servic class org apach camel itest osgi cxf jaxr testbean custom servic gt lt camelcxf featur gt lt camelcxf featur gt lt bean lt bean class org apach cxf featur LoggingFeature gt class org apach cxf featur log featur gt lt camelcxf featur gt lt camelcxf featur gt lt camelcxf rsClient gt lt camelcxf rs client gt,0,0,1,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/blueprint/RsClientDefinitionParser.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/blueprint/RsServerDefinitionParser.java;tests/camel-itest-osgi/src/test/resources/org/apache/camel/itest/osgi/cxf/blueprint/CxfRsBlueprintRouter.xml;,0
6268,Claus Ibsen,camel-stream,0,camel-stream - Shutdown thread pool on consumer should happen faster, camel stream camel stream shutdown thread pool consum happen faster,Should be faster to shutdown this pool as you may see WARN logs on stopping Camel[ Thread-1] DefaultShutdownStrategy INFO Starting to graceful shutdown 1 routes (timeout 300 seconds)el-1) thread #2 - ShutdownTask DefaultExecutorServiceManager INFO Waited 2.001 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@48b4da9b&#91;Shutting down  pool size = 1  active threads = 1  queued tasks = 0  completed tasks = 0&#93;&#91;stream://in?promptMessage=Enter+something%3A+&#93; to terminate...el-1) thread #2 - ShutdownTask DefaultExecutorServiceManager INFO Waited 4.002 seconds for ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@48b4da9b&#91;Shutting down  pool size = 1  active threads = 1  queued tasks = 0  completed tasks = 0&#93;&#91;stream://in?promptMessage=Enter+something%3A+&#93; to terminate..., faster shutdown pool may see WARN log stop camel camel thread thread DefaultShutdownStrategy default shutdown strategi INFO start grace shutdown rout timeout second el second el thread ShutdownTask shutdown task DefaultExecutorServiceManager default executor servic manag INFO wait second ExecutorService executor servic org apach camel util concurr RejectableThreadPoolExecutor da shut org apach camel util concurr reject thread pool executor da shut pool size activ thread queu task complet task stream promptMessage enter someth stream prompt messag enter someth termin el termin el thread ShutdownTask shutdown task DefaultExecutorServiceManager default executor servic manag INFO wait second ExecutorService executor servic org apach camel util concurr RejectableThreadPoolExecutor da shut org apach camel util concurr reject thread pool executor da shut pool size activ thread queu task complet task stream promptMessage enter someth stream prompt messag enter someth termin termin,0,0,1,0,0,components/camel-stream/src/main/java/org/apache/camel/component/stream/StreamConsumer.java;,0
6271,Claus Ibsen,camel-core,0,StringQuoteHelper - Should ignore whitespace between quoted parameters, StringQuoteHelper string quot helper ignor whitespac quot paramet,Need to merge to 2.11 branch when created., need merg branch creat creat,0,0,0,0,0,camel-core/src/test/java/org/apache/camel/util/StingQuoteHelperTest.java;camel-core/src/main/java/org/apache/camel/util/StringQuoteHelper.java;camel-core/src/test/java/org/apache/camel/util/StingQuoteHelperTest.java;camel-core/src/main/java/org/apache/camel/util/StringQuoteHelper.java;camel-core/src/test/java/org/apache/camel/util/StingQuoteHelperTest.java;,0
6272,Claus Ibsen,camel-core,0,Bean - Improve choose method logic for no parameter methods, bean improv choos method logic no paramet method,We should optimize the logic and if a method name with no parameters has been defined  eg.to('bean:myBean?method=foo()')Or in ognl's such as.when().simple('${body.foo()} != null').to('direct:foo')Then we should optimize the logic to filter out methods with methods  as foo has been declare with no methods explicit by ()., optim logic method name no paramet defin eg bean myBean method foo eg bean bean method foo ognl ognl simpl bodi foo simpl bodi foo null direct foo null direct foo optim logic filter method method foo declar no method explicit,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleTest.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;,0
6274,Christian Müller,examples,0,camel-example-reportincident failed, camel exampl reportincid camel exampl reportincid fail,2013-04-14 12:40:23 207 [main ] ERROR ContextLoader - Context initialization failedorg.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route1: Route(route1)[[From[cxf:/incident?bus=#cxf&amp;serviceClass=org.... because of Failed to resolve endpoint: cxf:///incident?bus=%23cxf&amp;serviceClass=org.apache.camel.example.reportincident.ReportIncidentEndpoint&amp;wsdlURL=etc%2Freport_incident.wsdl due to: Could not find a suitable setter for property: bus as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: org.apache.cxf.Bus with value #cxf at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1338) at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:120) at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:285) at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:97) at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:327) at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:941) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:475) at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:388) at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:293) at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111) at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:740) at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:238) at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1238) at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:683) at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:480) at org.mortbay.jetty.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:256) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95) at org.eclipse.jetty.server.Server.doStart(Server.java:275) at org.mortbay.jetty.plugin.JettyServer.doStart(JettyServer.java:65) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:511) at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:364) at org.mortbay.jetty.plugin.JettyRunMojo.execute(JettyRunMojo.java:521) at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59) at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183) at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161) at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320) at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156) at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537) at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196) at org.apache.maven.cli.MavenCli.main(MavenCli.java:141) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290) at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230) at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409) at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route1: Route(route1)[[From[cxf:/incident?bus=#cxf&amp;serviceClass=org.... because of Failed to resolve endpoint: cxf:///incident?bus=%23cxf&amp;serviceClass=org.apache.camel.example.reportincident.ReportIncidentEndpoint&amp;wsdlURL=etc%2Freport_incident.wsdl due to: Could not find a suitable setter for property: bus as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: org.apache.cxf.Bus with value #cxf at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:181) at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:749) at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:1828) at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1608) at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1477) at org.apache.camel.spring.SpringCamelContext.doStart(SpringCamelContext.java:179) at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60) at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1445) at org.apache.camel.spring.SpringCamelContext.maybeStart(SpringCamelContext.java:228) at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:118) ... 48 moreCaused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: cxf:///incident?bus=%23cxf&amp;serviceClass=org.apache.camel.example.reportincident.ReportIncidentEndpoint&amp;wsdlURL=etc%2Freport_incident.wsdl due to: Could not find a suitable setter for property: bus as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: org.apache.cxf.Bus with value #cxf at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:507) at org.apache.camel.util.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:62) at org.apache.camel.model.RouteDefinition.resolveEndpoint(RouteDefinition.java:191) at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:108) at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:114) at org.apache.camel.model.FromDefinition.resolveEndpoint(FromDefinition.java:72) at org.apache.camel.impl.DefaultRouteContext.getEndpoint(DefaultRouteContext.java:90) at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:861) at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:176) ... 57 moreCaused by: java.lang.IllegalArgumentException: Could not find a suitable setter for property: bus as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: org.apache.cxf.Bus with value #cxf at org.apache.camel.util.IntrospectionSupport.setProperty(IntrospectionSupport.java:526) at org.apache.camel.util.IntrospectionSupport.setProperty(IntrospectionSupport.java:536) at org.apache.camel.util.IntrospectionSupport.setProperties(IntrospectionSupport.java:430) at org.apache.camel.util.EndpointHelper.setProperties(EndpointHelper.java:249) at org.apache.camel.impl.DefaultComponent.setProperties(DefaultComponent.java:258) at org.apache.camel.component.cxf.CxfComponent.createEndpoint(CxfComponent.java:84) at org.apache.camel.impl.DefaultComponent.createEndpoint(DefaultComponent.java:119) at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:487) ... 65 more2013-04-14 12:40:23.217:WARN:oejw.WebAppContext:Failed startup of context o.m.j.p.JettyWebAppContext{/ file:/Users/cmueller/workspaceRelease/camel/examples/camel-example-reportincident/src/main/webapp/} file:/Users/cmueller/workspaceRelease/camel/examples/camel-example-reportincident/src/main/webapp/org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route1: Route(route1)[[From[cxf:/incident?bus=#cxf&amp;serviceClass=org.... because of Failed to resolve endpoint: cxf:///incident?bus=%23cxf&amp;serviceClass=org.apache.camel.example.reportincident.ReportIncidentEndpoint&amp;wsdlURL=etc%2Freport_incident.wsdl due to: Could not find a suitable setter for property: bus as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: org.apache.cxf.Bus with value #cxf at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1338) at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:120) at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:285) at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:97) at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:327) at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:941) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:475) at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:388) at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:293) at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111) at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:740) at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:238) at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1238) at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:683) at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:480) at org.mortbay.jetty.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:256) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95) at org.eclipse.jetty.server.Server.doStart(Server.java:275) at org.mortbay.jetty.plugin.JettyServer.doStart(JettyServer.java:65) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:511) at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:364) at org.mortbay.jetty.plugin.JettyRunMojo.execute(JettyRunMojo.java:521) at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59) at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183) at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161) at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320) at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156) at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537) at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196) at org.apache.maven.cli.MavenCli.main(MavenCli.java:141) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290) at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230) at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409) at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)Caused by:org.apache.camel.FailedToCreateRouteException: Failed to create route route1: Route(route1)[[From[cxf:/incident?bus=#cxf&amp;serviceClass=org.... because of Failed to resolve endpoint: cxf:///incident?bus=%23cxf&amp;serviceClass=org.apache.camel.example.reportincident.ReportIncidentEndpoint&amp;wsdlURL=etc%2Freport_incident.wsdl due to: Could not find a suitable setter for property: bus as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: org.apache.cxf.Bus with value #cxf at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:181) at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:749) at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:1828) at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1608) at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1477) at org.apache.camel.spring.SpringCamelContext.doStart(SpringCamelContext.java:179) at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60) at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1445) at org.apache.camel.spring.SpringCamelContext.maybeStart(SpringCamelContext.java:228) at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:118) at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:285) at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:97) at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:327) at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:941) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:475) at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:388) at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:293) at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111) at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:740) at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:238) at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1238) at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:683) at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:480) at org.mortbay.jetty.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:256) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95) at org.eclipse.jetty.server.Server.doStart(Server.java:275) at org.mortbay.jetty.plugin.JettyServer.doStart(JettyServer.java:65) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:511) at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:364) at org.mortbay.jetty.plugin.JettyRunMojo.execute(JettyRunMojo.java:521) at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59) at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183) at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161) at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320) at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156) at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537) at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196) at org.apache.maven.cli.MavenCli.main(MavenCli.java:141) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290) at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230) at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409) at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)Caused by:org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: cxf:///incident?bus=%23cxf&amp;serviceClass=org.apache.camel.example.reportincident.ReportIncidentEndpoint&amp;wsdlURL=etc%2Freport_incident.wsdl due to: Could not find a suitable setter for property: bus as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: org.apache.cxf.Bus with value #cxf at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:507) at org.apache.camel.util.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:62) at org.apache.camel.model.RouteDefinition.resolveEndpoint(RouteDefinition.java:191) at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:108) at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:114) at org.apache.camel.model.FromDefinition.resolveEndpoint(FromDefinition.java:72) at org.apache.camel.impl.DefaultRouteContext.getEndpoint(DefaultRouteContext.java:90) at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:861) at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:176) at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:749) at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:1828) at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1608) at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1477) at org.apache.camel.spring.SpringCamelContext.doStart(SpringCamelContext.java:179) at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60) at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1445) at org.apache.camel.spring.SpringCamelContext.maybeStart(SpringCamelContext.java:228) at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:118) at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:285) at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:97) at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:327) at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:941) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:475) at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:388) at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:293) at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111) at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:740) at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:238) at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1238) at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:683) at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:480) at org.mortbay.jetty.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:256) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95) at org.eclipse.jetty.server.Server.doStart(Server.java:275) at org.mortbay.jetty.plugin.JettyServer.doStart(JettyServer.java:65) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:511) at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:364) at org.mortbay.jetty.plugin.JettyRunMojo.execute(JettyRunMojo.java:521) at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59) at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183) at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161) at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320) at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156) at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537) at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196) at org.apache.maven.cli.MavenCli.main(MavenCli.java:141) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290) at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230) at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409) at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)Caused by:java.lang.IllegalArgumentException: Could not find a suitable setter for property: bus as there isn't a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: org.apache.cxf.Bus with value #cxf at org.apache.camel.util.IntrospectionSupport.setProperty(IntrospectionSupport.java:526) at org.apache.camel.util.IntrospectionSupport.setProperty(IntrospectionSupport.java:536) at org.apache.camel.util.IntrospectionSupport.setProperties(IntrospectionSupport.java:430) at org.apache.camel.util.EndpointHelper.setProperties(EndpointHelper.java:249) at org.apache.camel.impl.DefaultComponent.setProperties(DefaultComponent.java:258) at org.apache.camel.component.cxf.CxfComponent.createEndpoint(CxfComponent.java:84) at org.apache.camel.impl.DefaultComponent.createEndpoint(DefaultComponent.java:119) at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:487) at org.apache.camel.util.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:62) at org.apache.camel.model.RouteDefinition.resolveEndpoint(RouteDefinition.java:191) at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:108) at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:114) at org.apache.camel.model.FromDefinition.resolveEndpoint(FromDefinition.java:72) at org.apache.camel.impl.DefaultRouteContext.getEndpoint(DefaultRouteContext.java:90) at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:861) at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:176) at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:749) at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:1828) at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1608) at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1477) at org.apache.camel.spring.SpringCamelContext.doStart(SpringCamelContext.java:179) at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60) at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1445) at org.apache.camel.spring.SpringCamelContext.maybeStart(SpringCamelContext.java:228) at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:118) at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:285) at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:97) at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:327) at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:941) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:475) at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:388) at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:293) at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111) at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:740) at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:238) at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1238) at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:683) at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:480) at org.mortbay.jetty.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:256) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95) at org.eclipse.jetty.server.Server.doStart(Server.java:275) at org.mortbay.jetty.plugin.JettyServer.doStart(JettyServer.java:65) at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:511) at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:364) at org.mortbay.jetty.plugin.JettyRunMojo.execute(JettyRunMojo.java:521) at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59) at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183) at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161) at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320) at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156) at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537) at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196) at org.apache.maven.cli.MavenCli.main(MavenCli.java:141) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290) at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230) at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409) at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)2013-04-14 12:40:23.241:INFO:oejs.AbstractConnector:Started SelectChannelConnector@0.0.0.0:9080, main ERROR ContextLoader context loader context initi failedorg apach camel RuntimeCamelException failedorg apach camel runtim camel except org apach camel FailedToCreateRouteException org apach camel fail creat rout except fail creat rout rout rout rout rout cxf incid bu cxf amp serviceClass org rout rout cxf incid bu cxf amp servic class org fail resolv endpoint endpoint cxf incid bu cxf amp serviceClass org apach camel exampl reportincid ReportIncidentEndpoint amp wsdlURL etc Freport_incident wsdl cxf incid bu cxf amp servic class org apach camel exampl reportincid report incid endpoint amp wsdl URL etc Freport_incident wsdl due could not find suitabl setter properti properti bu setter method type type java lang string java lang string nor type convers possibl possibl No type convert avail convert type type java lang string java lang string requir type type org apach cxf bu org apach cxf bu valu cxf org apach camel util ObjectHelper wrapRuntimeCamelException ObjectHelper java org apach camel util object helper wrap runtim camel except object helper java org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel spring spring camel context applic event spring camel context java org apach camel spring CamelContextFactoryBean onApplicationEvent CamelContextFactoryBean java org apach camel spring camel context factori bean applic event camel context factori bean java org springframework context event SimpleApplicationEventMulticaster multicastEvent SimpleApplicationEventMulticaster java org springframework context event simpl applic event multicast multicast event simpl applic event multicast java org springframework context support AbstractApplicationContext publishEvent AbstractApplicationContext java org springframework context support abstract applic context publish event abstract applic context java org springframework context support AbstractApplicationContext finishRefresh AbstractApplicationContext java org springframework context support abstract applic context finish refresh abstract applic context java org springframework context support AbstractApplicationContext refresh AbstractApplicationContext java org springframework context support abstract applic context refresh abstract applic context java org springframework web context ContextLoader configureAndRefreshWebApplicationContext ContextLoader java org springframework web context context loader configur refresh web applic context context loader java org springframework web context ContextLoader initWebApplicationContext ContextLoader java org springframework web context context loader init web applic context context loader java org springframework web context ContextLoaderListener contextInitialized ContextLoaderListener java org springframework web context context loader listen context initi context loader listen java org eclips jetti server handler ContextHandler startContext ContextHandler java org eclips jetti server handler context handler start context context handler java org eclips jetti servlet ServletContextHandler startContext ServletContextHandler java org eclips jetti servlet servlet context handler start context servlet context handler java org eclips jetti webapp WebAppContext startContext WebAppContext java org eclips jetti webapp web app context start context web app context java org eclips jetti server handler ContextHandler doStart ContextHandler java org eclips jetti server handler context handler start context handler java org eclips jetti webapp WebAppContext doStart WebAppContext java org eclips jetti webapp web app context start web app context java org mortbay jetti plugin JettyWebAppContext doStart JettyWebAppContext java org mortbay jetti plugin jetti web app context start jetti web app context java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerCollection doStart HandlerCollection java org eclips jetti server handler handler collect start handler collect java org eclips jetti server handler ContextHandlerCollection doStart ContextHandlerCollection java org eclips jetti server handler context handler collect start context handler collect java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerCollection doStart HandlerCollection java org eclips jetti server handler handler collect start handler collect java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerWrapper doStart HandlerWrapper java org eclips jetti server handler handler wrapper start handler wrapper java org eclips jetti server server doStart server java org eclips jetti server server start server java org mortbay jetti plugin JettyServer doStart JettyServer java org mortbay jetti plugin jetti server start jetti server java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org mortbay jetti plugin AbstractJettyMojo startJetty AbstractJettyMojo java org mortbay jetti plugin abstract jetti mojo start jetti abstract jetti mojo java org mortbay jetti plugin AbstractJettyMojo execut AbstractJettyMojo java org mortbay jetti plugin abstract jetti mojo execut abstract jetti mojo java org mortbay jetti plugin JettyRunMojo execut JettyRunMojo java org mortbay jetti plugin jetti run mojo execut jetti run mojo java org apach maven plugin DefaultBuildPluginManager executeMojo DefaultBuildPluginManager java org apach maven plugin default build plugin manag execut mojo default build plugin manag java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apach maven lifecycl intern lifecycl modul builder build project lifecycl modul builder java org apach maven lifecycl intern LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apach maven lifecycl intern lifecycl modul builder build project lifecycl modul builder java org apach maven lifecycl intern LifecycleStarter singleThreadedBuild LifecycleStarter java org apach maven lifecycl intern lifecycl starter singl thread build lifecycl starter java org apach maven lifecycl intern LifecycleStarter execut LifecycleStarter java org apach maven lifecycl intern lifecycl starter execut lifecycl starter java org apach maven DefaultMaven doExecute DefaultMaven java org apach maven default maven execut default maven java org apach maven DefaultMaven execut DefaultMaven java org apach maven default maven execut default maven java org apach maven cli MavenCli execut MavenCli java org apach maven cli maven cli execut maven cli java org apach maven cli MavenCli doMain MavenCli java org apach maven cli maven cli main maven cli java org apach maven cli MavenCli main MavenCli java org apach maven cli maven cli main maven cli java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org codehau plexu classworld launcher launcher launchEnhanced launcher java org codehau plexu classworld launcher launcher launch enhanc launcher java org codehau plexu classworld launcher launcher launch launcher java org codehau plexu classworld launcher launcher launch launcher java org codehau plexu classworld launcher launcher mainWithExitCode launcher java org codehau plexu classworld launcher launcher main exit code launcher java org codehau plexu classworld launcher launcher main launcher java caus org codehau plexu classworld launcher launcher main launcher java caus org apach camel FailedToCreateRouteException org apach camel fail creat rout except fail creat rout rout rout rout rout cxf incid bu cxf amp serviceClass org rout rout cxf incid bu cxf amp servic class org fail resolv endpoint endpoint cxf incid bu cxf amp serviceClass org apach camel exampl reportincid ReportIncidentEndpoint amp wsdlURL etc Freport_incident wsdl cxf incid bu cxf amp servic class org apach camel exampl reportincid report incid endpoint amp wsdl URL etc Freport_incident wsdl due could not find suitabl setter properti properti bu setter method type type java lang string java lang string nor type convers possibl possibl No type convert avail convert type type java lang string java lang string requir type type org apach cxf bu org apach cxf bu valu cxf org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java org apach camel impl DefaultCamelContext startRoute DefaultCamelContext java org apach camel impl default camel context start rout default camel context java org apach camel impl DefaultCamelContext startRouteDefinitions DefaultCamelContext java org apach camel impl default camel context start rout definit default camel context java org apach camel impl DefaultCamelContext doStartCamel DefaultCamelContext java org apach camel impl default camel context start camel default camel context java org apach camel impl DefaultCamelContext doStart DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext doStart SpringCamelContext java org apach camel spring spring camel context start spring camel context java org apach camel support ServiceSupport start ServiceSupport java org apach camel support servic support start servic support java org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext maybeStart SpringCamelContext java org apach camel spring spring camel context mayb start spring camel context java org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel spring spring camel context applic event spring camel context java moreCaused caus org apach camel ResolveEndpointFailedException org apach camel resolv endpoint fail except fail resolv endpoint endpoint cxf incid bu cxf amp serviceClass org apach camel exampl reportincid ReportIncidentEndpoint amp wsdlURL etc Freport_incident wsdl cxf incid bu cxf amp servic class org apach camel exampl reportincid report incid endpoint amp wsdl URL etc Freport_incident wsdl due could not find suitabl setter properti properti bu setter method type type java lang string java lang string nor type convers possibl possibl No type convert avail convert type type java lang string java lang string requir type type org apach cxf bu org apach cxf bu valu cxf org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java org apach camel util CamelContextHelper getMandatoryEndpoint CamelContextHelper java org apach camel util camel context helper get mandatori endpoint camel context helper java org apach camel model RouteDefinition resolveEndpoint RouteDefinition java org apach camel model rout definit resolv endpoint rout definit java org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java org apach camel model FromDefinition resolveEndpoint FromDefinition java org apach camel model definit resolv endpoint definit java org apach camel impl DefaultRouteContext getEndpoint DefaultRouteContext java org apach camel impl default rout context get endpoint default rout context java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java moreCaused caus java lang IllegalArgumentException java lang illeg argument except could not find suitabl setter properti properti bu setter method type type java lang string java lang string nor type convers possibl possibl No type convert avail convert type type java lang string java lang string requir type type org apach cxf bu org apach cxf bu valu cxf org apach camel util IntrospectionSupport setProperty IntrospectionSupport java org apach camel util introspect support set properti introspect support java org apach camel util IntrospectionSupport setProperty IntrospectionSupport java org apach camel util introspect support set properti introspect support java org apach camel util IntrospectionSupport setProperties IntrospectionSupport java org apach camel util introspect support set properti introspect support java org apach camel util EndpointHelper setProperties EndpointHelper java org apach camel util endpoint helper set properti endpoint helper java org apach camel impl DefaultComponent setProperties DefaultComponent java org apach camel impl default compon set properti default compon java org apach camel compon cxf CxfComponent createEndpoint CxfComponent java org apach camel compon cxf cxf compon creat endpoint cxf compon java org apach camel impl DefaultComponent createEndpoint DefaultComponent java org apach camel impl default compon creat endpoint default compon java org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java WARN oejw WebAppContext fail WARN oejw web app context fail startup context JettyWebAppContext jetti web app context file user cmueller workspaceRelease camel exampl camel exampl reportincid src main webapp file user cmueller workspac releas camel exampl camel exampl reportincid src main webapp file user cmueller workspaceRelease camel exampl camel exampl reportincid src main webapp org apach camel RuntimeCamelException file user cmueller workspac releas camel exampl camel exampl reportincid src main webapp org apach camel runtim camel except org apach camel FailedToCreateRouteException org apach camel fail creat rout except fail creat rout rout rout rout rout cxf incid bu cxf amp serviceClass org rout rout cxf incid bu cxf amp servic class org fail resolv endpoint endpoint cxf incid bu cxf amp serviceClass org apach camel exampl reportincid ReportIncidentEndpoint amp wsdlURL etc Freport_incident wsdl cxf incid bu cxf amp servic class org apach camel exampl reportincid report incid endpoint amp wsdl URL etc Freport_incident wsdl due could not find suitabl setter properti properti bu setter method type type java lang string java lang string nor type convers possibl possibl No type convert avail convert type type java lang string java lang string requir type type org apach cxf bu org apach cxf bu valu cxf org apach camel util ObjectHelper wrapRuntimeCamelException ObjectHelper java org apach camel util object helper wrap runtim camel except object helper java org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel spring spring camel context applic event spring camel context java org apach camel spring CamelContextFactoryBean onApplicationEvent CamelContextFactoryBean java org apach camel spring camel context factori bean applic event camel context factori bean java org springframework context event SimpleApplicationEventMulticaster multicastEvent SimpleApplicationEventMulticaster java org springframework context event simpl applic event multicast multicast event simpl applic event multicast java org springframework context support AbstractApplicationContext publishEvent AbstractApplicationContext java org springframework context support abstract applic context publish event abstract applic context java org springframework context support AbstractApplicationContext finishRefresh AbstractApplicationContext java org springframework context support abstract applic context finish refresh abstract applic context java org springframework context support AbstractApplicationContext refresh AbstractApplicationContext java org springframework context support abstract applic context refresh abstract applic context java org springframework web context ContextLoader configureAndRefreshWebApplicationContext ContextLoader java org springframework web context context loader configur refresh web applic context context loader java org springframework web context ContextLoader initWebApplicationContext ContextLoader java org springframework web context context loader init web applic context context loader java org springframework web context ContextLoaderListener contextInitialized ContextLoaderListener java org springframework web context context loader listen context initi context loader listen java org eclips jetti server handler ContextHandler startContext ContextHandler java org eclips jetti server handler context handler start context context handler java org eclips jetti servlet ServletContextHandler startContext ServletContextHandler java org eclips jetti servlet servlet context handler start context servlet context handler java org eclips jetti webapp WebAppContext startContext WebAppContext java org eclips jetti webapp web app context start context web app context java org eclips jetti server handler ContextHandler doStart ContextHandler java org eclips jetti server handler context handler start context handler java org eclips jetti webapp WebAppContext doStart WebAppContext java org eclips jetti webapp web app context start web app context java org mortbay jetti plugin JettyWebAppContext doStart JettyWebAppContext java org mortbay jetti plugin jetti web app context start jetti web app context java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerCollection doStart HandlerCollection java org eclips jetti server handler handler collect start handler collect java org eclips jetti server handler ContextHandlerCollection doStart ContextHandlerCollection java org eclips jetti server handler context handler collect start context handler collect java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerCollection doStart HandlerCollection java org eclips jetti server handler handler collect start handler collect java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerWrapper doStart HandlerWrapper java org eclips jetti server handler handler wrapper start handler wrapper java org eclips jetti server server doStart server java org eclips jetti server server start server java org mortbay jetti plugin JettyServer doStart JettyServer java org mortbay jetti plugin jetti server start jetti server java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org mortbay jetti plugin AbstractJettyMojo startJetty AbstractJettyMojo java org mortbay jetti plugin abstract jetti mojo start jetti abstract jetti mojo java org mortbay jetti plugin AbstractJettyMojo execut AbstractJettyMojo java org mortbay jetti plugin abstract jetti mojo execut abstract jetti mojo java org mortbay jetti plugin JettyRunMojo execut JettyRunMojo java org mortbay jetti plugin jetti run mojo execut jetti run mojo java org apach maven plugin DefaultBuildPluginManager executeMojo DefaultBuildPluginManager java org apach maven plugin default build plugin manag execut mojo default build plugin manag java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apach maven lifecycl intern lifecycl modul builder build project lifecycl modul builder java org apach maven lifecycl intern LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apach maven lifecycl intern lifecycl modul builder build project lifecycl modul builder java org apach maven lifecycl intern LifecycleStarter singleThreadedBuild LifecycleStarter java org apach maven lifecycl intern lifecycl starter singl thread build lifecycl starter java org apach maven lifecycl intern LifecycleStarter execut LifecycleStarter java org apach maven lifecycl intern lifecycl starter execut lifecycl starter java org apach maven DefaultMaven doExecute DefaultMaven java org apach maven default maven execut default maven java org apach maven DefaultMaven execut DefaultMaven java org apach maven default maven execut default maven java org apach maven cli MavenCli execut MavenCli java org apach maven cli maven cli execut maven cli java org apach maven cli MavenCli doMain MavenCli java org apach maven cli maven cli main maven cli java org apach maven cli MavenCli main MavenCli java org apach maven cli maven cli main maven cli java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org codehau plexu classworld launcher launcher launchEnhanced launcher java org codehau plexu classworld launcher launcher launch enhanc launcher java org codehau plexu classworld launcher launcher launch launcher java org codehau plexu classworld launcher launcher launch launcher java org codehau plexu classworld launcher launcher mainWithExitCode launcher java org codehau plexu classworld launcher launcher main exit code launcher java org codehau plexu classworld launcher launcher main launcher java caus org codehau plexu classworld launcher launcher main launcher java caus org apach camel FailedToCreateRouteException org apach camel fail creat rout except fail creat rout rout rout rout rout cxf incid bu cxf amp serviceClass org rout rout cxf incid bu cxf amp servic class org fail resolv endpoint endpoint cxf incid bu cxf amp serviceClass org apach camel exampl reportincid ReportIncidentEndpoint amp wsdlURL etc Freport_incident wsdl cxf incid bu cxf amp servic class org apach camel exampl reportincid report incid endpoint amp wsdl URL etc Freport_incident wsdl due could not find suitabl setter properti properti bu setter method type type java lang string java lang string nor type convers possibl possibl No type convert avail convert type type java lang string java lang string requir type type org apach cxf bu org apach cxf bu valu cxf org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java org apach camel impl DefaultCamelContext startRoute DefaultCamelContext java org apach camel impl default camel context start rout default camel context java org apach camel impl DefaultCamelContext startRouteDefinitions DefaultCamelContext java org apach camel impl default camel context start rout definit default camel context java org apach camel impl DefaultCamelContext doStartCamel DefaultCamelContext java org apach camel impl default camel context start camel default camel context java org apach camel impl DefaultCamelContext doStart DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext doStart SpringCamelContext java org apach camel spring spring camel context start spring camel context java org apach camel support ServiceSupport start ServiceSupport java org apach camel support servic support start servic support java org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext maybeStart SpringCamelContext java org apach camel spring spring camel context mayb start spring camel context java org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel spring spring camel context applic event spring camel context java org apach camel spring CamelContextFactoryBean onApplicationEvent CamelContextFactoryBean java org apach camel spring camel context factori bean applic event camel context factori bean java org springframework context event SimpleApplicationEventMulticaster multicastEvent SimpleApplicationEventMulticaster java org springframework context event simpl applic event multicast multicast event simpl applic event multicast java org springframework context support AbstractApplicationContext publishEvent AbstractApplicationContext java org springframework context support abstract applic context publish event abstract applic context java org springframework context support AbstractApplicationContext finishRefresh AbstractApplicationContext java org springframework context support abstract applic context finish refresh abstract applic context java org springframework context support AbstractApplicationContext refresh AbstractApplicationContext java org springframework context support abstract applic context refresh abstract applic context java org springframework web context ContextLoader configureAndRefreshWebApplicationContext ContextLoader java org springframework web context context loader configur refresh web applic context context loader java org springframework web context ContextLoader initWebApplicationContext ContextLoader java org springframework web context context loader init web applic context context loader java org springframework web context ContextLoaderListener contextInitialized ContextLoaderListener java org springframework web context context loader listen context initi context loader listen java org eclips jetti server handler ContextHandler startContext ContextHandler java org eclips jetti server handler context handler start context context handler java org eclips jetti servlet ServletContextHandler startContext ServletContextHandler java org eclips jetti servlet servlet context handler start context servlet context handler java org eclips jetti webapp WebAppContext startContext WebAppContext java org eclips jetti webapp web app context start context web app context java org eclips jetti server handler ContextHandler doStart ContextHandler java org eclips jetti server handler context handler start context handler java org eclips jetti webapp WebAppContext doStart WebAppContext java org eclips jetti webapp web app context start web app context java org mortbay jetti plugin JettyWebAppContext doStart JettyWebAppContext java org mortbay jetti plugin jetti web app context start jetti web app context java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerCollection doStart HandlerCollection java org eclips jetti server handler handler collect start handler collect java org eclips jetti server handler ContextHandlerCollection doStart ContextHandlerCollection java org eclips jetti server handler context handler collect start context handler collect java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerCollection doStart HandlerCollection java org eclips jetti server handler handler collect start handler collect java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerWrapper doStart HandlerWrapper java org eclips jetti server handler handler wrapper start handler wrapper java org eclips jetti server server doStart server java org eclips jetti server server start server java org mortbay jetti plugin JettyServer doStart JettyServer java org mortbay jetti plugin jetti server start jetti server java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org mortbay jetti plugin AbstractJettyMojo startJetty AbstractJettyMojo java org mortbay jetti plugin abstract jetti mojo start jetti abstract jetti mojo java org mortbay jetti plugin AbstractJettyMojo execut AbstractJettyMojo java org mortbay jetti plugin abstract jetti mojo execut abstract jetti mojo java org mortbay jetti plugin JettyRunMojo execut JettyRunMojo java org mortbay jetti plugin jetti run mojo execut jetti run mojo java org apach maven plugin DefaultBuildPluginManager executeMojo DefaultBuildPluginManager java org apach maven plugin default build plugin manag execut mojo default build plugin manag java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apach maven lifecycl intern lifecycl modul builder build project lifecycl modul builder java org apach maven lifecycl intern LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apach maven lifecycl intern lifecycl modul builder build project lifecycl modul builder java org apach maven lifecycl intern LifecycleStarter singleThreadedBuild LifecycleStarter java org apach maven lifecycl intern lifecycl starter singl thread build lifecycl starter java org apach maven lifecycl intern LifecycleStarter execut LifecycleStarter java org apach maven lifecycl intern lifecycl starter execut lifecycl starter java org apach maven DefaultMaven doExecute DefaultMaven java org apach maven default maven execut default maven java org apach maven DefaultMaven execut DefaultMaven java org apach maven default maven execut default maven java org apach maven cli MavenCli execut MavenCli java org apach maven cli maven cli execut maven cli java org apach maven cli MavenCli doMain MavenCli java org apach maven cli maven cli main maven cli java org apach maven cli MavenCli main MavenCli java org apach maven cli maven cli main maven cli java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org codehau plexu classworld launcher launcher launchEnhanced launcher java org codehau plexu classworld launcher launcher launch enhanc launcher java org codehau plexu classworld launcher launcher launch launcher java org codehau plexu classworld launcher launcher launch launcher java org codehau plexu classworld launcher launcher mainWithExitCode launcher java org codehau plexu classworld launcher launcher main exit code launcher java org codehau plexu classworld launcher launcher main launcher java caus org codehau plexu classworld launcher launcher main launcher java caus org apach camel ResolveEndpointFailedException org apach camel resolv endpoint fail except fail resolv endpoint endpoint cxf incid bu cxf amp serviceClass org apach camel exampl reportincid ReportIncidentEndpoint amp wsdlURL etc Freport_incident wsdl cxf incid bu cxf amp servic class org apach camel exampl reportincid report incid endpoint amp wsdl URL etc Freport_incident wsdl due could not find suitabl setter properti properti bu setter method type type java lang string java lang string nor type convers possibl possibl No type convert avail convert type type java lang string java lang string requir type type org apach cxf bu org apach cxf bu valu cxf org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java org apach camel util CamelContextHelper getMandatoryEndpoint CamelContextHelper java org apach camel util camel context helper get mandatori endpoint camel context helper java org apach camel model RouteDefinition resolveEndpoint RouteDefinition java org apach camel model rout definit resolv endpoint rout definit java org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java org apach camel model FromDefinition resolveEndpoint FromDefinition java org apach camel model definit resolv endpoint definit java org apach camel impl DefaultRouteContext getEndpoint DefaultRouteContext java org apach camel impl default rout context get endpoint default rout context java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java org apach camel impl DefaultCamelContext startRoute DefaultCamelContext java org apach camel impl default camel context start rout default camel context java org apach camel impl DefaultCamelContext startRouteDefinitions DefaultCamelContext java org apach camel impl default camel context start rout definit default camel context java org apach camel impl DefaultCamelContext doStartCamel DefaultCamelContext java org apach camel impl default camel context start camel default camel context java org apach camel impl DefaultCamelContext doStart DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext doStart SpringCamelContext java org apach camel spring spring camel context start spring camel context java org apach camel support ServiceSupport start ServiceSupport java org apach camel support servic support start servic support java org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext maybeStart SpringCamelContext java org apach camel spring spring camel context mayb start spring camel context java org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel spring spring camel context applic event spring camel context java org apach camel spring CamelContextFactoryBean onApplicationEvent CamelContextFactoryBean java org apach camel spring camel context factori bean applic event camel context factori bean java org springframework context event SimpleApplicationEventMulticaster multicastEvent SimpleApplicationEventMulticaster java org springframework context event simpl applic event multicast multicast event simpl applic event multicast java org springframework context support AbstractApplicationContext publishEvent AbstractApplicationContext java org springframework context support abstract applic context publish event abstract applic context java org springframework context support AbstractApplicationContext finishRefresh AbstractApplicationContext java org springframework context support abstract applic context finish refresh abstract applic context java org springframework context support AbstractApplicationContext refresh AbstractApplicationContext java org springframework context support abstract applic context refresh abstract applic context java org springframework web context ContextLoader configureAndRefreshWebApplicationContext ContextLoader java org springframework web context context loader configur refresh web applic context context loader java org springframework web context ContextLoader initWebApplicationContext ContextLoader java org springframework web context context loader init web applic context context loader java org springframework web context ContextLoaderListener contextInitialized ContextLoaderListener java org springframework web context context loader listen context initi context loader listen java org eclips jetti server handler ContextHandler startContext ContextHandler java org eclips jetti server handler context handler start context context handler java org eclips jetti servlet ServletContextHandler startContext ServletContextHandler java org eclips jetti servlet servlet context handler start context servlet context handler java org eclips jetti webapp WebAppContext startContext WebAppContext java org eclips jetti webapp web app context start context web app context java org eclips jetti server handler ContextHandler doStart ContextHandler java org eclips jetti server handler context handler start context handler java org eclips jetti webapp WebAppContext doStart WebAppContext java org eclips jetti webapp web app context start web app context java org mortbay jetti plugin JettyWebAppContext doStart JettyWebAppContext java org mortbay jetti plugin jetti web app context start jetti web app context java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerCollection doStart HandlerCollection java org eclips jetti server handler handler collect start handler collect java org eclips jetti server handler ContextHandlerCollection doStart ContextHandlerCollection java org eclips jetti server handler context handler collect start context handler collect java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerCollection doStart HandlerCollection java org eclips jetti server handler handler collect start handler collect java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerWrapper doStart HandlerWrapper java org eclips jetti server handler handler wrapper start handler wrapper java org eclips jetti server server doStart server java org eclips jetti server server start server java org mortbay jetti plugin JettyServer doStart JettyServer java org mortbay jetti plugin jetti server start jetti server java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org mortbay jetti plugin AbstractJettyMojo startJetty AbstractJettyMojo java org mortbay jetti plugin abstract jetti mojo start jetti abstract jetti mojo java org mortbay jetti plugin AbstractJettyMojo execut AbstractJettyMojo java org mortbay jetti plugin abstract jetti mojo execut abstract jetti mojo java org mortbay jetti plugin JettyRunMojo execut JettyRunMojo java org mortbay jetti plugin jetti run mojo execut jetti run mojo java org apach maven plugin DefaultBuildPluginManager executeMojo DefaultBuildPluginManager java org apach maven plugin default build plugin manag execut mojo default build plugin manag java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apach maven lifecycl intern lifecycl modul builder build project lifecycl modul builder java org apach maven lifecycl intern LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apach maven lifecycl intern lifecycl modul builder build project lifecycl modul builder java org apach maven lifecycl intern LifecycleStarter singleThreadedBuild LifecycleStarter java org apach maven lifecycl intern lifecycl starter singl thread build lifecycl starter java org apach maven lifecycl intern LifecycleStarter execut LifecycleStarter java org apach maven lifecycl intern lifecycl starter execut lifecycl starter java org apach maven DefaultMaven doExecute DefaultMaven java org apach maven default maven execut default maven java org apach maven DefaultMaven execut DefaultMaven java org apach maven default maven execut default maven java org apach maven cli MavenCli execut MavenCli java org apach maven cli maven cli execut maven cli java org apach maven cli MavenCli doMain MavenCli java org apach maven cli maven cli main maven cli java org apach maven cli MavenCli main MavenCli java org apach maven cli maven cli main maven cli java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org codehau plexu classworld launcher launcher launchEnhanced launcher java org codehau plexu classworld launcher launcher launch enhanc launcher java org codehau plexu classworld launcher launcher launch launcher java org codehau plexu classworld launcher launcher launch launcher java org codehau plexu classworld launcher launcher mainWithExitCode launcher java org codehau plexu classworld launcher launcher main exit code launcher java org codehau plexu classworld launcher launcher main launcher java caus org codehau plexu classworld launcher launcher main launcher java caus java lang IllegalArgumentException java lang illeg argument except could not find suitabl setter properti properti bu setter method type type java lang string java lang string nor type convers possibl possibl No type convert avail convert type type java lang string java lang string requir type type org apach cxf bu org apach cxf bu valu cxf org apach camel util IntrospectionSupport setProperty IntrospectionSupport java org apach camel util introspect support set properti introspect support java org apach camel util IntrospectionSupport setProperty IntrospectionSupport java org apach camel util introspect support set properti introspect support java org apach camel util IntrospectionSupport setProperties IntrospectionSupport java org apach camel util introspect support set properti introspect support java org apach camel util EndpointHelper setProperties EndpointHelper java org apach camel util endpoint helper set properti endpoint helper java org apach camel impl DefaultComponent setProperties DefaultComponent java org apach camel impl default compon set properti default compon java org apach camel compon cxf CxfComponent createEndpoint CxfComponent java org apach camel compon cxf cxf compon creat endpoint cxf compon java org apach camel impl DefaultComponent createEndpoint DefaultComponent java org apach camel impl default compon creat endpoint default compon java org apach camel impl DefaultCamelContext getEndpoint DefaultCamelContext java org apach camel impl default camel context get endpoint default camel context java org apach camel util CamelContextHelper getMandatoryEndpoint CamelContextHelper java org apach camel util camel context helper get mandatori endpoint camel context helper java org apach camel model RouteDefinition resolveEndpoint RouteDefinition java org apach camel model rout definit resolv endpoint rout definit java org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java org apach camel impl DefaultRouteContext resolveEndpoint DefaultRouteContext java org apach camel impl default rout context resolv endpoint default rout context java org apach camel model FromDefinition resolveEndpoint FromDefinition java org apach camel model definit resolv endpoint definit java org apach camel impl DefaultRouteContext getEndpoint DefaultRouteContext java org apach camel impl default rout context get endpoint default rout context java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java org apach camel model RouteDefinition addRoutes RouteDefinition java org apach camel model rout definit add rout rout definit java org apach camel impl DefaultCamelContext startRoute DefaultCamelContext java org apach camel impl default camel context start rout default camel context java org apach camel impl DefaultCamelContext startRouteDefinitions DefaultCamelContext java org apach camel impl default camel context start rout definit default camel context java org apach camel impl DefaultCamelContext doStartCamel DefaultCamelContext java org apach camel impl default camel context start camel default camel context java org apach camel impl DefaultCamelContext doStart DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext doStart SpringCamelContext java org apach camel spring spring camel context start spring camel context java org apach camel support ServiceSupport start ServiceSupport java org apach camel support servic support start servic support java org apach camel impl DefaultCamelContext start DefaultCamelContext java org apach camel impl default camel context start default camel context java org apach camel spring SpringCamelContext maybeStart SpringCamelContext java org apach camel spring spring camel context mayb start spring camel context java org apach camel spring SpringCamelContext onApplicationEvent SpringCamelContext java org apach camel spring spring camel context applic event spring camel context java org apach camel spring CamelContextFactoryBean onApplicationEvent CamelContextFactoryBean java org apach camel spring camel context factori bean applic event camel context factori bean java org springframework context event SimpleApplicationEventMulticaster multicastEvent SimpleApplicationEventMulticaster java org springframework context event simpl applic event multicast multicast event simpl applic event multicast java org springframework context support AbstractApplicationContext publishEvent AbstractApplicationContext java org springframework context support abstract applic context publish event abstract applic context java org springframework context support AbstractApplicationContext finishRefresh AbstractApplicationContext java org springframework context support abstract applic context finish refresh abstract applic context java org springframework context support AbstractApplicationContext refresh AbstractApplicationContext java org springframework context support abstract applic context refresh abstract applic context java org springframework web context ContextLoader configureAndRefreshWebApplicationContext ContextLoader java org springframework web context context loader configur refresh web applic context context loader java org springframework web context ContextLoader initWebApplicationContext ContextLoader java org springframework web context context loader init web applic context context loader java org springframework web context ContextLoaderListener contextInitialized ContextLoaderListener java org springframework web context context loader listen context initi context loader listen java org eclips jetti server handler ContextHandler startContext ContextHandler java org eclips jetti server handler context handler start context context handler java org eclips jetti servlet ServletContextHandler startContext ServletContextHandler java org eclips jetti servlet servlet context handler start context servlet context handler java org eclips jetti webapp WebAppContext startContext WebAppContext java org eclips jetti webapp web app context start context web app context java org eclips jetti server handler ContextHandler doStart ContextHandler java org eclips jetti server handler context handler start context handler java org eclips jetti webapp WebAppContext doStart WebAppContext java org eclips jetti webapp web app context start web app context java org mortbay jetti plugin JettyWebAppContext doStart JettyWebAppContext java org mortbay jetti plugin jetti web app context start jetti web app context java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerCollection doStart HandlerCollection java org eclips jetti server handler handler collect start handler collect java org eclips jetti server handler ContextHandlerCollection doStart ContextHandlerCollection java org eclips jetti server handler context handler collect start context handler collect java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerCollection doStart HandlerCollection java org eclips jetti server handler handler collect start handler collect java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org eclips jetti server handler HandlerWrapper doStart HandlerWrapper java org eclips jetti server handler handler wrapper start handler wrapper java org eclips jetti server server doStart server java org eclips jetti server server start server java org mortbay jetti plugin JettyServer doStart JettyServer java org mortbay jetti plugin jetti server start jetti server java org eclips jetti util compon AbstractLifeCycle start AbstractLifeCycle java org eclips jetti util compon abstract life cycl start abstract life cycl java org mortbay jetti plugin AbstractJettyMojo startJetty AbstractJettyMojo java org mortbay jetti plugin abstract jetti mojo start jetti abstract jetti mojo java org mortbay jetti plugin AbstractJettyMojo execut AbstractJettyMojo java org mortbay jetti plugin abstract jetti mojo execut abstract jetti mojo java org mortbay jetti plugin JettyRunMojo execut JettyRunMojo java org mortbay jetti plugin jetti run mojo execut jetti run mojo java org apach maven plugin DefaultBuildPluginManager executeMojo DefaultBuildPluginManager java org apach maven plugin default build plugin manag execut mojo default build plugin manag java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern MojoExecutor execut MojoExecutor java org apach maven lifecycl intern mojo executor execut mojo executor java org apach maven lifecycl intern LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apach maven lifecycl intern lifecycl modul builder build project lifecycl modul builder java org apach maven lifecycl intern LifecycleModuleBuilder buildProject LifecycleModuleBuilder java org apach maven lifecycl intern lifecycl modul builder build project lifecycl modul builder java org apach maven lifecycl intern LifecycleStarter singleThreadedBuild LifecycleStarter java org apach maven lifecycl intern lifecycl starter singl thread build lifecycl starter java org apach maven lifecycl intern LifecycleStarter execut LifecycleStarter java org apach maven lifecycl intern lifecycl starter execut lifecycl starter java org apach maven DefaultMaven doExecute DefaultMaven java org apach maven default maven execut default maven java org apach maven DefaultMaven execut DefaultMaven java org apach maven default maven execut default maven java org apach maven cli MavenCli execut MavenCli java org apach maven cli maven cli execut maven cli java org apach maven cli MavenCli doMain MavenCli java org apach maven cli maven cli main maven cli java org apach maven cli MavenCli main MavenCli java org apach maven cli maven cli main maven cli java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org codehau plexu classworld launcher launcher launchEnhanced launcher java org codehau plexu classworld launcher launcher launch enhanc launcher java org codehau plexu classworld launcher launcher launch launcher java org codehau plexu classworld launcher launcher launch launcher java org codehau plexu classworld launcher launcher mainWithExitCode launcher java org codehau plexu classworld launcher launcher main exit code launcher java org codehau plexu classworld launcher launcher main launcher java org codehau plexu classworld launcher launcher main launcher java INFO oej AbstractConnector start INFO oej abstract connector start SelectChannelConnector select channel connector,1,0,0,0,0,examples/camel-example-reportincident/src/main/resources/camel-config.xml;,0
6281,Christian Müller,examples,0,camel-example-cxf-tomcat failed, camel exampl cxf tomcat camel exampl cxf tomcat fail,By accessing 'http://localhost:8080/camel-example-cxf-tomcat/webservices/incident?wsdl' I get the following exception:Apr 14  2013 7:56:37 PM org.apache.catalina.core.StandardWrapperValve invokeSEVERE: Allocate exception for servlet CXFServletorg.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'cxf' is defined at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:549) at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1095) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:277) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109) at org.apache.cxf.transport.servlet.CXFServlet.loadBus(CXFServlet.java:77) at org.apache.cxf.transport.servlet.CXFNonSpringServlet.init(CXFNonSpringServlet.java:71) at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280) at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193) at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918) at java.lang.Thread.run(Thread.java:680), access http localhost camel exampl cxf tomcat webservic incid wsdl http localhost camel exampl cxf tomcat webservic incid wsdl get follow except apr except apr PM org apach catalina core StandardWrapperValve org apach catalina core standard wrapper valv invokeSEVERE invok SEVERE alloc except servlet CXFServletorg springframework bean factori NoSuchBeanDefinitionException CXF servletorg springframework bean factori No bean definit except No bean name cxf cxf defin org springframework bean factori support DefaultListableBeanFactory getBeanDefinition DefaultListableBeanFactory java org springframework bean factori support default listabl bean factori get bean definit default listabl bean factori java org springframework bean factori support AbstractBeanFactory getMergedLocalBeanDefinition AbstractBeanFactory java org springframework bean factori support abstract bean factori get merg local bean definit abstract bean factori java org springframework bean factori support AbstractBeanFactory doGetBean AbstractBeanFactory java org springframework bean factori support abstract bean factori get bean abstract bean factori java org springframework bean factori support AbstractBeanFactory getBean AbstractBeanFactory java org springframework bean factori support abstract bean factori get bean abstract bean factori java org springframework context support AbstractApplicationContext getBean AbstractApplicationContext java org springframework context support abstract applic context get bean abstract applic context java org apach cxf transport servlet CXFServlet loadBus CXFServlet java org apach cxf transport servlet CXF servlet load bu CXF servlet java org apach cxf transport servlet CXFNonSpringServlet init CXFNonSpringServlet java org apach cxf transport servlet CXF non spring servlet init CXF non spring servlet java org apach catalina core StandardWrapper initServlet StandardWrapper java org apach catalina core standard wrapper init servlet standard wrapper java org apach catalina core StandardWrapper loadServlet StandardWrapper java org apach catalina core standard wrapper load servlet standard wrapper java org apach catalina core StandardWrapper alloc StandardWrapper java org apach catalina core standard wrapper alloc standard wrapper java org apach catalina core StandardWrapperValve invok StandardWrapperValve java org apach catalina core standard wrapper valv invok standard wrapper valv java org apach catalina core StandardContextValve invok StandardContextValve java org apach catalina core standard context valv invok standard context valv java org apach catalina authent AuthenticatorBase invok AuthenticatorBase java org apach catalina authent authent base invok authent base java org apach catalina core StandardHostValve invok StandardHostValve java org apach catalina core standard host valv invok standard host valv java org apach catalina valv ErrorReportValve invok ErrorReportValve java org apach catalina valv error report valv invok error report valv java org apach catalina valv AccessLogValve invok AccessLogValve java org apach catalina valv access log valv invok access log valv java org apach catalina core StandardEngineValve invok StandardEngineValve java org apach catalina core standard engin valv invok standard engin valv java org apach catalina connector CoyoteAdapter servic CoyoteAdapter java org apach catalina connector coyot adapt servic coyot adapt java org apach coyot http AbstractHttp processor process AbstractHttp processor java org apach coyot http abstract http processor process abstract http processor java org apach coyot AbstractProtocol AbstractConnectionHandler process AbstractProtocol java org apach coyot abstract protocol abstract connect handler process abstract protocol java org apach tomcat util net JIoEndpoint SocketProcessor run JIoEndpoint java org apach tomcat util net Io endpoint socket processor run Io endpoint java java util concurr ThreadPoolExecutor worker runTask ThreadPoolExecutor java java util concurr thread pool executor worker run task thread pool executor java java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java java lang thread run thread java java lang thread run thread java,1,0,0,0,0,examples/camel-example-cxf-tomcat/src/main/resources/camel-config.xml;,0
6283,Claus Ibsen,camel-sql,0,Restarting routes using sql aggregation repository may lead to Class loading issues, restart rout use sql aggreg repositori may lead class load issu,Its the code in ClassLoadingAwareObjectInputStream in camel-sql that has the bug., code ClassLoadingAwareObjectInputStream class load awar object input stream camel sql camel sql bug bug,0,0,0,0,0,components/camel-sql/src/main/java/org/apache/camel/processor/aggregate/jdbc/ClassLoadingAwareObjectInputStream.java;,0
6286,alex hutter,camel-aws,0,Make SqsConsumer support async processors, make SqsConsumer sq consum support async processor,Switch SqsConsumer from using getProcessor().process() to getAsyncProcessor().process() with a callback to allow use of async processors.As I understand it is ok to always use the async processor call as its to show that 'the caller supports having the exchange asynchronously processed' rather than specifically always process it asynchronously., switch SqsConsumer sq consum use getProcessor process get processor process getAsyncProcessor process get async processor process callback allow use async processor processor understand ok alway use async processor call show caller support exchang asynchron process process rather specif alway process asynchron asynchron,0,0,1,0,0,components/camel-aws/src/main/java/org/apache/camel/component/aws/s3/S3Consumer.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsConsumer.java;,0
6292,Claus Ibsen,tooling,0,Camel archetype component - Use bundle packaging so component is ready to install in OSGi, camel archetyp compon use bundl packag compon readi instal OSGi OS Gi,The component archetypes should have the pom.xml changed so they generate a project that use bundle packaging with the felix bundle plugin.Then the component is ready to install in OSGi.See nabblehttp://camel.465427.n5.nabble.com/Creating-new-processor-components-td5730919.html, compon archetyp pom xml pom xml chang gener project use bundl packag felix bundl plugin plugin compon readi instal OSGi see OS Gi see nabblehttp camel nabbl com creat new processor compon td html nabblehttp camel nabbl com creat new processor compon td html,0,0,0,1,0,tooling/archetypes/camel-archetype-component/src/main/resources-filtered/META-INF/maven/archetype-metadata.xml;tooling/archetypes/camel-archetype-component/src/main/resources/archetype-resources/pom.xml;tooling/archetypes/camel-archetype-dataformat/src/main/resources-filtered/META-INF/maven/archetype-metadata.xml;tooling/archetypes/camel-archetype-dataformat/src/main/resources/archetype-resources/pom.xml;,0
6300,Petr Juza,tests,0,AdviceWith doesn't work with doTry, AdviceWith advic work doTry tri,I have the following route definition: from('direct:billing_' + operation) .routeId(getRouteId(operation)) .errorHandler(noErrorHandler()) // propagate exceptions to the parent route .validate(body().isInstanceOf( com.cleverlance.cleverbss.integration.modules.in.customer.model.Customer.class)) .beanRef(BILLING_CUSTOMER_ROUTE_BEAN  'createRequestFor' + WordUtils.capitalize(operation)) // SetCustomer -&gt; XML .marshal(jaxbIn) .doTry() .to(uri + '?messageSender=#billingSender').id('toURI') .doCatch(AlreadyExistsException.class) .setProperty(exPropertyName  property(Exchange.EXCEPTION_CAUGHT)) .end() .choice() .when(property(exPropertyName).isNull()) // XML -&gt; SetCustomerResponse .unmarshal(jaxbOut) .endChoice();And I would like to replace TO in the tests: getCamelContext().getRouteDefinition(BillingCustomerRoutes.ROUTE_ID_UPDATE_CUSTOMER) .adviceWith(getCamelContext()  new AdviceWithRouteBuilder() { @Override public void configure() throws Exception { weaveByType(ToDefinition.class).replace().process(new Processor() { @Override public void process(Exchange exchange) throws Exception { throw new AlreadyExistsException('msg'  new AlreadyExists()); } }); } });When I use weaveById('toURI') or weaveByToString()  it doesn't work neither., follow rout definit definit direct bill direct bill oper oper routeId getRouteId oper rout Id get rout Id oper errorHandler noErrorHandler error handler no error handler propag except parent rout valid bodi isInstanceOf valid bodi instanc com cleverl cleverbss integr modul custom model custom class com cleverl cleverbss integr modul custom model custom class beanRef BILLING_CUSTOMER_ROUTE_BEAN bean ref BILLING CUSTOMER ROUTE BEAN createRequestFor creat request WordUtils capit oper word util capit oper SetCustomer set custom gt gt XML marshal jaxbIn marshal jaxb doTry tri uri uri messageSender billingSender id toURI messag sender bill sender id URI doCatch AlreadyExistsException class catch alreadi exist except class setProperty exPropertyName set properti ex properti name properti exchang EXCEPTION_CAUGHT properti exchang EXCEPTION CAUGHT end end choic choic properti exPropertyName isNull properti ex properti name null XML gt gt SetCustomerResponse set custom respons unmarsh jaxbOut unmarsh jaxb endChoice end choic would like replac test test getCamelContext getRouteDefinition BillingCustomerRoutes ROUTE_ID_UPDATE_CUSTOMER get camel context get rout definit bill custom rout ROUTE ID UPDATE CUSTOMER adviceWith getCamelContext advic get camel context new AdviceWithRouteBuilder advic rout builder overrid overrid public void configur configur throw except weaveByType ToDefinition class replac process new weav type definit class replac process new processor processor overrid overrid public void process exchang process exchang exchang exchang throw except throw new AlreadyExistsException msg alreadi exist except msg new AlreadyExists alreadi exist use weaveById toURI weav Id URI weaveByToString weav string work neither neither,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/model/ProcessorDefinitionHelper.java;camel-core/src/main/java/org/apache/camel/model/TryDefinition.java;camel-core/src/test/java/org/apache/camel/processor/interceptor/AdviceWithTryCatchTest.java;,0
6302,Thomas Termin,camel-mina; camel-mina2,0,Mina UDP default codec should keep the data as byte[], mina UDP default codec keep data byte byte,The MinaUdpProtocolCodecFactory on the consumer side decodes data from an udp datagram to a byte[]. byte[] bytes = context.getTypeConverter().convertTo(byte[].class  in);On the provider side where it gets back to the wire it gets converted to a string: String value = context.getTypeConverter().convertTo(String.class  message);and then set to the ByteBuffer with the given charset.The result is that the original datagram is not valid anymore. The default codec should the data convert to a byte array or keep the data as byte array., MinaUdpProtocolCodecFactory mina udp protocol codec factori consum side decod data udp datagram byte byte byte byte byte context getTypeConverter convertTo byte class context get type convert convert byte class provid side get back wire get convert string string string valu context getTypeConverter convertTo string class context get type convert convert string class messag messag set ByteBuffer byte buffer given charset charset result origin datagram not valid anymor anymor default codec data convert byte array keep data byte array array,0,0,1,0,0,components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaComponent.java;components/camel-mina/src/main/java/org/apache/camel/component/mina/MinaUdpProtocolCodecFactory.java;components/camel-mina/src/test/java/org/apache/camel/component/mina/MinaUdpUsingTemplateTest.java;components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Consumer.java;components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Producer.java;components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2UdpProtocolCodecFactory.java;components/camel-mina2/src/test/java/org/apache/camel/component/mina2/Mina2UdpUsingTemplateTest.java;,0
6305,Torsten Mielke,camel-core; camel-test,0,debugBefore() and debugAfter() not called if unit test extends CamelBlueprintTestSupport, debugBefore debug debugAfter debug not call unit test extend CamelBlueprintTestSupport camel blueprint test support,A test that extends CamelBlueprintTestSupport does not get its debugBefore() and debugAfter() methods called., test extend CamelBlueprintTestSupport camel blueprint test support not get debugBefore debug debugAfter debug method call call,0,1,1,0,0,components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/DebugBlueprintTest.java;components/camel-test/src/main/java/org/apache/camel/test/junit4/CamelTestSupport.java;,0
6313,Daniel Gredler,camel-spring,0,Property placeholder optimization broke placeholders in Spring camelContext configuration, properti placehold optim broke placehold spring camelContext camel context configur,We are upgrading from 2.10.0 to 2.11.0  and are getting an error on startup.Example Spring configuration:&lt;camelContext id='camel' handleFault='true' autoStartup='{{autoStartup}}' xmlns='http://camel.apache.org/schema/spring'&gt; &lt;contextScan /&gt; &lt;jmxAgent id='camelAgent' createConnector='true' registryPort='{{jmxPort}}' /&gt;&lt;/camelContext&gt;&lt;bean id='properties' class='org.apache.camel.component.properties.PropertiesComponent'&gt; &lt;property name='location' value='classpath:foo.properties'/&gt;&lt;/bean&gt;As you can see  we use the Camel properties component to configure Camel auto-startup  JMX port  etc.This is the error we're getting on startup:org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'properties' defined in class path resource [org/apache/camel/component/properties/SpringPropertiesComponentTest.xml]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'camel-1': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: PropertiesComponent with name properties must be defined in CamelContext to support property placeholders. at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456) at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193) at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:607) at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:472) at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139) at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83) at org.apache.camel.component.properties.SpringPropertiesComponentTest.createApplicationContext(SpringPropertiesComponentTest.java:30) at org.apache.camel.spring.SpringTestSupport.setUp(SpringTestSupport.java:52) at junit.framework.TestCase.runBare(TestCase.java:139) at org.apache.camel.TestSupport.runBare(TestSupport.java:58) at junit.framework.TestResult$1.protect(TestResult.java:122) at junit.framework.TestResult.runProtected(TestResult.java:142) at junit.framework.TestResult.run(TestResult.java:125) at junit.framework.TestCase.run(TestCase.java:129) at junit.framework.TestSuite.runTest(TestSuite.java:255) at junit.framework.TestSuite.run(TestSuite.java:250) at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84) at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'camel-1': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: PropertiesComponent with name properties must be defined in CamelContext to support property placeholders. at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456) at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109) at org.apache.camel.spring.CamelBeanPostProcessor$1.getOrLookupCamelContext(CamelBeanPostProcessor.java:69) at org.apache.camel.impl.DefaultCamelBeanPostProcessor.postProcessBeforeInitialization(DefaultCamelBeanPostProcessor.java:85) at org.apache.camel.spring.CamelBeanPostProcessor.postProcessBeforeInitialization(CamelBeanPostProcessor.java:148) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:394) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1448) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519) ... 27 moreCaused by: java.lang.IllegalArgumentException: PropertiesComponent with name properties must be defined in CamelContext to support property placeholders. at org.apache.camel.impl.DefaultCamelContext.resolvePropertyPlaceholders(DefaultCamelContext.java:1063) at org.apache.camel.util.CamelContextHelper.parseBoolean(CamelContextHelper.java:337) at org.apache.camel.core.xml.AbstractCamelContextFactoryBean.initCamelContext(AbstractCamelContextFactoryBean.java:543) at org.apache.camel.core.xml.AbstractCamelContextFactoryBean.afterPropertiesSet(AbstractCamelContextFactoryBean.java:266) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452) ... 40 moreI believe this is a side-effect of the optimization introduced in CAMEL-5508  which was incorporated into 2.10.1 and 2.11.0.I'll attach a small patch that modifies one of the unit tests in the camel-spring component to reproduce the issue., upgrad get error startup exampl startup exampl spring configur lt camelContext configur lt camel context id camel id camel handleFault true handl fault true autoStartup autoStartup auto startup auto startup xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt contextScan lt context scan gt gt lt jmxAgent lt jmx agent id camelAgent id camel agent createConnector true creat connector true registryPort jmxPort registri port jmx port gt lt camelContext gt lt bean gt lt camel context gt lt bean id properti id properti class org apach camel compon properti PropertiesComponent gt class org apach camel compon properti properti compon gt lt properti lt properti name locat name locat valu classpath foo properti gt lt bean gt valu classpath foo properti gt lt bean gt see use camel properti compon configur camel auto startup auto startup JMX port etc etc error get startup org springframework bean factori BeanCreationException startup org springframework bean factori bean creation except error creat bean name properti properti defin class path resourc org apach camel compon properti SpringPropertiesComponentTest xml org apach camel compon properti spring properti compon test xml initi bean fail fail nest except org springframework bean factori BeanCreationException org springframework bean factori bean creation except error creat bean name camel camel invoc init method fail fail nest except java lang IllegalArgumentException java lang illeg argument except PropertiesComponent properti compon name properti must defin CamelContext camel context support properti placehold placehold org springframework bean factori support AbstractAutowireCapableBeanFactory doCreateBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori creat bean abstract autowir capabl bean factori java org springframework bean factori support AbstractAutowireCapableBeanFactory createBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori creat bean abstract autowir capabl bean factori java org springframework bean factori support AbstractBeanFactory getObject AbstractBeanFactory java org springframework bean factori support abstract bean factori get object abstract bean factori java org springframework bean factori support DefaultSingletonBeanRegistry getSingleton DefaultSingletonBeanRegistry java org springframework bean factori support default singleton bean registri get singleton default singleton bean registri java org springframework bean factori support AbstractBeanFactory doGetBean AbstractBeanFactory java org springframework bean factori support abstract bean factori get bean abstract bean factori java org springframework bean factori support AbstractBeanFactory getBean AbstractBeanFactory java org springframework bean factori support abstract bean factori get bean abstract bean factori java org springframework bean factori support DefaultListableBeanFactory preInstantiateSingletons DefaultListableBeanFactory java org springframework bean factori support default listabl bean factori pre instanti singleton default listabl bean factori java org springframework context support AbstractApplicationContext finishBeanFactoryInitialization AbstractApplicationContext java org springframework context support abstract applic context finish bean factori initi abstract applic context java org springframework context support AbstractApplicationContext refresh AbstractApplicationContext java org springframework context support abstract applic context refresh abstract applic context java org springframework context support ClassPathXmlApplicationContext lt init gt ClassPathXmlApplicationContext java org springframework context support class path xml applic context lt init gt class path xml applic context java org springframework context support ClassPathXmlApplicationContext lt init gt ClassPathXmlApplicationContext java org springframework context support class path xml applic context lt init gt class path xml applic context java org apach camel compon properti SpringPropertiesComponentTest createApplicationContext SpringPropertiesComponentTest java org apach camel compon properti spring properti compon test creat applic context spring properti compon test java org apach camel spring SpringTestSupport setUp SpringTestSupport java org apach camel spring spring test support set spring test support java junit framework TestCase runBare TestCase java junit framework test case run bare test case java org apach camel TestSupport runBare TestSupport java org apach camel test support run bare test support java junit framework TestResult protect TestResult java junit framework test result protect test result java junit framework TestResult runProtected TestResult java junit framework test result run protect test result java junit framework TestResult run TestResult java junit framework test result run test result java junit framework TestCase run TestCase java junit framework test case run test case java junit framework TestSuite runTest TestSuite java junit framework test suit run test test suit java junit framework TestSuite run TestSuite java junit framework test suit run test suit java org junit intern runner JUnit ClassRunner run JUnit ClassRunner java org junit intern runner unit class runner run unit class runner java org eclips jdt intern junit runner JUnit TestReference run JUnit TestReference java org eclips jdt intern junit runner unit test refer run unit test refer java org eclips jdt intern junit runner TestExecution run TestExecution java org eclips jdt intern junit runner test execut run test execut java org eclips jdt intern junit runner RemoteTestRunner runTests RemoteTestRunner java org eclips jdt intern junit runner remot test runner run test remot test runner java org eclips jdt intern junit runner RemoteTestRunner runTests RemoteTestRunner java org eclips jdt intern junit runner remot test runner run test remot test runner java org eclips jdt intern junit runner RemoteTestRunner run RemoteTestRunner java org eclips jdt intern junit runner remot test runner run remot test runner java org eclips jdt intern junit runner RemoteTestRunner main RemoteTestRunner java caus org eclips jdt intern junit runner remot test runner main remot test runner java caus org springframework bean factori BeanCreationException org springframework bean factori bean creation except error creat bean name camel camel invoc init method fail fail nest except java lang IllegalArgumentException java lang illeg argument except PropertiesComponent properti compon name properti must defin CamelContext camel context support properti placehold placehold org springframework bean factori support AbstractAutowireCapableBeanFactory initializeBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori initi bean abstract autowir capabl bean factori java org springframework bean factori support AbstractAutowireCapableBeanFactory doCreateBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori creat bean abstract autowir capabl bean factori java org springframework bean factori support AbstractAutowireCapableBeanFactory createBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori creat bean abstract autowir capabl bean factori java org springframework bean factori support AbstractBeanFactory getObject AbstractBeanFactory java org springframework bean factori support abstract bean factori get object abstract bean factori java org springframework bean factori support DefaultSingletonBeanRegistry getSingleton DefaultSingletonBeanRegistry java org springframework bean factori support default singleton bean registri get singleton default singleton bean registri java org springframework bean factori support AbstractBeanFactory doGetBean AbstractBeanFactory java org springframework bean factori support abstract bean factori get bean abstract bean factori java org springframework bean factori support AbstractBeanFactory getBean AbstractBeanFactory java org springframework bean factori support abstract bean factori get bean abstract bean factori java org springframework context support AbstractApplicationContext getBean AbstractApplicationContext java org springframework context support abstract applic context get bean abstract applic context java org apach camel spring CamelBeanPostProcessor getOrLookupCamelContext CamelBeanPostProcessor java org apach camel spring camel bean post processor get lookup camel context camel bean post processor java org apach camel impl DefaultCamelBeanPostProcessor postProcessBeforeInitialization DefaultCamelBeanPostProcessor java org apach camel impl default camel bean post processor post process initi default camel bean post processor java org apach camel spring CamelBeanPostProcessor postProcessBeforeInitialization CamelBeanPostProcessor java org apach camel spring camel bean post processor post process initi camel bean post processor java org springframework bean factori support AbstractAutowireCapableBeanFactory applyBeanPostProcessorsBeforeInitialization AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori appli bean post processor initi abstract autowir capabl bean factori java org springframework bean factori support AbstractAutowireCapableBeanFactory initializeBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori initi bean abstract autowir capabl bean factori java org springframework bean factori support AbstractAutowireCapableBeanFactory doCreateBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori creat bean abstract autowir capabl bean factori java moreCaused caus java lang IllegalArgumentException java lang illeg argument except PropertiesComponent properti compon name properti must defin CamelContext camel context support properti placehold placehold org apach camel impl DefaultCamelContext resolvePropertyPlaceholders DefaultCamelContext java org apach camel impl default camel context resolv properti placehold default camel context java org apach camel util CamelContextHelper parseBoolean CamelContextHelper java org apach camel util camel context helper pars boolean camel context helper java org apach camel core xml AbstractCamelContextFactoryBean initCamelContext AbstractCamelContextFactoryBean java org apach camel core xml abstract camel context factori bean init camel context abstract camel context factori bean java org apach camel core xml AbstractCamelContextFactoryBean afterPropertiesSet AbstractCamelContextFactoryBean java org apach camel core xml abstract camel context factori bean properti set abstract camel context factori bean java org springframework bean factori support AbstractAutowireCapableBeanFactory invokeInitMethods AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori invok init method abstract autowir capabl bean factori java org springframework bean factori support AbstractAutowireCapableBeanFactory initializeBean AbstractAutowireCapableBeanFactory java org springframework bean factori support abstract autowir capabl bean factori initi bean abstract autowir capabl bean factori java moreI believ side effect side effect optim introduc CAMEL CAMEL incorpor attach small patch modifi one unit test camel spring camel spring compon reproduc issu issu,1,1,1,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;components/camel-spring/src/test/resources/org/apache/camel/component/properties/SpringPropertiesComponentTest.xml;components/camel-spring/src/test/resources/org/apache/camel/component/properties/cheese.properties;,0
6317,David J. M. Karlsen,camel-validator,0,Camel-validator not able to resolve schema when using useSharedSchema=false, camel valid camel valid not abl resolv schema use useSharedSchema fals use share schema fals,This one works: &lt;to uri='validator:META-INF/xsd/fundscheckmaintainavailablebalance.xsd' /&gt;This one doesn't: &lt;to uri='validator:META-INF/xsd/fundscheckmaintainavailablebalance.xsd?useSharedSchema=false' /&gt;it fails with:org.xml.sax.SAXParseException: schema_reference.4: Failed to read schema document 'null'  because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.The streamsource object in the validator is populated  but the buffered inputstream object has no content, one work work lt lt uri valid META INF xsd fundscheckmaintainavailablebal xsd uri valid META INF xsd fundscheckmaintainavailablebal xsd gt gt one lt lt uri valid META INF xsd fundscheckmaintainavailablebal xsd useSharedSchema fals uri valid META INF xsd fundscheckmaintainavailablebal xsd use share schema fals gt gt fail org xml sax SAXParseException org xml sax SAX pars except schema_reference schema_reference fail read schema document null null could not find document document document could not read read root element document not lt xsd schema gt lt xsd schema gt streamsourc object valid popul buffer inputstream object no content,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/component/validator/ValidatorComponent.java;camel-core/src/main/java/org/apache/camel/processor/validation/ValidatingProcessor.java;camel-core/src/test/java/org/apache/camel/component/validator/ValidatorRouteTest.java;camel-core/src/main/java/org/apache/camel/component/validator/ValidatorComponent.java;components/camel-spring/src/test/resources/org/apache/camel/component/validator/camelContext.xml;,0
6321,Luc Leclerc,camel-core,0,Moving logic out of getTypeConverter, move logic getTypeConverter get type convert,TypeConverter is never added as a service if we use the method setTypeConverter(). Used through camel-guice you had expect this service to be active without additional instruction.See : http://camel.465427.n5.nabble.com/Ambiguity-in-DefaultCamelContext-with-TypeConverter-td5731480.html, TypeConverter type convert never ad servic use method setTypeConverter set type convert use camel guic camel guic expect servic activ without addit instruct see instruct see,0,1,0,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java;,0
6330,Claus Ibsen,camel-core,0,Control Bus - Add suspend and resume actions, control bu add suspend resum action,We have start and stop actions. But we need suspend and resume as well., start stop action action need suspend resum well well,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/controlbus/ControlBusProducer.java;camel-core/src/test/java/org/apache/camel/component/controlbus/ControlBusStartRouteTest.java;,0
6331,Claus Ibsen,camel-netty,0,camel-netty - Loading key store and trust stores should support classpath as well, camel netti camel netti load key store trust store support classpath well,The options keyStoreFile and trustStoreFile is currently java.io.File based.We should use the resource loader API in Camel so we can load from classpath as well., option keyStoreFile key store file trustStoreFile trust store file current java io file java io file base base use resourc loader API camel load classpath well well,0,0,0,0,0,components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultClientPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/DefaultServerPipelineFactory.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyConfiguration.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/ssl/SSLEngineFactory.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettySSLClasspathTest.java;components/camel-netty/src/test/java/org/apache/camel/component/netty/NettySSLTest.java;,0
6341,Luc Leclerc,camel-core,0,DefaultShutdownStrategy shutdown timeout of 0 will never timeout and go in negative time, DefaultShutdownStrategy default shutdown strategi shutdown timeout never timeout go neg time,A timeout of 0 won't timeout in the instant  the time will go negative. camelcontext.stopRoute(routeId  0  TimeUnit.SECONDS  false); &#91;org.apache.camel.impl.DefaultShutdownStrategy&#93; : Waiting as there are still 3 inflight and pending exchanges to complete  timeout in -1 seconds.&#91;org.apache.camel.impl.DefaultShutdownStrategy&#93; : Waiting as there are still 3 inflight and pending exchanges to complete  timeout in -2 seconds.&#91;org.apache.camel.impl.DefaultShutdownStrategy&#93; : Waiting as there are still 3 inflight and pending exchanges to complete  timeout in -3 seconds. Found a post related to it there : http://camel.465427.n5.nabble.com/Forcefully-shutting-down-routes-td5722447.html, timeout timeout instant time go neg neg camelcontext stopRoute routeId camelcontext stop rout rout Id TimeUnit SECONDS time unit SECONDS fals fals org apach camel impl DefaultShutdownStrategy org apach camel impl default shutdown strategi wait still inflight pend exchang complet timeout second org apach camel impl DefaultShutdownStrategy second org apach camel impl default shutdown strategi wait still inflight pend exchang complet timeout second org apach camel impl DefaultShutdownStrategy second org apach camel impl default shutdown strategi wait still inflight pend exchang complet timeout second second found post relat,1,1,0,1,0,camel-core/src/main/java/org/apache/camel/impl/DefaultShutdownStrategy.java;camel-core/src/main/java/org/apache/camel/impl/DefaultShutdownStrategy.java;,1
6356,Romain Manni-Bucau,null,0,link to camel registry in camel-stax is missing, link camel registri camel stax camel stax miss,,,0,1,0,0,0,components/camel-stax/src/main/java/org/apache/camel/component/stax/StAXComponent.java;components/camel-stax/src/main/java/org/apache/camel/component/stax/StAXProcessor.java;components/camel-stax/src/test/java/org/apache/camel/component/stax/StAXComponentRefTest.java;,0
6361,metatech,camel-validator,0,Validations exception should include line/column, valid except includ line column line column,When a 'validator:' route step reports exceptions  they should include the line/column location.Here is a small patch that adds support for it., valid valid rout step report except includ line column line column locat locat small patch add support,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/processor/validation/SchemaValidationException.java;camel-core/src/test/java/org/apache/camel/processor/validation/DefaultValidationErrorHandlerTest.java;,0
6362,Aaron Whiteside,camel-sjms,0,camel-sjms - Consumers should always use dedicated Sessions, camel sjm camel sjm consum alway use dedic session,If you add more then one MessageListener to a Session then that session will use a single thread to notify each MessageListener in turn. Which defeats the purpose of using multiple MessageListeners  at least in my opinion.sessionCount in SjmsEndpoint should be ignored for Consumers  each Consumer (consumerCount) should instead use a dedicated Session  like what happens when transactions are enabled., add one MessageListener messag listen session session use singl thread notifi MessageListener messag listen turn turn defeat purpos use multipl MessageListeners messag listen least opinion sessionCount opinion session count SjmsEndpoint sjm endpoint ignor consum consum consumerCount consum count instead use dedic session like happen transact enabl enabl,0,0,0,0,0,components/camel-sjms/src/main/java/org/apache/camel/component/sjms/SjmsConsumer.java;components/camel-sjms/src/main/java/org/apache/camel/component/sjms/SjmsEndpoint.java;components/camel-sjms/src/main/java/org/apache/camel/component/sjms/SjmsProducer.java;components/camel-sjms/src/main/java/org/apache/camel/component/sjms/producer/InOnlyProducer.java;components/camel-sjms/src/main/java/org/apache/camel/component/sjms/producer/InOutProducer.java;components/camel-sjms/src/test/java/org/apache/camel/component/sjms/consumer/InOnlyTopicDurableConsumerTest.java;,0
6374,Claus Ibsen,camel-core,0,vm component - Stopping a route when using multipleConsumers should not stop MP if there is other routes using it, vm compon stop rout use multipleConsumers multipl consum not stop MP rout use,See nabblehttp://camel.465427.n5.nabble.com/Removing-route-stops-other-routes-from-the-same-producer-tp5732616.html, see nabblehttp camel nabbl com remov rout stop rout produc tp html nabblehttp camel nabbl com remov rout stop rout produc tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaConsumer.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaEndpoint.java;camel-core/src/test/java/org/apache/camel/component/vm/VmMultipleConsumersKeepRouteTest.java;camel-core/src/test/java/org/apache/camel/component/vm/VmMultipleConsumersRemoteRouteTest.java;,0
6375,clement tamisier,null,0,Headers are not set correctly in some situation, header not set correctli situat,If I define a route like this: from('&lt;MyUrl&gt;/test') .setHeader(Exchange.HTTP_RESPONSE_CODE  simple('400')); my http client get a 200 response code. If a add something else on the route like: from('&lt;MyUrl&gt;/test') .setHeader(Exchange.HTTP_RESPONSE_CODE  simple('400')) .log('400').my http client get a 400 response code as expected. forum :http://camel.465427.n5.nabble.com/route-http-code-td5732728.html, defin rout like lt MyUrl gt test lt url gt test setHeader exchang HTTP_RESPONSE_CODE set header exchang HTTP RESPONSE CODE simpl simpl http client get respons code code add someth els rout like like lt MyUrl gt test lt url gt test setHeader exchang HTTP_RESPONSE_CODE set header exchang HTTP RESPONSE CODE simpl simpl log log http client get respons code expect expect forum http camel nabbl com rout http code td html http camel nabbl com rout http code td html,0,0,1,1,0,components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpRouteTest.java;camel-core/src/main/java/org/apache/camel/builder/ProcessorBuilder.java;,0
6385,Yuejie Chen,camel-restlet,0,New restlet endpoints don't work if route is created after restlet server is started., new restlet endpoint work rout creat restlet server start start,If a route with restlet endponit is created after restlet server is started  restlet can't handle the endpoint correctly  because restlet translate all URI pattern of routes at server starting  but don't it for later attached routes. So we must translate the URI pattern before attach it to restlet after restlet server is started. See http://restlet.tigris.org/issues/show_bug.cgi?id=988., rout restlet endponit creat restlet server start restlet handl endpoint correctli restlet translat URI pattern rout server start later attach rout rout must translat URI pattern attach restlet restlet server start start see,0,1,0,1,0,components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletComponent.java;,0
6390,Vitalii Tymchyshyn,null,0,Route with suspended SedaConsumer can't be stopped correctly, rout suspend SedaConsumer seda consum stop correctli,Route with suspended SedaConsumer can't be stopped correctly. Here is test: @Test public void testOriginalSedaShutdownSuspended() throws Exception { SedaEndpoint endpoint = context().getEndpoint('seda:test'  SedaEndpoint.class); context().addRouteDefinition(new RouteDefinition() .id('testRoute') .from(endpoint) .to('log:body') ); Set&lt;SedaConsumer&gt; consumers = endpoint.getConsumers(); Assert.assertFalse(consumers.isEmpty()); for (SedaConsumer sedaConsumer: consumers) { sedaConsumer.suspend(); } Assert.assertTrue(context().stopRoute('testRoute'  2  TimeUnit.SECONDS  true)); }, rout suspend SedaConsumer seda consum stop correctli correctli test test test test public void testOriginalSedaShutdownSuspended test origin seda shutdown suspend throw except SedaEndpoint seda endpoint endpoint context getEndpoint seda test context get endpoint seda test SedaEndpoint class seda endpoint class context addRouteDefinition new context add rout definit new RouteDefinition rout definit id testRoute id test rout endpoint endpoint log bodi log bodi set lt SedaConsumer gt set lt seda consum gt consum endpoint getConsumers endpoint get consum assert assertFalse consum isEmpty assert assert fals consum empti SedaConsumer seda consum sedaConsumer seda consum consum consum sedaConsumer suspend seda consum suspend assert assertTrue context stopRoute testRoute assert assert true context stop rout test rout TimeUnit SECONDS time unit SECONDS true true,0,0,1,0,0,camel-core/src/test/java/org/apache/camel/component/seda/SedaSuspendConsumerStopRouteTest.java;camel-core/src/main/java/org/apache/camel/component/seda/SedaConsumer.java;,0
6408,Akitoshi Yoshida,camel-cxf,0,cxf endpoint's should log the parsing exception when failing to extract the root element name, cxf endpoint endpoint log pars except fail extract root element name,When the content is not xml and the root element is not correctly extracted by the CxfEndpoint's root element extraction method  the original exception is not logged but a subsequent exception (not the original one) will be thrown upwards. This behavior is confusing and could potentially lead to another issue depending on what the stax parser does on its getLocalName().Currently  when r.next() throws an exception  it's ignored and the subsequent call to r.getLocalName()'s exception is thrown.So I think it's preferable to log the original exception and simply return null as in the other cases for not finding the root element.Logging the original exception will provide a more helpful information in spotting the issue  as it will show up like:com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character 'c' (code 99) in prolog; expected '&lt;'This is an action to the point raised in http://camel.465427.n5.nabble.com/Test-route-with-CXF-endpoint-td5733266.html, content not xml root element not correctli extract CxfEndpoint cxf endpoint root element extract method origin except not log subsequ except not origin one one thrown upward upward behavior confus could potenti lead anoth issu depend stax parser getLocalName current get local name current next next throw except ignor subsequ call getLocalName get local name except thrown thrown think prefer log origin except simpli return null case not find root element log element log origin except provid help inform spot issu show like com ctc wstx exc WstxUnexpectedCharException like com ctc wstx exc wstx unexpect char except unexpect charact code prolog prolog expect lt lt action point rais,0,0,0,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;,0
6413,Claus Ibsen,camel-core,0,File consumer - Race condition for markerFile read lock strategy, file consum race condit markerFile marker file read lock strategi,See nabblehttp://camel.465427.n5.nabble.com/File-markerFile-strategy-race-condition-tp5733561.htmlWe should delete the .camelLock file last  as currently we move the processed file first. And there is a very tiny tiny window where another process could potential see the file and pickup it., see nabblehttp camel nabbl com file markerFile strategi race condit tp htmlWe nabblehttp camel nabbl com file marker file strategi race condit tp html delet camelLock camel lock file last current move process file first first tini tini window anoth process could potenti see file pickup,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategy.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileProcessStrategySupport.java;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileRenameProcessStrategy.java;,0
6432,Charles Moulliard,camel-websocket,0,baseResource of Jetty ServletContextHandler does not work when project deployed as a bundle, baseResource base resourc jetti ServletContextHandler servlet context handler not work project deploy bundl,If we package a camel websocket route ('websocket://0.0.0.0:9090/newsTopic?sendToAll=true&amp;staticResources=classpath:webapp') as a bundle and set the staticResources as parameter (classpath:webapp)  then the pages cannot be accessed from the browserCode should be  if (resources[0].equals('classpath')) { URL url = this.getCamelContext().getClassResolver().loadResourceAsURL(resources[1]); context.setBaseResource(Resource.newResource(url)); } else if (resources[0].equals('file')) { context.setBaseResource(Resource.newResource(resources[1])); }, packag camel websocket rout websocket newsTopic sendToAll true amp staticResources classpath webapp websocket news topic send true amp static resourc classpath webapp bundl set staticResources static resourc paramet classpath webapp classpath webapp page cannot access browserCode browser code resourc equal classpath resourc equal classpath URL url getCamelContext getClassResolver loadResourceAsURL resourc get camel context get class resolv load resourc URL resourc context setBaseResource resourc newResource url context set base resourc resourc new resourc url els resourc equal file resourc equal file context setBaseResource resourc newResource resourc context set base resourc resourc new resourc resourc,0,0,1,0,0,components/camel-websocket/src/main/java/org/apache/camel/component/websocket/WebsocketComponent.java;,0
6447,Christian Tytgat,camel-core,0,endChoice() has no effect in nested choice definition, endChoice end choic no effect nest choic definit,I just upgraded from 2.10.4 to 2.11.0 and noticed that nested choice definitions started acting strangely. For example: .choice() .when(header(Exchange.EXCEPTION_CAUGHT).isNotNull()) // 1 .setBody(exceptionMessage().append(SystemUtils.LINE_SEPARATOR).append(exceptionStackTrace())) .choice() .when(header(HEADER_CONTROLLER_ID).isNotNull()) // 1a .setHeader(Exchange.FILE_NAME  simple(AUDIT_CONTROLLER_FAILED_FILENAME + '.error.log')) .to(ENDPOINT_AUDIT_DIR) .otherwise() // 1b .setHeader(Exchange.FILE_NAME  simple(AUDIT_FAILED_FILENAME + '.error.log')) .to(ENDPOINT_AUDIT_DIR) // INSERTING .end() here solves the issue .endChoice() .log(LoggingLevel.WARN  'DLQ written: ${in.header.CamelExceptionCaught}' .otherwise() // 2 .log(LoggingLevel.WARN  'DLQ written' + MESSAGE_LOG_FORMAT) .end()I have a test that is supposed to go through 1 and 1a. However it now passes through 1 and 2!It looks like the endChoice() in 1b has no effect and the otherwise() in 2 is executed instead of 1b. Inserting and end() statement as shown seems to solve the issue  but it looks suspicious.It's probably a regression introduced by the fix for CAMEL-5953  but I'm not 100% sure., upgrad notic nest choic definit start act strang strang exampl exampl choic choic header exchang EXCEPTION_CAUGHT isNotNull header exchang EXCEPTION CAUGHT not null setBody exceptionMessage append SystemUtils LINE_SEPARATOR append exceptionStackTrace set bodi except messag append system util LINE SEPARATOR append except stack trace choic choic header HEADER_CONTROLLER_ID isNotNull header HEADER CONTROLLER ID not null setHeader exchang FILE_NAME set header exchang FILE NAME simpl AUDIT_CONTROLLER_FAILED_FILENAME simpl AUDIT CONTROLLER FAILED FILENAME error log error log ENDPOINT_AUDIT_DIR ENDPOINT AUDIT DIR otherwis otherwis setHeader exchang FILE_NAME set header exchang FILE NAME simpl AUDIT_FAILED_FILENAME simpl AUDIT FAILED FILENAME error log error log ENDPOINT_AUDIT_DIR ENDPOINT AUDIT DIR INSERTING end end solv issu endChoice end choic log LoggingLevel WARN log log level WARN DLQ DLQ written written header CamelExceptionCaught header camel except caught otherwis otherwis log LoggingLevel WARN log log level WARN DLQ DLQ written written MESSAGE_LOG_FORMAT MESSAGE LOG FORMAT end end test suppos go howev pass look like endChoice end choic no effect otherwis otherwis execut instead insert end end statement shown seem solv issu look suspici suspici probabl regress introduc fix CAMEL CAMEL not sure sure,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/main/java/org/apache/camel/processor/ChoiceProcessor.java;camel-core/src/test/java/org/apache/camel/processor/NestedChoiceIssueTest.java;camel-core/src/test/java/org/apache/camel/processor/TripleNestedChoiceIssueTest.java;camel-core/src/test/java/org/apache/camel/processor/async/AsyncNestedTripleChoiceIssueTest.java;components/camel-spring/src/test/java/org/apache/camel/spring/processor/SpringNestedChoiceIssueTest.java;components/camel-spring/src/test/resources/org/apache/camel/spring/processor/SpringNestedChoiceIssueTest.xml;,0
6461,Claus Ibsen,camel-quartz,0,camel-quartz - Stateful job - Redeploying bundle/war and having changed endpoint uri issue, camel quartz camel quartz state job redeploy bundl war bundl war chang endpoint uri issu,Seehttp://camel.465427.n5.nabble.com/In-came-quartz-route-after-bundle-update-jobs-are-not-triggred-tp5734196.htmlIn these situations we should use job.name to name the job unique so when you change the endpoint uri and redeploy the apps/bundles  then camel-quartz can find the old job in the quartz persistent store.There may be logic needed to lookup using job.name as the unique name in these situations  and then allow endpoint uri options to change over time  such as the cron trigger etc. Which should be adjusted accordingly as well., seehttp camel nabbl com came quartz rout bundl updat job not triggr tp htmlIn seehttp camel nabbl com came quartz rout bundl updat job not triggr tp html situat use job name job name name job uniqu chang endpoint uri redeploy app bundl app bundl camel quartz camel quartz find old job quartz persist store store may logic need lookup use job name job name uniqu name situat allow endpoint uri option chang time cron trigger etc etc adjust accordingli well well,0,0,0,1,0,components/camel-quartz/src/main/java/org/apache/camel/component/quartz/CamelJob.java;components/camel-quartz/src/main/java/org/apache/camel/component/quartz/QuartzComponent.java;,0
6464,Marco Zapletal,camel-mail,0,connectionTimeout property is ignored by JavaMail, connectionTimeout connect timeout properti ignor JavaMail java mail,JavaMail ignores the timeout values set via the connectionTimeout property. Within MailConfiguration::createJavaMailProperties the mail.&lt;protocol&gt;.timeout and mail.&lt;protocol&gt;.connectionTimeout parameters are set as long values In com.sun.mail.util.PropUtil::getInt (line 141) the property is ignored since it is a long valueChanging the type of connectionTimeout from long to int would be the cleanest solution - another suggestion would be to downcast the connectionTimeout in MailConfiguration::createJavaMailProperties, JavaMail java mail ignor timeout valu set via connectionTimeout connect timeout properti properti within MailConfiguration createJavaMailProperties mail configur creat java mail properti mail lt protocol gt timeout mail lt protocol gt timeout mail lt protocol gt connectionTimeout mail lt protocol gt connect timeout paramet set long valu com sun mail util PropUtil getInt com sun mail util prop util get int line properti ignor sinc long valueChanging valu chang type connectionTimeout connect timeout long int would cleanest solut anoth suggest would downcast connectionTimeout connect timeout MailConfiguration createJavaMailProperties mail configur creat java mail properti,0,0,0,0,1,components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java;components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConstants.java;,0
6473,Sergey Galkin,camel-sql,0,NULL values are not supported in named parameters, NULL valu not support name paramet,Due to the bug in the DefaultSqlPrepareStatementStrategy there no ability to use NULL values.Following query will be failed  if we try to use NULL as a parameter value:select a  b from foo where (:#param1 IS NOT NULL AND a &gt; 12 ) OR (:#param2 IS NOT NULL AND b &gt; 12)We'll get an error: Caused by: java.sql.SQLException: Number of parameters mismatch. Expected: 2  was:1at org.apache.camel.component.sql.DefaultSqlPrepareStatementStrategy.populateStatement(DefaultSqlPrepareStatementStrategy.java:132) ~&#91;camel-sql-2.11.0.jar:2.11.0&#93; at org.apache.camel.component.sql.SqlProducer$1.doInPreparedStatement(SqlProducer.java:74) ~&#91;camel-sql-2.11.0.jar:2.11.0&#93; at org.apache.camel.component.sql.SqlProducer$1.doInPreparedStatement(SqlProducer.java:57) ~&#91;camel-sql-2.11.0.jar:2.11.0&#93; at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:587) ~&#91;spring-jdbc-3.1.4.RELEASE.jar:3.1.4.RELEASE&#93;Fix is quite simple: iterator implementation (returned by DefaultSqlPrepareStatementStrategy.createPopulateIterator()) should be changed as follows: return new Iterator&lt;Object&gt;() { private NamedQueryParser parser = new NamedQueryParser(query); private String nextParam; private boolean done; @Override public boolean hasNext() { if (done) { return false; } if (nextParam == null) { nextParam = parser.next(); if (nextParam == null) { done = true; } } return nextParam != null; } @Override public Object next() { if(!hasNext()){ throw new NoSuchElementException(); } boolean contains = bodyMap != null ? bodyMap.containsKey(nextParam) : false; contains |= headerMap != null ? headerMap.containsKey(nextParam) : false; if (!contains) { throw new RuntimeExchangeException('Cannot find key [' + nextParam + '] in message body or headers to use when setting named parameter in query [' + query + ']'  exchange); } // get from body before header Object next = bodyMap != null ? bodyMap.get(nextParam) : null; if (next == null) { next = headerMap != null ? headerMap.get(nextParam) : null; } nextParam = null; return next; } @Override public void remove() { // noop } };, due bug DefaultSqlPrepareStatementStrategy default sql prepar statement strategi no abil use NULL valu follow valu follow queri fail tri use NULL paramet valu select valu select foo param param NOT NULL gt gt param param NOT NULL gt gt get error error caus java sql SQLException java sql SQL except number paramet mismatch mismatch expect expect org apach camel compon sql DefaultSqlPrepareStatementStrategy populateStatement DefaultSqlPrepareStatementStrategy java org apach camel compon sql default sql prepar statement strategi popul statement default sql prepar statement strategi java camel sql jar camel sql jar org apach camel compon sql SqlProducer doInPreparedStatement SqlProducer java org apach camel compon sql sql produc prepar statement sql produc java camel sql jar camel sql jar org apach camel compon sql SqlProducer doInPreparedStatement SqlProducer java org apach camel compon sql sql produc prepar statement sql produc java camel sql jar camel sql jar org springframework jdbc core JdbcTemplate execut JdbcTemplate java org springframework jdbc core jdbc templat execut jdbc templat java spring jdbc RELEASE jar RELEASE fix spring jdbc RELEASE jar RELEASE fix quit simpl simpl iter implement return DefaultSqlPrepareStatementStrategy createPopulateIterator default sql prepar statement strategi creat popul iter chang follow follow return new iter lt object gt iter lt object gt privat NamedQueryParser name queri parser parser new NamedQueryParser queri name queri parser queri privat string nextParam next param privat boolean done done overrid overrid public boolean hasNext next done done return fals fals nextParam next param null null nextParam next param parser next parser next nextParam next param null null done true true return nextParam next param null null overrid overrid public object next next hasNext next throw new NoSuchElementException No element except boolean contain bodyMap bodi map null bodyMap containsKey nextParam bodi map contain key next param fals fals contain headerMap header map null headerMap containsKey nextParam header map contain key next param fals fals contain contain throw new RuntimeExchangeException cannot runtim exchang except cannot find key nextParam next param messag bodi header use set name paramet queri queri exchang exchang get bodi header object next bodyMap bodi map null bodyMap get nextParam bodi map get next param null null next null null next headerMap header map null headerMap get nextParam header map get next param null null nextParam next param null null return next next overrid overrid public void remov remov noop,1,0,1,0,1,components/camel-sql/src/main/java/org/apache/camel/component/sql/DefaultSqlPrepareStatementStrategy.java;,0
6481,Jérôme Decq,camel-core,0,Can't access to length of Array (java) from simple language, access length array java java simpl languag,Cannot evaluate length on java.lang.String[] in simpleI suspect this is because this is part of the language itself. But still  why not?repro steprun this: ?xml version='1.0' encoding='UTF-8'?&gt;&lt;routes xmlns='http://camel.apache.org/schema/spring' &gt; &lt;route&gt; &lt;from uri='timer:test?repeatCount=1'/&gt; &lt;setBody&gt; &lt;groovy&gt;[[2  'Chaine_avec_des_underscores'  12  'c']  ['d4'  'e5'  'f6']]&lt;/groovy&gt; &lt;/setBody&gt; &lt;split&gt; &lt;simple&gt;${body}&lt;/simple&gt; &lt;setHeader headerName='splittedColumn1'&gt; &lt;simple&gt;${body[1].split('_')}&lt;/simple&gt; &lt;/setHeader&gt; &lt;log message='${header.splittedColumn1.length}'/&gt; &lt;/split&gt; &lt;/route&gt;&lt;/routes&gt;errors with:org.apache.camel.language.bean.RuntimeBeanExpressionException: Failed to invoke method: .length on null due to: org.apache.camel.language.bean.RuntimeBeanExpressionException: Failed to invoke method: length on null due to: org.apache.camel.component.bean.MethodNotFoundException: Method with name: length not found on bean: [Ljava.lang.String;@33318365 of type: [Ljava.lang.String;. Exchange[Message: [d4  e5  f6]], cannot evalu length java lang string java lang string simpleI simpl suspect part languag still not repro not repro steprun xml version version encod UTF gt lt rout encod UTF gt lt rout xmln http camel apach org schema spring xmln http camel apach org schema spring gt gt lt rout gt lt rout gt lt lt uri timer test repeatCount gt uri timer test repeat count gt lt setBody gt lt set bodi gt lt groovi gt lt groovi gt Chaine_avec_des_underscores Chaine_avec_des_underscores lt groovi gt lt groovi gt lt setBody gt lt set bodi gt lt split gt lt split gt lt simpl gt bodi lt simpl gt lt simpl gt bodi lt simpl gt lt setHeader lt set header headerName splittedColumn gt header name split column gt lt simpl gt bodi split  lt simpl gt lt simpl gt bodi split  lt simpl gt lt setHeader gt lt set header gt lt log lt log messag header splittedColumn length gt messag header split column length gt lt split gt lt split gt lt rout gt lt rout gt error lt rout gt lt rout gt error org apach camel languag bean RuntimeBeanExpressionException org apach camel languag bean runtim bean express except fail invok method method length null due org apach camel languag bean RuntimeBeanExpressionException org apach camel languag bean runtim bean express except fail invok method method length null due org apach camel compon bean MethodNotFoundException org apach camel compon bean method not found except method name name length not found bean bean ljava lang string ljava lang string type type ljava lang string ljava lang string exchang messag exchang messag,1,0,1,0,1,camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleTest.java;,0
6504,Sven Bauhan,camel-core,0,org.apache.camel.main.Main#doStop() throws java.lang.IndexOutOfBoundsException, org apach camel main main doStop org apach camel main main stop throw java lang IndexOutOfBoundsException java lang index bound except,When calling a Camel application with parameter -h all parameters are printed an the program exits.But it is no clean exit; it throws an java.lang.IndexOutOfBoundsException.The reason for this is the expression in doStop():+getCamelContexts().get(0).stop();get(0) returns null  if no context is initialized yet.See camel-users mailinglist  thread 'Bug in org.apache.camel.main.Main#doStop() ?', call camel applic paramet paramet print program exit exit no clean exit exit throw java lang IndexOutOfBoundsException java lang index bound except reason express doStop getCamelContexts get stop get stop get camel context get stop get return null no context initi yet see yet see camel user camel user mailinglist thread bug bug org apach camel main main doStop org apach camel main main stop,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/main/Main.java;,0
6514,Joerg Kessler,camel-ftp,0,SFTP: NPE if no private key file is supplied, SFTP SFTP NPE no privat key file suppli,Hi a NPE is thrown if no private key file is supplied in the configuration for SFTP. The error isCaused by: java.lang.NullPointerException: while trying to get the length of an array loaded from local variable 'foo'at com.jcraft.jsch.Buffer.putString(Buffer.java:59)I have analysed the code a bit and found that the problem is causedby the class SftpOperations. The method createSession sets the userInfo for the seesion by an inline class. Here the method promptKeyboardInteractive does not work correctly if no private key file is supplied. In that case JSCH switches to user/pw authorization and this method is called. But since there is no password maintained the configation object returns NULL. The present implementation adds it to the string array causing the error in JSCH. JSCH either wants a NULL string array or an empty string array (I have tested both). So the code should look e.g. as follows: public String[] promptKeyboardInteractive(String destination  String name  String instruction  String[] prompt  boolean[] echo) { String password = configuration.getPassword(); if (password == null) { return new String[0]; } else { return new String[] { password }; } }With that change JSCH returnsCaused by: java.io.FileNotFoundException: ./data/ssh/id_rsa (No such file or directory) at java.io.FileInputStream.open(Native Method)and that is the real cause of the error Best Regards J?rg, Hi NPE thrown no privat key file suppli configur SFTP SFTP error isCaused caus java lang NullPointerException java lang null pointer except tri get length array load local variabl foo foo com jcraft jsch buffer putString buffer java com jcraft jsch buffer put string buffer java analys code bit found problem causedbi class SftpOperations sftp oper method createSession creat session set userInfo user info seesion inlin class class method promptKeyboardInteractive prompt keyboard interact not work correctli no privat key file suppli suppli case JSCH switch user pw user pw author method call call sinc no password maintain config object return NULL NULL present implement add string array caus error JSCH JSCH JSCH either want NULL string array empti string array test code look follow follow public string string promptKeyboardInteractive string prompt keyboard interact string destin string name string instruct string string prompt boolean boolean echo echo string password configur getPassword configur get password password null null return new string string els return new string string password chang JSCH returnsCaused return caus java io FileNotFoundException java io file not found except data ssh id_rsa data ssh id_rsa No No file directori directori java io FileInputStream open nativ java io file input stream open nativ method method real caus error best regard rg rg,0,0,1,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;,0
6537,Claus Ibsen,camel-core; eip,0,Routing slip EIP - Does not send ExchangeSentEvent notifications, rout slip EIP not send ExchangeSentEvent exchang sent event notif,When using routing slip eip  then we only get the ExchangeSendingEvent  what we miss is the ExchangSentEvent., use rout slip eip get ExchangeSendingEvent exchang send event miss ExchangSentEvent exchang sent event,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/processor/RoutingSlip.java;camel-core/src/main/java/org/apache/camel/processor/RoutingSlip.java;camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipEventNotifierTest.java;,0
6551,Chris Wolf,camel-ftp,0,FtpConsumer fills up log file with 'Cannot connect/login' WARN level messages, FtpConsumer ftp consum fill log file cannot cannot connect login connect login WARN level messag,If the FTP server becomes unavailable  the container log gets flooded with WARN-level messages and gets filled with lines like:16:32:34 511 WARN &#91;org.apache.camel.component.file.remote.FtpConsumer&#93; Cannot connect/login to: ftp://adpt5@localhost:21. Will skip this poll.16:32:49 048 WARN &#91;org.apache.camel.component.file.remote.FtpConsumer&#93; Cannot connect/login to: ftp://adpt5@localhost:21. Will skip this poll.16:33:03 576 WARN &#91;org.apache.camel.component.file.remote.FtpConsumer&#93; Cannot connect/login to: ftp://adpt5@localhost:21. Will skip this poll.i.e. a WARN message gets added to the log every five seconds. We only need to be notified once per incidence.The issue is in org.apache.camel.component.file.remote.RemoteFileConsumer.prePollCheck().I recommend a table of latches  keyed by endpoint key. The latch is set when the initial warning is logged  then cleared upon any subsequent successful connection., FTP server becom unavail contain log get flood WARN level WARN level messag get fill line like like WARN org apach camel compon file remot FtpConsumer org apach camel compon file remot ftp consum cannot connect login connect login skip poll poll WARN org apach camel compon file remot FtpConsumer org apach camel compon file remot ftp consum cannot connect login connect login skip poll poll WARN org apach camel compon file remot FtpConsumer org apach camel compon file remot ftp consum cannot connect login connect login skip poll poll WARN messag get ad log everi five second second need notifi per incid incid issu org apach camel compon file remot RemoteFileConsumer prePollCheck org apach camel compon file remot remot file consum pre poll check recommend tabl latch key endpoint key key latch set initi warn log clear upon subsequ success connect connect,0,0,1,1,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;,0
6563,Sam Patel,camel-netty,0,camel-netty - unable to consume on UDP multicast addresses, camel netti camel netti unabl consum UDP multicast address,When using a route to listen to UDP multicast address   no messages seem to get consumed. No exceptions are observed. Multicast address is defined as addresses in the range of 224.0.0.0 through 239.255.255.255 (http://en.wikipedia.org/wiki/Multicast_address)Input was simple string (e.g. 'Test String')Example Route:&lt;route&gt; &lt;from uri='netty:udp://225.1.1.1:8001?allowDefaultCodec=false&amp;sync=false&amp;broadcast=true'/&gt;&lt;/route&gt;Found an old topic in the user discussion forum that seems related. Did not find any unit tests in the Camel source code exercising this behavior. (http://camel.465427.n5.nabble.com/camel-netty-and-multicast-tt4638622.html), use rout listen UDP multicast address no messag seem get consum consum No except observ observ multicast address defin address rang http en wikipedia org wiki Multicast_address input http en wikipedia org wiki Multicast_address input simpl string test test string exampl string exampl rout lt rout gt rout lt rout gt lt lt uri netti udp allowDefaultCodec fals amp sync fals amp broadcast true gt lt rout gt found uri netti udp allow default codec fals amp sync fals amp broadcast true gt lt rout gt found old topic user discuss forum seem relat relat not find unit test camel sourc code exercis behavior behavior http camel nabbl com camel netti multicast tt html http camel nabbl com camel netti multicast tt html,0,0,1,1,0,components/camel-netty/src/main/java/org/apache/camel/component/netty/NettyServerBootstrapConfiguration.java;components/camel-netty/src/main/java/org/apache/camel/component/netty/SingleUDPNettyServerBootstrapFactory.java;,0
6571,A. Engelmann,camel-jsch,0,Wrong InputStream reference is used in method storeFile of class ScpOperations, wrong InputStream input stream refer use method storeFile store file class ScpOperations scp oper,In method storeFile(String name  Exchange exchange) of class org.apache.camel.component.jsch.ScpOperations the wrong reference of the required input stream is used (line 131). Should be write(channel  file  is  cfg); instead of write(channel  file  exchange.getIn().getMandatoryBody(InputStream.class)  cfg);, method storeFile string store file string name exchang exchang exchang class org apach camel compon jsch ScpOperations org apach camel compon jsch scp oper wrong refer requir input stream use line write channel write channel file cfg cfg instead write channel write channel file exchang getIn getMandatoryBody InputStream class exchang get get mandatori bodi input stream class cfg cfg,0,0,1,0,0,components/camel-jsch/src/main/java/org/apache/camel/component/jsch/ScpOperations.java;,0
6585,Willem Jiang,camel-cxf,0,camel-cxf should shutdown the bus when the endpoint is stopped., camel cxf camel cxf shutdown bu endpoint stop stop,If the bus is create by cxfEndpoint itself  cxfEndpoint should shutdown it when the endpoint is stopped., bu creat cxfEndpoint cxf endpoint cxfEndpoint cxf endpoint shutdown endpoint stop stop,0,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;,0
6586,Claus Ibsen,camel-core; jmx,0,JMX - browsable endpoints such as seda has some attributes listed as unavaiable, JMX browsabl endpoint seda attribut list unavai,See screenshotThe problem is related to extending a ManagedEndpoint then some options is shown as unavaiable in JMX consoles., see screenshotThe screenshot problem relat extend ManagedEndpoint manag endpoint option shown unavai JMX consol consol,0,1,0,0,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaEndpoint.java;,0
6591,Stephan Siano,camel-ftp,0,SFTP endpoint fails if the server disconnected the socket, SFTP endpoint fail server disconnect socket,If the ssh server disconnects the socket held by an SFTP endpoint (and the disconnect option is not set to true) the next call to this endpoint will fail. A call after the failed call will reconnect (and succeed if the server is available again).The error message is as follows:SftpSimpleProduceDisconnectTestorg.apache.camel.component.file.remote.sftp.SftpSimpleProduceDisconnectTesttestSftpSimpleProduce(org.apache.camel.component.file.remote.sftp.SftpSimpleProduceDisconnectTest)org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange&#91;Message: Hello World&#93; at org.apache.camel.util.ObjectHelper.wrapCamelExecutionException(ObjectHelper.java:1360) at org.apache.camel.util.ExchangeHelper.extractResultBody(ExchangeHelper.java:619) at org.apache.camel.impl.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:454) at org.apache.camel.impl.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:450) at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:152) at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:146) at org.apache.camel.component.file.remote.sftp.SftpSimpleProduceDisconnectTest.testSftpSimpleProduce(SftpSimpleProduceDisconnectTest.java:50) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55) at org.junit.rules.RunRules.evaluate(RunRules.java:20) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.run(ParentRunner.java:309) at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)Caused by: org.apache.camel.component.file.GenericFileOperationFailedException: Cannot change directory to: target at org.apache.camel.component.file.remote.SftpOperations.doChangeDirectory(SftpOperations.java:536) at org.apache.camel.component.file.remote.SftpOperations.changeCurrentDirectory(SftpOperations.java:524) at org.apache.camel.component.file.remote.SftpOperations.storeFile(SftpOperations.java:771) at org.apache.camel.component.file.GenericFileProducer.writeFile(GenericFileProducer.java:278) at org.apache.camel.component.file.GenericFileProducer.processExchange(GenericFileProducer.java:166) at org.apache.camel.component.file.remote.RemoteFileProducer.process(RemoteFileProducer.java:49) at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61) at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:192) at org.apache.camel.processor.UnitOfWorkProducer.process(UnitOfWorkProducer.java:73) at org.apache.camel.impl.ProducerCache$2.doInProducer(ProducerCache.java:366) at org.apache.camel.impl.ProducerCache$2.doInProducer(ProducerCache.java:1) at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:233) at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:337) at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:175) at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:111) at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:150) ... 31 moreCaused by: 4:  at com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:332) at org.apache.camel.component.file.remote.SftpOperations.doChangeDirectory(SftpOperations.java:534) ... 46 moreCaused by: java.io.IOException: Pipe closed at java.io.PipedInputStream.read(Unknown Source) at java.io.PipedInputStream.read(Unknown Source) at com.jcraft.jsch.ChannelSftp.fill(ChannelSftp.java:2665) at com.jcraft.jsch.ChannelSftp.header(ChannelSftp.java:2691) at com.jcraft.jsch.ChannelSftp._realpath(ChannelSftp.java:2148) at com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:315) ... 47 more, ssh server disconnect socket held SFTP endpoint disconnect option not set true true next call endpoint fail fail call fail call reconnect succeed server avail error messag follow SftpSimpleProduceDisconnectTestorg apach camel compon file remot sftp SftpSimpleProduceDisconnectTesttestSftpSimpleProduce org apach camel compon file remot sftp SftpSimpleProduceDisconnectTest org apach camel CamelExecutionException follow sftp simpl produc disconnect testorg apach camel compon file remot sftp sftp simpl produc disconnect testtest sftp simpl produc org apach camel compon file remot sftp sftp simpl produc disconnect test org apach camel camel execut except except occur execut exchang exchang exchang messag exchang messag hello world world org apach camel util ObjectHelper wrapCamelExecutionException ObjectHelper java org apach camel util object helper wrap camel execut except object helper java org apach camel util ExchangeHelper extractResultBody ExchangeHelper java org apach camel util exchang helper extract result bodi exchang helper java org apach camel impl DefaultProducerTemplate extractResultBody DefaultProducerTemplate java org apach camel impl default produc templat extract result bodi default produc templat java org apach camel impl DefaultProducerTemplate extractResultBody DefaultProducerTemplate java org apach camel impl default produc templat extract result bodi default produc templat java org apach camel impl DefaultProducerTemplate sendBodyAndHeader DefaultProducerTemplate java org apach camel impl default produc templat send bodi header default produc templat java org apach camel impl DefaultProducerTemplate sendBodyAndHeader DefaultProducerTemplate java org apach camel impl default produc templat send bodi header default produc templat java org apach camel compon file remot sftp SftpSimpleProduceDisconnectTest testSftpSimpleProduce SftpSimpleProduceDisconnectTest java org apach camel compon file remot sftp sftp simpl produc disconnect test test sftp simpl produc sftp simpl produc disconnect test java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok unknown sun reflect nativ method accessor impl invok unknown sourc sourc sun reflect DelegatingMethodAccessorImpl invok unknown sun reflect deleg method accessor impl invok unknown sourc sourc java lang reflect method invok unknown java lang reflect method invok unknown sourc sourc org junit runner model FrameworkMethod runReflectiveCall FrameworkMethod java org junit runner model framework method run reflect call framework method java org junit intern runner model ReflectiveCallable run ReflectiveCallable java org junit intern runner model reflect callabl run reflect callabl java org junit runner model FrameworkMethod invokeExplosively FrameworkMethod java org junit runner model framework method invok explos framework method java org junit intern runner statement InvokeMethod evalu InvokeMethod java org junit intern runner statement invok method evalu invok method java org junit intern runner statement RunBefores evalu RunBefores java org junit intern runner statement run befor evalu run befor java org junit intern runner statement RunAfters evalu RunAfters java org junit intern runner statement run after evalu run after java org junit rule TestWatcher evalu TestWatcher java org junit rule test watcher evalu test watcher java org junit rule RunRules evalu RunRules java org junit rule run rule evalu run rule java org junit runner ParentRunner runLeaf ParentRunner java org junit runner parent runner run leaf parent runner java org junit runner BlockJUnit ClassRunner runChild BlockJUnit ClassRunner java org junit runner block unit class runner run child block unit class runner java org junit runner BlockJUnit ClassRunner runChild BlockJUnit ClassRunner java org junit runner block unit class runner run child block unit class runner java org junit runner ParentRunner run ParentRunner java org junit runner parent runner run parent runner java org junit runner ParentRunner schedul ParentRunner java org junit runner parent runner schedul parent runner java org junit runner ParentRunner runChildren ParentRunner java org junit runner parent runner run children parent runner java org junit runner ParentRunner access ParentRunner java org junit runner parent runner access parent runner java org junit runner ParentRunner evalu ParentRunner java org junit runner parent runner evalu parent runner java org junit intern runner statement RunBefores evalu RunBefores java org junit intern runner statement run befor evalu run befor java org junit intern runner statement RunAfters evalu RunAfters java org junit intern runner statement run after evalu run after java org junit runner ParentRunner run ParentRunner java org junit runner parent runner run parent runner java org eclips jdt intern junit runner JUnit TestReference run JUnit TestReference java org eclips jdt intern junit runner unit test refer run unit test refer java org eclips jdt intern junit runner TestExecution run TestExecution java org eclips jdt intern junit runner test execut run test execut java org eclips jdt intern junit runner RemoteTestRunner runTests RemoteTestRunner java org eclips jdt intern junit runner remot test runner run test remot test runner java org eclips jdt intern junit runner RemoteTestRunner runTests RemoteTestRunner java org eclips jdt intern junit runner remot test runner run test remot test runner java org eclips jdt intern junit runner RemoteTestRunner run RemoteTestRunner java org eclips jdt intern junit runner remot test runner run remot test runner java org eclips jdt intern junit runner RemoteTestRunner main RemoteTestRunner java caus org eclips jdt intern junit runner remot test runner main remot test runner java caus org apach camel compon file GenericFileOperationFailedException org apach camel compon file gener file oper fail except cannot chang directori target org apach camel compon file remot SftpOperations doChangeDirectory SftpOperations java org apach camel compon file remot sftp oper chang directori sftp oper java org apach camel compon file remot SftpOperations changeCurrentDirectory SftpOperations java org apach camel compon file remot sftp oper chang current directori sftp oper java org apach camel compon file remot SftpOperations storeFile SftpOperations java org apach camel compon file remot sftp oper store file sftp oper java org apach camel compon file GenericFileProducer writeFile GenericFileProducer java org apach camel compon file gener file produc write file gener file produc java org apach camel compon file GenericFileProducer processExchange GenericFileProducer java org apach camel compon file gener file produc process exchang gener file produc java org apach camel compon file remot RemoteFileProducer process RemoteFileProducer java org apach camel compon file remot remot file produc process remot file produc java org apach camel util AsyncProcessorConverterHelper ProcessorToAsyncProcessorBridge process AsyncProcessorConverterHelper java org apach camel util async processor convert helper processor async processor bridg process async processor convert helper java org apach camel processor CamelInternalProcessor process CamelInternalProcessor java org apach camel processor camel intern processor process camel intern processor java org apach camel processor UnitOfWorkProducer process UnitOfWorkProducer java org apach camel processor unit work produc process unit work produc java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache doInProducer ProducerCache java org apach camel impl produc cach produc produc cach java org apach camel impl ProducerCache sendExchange ProducerCache java org apach camel impl produc cach send exchang produc cach java org apach camel impl ProducerCache send ProducerCache java org apach camel impl produc cach send produc cach java org apach camel impl DefaultProducerTemplate send DefaultProducerTemplate java org apach camel impl default produc templat send default produc templat java org apach camel impl DefaultProducerTemplate sendBodyAndHeader DefaultProducerTemplate java org apach camel impl default produc templat send bodi header default produc templat java moreCaused caus com jcraft jsch ChannelSftp cd ChannelSftp java com jcraft jsch channel sftp cd channel sftp java org apach camel compon file remot SftpOperations doChangeDirectory SftpOperations java org apach camel compon file remot sftp oper chang directori sftp oper java moreCaused caus java io IOException java io IO except pipe close java io PipedInputStream read unknown java io pipe input stream read unknown sourc sourc java io PipedInputStream read unknown java io pipe input stream read unknown sourc sourc com jcraft jsch ChannelSftp fill ChannelSftp java com jcraft jsch channel sftp fill channel sftp java com jcraft jsch ChannelSftp header ChannelSftp java com jcraft jsch channel sftp header channel sftp java com jcraft jsch ChannelSftp _realpath ChannelSftp java com jcraft jsch channel sftp _realpath channel sftp java com jcraft jsch ChannelSftp cd ChannelSftp java com jcraft jsch channel sftp cd channel sftp java,1,1,0,0,0,components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpServerTestSupport.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/sftp/SftpSimpleProduceDisconnectTest.java;,0
6593,David Keen,camel-core,0,Predicates from java dsl are not dumped to xml correctly, predic java dsl not dump xml correctli,Predicates defined in the java dsl are not dumped to xml when using jmx.Eg  this java dsl route:from('seda:a').choice().when(header('test').isNotNull()).log('not null').end().to('mock:a');Will be dumped as this:&lt;?xml version='1.0' encoding='UTF-8' standalone='yes'?&gt;&lt;route group='com.example.TestRoute' id='route1' xmlns='http://camel.apache.org/schema/spring'&gt; &lt;from uri='seda:a'/&gt; &lt;choice id='choice23'&gt; &lt;when id='when24'&gt; &lt;expressionDefinition/&gt; &lt;log message='not null' id='log20'/&gt; &lt;/when&gt; &lt;/choice&gt; &lt;to uri='mock:a' id='to17'/&gt;&lt;/route&gt;The &lt;expressionDefinition&gt; element should contain the expression.This seems similar to CAMEL-4733., predic defin java dsl not dump xml use jmx Eg jmx Eg java dsl rout seda choic header test isNotNull log not rout seda choic header test not null log not null end mock null end mock dump lt xml lt xml version version encod UTF encod UTF standalon ye gt lt rout standalon ye gt lt rout group com exampl TestRoute group com exampl test rout id rout id rout xmln http camel apach org schema spring gt xmln http camel apach org schema spring gt lt lt uri seda gt uri seda gt lt choic lt choic id choic gt id choic gt lt lt id gt id gt lt expressionDefinition gt lt express definit gt lt log lt log messag not messag not null null id log gt id log gt lt gt lt gt lt choic gt lt choic gt lt lt uri mock uri mock id gt lt rout gt id gt lt rout gt lt expressionDefinition gt lt express definit gt element contain express express seem similar CAMEL CAMEL,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/model/ExpressionNode.java;camel-core/src/main/java/org/apache/camel/model/language/ExpressionDefinition.java;camel-core/src/test/java/org/apache/camel/util/DumpModelAsXmlChoiceFilterRouteTest.java;,0
6595,Maurizio Turatti,null,0,camel-cmis component: test packages have the wrong name, camel cmi camel cmi compon compon test packag wrong name,Unit tests for camel-cmis are under package org.apache.camel.componenet instead of org.apache.camel.componentActions:1) Rename folder src/test/java/org/apache/camel/componenet to src/test/java/org/apache/camel/component/2) Fix the package name in each unit testAffected version: 2.12-SNAPSHOT and before, unit test camel cmi camel cmi packag org apach camel componenet org apach camel componenet instead org apach camel componentActions org apach camel compon action renam folder src test java org apach camel componenet src test java org apach camel componenet src test java org apach camel compon src test java org apach camel compon fix packag name unit testAffected test affect version version SNAPSHOT SNAPSHOT,0,1,0,0,1,components/camel-cmis/src/test/java/org/apache/camel/componenet/cmis/CMISConsumerTest.java;components/camel-cmis/src/test/java/org/apache/camel/componenet/cmis/CMISProducerTest.java;components/camel-cmis/src/test/java/org/apache/camel/componenet/cmis/CMISQueryProducerTest.java;components/camel-cmis/src/test/java/org/apache/camel/componenet/cmis/CMISTestSupport.java;components/camel-cmis/src/test/java/org/apache/camel/component/cmis/CMISConsumerTest.java;components/camel-cmis/src/test/java/org/apache/camel/component/cmis/CMISProducerTest.java;components/camel-cmis/src/test/java/org/apache/camel/component/cmis/CMISQueryProducerTest.java;components/camel-cmis/src/test/java/org/apache/camel/component/cmis/CMISTestSupport.java;,0
6602,Ming ZI,camel-cxf,0,camel-cxf ClassCastException when use cxf FailoverFeature, camel cxf camel cxf ClassCastException class cast except use cxf FailoverFeature failov featur,With PAYLOAD data format used  the first element in argument is casted to a CxfPayload instance and the argument is changed into a List&lt;DOMSource&gt; instance by the method 'setParameters' in class org.apache.camel.component.cxf.CxfEndpoint.Then FailoverFeature calls retry  the class-cast action throws a ClassCastException.btw: 'message.remove(DataFormat.class)' at the end of the method 'setParameters' dosn't work. The method 'remove' is inherited from Map  and a new message with data format PAYLOAD is created when retry., PAYLOAD data format use first element argument cast CxfPayload cxf payload instanc argument chang list lt DOMSource gt list lt DOM sourc gt instanc method setParameters set paramet class org apach camel compon cxf CxfEndpoint org apach camel compon cxf cxf endpoint FailoverFeature failov featur call retri class cast class cast action throw ClassCastException btw class cast except btw messag remov DataFormat class messag remov data format class end method setParameters set paramet dosn dosn work work method remov remov inherit map new messag data format PAYLOAD creat retri retri,0,0,0,1,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfEndpoint.java;,0
6621,Jeff Eltgroth,camel-aws,0,Add ability to connect to SQS queue of different owner, add abil connect SQS queue differ owner,Unable to connect to Amazon SQS queue owned by a different account. In B2B scenario  would like to have different accounts for owner  writer  and reader of a queue., unabl connect amazon SQS queue own differ account account scenario would like differ account owner writer reader queue queue,0,1,0,0,0,components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsConfiguration.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsEndpoint.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/SqsComponentConfigurationTest.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/SqsEndpointTest.java;,0
6623,Chris Geer,camel-aws,0,Support attaching to SQS queues where the user doesn't have permission to list the queues (manually build URL), support attach SQS queue user permiss list queue manual build URL URL,Currently the code assume that the user either has permission to list all the queues on their account or run a query request to get the queue url. In situations where security is more controlled you might have permission to read/write to/from a queue but not have permission to query SQS for the URL. In these cases there needs to be a way to manually build the URL from the pieces in the configuration., current code assum user either permiss list queue account run queri request get queue url url situat secur control might permiss read write read write queue not permiss queri SQS URL URL case need way manual build URL piec configur configur,0,1,0,0,0,components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsEndpoint.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsConfiguration.java;components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsEndpoint.java;components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/SqsComponentConfigurationTest.java;,0
6629,Pratyusha Ghosh,camel-jetty,0,Add requestBufferSize and requestHeaderSize options for jetty, add requestBufferSize request buffer size requestHeaderSize request header size option jetti,Add requestBufferSize and requestHeaderSize options for jetty server to allow configuration of allowable request header limitThis option is exposed by standalone jetty server but not exposed by camel-jetty., add requestBufferSize request buffer size requestHeaderSize request header size option jetti server allow configur allow request header limitThis limit option expos standalon jetti server not expos camel jetti camel jetti,0,0,0,0,0,components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java;,0
6639,Claus Ibsen,camel-core,0,SimpleLanguage.simple should detect if its a predicate and use that instead, SimpleLanguage simpl simpl languag simpl detect predic use instead,When using predicates with the simple language static methods  then ppl should use the correct method. We should improve the javadoc  and as well add methods for easy to create predicates.See nabblehttp://camel.465427.n5.nabble.com/How-to-check-that-a-file-is-empty-tp5737256.html, use predic simpl languag static method ppl use correct method method improv javadoc well add method easi creat predic see predic see nabblehttp camel nabbl com check file empti tp html nabblehttp camel nabbl com check file empti tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguage.java;camel-core/src/main/java/org/apache/camel/util/PredicateToExpressionAdapter.java;camel-core/src/test/java/org/apache/camel/language/simple/SimpleTest.java;,0
6641,Nigel Longton,camel-sjms,0,SJMS component throws class cast error when used with IBM Webshpere MQ, SJMS compon throw class cast error use IBM webshper MQ,When using the IBM MQ JMS classes and pub/sub over a TOPIC the JmsObjectFactory.createMessageConsumer method throws a cast class exception. The session is being cast to a TopicSession which for MQ it is not.Using pure jms this cast is not required as the session class is aware of the destination type., use IBM MQ JMS class pub sub pub sub TOPIC JmsObjectFactory createMessageConsumer jm object factori creat messag consum method throw cast class except except session cast TopicSession topic session MQ not use not use pure jm cast not requir session class awar destin type type,0,1,0,0,0,components/camel-sjms/src/main/java/org/apache/camel/component/sjms/jms/JmsObjectFactory.java;,0
6671,Claus Ibsen,camel-ftp,0,FTP consumer - Add option to not use LIST command, FTP consum add option not use LIST command,If you want to download a single file  and you know the absolute name of the file  then you should be able to download the file  without using any LIST commands. As some use-cases have permissions disabled for this  so you can only download that file only.The ftp/sftp consumers should have an option to ?useList=false  so they do not use the list command., want download singl file know absolut name file abl download file without use LIST command command use case use case permiss disabl download file ftp sftp ftp sftp consum option useList fals use list fals not use list command command,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;camel-core/src/main/java/org/apache/camel/impl/ScheduledPollConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConfiguration.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpConsumer.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FromFtpUseListFalseTest.java;components/camel-ftp/src/test/java/org/apache/camel/component/file/remote/FtpConsumerTemplateUseListFalseTest.java;camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java;components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/RemoteFileEndpoint.java;,0
6674,Claus Ibsen,camel-core,0,Add allowNull option to @Converter to allow type converters to return null as valid response for special use-cases, add allowNull allow null option convert convert allow type convert return null valid respons special use case use case,See nabblehttp://camel.465427.n5.nabble.com/Xpath-parameter-binding-NodeList-vs-Node-tp5738067.htmlThis avoids the situation with the NodeList -&gt; Node converter that may return null the 1st time  and then its regarded as a misses for conversion in future attempts.Just be annotation the method from@Converterto:@Converter(allowNull = true)Should allow to fix this. As then the type converter registry knows that a null response is valid., see nabblehttp camel nabbl com xpath paramet bind NodeList vs node tp htmlThis nabblehttp camel nabbl com xpath paramet bind node list vs node tp html avoid situat NodeList node list gt gt node convert may return null st time regard miss convers futur attempt attempt annot method converterto convert allowNull converterto convert allow null true true allow fix type convert registri know null respons valid valid,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/Converter.java;camel-core/src/main/java/org/apache/camel/FallbackConverter.java;camel-core/src/main/java/org/apache/camel/TypeConverter.java;camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/AnnotationTypeConverterLoader.java;camel-core/src/main/java/org/apache/camel/impl/converter/BaseTypeConverterRegistry.java;camel-core/src/main/java/org/apache/camel/impl/converter/DefaultTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/InstanceMethodFallbackTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/InstanceMethodTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/LazyLoadingTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/PropertyEditorTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/StaticMethodFallbackTypeConverter.java;camel-core/src/main/java/org/apache/camel/impl/converter/StaticMethodTypeConverter.java;camel-core/src/main/java/org/apache/camel/support/TypeConverterSupport.java;camel-core/src/test/java/org/apache/camel/converter/jaxp/XmlConverterTest.java;camel-core/src/test/java/org/apache/camel/impl/TypeConverterAllowNullTest.java;components/camel-core-osgi/src/main/java/org/apache/camel/core/osgi/OsgiTypeConverter.java;components/camel-dozer/src/main/java/org/apache/camel/converter/dozer/DozerTypeConverter.java;components/camel-jaxb/src/main/java/org/apache/camel/converter/jaxb/FallbackTypeConverter.java;components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsMessageTypeTest.java;,0
6678,Christian Posta,camel-core; eip,0,Throttler does not honor time slots after period expires, throttler not honor time slot period expir,Camel's Throttler eip uses time slots to calc what tasks need to be delayed and which don't. The time slots don't take into account period elapse. See from this mailing list question:http://camel.465427.n5.nabble.com/Camel-Throttler-not-throttling-as-expected-td5738158.htmlI can recreate  and working on a patch., camel camel throttler eip use time slot calc task need delay time slot take account period elaps elaps see mail list question http camel nabbl com camel throttler not throttl expect td htmlI question http camel nabbl com camel throttler not throttl expect td html recreat work patch patch,0,0,1,1,0,camel-core/src/main/java/org/apache/camel/processor/Throttler.java;camel-core/src/test/java/org/apache/camel/processor/ThrottlerTest.java;,0
6680,Claus Ibsen,camel-core,0,Simple language - Have singleton language for better performance, simpl languag singleton languag better perform,We can optimize the simple language using in eg bean ognl expressions and the likes., optim simpl languag use eg bean ognl express like like,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/builder/SimpleBuilder.java;camel-core/src/main/java/org/apache/camel/language/simple/FileLanguage.java;camel-core/src/main/java/org/apache/camel/language/simple/SimpleLanguage.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanOgnlPerformanceTest.java;components/camel-mvel/src/main/java/org/apache/camel/language/mvel/MvelExpression.java;,0
6683,Claus Ibsen,null,0,camel-dozer - Does not work well in OSGi Blueprint, camel dozer camel dozer not work well OSGi OS Gi blueprint,Dozer doesnt work to well in OSGi. It seems to work with spring  but fails with OSGi blueprint.2013-08-29 14:44:51 302 | ERROR | l Console Thread | BlueprintContainerImpl | container.BlueprintContainerImpl 393 | 7 - org.apache.aries.blueprint.core - 1.1.0 | Unable to start blueprint container for bundle blueorg.osgi.service.blueprint.container.ComponentDefinitionException: Error when instantiating bean dozerMapper of class class org.dozer.DozerBeanMapper at org.apache.aries.blueprint.container.BeanRecipe.getInstance(BeanRecipe.java:333)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BeanRecipe.internalCreate2(BeanRecipe.java:806)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BeanRecipe.internalCreate(BeanRecipe.java:787)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.di.AbstractRecipe$1.call(AbstractRecipe.java:79)[7:org.apache.aries.blueprint.core:1.1.0] at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)[:1.7.0_25] at java.util.concurrent.FutureTask.run(FutureTask.java:166)[:1.7.0_25] at org.apache.aries.blueprint.di.AbstractRecipe.create(AbstractRecipe.java:88)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintRepository.createInstances(BlueprintRepository.java:245)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintRepository.createAll(BlueprintRepository.java:183)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintContainerImpl.instantiateEagerComponents(BlueprintContainerImpl.java:668)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:370)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:261)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintExtender.createContainer(BlueprintExtender.java:259)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintExtender.modifiedBundle(BlueprintExtender.java:222)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.customizerModified(BundleHookBundleTracker.java:500)[11:org.apache.aries.util:1.1.0] at org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.customizerModified(BundleHookBundleTracker.java:433)[11:org.apache.aries.util:1.1.0] at org.apache.aries.util.tracker.hook.BundleHookBundleTracker$AbstractTracked.track(BundleHookBundleTracker.java:725)[11:org.apache.aries.util:1.1.0] at org.apache.aries.util.tracker.hook.BundleHookBundleTracker$Tracked.bundleChanged(BundleHookBundleTracker.java:463)[11:org.apache.aries.util:1.1.0] at org.apache.aries.util.tracker.hook.BundleHookBundleTracker$BundleEventHook.event(BundleHookBundleTracker.java:422)[11:org.apache.aries.util:1.1.0] at org.apache.felix.framework.util.SecureAction.invokeBundleEventHook(SecureAction.java:1103)[org.apache.felix.framework-4.0.3.jar:] at org.apache.felix.framework.util.EventDispatcher.createWhitelistFromHooks(EventDispatcher.java:695)[org.apache.felix.framework-4.0.3.jar:] at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:483)[org.apache.felix.framework-4.0.3.jar:] at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4244)[org.apache.felix.framework-4.0.3.jar:] at org.apache.felix.framework.Felix.startBundle(Felix.java:1923)[org.apache.felix.framework-4.0.3.jar:] at org.apache.felix.framework.Felix.updateBundle(Felix.java:2235)[org.apache.felix.framework-4.0.3.jar:] at org.apache.felix.framework.BundleImpl.update(BundleImpl.java:962)[org.apache.felix.framework-4.0.3.jar:] at org.apache.felix.framework.BundleImpl.update(BundleImpl.java:949)[org.apache.felix.framework-4.0.3.jar:] at org.apache.karaf.shell.osgi.UpdateBundle.doExecute(UpdateBundle.java:37)[43:org.apache.karaf.shell.osgi:2.3.2] at org.apache.karaf.shell.osgi.BundleCommand.doExecute(BundleCommand.java:42)[43:org.apache.karaf.shell.osgi:2.3.2] at org.apache.karaf.shell.console.OsgiCommandSupport.execute(OsgiCommandSupport.java:38)[14:org.apache.karaf.shell.console:2.3.2] at org.apache.felix.gogo.commands.basic.AbstractCommand.execute(AbstractCommand.java:35)[14:org.apache.karaf.shell.console:2.3.2] at org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:78)[14:org.apache.karaf.shell.console:2.3.2] at org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:474)[14:org.apache.karaf.shell.console:2.3.2] at org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:400)[14:org.apache.karaf.shell.console:2.3.2] at org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)[14:org.apache.karaf.shell.console:2.3.2] at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)[14:org.apache.karaf.shell.console:2.3.2] at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)[14:org.apache.karaf.shell.console:2.3.2] at org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:89)[14:org.apache.karaf.shell.console:2.3.2] at org.apache.karaf.shell.console.jline.Console.run(Console.java:173)[14:org.apache.karaf.shell.console:2.3.2] at java.lang.Thread.run(Thread.java:724)[:1.7.0_25]Caused by: org.dozer.MappingException: java.lang.ClassNotFoundException: org.dozer.util.DefaultClassLoader at org.dozer.util.MappingUtils.throwMappingException(MappingUtils.java:82) at org.dozer.util.DefaultClassLoader.loadClass(DefaultClassLoader.java:38) at org.dozer.DozerInitializer.loadBeanType(DozerInitializer.java:115) at org.dozer.DozerInitializer.initialize(DozerInitializer.java:97) at org.dozer.DozerInitializer.init(DozerInitializer.java:74) at org.dozer.DozerBeanMapper.init(DozerBeanMapper.java:173) at org.dozer.DozerBeanMapper.&lt;init&gt;(DozerBeanMapper.java:99) at org.dozer.DozerBeanMapper.&lt;init&gt;(DozerBeanMapper.java:94) at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)[:1.7.0_25] at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)[:1.7.0_25] at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)[:1.7.0_25] at java.lang.reflect.Constructor.newInstance(Constructor.java:526)[:1.7.0_25] at org.apache.aries.blueprint.utils.ReflectionUtils.newInstance(ReflectionUtils.java:329)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BeanRecipe.newInstance(BeanRecipe.java:962)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BeanRecipe.getInstance(BeanRecipe.java:331)[7:org.apache.aries.blueprint.core:1.1.0] ... 39 moreCaused by: java.lang.ClassNotFoundException: org.dozer.util.DefaultClassLoader at java.net.URLClassLoader$1.run(URLClassLoader.java:366)[:1.7.0_25] at java.net.URLClassLoader$1.run(URLClassLoader.java:355)[:1.7.0_25] at java.security.AccessController.doPrivileged(Native Method)[:1.7.0_25] at java.net.URLClassLoader.findClass(URLClassLoader.java:354)[:1.7.0_25] at java.lang.ClassLoader.loadClass(ClassLoader.java:424)[:1.7.0_25] at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)[:1.7.0_25] at java.lang.ClassLoader.loadClass(ClassLoader.java:357)[:1.7.0_25] at java.lang.Class.forName0(Native Method)[:1.7.0_25] at java.lang.Class.forName(Class.java:270)[:1.7.0_25] at org.apache.commons.lang3.ClassUtils.getClass(ClassUtils.java:823) at org.apache.commons.lang3.ClassUtils.getClass(ClassUtils.java:889) at org.apache.commons.lang3.ClassUtils.getClass(ClassUtils.java:872) at org.dozer.util.DefaultClassLoader.loadClass(DefaultClassLoader.java:36) ... 52 more, dozer doesnt work well OSGi OS Gi seem work spring fail OSGi OS Gi blueprint blueprint ERROR consol thread BlueprintContainerImpl blueprint contain impl contain BlueprintContainerImpl contain blueprint contain impl org apach ari blueprint core org apach ari blueprint core unabl start blueprint contain bundl blueorg osgi servic blueprint contain ComponentDefinitionException blueorg osgi servic blueprint contain compon definit except error instanti bean dozerMapper dozer mapper class class org dozer DozerBeanMapper org dozer dozer bean mapper org apach ari blueprint contain BeanRecipe getInstance BeanRecipe java org apach ari blueprint core org apach ari blueprint contain bean recip get instanc bean recip java org apach ari blueprint core org apach ari blueprint contain BeanRecipe internalCreate BeanRecipe java org apach ari blueprint core org apach ari blueprint contain bean recip intern creat bean recip java org apach ari blueprint core org apach ari blueprint contain BeanRecipe internalCreate BeanRecipe java org apach ari blueprint core org apach ari blueprint contain bean recip intern creat bean recip java org apach ari blueprint core org apach ari blueprint di AbstractRecipe call AbstractRecipe java org apach ari blueprint core org apach ari blueprint di abstract recip call abstract recip java org apach ari blueprint core java util concurr FutureTask sync innerRun FutureTask java  java util concurr futur task sync inner run futur task java  java util concurr FutureTask run FutureTask java  java util concurr futur task run futur task java  org apach ari blueprint di AbstractRecipe creat AbstractRecipe java org apach ari blueprint core org apach ari blueprint di abstract recip creat abstract recip java org apach ari blueprint core org apach ari blueprint contain BlueprintRepository createInstances BlueprintRepository java org apach ari blueprint core org apach ari blueprint contain blueprint repositori creat instanc blueprint repositori java org apach ari blueprint core org apach ari blueprint contain BlueprintRepository createAll BlueprintRepository java org apach ari blueprint core org apach ari blueprint contain blueprint repositori creat blueprint repositori java org apach ari blueprint core org apach ari blueprint contain BlueprintContainerImpl instantiateEagerComponents BlueprintContainerImpl java org apach ari blueprint core org apach ari blueprint contain blueprint contain impl instanti eager compon blueprint contain impl java org apach ari blueprint core org apach ari blueprint contain BlueprintContainerImpl doRun BlueprintContainerImpl java org apach ari blueprint core org apach ari blueprint contain blueprint contain impl run blueprint contain impl java org apach ari blueprint core org apach ari blueprint contain BlueprintContainerImpl run BlueprintContainerImpl java org apach ari blueprint core org apach ari blueprint contain blueprint contain impl run blueprint contain impl java org apach ari blueprint core org apach ari blueprint contain BlueprintExtender createContainer BlueprintExtender java org apach ari blueprint core org apach ari blueprint contain blueprint extend creat contain blueprint extend java org apach ari blueprint core org apach ari blueprint contain BlueprintExtender modifiedBundle BlueprintExtender java org apach ari blueprint core org apach ari blueprint contain blueprint extend modifi bundl blueprint extend java org apach ari blueprint core org apach ari util tracker hook BundleHookBundleTracker track customizerModified BundleHookBundleTracker java org apach ari util org apach ari util tracker hook bundl hook bundl tracker track custom modifi bundl hook bundl tracker java org apach ari util org apach ari util tracker hook BundleHookBundleTracker track customizerModified BundleHookBundleTracker java org apach ari util org apach ari util tracker hook bundl hook bundl tracker track custom modifi bundl hook bundl tracker java org apach ari util org apach ari util tracker hook BundleHookBundleTracker AbstractTracked track BundleHookBundleTracker java org apach ari util org apach ari util tracker hook bundl hook bundl tracker abstract track track bundl hook bundl tracker java org apach ari util org apach ari util tracker hook BundleHookBundleTracker track bundleChanged BundleHookBundleTracker java org apach ari util org apach ari util tracker hook bundl hook bundl tracker track bundl chang bundl hook bundl tracker java org apach ari util org apach ari util tracker hook BundleHookBundleTracker BundleEventHook event BundleHookBundleTracker java org apach ari util org apach ari util tracker hook bundl hook bundl tracker bundl event hook event bundl hook bundl tracker java org apach ari util org apach felix framework util SecureAction invokeBundleEventHook SecureAction java org apach felix framework jar org apach felix framework util secur action invok bundl event hook secur action java org apach felix framework jar org apach felix framework util EventDispatcher createWhitelistFromHooks EventDispatcher java org apach felix framework jar org apach felix framework util event dispatch creat whitelist hook event dispatch java org apach felix framework jar org apach felix framework util EventDispatcher fireBundleEvent EventDispatcher java org apach felix framework jar org apach felix framework util event dispatch fire bundl event event dispatch java org apach felix framework jar org apach felix framework felix fireBundleEvent felix java org apach felix framework jar org apach felix framework felix fire bundl event felix java org apach felix framework jar org apach felix framework felix startBundle felix java org apach felix framework jar org apach felix framework felix start bundl felix java org apach felix framework jar org apach felix framework felix updateBundle felix java org apach felix framework jar org apach felix framework felix updat bundl felix java org apach felix framework jar org apach felix framework BundleImpl updat BundleImpl java org apach felix framework jar org apach felix framework bundl impl updat bundl impl java org apach felix framework jar org apach felix framework BundleImpl updat BundleImpl java org apach felix framework jar org apach felix framework bundl impl updat bundl impl java org apach felix framework jar org apach karaf shell osgi UpdateBundle doExecute UpdateBundle java org apach karaf shell osgi org apach karaf shell osgi updat bundl execut updat bundl java org apach karaf shell osgi org apach karaf shell osgi BundleCommand doExecute BundleCommand java org apach karaf shell osgi org apach karaf shell osgi bundl command execut bundl command java org apach karaf shell osgi org apach karaf shell consol OsgiCommandSupport execut OsgiCommandSupport java org apach karaf shell consol org apach karaf shell consol osgi command support execut osgi command support java org apach karaf shell consol org apach felix gogo command basic AbstractCommand execut AbstractCommand java org apach karaf shell consol org apach felix gogo command basic abstract command execut abstract command java org apach karaf shell consol org apach felix gogo runtim CommandProxy execut CommandProxy java org apach karaf shell consol org apach felix gogo runtim command proxi execut command proxi java org apach karaf shell consol org apach felix gogo runtim closur executeCmd closur java org apach karaf shell consol org apach felix gogo runtim closur execut cmd closur java org apach karaf shell consol org apach felix gogo runtim closur executeStatement closur java org apach karaf shell consol org apach felix gogo runtim closur execut statement closur java org apach karaf shell consol org apach felix gogo runtim pipe run pipe java org apach karaf shell consol org apach felix gogo runtim pipe run pipe java org apach karaf shell consol org apach felix gogo runtim closur execut closur java org apach karaf shell consol org apach felix gogo runtim closur execut closur java org apach karaf shell consol org apach felix gogo runtim closur execut closur java org apach karaf shell consol org apach felix gogo runtim closur execut closur java org apach karaf shell consol org apach felix gogo runtim CommandSessionImpl execut CommandSessionImpl java org apach karaf shell consol org apach felix gogo runtim command session impl execut command session impl java org apach karaf shell consol org apach karaf shell consol jline consol run consol java org apach karaf shell consol org apach karaf shell consol jline consol run consol java org apach karaf shell consol java lang thread run thread java  caus java lang thread run thread java  caus org dozer MappingException org dozer map except java lang ClassNotFoundException java lang class not found except org dozer util DefaultClassLoader org dozer util default class loader org dozer util MappingUtils throwMappingException MappingUtils java org dozer util map util throw map except map util java org dozer util DefaultClassLoader loadClass DefaultClassLoader java org dozer util default class loader load class default class loader java org dozer DozerInitializer loadBeanType DozerInitializer java org dozer dozer initi load bean type dozer initi java org dozer DozerInitializer initi DozerInitializer java org dozer dozer initi initi dozer initi java org dozer DozerInitializer init DozerInitializer java org dozer dozer initi init dozer initi java org dozer DozerBeanMapper init DozerBeanMapper java org dozer dozer bean mapper init dozer bean mapper java org dozer DozerBeanMapper lt init gt DozerBeanMapper java org dozer dozer bean mapper lt init gt dozer bean mapper java org dozer DozerBeanMapper lt init gt DozerBeanMapper java org dozer dozer bean mapper lt init gt dozer bean mapper java sun reflect NativeConstructorAccessorImpl newInstance nativ sun reflect nativ constructor accessor impl new instanc nativ method  method  sun reflect NativeConstructorAccessorImpl newInstance NativeConstructorAccessorImpl java  sun reflect nativ constructor accessor impl new instanc nativ constructor accessor impl java  sun reflect DelegatingConstructorAccessorImpl newInstance DelegatingConstructorAccessorImpl java  sun reflect deleg constructor accessor impl new instanc deleg constructor accessor impl java  java lang reflect constructor newInstance constructor java  java lang reflect constructor new instanc constructor java  org apach ari blueprint util ReflectionUtils newInstance ReflectionUtils java org apach ari blueprint core org apach ari blueprint util reflect util new instanc reflect util java org apach ari blueprint core org apach ari blueprint contain BeanRecipe newInstance BeanRecipe java org apach ari blueprint core org apach ari blueprint contain bean recip new instanc bean recip java org apach ari blueprint core org apach ari blueprint contain BeanRecipe getInstance BeanRecipe java org apach ari blueprint core org apach ari blueprint contain bean recip get instanc bean recip java org apach ari blueprint core moreCaused caus java lang ClassNotFoundException java lang class not found except org dozer util DefaultClassLoader org dozer util default class loader java net URLClassLoader run URLClassLoader java  java net URL class loader run URL class loader java  java net URLClassLoader run URLClassLoader java  java net URL class loader run URL class loader java  java secur AccessController doPrivileged nativ java secur access control privileg nativ method  method  java net URLClassLoader findClass URLClassLoader java  java net URL class loader find class URL class loader java  java lang ClassLoader loadClass ClassLoader java  java lang class loader load class class loader java  sun misc launcher AppClassLoader loadClass launcher java  sun misc launcher app class loader load class launcher java  java lang ClassLoader loadClass ClassLoader java  java lang class loader load class class loader java  java lang class forName nativ java lang class name nativ method  method  java lang class forName class java  java lang class name class java  org apach common lang ClassUtils getClass ClassUtils java org apach common lang class util get class class util java org apach common lang ClassUtils getClass ClassUtils java org apach common lang class util get class class util java org apach common lang ClassUtils getClass ClassUtils java org apach common lang class util get class class util java org dozer util DefaultClassLoader loadClass DefaultClassLoader java org dozer util default class loader load class default class loader java,1,0,0,0,0,components/camel-dozer/src/main/java/org/apache/camel/converter/dozer/CamelToDozerClassResolverAdapter.java;components/camel-dozer/src/main/java/org/apache/camel/converter/dozer/DozerBeanMapperConfiguration.java;components/camel-dozer/src/main/java/org/apache/camel/converter/dozer/DozerTypeConverterLoader.java;components/camel-dozer/src/test/java/org/apache/camel/converter/dozer/SpringDozerTypeConverterConfigurationTest.java;components/camel-dozer/src/test/resources/SpringDozerTypeConverterConfigurationTest.xml;,0
6687,Anton Koscejev,bean-integration; camel-core,0,Using simple language OGNL expressions doesn't work for Bean Binding when a field is null, use simpl languag OGNL express work bean bind field null,The following functionality doesn't work  when one of the fields is null: http://camel.apache.org/bean-binding.htmlYou can also use the OGNL support of the Simple expression language. Now suppose the message body is an object which has a method named asXml. To invoke the asXml method we can do as follows:.bean(OrderService.class  'doSomething(${body.asXml}  ${header.high})')Instead of using .bean as shown in the examples above  you may want to use .to instead as shown:.to('bean:orderService?method=doSomething(${body.asXml}  ${header.high})')A test case is provided. Instead of getting values of fields 'foo' and 'bar' respectively  the first parameter (which should be null) receives value of pojo.toString()  while the second parameter receives the correct value., follow function work one field null null also use OGNL support simpl express languag languag suppos messag bodi object method name asXml xml invok asXml xml method follow bean OrderService class follow bean order servic class doSomething bodi asXml someth bodi xml header high instead header high instead use bean shown exampl may want use instead shown bean orderService method doSomething bodi asXml shown bean order servic method someth bodi xml header high header high test case provid provid instead get valu field foo foo bar bar respect first paramet null null receiv valu pojo toString pojo string second paramet receiv correct valu valu,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanOgnlBodyMethodReturnNullValueTest.java;,0
6690,Willem Jiang,camel-cxf,0,Memory leak SoapOutInterceptor.writeSoapEnvelopeStart with security headers, memori leak SoapOutInterceptor writeSoapEnvelopeStart soap interceptor write soap envelop start secur header,When proxying the WS-Security request through camel route with CXF_MESSAGE data format  we will get the endless loop that eat up the memory.'qtp967241364-210' prio=10 tid=0x00007f1de4306800 nid=0x1c9f runnable [0x00007f1d8d451000] java.lang.Thread.State: RUNNABLE at org.apache.cxf.staxutils.W3CDOMStreamWriter.writeCharacters(W3CDOMStreamWriter.java:292) at org.apache.cxf.staxutils.DelegatingXMLStreamWriter.writeCharacters(DelegatingXMLStreamWriter.java:91) at org.apache.cxf.staxutils.StaxUtils.copy(StaxUtils.java:588) at org.apache.cxf.staxutils.StaxUtils.copy(StaxUtils.java:564) at org.apache.cxf.staxutils.StaxUtils.copy(StaxUtils.java:542) at org.apache.cxf.binding.soap.interceptor.SoapOutInterceptor.writeSoapEnvelopeStart(SoapOutInterceptor.java:160) at org.apache.cxf.binding.soap.interceptor.SoapOutInterceptor.handleMessage(SoapOutInterceptor.java:81) at org.apache.cxf.binding.soap.interceptor.SoapOutInterceptor.handleMessage(SoapOutInterceptor.java:61) at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262) - locked &lt;0x00000000e28af4a0&gt; (a org.apache.cxf.phase.PhaseInterceptorChain) at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:530) at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:456) at org.apache.camel.component.cxf.CxfProducer.process(CxfProducer.java:112) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:122) at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:298) at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:117) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:91) at org.apache.camel.processor.interceptor.HandleFaultInterceptor.process(HandleFaultInterceptor.java:41) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.fabric.FabricTraceProcessor.process(FabricTraceProcessor.java:81) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:334) at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220) at org.apache.camel.processor.interceptor.StreamCachingInterceptor.process(StreamCachingInterceptor.java:52) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:46) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:308) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.Pipeline.process(Pipeline.java:117) at org.apache.camel.processor.Pipeline.process(Pipeline.java:80) at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:46) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.processor.UnitOfWorkProcessor.processAsync(UnitOfWorkProcessor.java:150) at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:117) at org.apache.camel.processor.RouteInflightRepositoryProcessor.processNext(RouteInflightRepositoryProcessor.java:48) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73) at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99) at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90) at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73) at org.apache.camel.component.cxf.CxfConsumer$1.asyncInvoke(CxfConsumer.java:93) - locked &lt;0x00000000e2533d18&gt; (a org.apache.cxf.transport.http_jetty.continuations.JettyContinuationWrapper) at org.apache.camel.component.cxf.CxfConsumer$1.invoke(CxfConsumer.java:72) at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) at java.util.concurrent.FutureTask.run(FutureTask.java:166) at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37) at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:107) - locked &lt;0x00000000e28af958&gt; (a org.apache.cxf.interceptor.ServiceInvokerInterceptor$2) at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262) - locked &lt;0x00000000e26edb48&gt; (a org.apache.cxf.phase.PhaseInterceptorChain) at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121) at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:236) at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:214) at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:194) at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:130) at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:221) at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:141) at javax.servlet.http.HttpServlet.service(HttpServlet.java:713) at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:197) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:606) at org.ops4j.pax.web.service.internal.HttpServiceStarted$1.invoke(HttpServiceStarted.java:182) at org.ops4j.pax.web.service.internal.$Proxy6.service(Unknown Source) at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:652) at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:447) at org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:70) at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137) at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:534) at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:227) at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1038) at org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:117) at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:374) at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:189) at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:972) at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135) at org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:75) at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) at org.eclipse.jetty.server.Server.handle(Server.java:363) at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:483) at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:931) at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:992) at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:856) at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235) at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82) at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:627) at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:51) at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608) at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543) at java.lang.Thread.run(Thread.java:724), proxi WS secur WS secur request camel rout CXF_MESSAGE CXF MESSAGE data format get endless loop eat memori qtp memori qtp prio prio tid de tid de nid nid runnabl java lang thread state java lang thread state RUNNABLE org apach cxf staxutil CDOMStreamWriter writeCharacters CDOMStreamWriter java org apach cxf staxutil CDOM stream writer write charact CDOM stream writer java org apach cxf staxutil DelegatingXMLStreamWriter writeCharacters DelegatingXMLStreamWriter java org apach cxf staxutil deleg XML stream writer write charact deleg XML stream writer java org apach cxf staxutil StaxUtils copi StaxUtils java org apach cxf staxutil stax util copi stax util java org apach cxf staxutil StaxUtils copi StaxUtils java org apach cxf staxutil stax util copi stax util java org apach cxf staxutil StaxUtils copi StaxUtils java org apach cxf staxutil stax util copi stax util java org apach cxf bind soap interceptor SoapOutInterceptor writeSoapEnvelopeStart SoapOutInterceptor java org apach cxf bind soap interceptor soap interceptor write soap envelop start soap interceptor java org apach cxf bind soap interceptor SoapOutInterceptor handleMessage SoapOutInterceptor java org apach cxf bind soap interceptor soap interceptor handl messag soap interceptor java org apach cxf bind soap interceptor SoapOutInterceptor handleMessage SoapOutInterceptor java org apach cxf bind soap interceptor soap interceptor handl messag soap interceptor java org apach cxf phase PhaseInterceptorChain doIntercept PhaseInterceptorChain java org apach cxf phase phase interceptor chain intercept phase interceptor chain java lock lt af gt lt af gt org apach cxf phase PhaseInterceptorChain org apach cxf phase phase interceptor chain org apach cxf endpoint ClientImpl doInvoke ClientImpl java org apach cxf endpoint client impl invok client impl java org apach cxf endpoint ClientImpl invok ClientImpl java org apach cxf endpoint client impl invok client impl java org apach camel compon cxf CxfProducer process CxfProducer java org apach camel compon cxf cxf produc process cxf produc java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor SendProcessor doInAsyncProducer SendProcessor java org apach camel processor send processor async produc send processor java org apach camel impl ProducerCache doInAsyncProducer ProducerCache java org apach camel impl produc cach async produc produc cach java org apach camel processor SendProcessor process SendProcessor java org apach camel processor send processor process send processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor TraceInterceptor process TraceInterceptor java org apach camel processor interceptor trace interceptor process trace interceptor java org apach camel processor interceptor HandleFaultInterceptor process HandleFaultInterceptor java org apach camel processor interceptor handl fault interceptor process handl fault interceptor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel fabric FabricTraceProcessor process FabricTraceProcessor java org apach camel fabric fabric trace processor process fabric trace processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor RedeliveryErrorHandler processErrorHandler RedeliveryErrorHandler java org apach camel processor redeliveri error handler process error handler redeliveri error handler java org apach camel processor RedeliveryErrorHandler process RedeliveryErrorHandler java org apach camel processor redeliveri error handler process redeliveri error handler java org apach camel processor interceptor StreamCachingInterceptor process StreamCachingInterceptor java org apach camel processor interceptor stream cach interceptor process stream cach interceptor java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor interceptor DefaultChannel process DefaultChannel java org apach camel processor interceptor default channel process default channel java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor pipelin process pipelin java org apach camel processor RouteContextProcessor processNext RouteContextProcessor java org apach camel processor rout context processor process next rout context processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel processor UnitOfWorkProcessor processAsync UnitOfWorkProcessor java org apach camel processor unit work processor process async unit work processor java org apach camel processor UnitOfWorkProcessor process UnitOfWorkProcessor java org apach camel processor unit work processor process unit work processor java org apach camel processor RouteInflightRepositoryProcessor processNext RouteInflightRepositoryProcessor java org apach camel processor rout inflight repositori processor process next rout inflight repositori processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel util AsyncProcessorHelper process AsyncProcessorHelper java org apach camel util async processor helper process async processor helper java org apach camel processor DelegateAsyncProcessor processNext DelegateAsyncProcessor java org apach camel processor deleg async processor process next deleg async processor java org apach camel processor DelegateAsyncProcessor process DelegateAsyncProcessor java org apach camel processor deleg async processor process deleg async processor java org apach camel manag InstrumentationProcessor process InstrumentationProcessor java org apach camel manag instrument processor process instrument processor java org apach camel compon cxf CxfConsumer asyncInvoke CxfConsumer java org apach camel compon cxf cxf consum async invok cxf consum java lock lt gt lt gt org apach cxf transport http_jetty continu JettyContinuationWrapper org apach cxf transport http_jetty continu jetti continu wrapper org apach camel compon cxf CxfConsumer invok CxfConsumer java org apach camel compon cxf cxf consum invok cxf consum java org apach cxf interceptor ServiceInvokerInterceptor run ServiceInvokerInterceptor java org apach cxf interceptor servic invok interceptor run servic invok interceptor java java util concurr executor RunnableAdapter call executor java java util concurr executor runnabl adapt call executor java java util concurr FutureTask sync innerRun FutureTask java java util concurr futur task sync inner run futur task java java util concurr FutureTask run FutureTask java java util concurr futur task run futur task java org apach cxf workqueu SynchronousExecutor execut SynchronousExecutor java org apach cxf workqueu synchron executor execut synchron executor java org apach cxf interceptor ServiceInvokerInterceptor handleMessage ServiceInvokerInterceptor java org apach cxf interceptor servic invok interceptor handl messag servic invok interceptor java lock lt af gt lt af gt org apach cxf interceptor ServiceInvokerInterceptor org apach cxf interceptor servic invok interceptor org apach cxf phase PhaseInterceptorChain doIntercept PhaseInterceptorChain java org apach cxf phase phase interceptor chain intercept phase interceptor chain java lock lt edb gt lt edb gt org apach cxf phase PhaseInterceptorChain org apach cxf phase phase interceptor chain org apach cxf transport ChainInitiationObserver onMessage ChainInitiationObserver java org apach cxf transport chain initi observ messag chain initi observ java org apach cxf transport http AbstractHTTPDestination invok AbstractHTTPDestination java org apach cxf transport http abstract HTTP destin invok abstract HTTP destin java org apach cxf transport servlet ServletController invokeDestination ServletController java org apach cxf transport servlet servlet control invok destin servlet control java org apach cxf transport servlet ServletController invok ServletController java org apach cxf transport servlet servlet control invok servlet control java org apach cxf transport servlet CXFNonSpringServlet invok CXFNonSpringServlet java org apach cxf transport servlet CXF non spring servlet invok CXF non spring servlet java org apach cxf transport servlet AbstractHTTPServlet handleRequest AbstractHTTPServlet java org apach cxf transport servlet abstract HTTP servlet handl request abstract HTTP servlet java org apach cxf transport servlet AbstractHTTPServlet doPost AbstractHTTPServlet java org apach cxf transport servlet abstract HTTP servlet post abstract HTTP servlet java javax servlet http HttpServlet servic HttpServlet java javax servlet http http servlet servic http servlet java org apach cxf transport servlet AbstractHTTPServlet servic AbstractHTTPServlet java org apach cxf transport servlet abstract HTTP servlet servic abstract HTTP servlet java sun reflect NativeMethodAccessorImpl invok nativ sun reflect nativ method accessor impl invok nativ method method sun reflect NativeMethodAccessorImpl invok NativeMethodAccessorImpl java sun reflect nativ method accessor impl invok nativ method accessor impl java sun reflect DelegatingMethodAccessorImpl invok DelegatingMethodAccessorImpl java sun reflect deleg method accessor impl invok deleg method accessor impl java java lang reflect method invok method java java lang reflect method invok method java org op pax web servic intern HttpServiceStarted invok HttpServiceStarted java org op pax web servic intern http servic start invok http servic start java org op pax web servic intern proxi servic unknown org op pax web servic intern proxi servic unknown sourc sourc org eclips jetti servlet ServletHolder handl ServletHolder java org eclips jetti servlet servlet holder handl servlet holder java org eclips jetti servlet ServletHandler doHandle ServletHandler java org eclips jetti servlet servlet handler handl servlet handler java org op pax web servic jetti intern HttpServiceServletHandler doHandle HttpServiceServletHandler java org op pax web servic jetti intern http servic servlet handler handl http servic servlet handler java org eclips jetti server handler ScopedHandler handl ScopedHandler java org eclips jetti server handler scope handler handl scope handler java org eclips jetti secur SecurityHandler handl SecurityHandler java org eclips jetti secur secur handler handl secur handler java org eclips jetti server session SessionHandler doHandle SessionHandler java org eclips jetti server session session handler handl session handler java org eclips jetti server handler ContextHandler doHandle ContextHandler java org eclips jetti server handler context handler handl context handler java org op pax web servic jetti intern HttpServiceContext doHandle HttpServiceContext java org op pax web servic jetti intern http servic context handl http servic context java org eclips jetti servlet ServletHandler doScope ServletHandler java org eclips jetti servlet servlet handler scope servlet handler java org eclips jetti server session SessionHandler doScope SessionHandler java org eclips jetti server session session handler scope session handler java org eclips jetti server handler ContextHandler doScope ContextHandler java org eclips jetti server handler context handler scope context handler java org eclips jetti server handler ScopedHandler handl ScopedHandler java org eclips jetti server handler scope handler handl scope handler java org op pax web servic jetti intern JettyServerHandlerCollection handl JettyServerHandlerCollection java org op pax web servic jetti intern jetti server handler collect handl jetti server handler collect java org eclips jetti server handler HandlerWrapper handl HandlerWrapper java org eclips jetti server handler handler wrapper handl handler wrapper java org eclips jetti server server handl server java org eclips jetti server server handl server java org eclips jetti server AbstractHttpConnection handleRequest AbstractHttpConnection java org eclips jetti server abstract http connect handl request abstract http connect java org eclips jetti server AbstractHttpConnection content AbstractHttpConnection java org eclips jetti server abstract http connect content abstract http connect java org eclips jetti server AbstractHttpConnection RequestHandler content AbstractHttpConnection java org eclips jetti server abstract http connect request handler content abstract http connect java org eclips jetti http HttpParser parseNext HttpParser java org eclips jetti http http parser pars next http parser java org eclips jetti http HttpParser parseAvailable HttpParser java org eclips jetti http http parser pars avail http parser java org eclips jetti server AsyncHttpConnection handl AsyncHttpConnection java org eclips jetti server async http connect handl async http connect java org eclips jetti io nio SelectChannelEndPoint handl SelectChannelEndPoint java org eclips jetti io nio select channel end point handl select channel end point java org eclips jetti io nio SelectChannelEndPoint run SelectChannelEndPoint java org eclips jetti io nio select channel end point run select channel end point java org eclips jetti util thread QueuedThreadPool runJob QueuedThreadPool java org eclips jetti util thread queu thread pool run job queu thread pool java org eclips jetti util thread QueuedThreadPool run QueuedThreadPool java org eclips jetti util thread queu thread pool run queu thread pool java java lang thread run thread java java lang thread run thread java,1,0,0,0,0,components/camel-cxf/src/main/java/org/apache/camel/component/cxf/feature/CXFMessageDataFormatFeature.java;components/camel-cxf/src/main/java/org/apache/camel/component/cxf/interceptors/CxfMessageSoapHeaderOutInterceptor.java;components/camel-cxf/src/test/java/org/apache/camel/component/cxf/wssecurity/camel/MyProcessor.java;components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/wssecurity/camel/camel-context.xml;,0
6691,Claus Ibsen,camel-core,0,seda - queue size compare should use equals, seda queue size compar use equal,See nabblehttp://camel.465427.n5.nabble.com/Camel-2-11-1-SedaComponent-issues-with-Queue-size-tp5738258.html, see nabblehttp camel nabbl com camel SedaComponent issu queue size tp html nabblehttp camel nabbl com camel seda compon issu queue size tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/component/seda/SedaComponent.java;,0
6695,Achim Nierbeck,null,0,mbeansRegistered in DefaultManagementAgent isn't ThreadSafe, mbeansRegistered mbean regist DefaultManagementAgent default manag agent ThreadSafe thread safe,This is more or less a 'corner-case' I stumbled upon  thoughthe HashSet/HashMap (2.5/2.10 camel versions) in the DefaultManagementAgent containing the registered Mbean mbeansRegistered isn't Thread-Safe. This has been an issue for us while using the ProducerTemplate in a wrongful way  by instantiating the ProducerTemplate during every Route run. As this might be a common mistake by users I'd suggest to improve the mbeansRegistered by using a Synchronized Map., less corner case corner case stumbl upon thoughth HashSet HashMap hash set hash map camel version version DefaultManagementAgent default manag agent contain regist mbean mbeansRegistered mbean regist thread safe thread safe issu us use ProducerTemplate produc templat wrong way instanti ProducerTemplate produc templat everi rout run run might common mistak user suggest improv mbeansRegistered mbean regist use synchron map map,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/management/DefaultManagementAgent.java;,0
6697,Claus Ibsen,camel-blueprint; camel-test,0,camel-test-blueprint - Allow to register custom services in OSGi registry before Camel starts, camel test blueprint camel test blueprint allow regist custom servic OSGi OS Gi registri camel start,If you have some services your Camel apps uses during testing  then its not easy to enlist them before CamelContext starts.We should allow people to enlist services from the unit test class  so they can enlist mock services / shared services that are mocked or what  so they can do their unit tests., servic camel app use test not easi enlist CamelContext camel context start start allow peopl enlist servic unit test class enlist mock servic share servic mock unit test test,0,0,0,0,0,components/camel-test-blueprint/src/main/java/org/apache/camel/test/blueprint/CamelBlueprintTestSupport.java;components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/BlueprintAddServiceTest.java;components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/MyService.java;components/camel-test-blueprint/src/test/resources/org/apache/camel/test/blueprint/BlueprintAddServiceTest.xml;,0
6700,Claus Ibsen,camel-blueprint,0,camel-blueprint - Using  and referrring to SSLContextParameters with property placeholders can lead to CircularDependencyException, camel blueprint camel blueprint use referr SSLContextParameters SSL context paramet properti placehold lead CircularDependencyException circular depend except,Configuring a blueprint xml file with &lt;endpoint id='myNettyServer' uri='netty-http:http://0.0.0.0:{{port}}/foo?ssl=true&amp;amp;sslContextParameters=#mySsl'/&gt;Can lead to ciruclar exceptionsCaused by: org.apache.aries.blueprint.di.CircularDependencyException: [BeanRecipe[name='mySsl']  BeanRecipe[name='.camelBlueprint.factory.mySsl']  BeanRecipe[name='camel-4']  BeanRecipe[name='myNettyServer']  BeanRecipe[name='mySsl']] at org.apache.aries.blueprint.container.BlueprintRepository.push(BlueprintRepository.java:343)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.di.AbstractRecipe.create(AbstractRecipe.java:71)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintRepository.createInstances(BlueprintRepository.java:245)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintRepository.createInstance(BlueprintRepository.java:230)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintRepository.create(BlueprintRepository.java:145)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.aries.blueprint.container.BlueprintContainerImpl.getComponentInstance(BlueprintContainerImpl.java:746)[7:org.apache.aries.blueprint.core:1.1.0] at org.apache.camel.blueprint.BlueprintContainerRegistry.lookupByNameAndType(BlueprintContainerRegistry.java:54) at org.apache.camel.impl.CompositeRegistry.lookupByNameAndType(CompositeRegistry.java:52) ... 125 more, configur blueprint xml file lt endpoint lt endpoint id myNettyServer id netti server uri netti http http port foo ssl true amp amp sslContextParameters mySsl gt uri netti http http port foo ssl true amp amp ssl context paramet ssl gt lead ciruclar exceptionsCaused except caus org apach ari blueprint di CircularDependencyException org apach ari blueprint di circular depend except BeanRecipe name mySsl bean recip name ssl BeanRecipe name camelBlueprint factori mySsl bean recip name camel blueprint factori ssl BeanRecipe name camel bean recip name camel BeanRecipe name myNettyServer bean recip name netti server BeanRecipe name mySsl bean recip name ssl org apach ari blueprint contain BlueprintRepository push BlueprintRepository java org apach ari blueprint core org apach ari blueprint contain blueprint repositori push blueprint repositori java org apach ari blueprint core org apach ari blueprint di AbstractRecipe creat AbstractRecipe java org apach ari blueprint core org apach ari blueprint di abstract recip creat abstract recip java org apach ari blueprint core org apach ari blueprint contain BlueprintRepository createInstances BlueprintRepository java org apach ari blueprint core org apach ari blueprint contain blueprint repositori creat instanc blueprint repositori java org apach ari blueprint core org apach ari blueprint contain BlueprintRepository createInstance BlueprintRepository java org apach ari blueprint core org apach ari blueprint contain blueprint repositori creat instanc blueprint repositori java org apach ari blueprint core org apach ari blueprint contain BlueprintRepository creat BlueprintRepository java org apach ari blueprint core org apach ari blueprint contain blueprint repositori creat blueprint repositori java org apach ari blueprint core org apach ari blueprint contain BlueprintContainerImpl getComponentInstance BlueprintContainerImpl java org apach ari blueprint core org apach ari blueprint contain blueprint contain impl get compon instanc blueprint contain impl java org apach ari blueprint core org apach camel blueprint BlueprintContainerRegistry lookupByNameAndType BlueprintContainerRegistry java org apach camel blueprint blueprint contain registri lookup name type blueprint contain registri java org apach camel impl CompositeRegistry lookupByNameAndType CompositeRegistry java org apach camel impl composit registri lookup name type composit registri java,1,0,1,0,0,components/camel-blueprint/src/main/java/org/apache/camel/blueprint/handler/CamelNamespaceHandler.java;,0
6705,Claus Ibsen,camel-core,0,DefaultStreamCachingStrategy - Check for enabled in shouldSpoolCache method, DefaultStreamCachingStrategy default stream cach strategi check enabl shouldSpoolCache spool cach method,If stream caching is disabled then we should not spool to disk. This allows components and whatnot to safely use CachedOutputStream and not cause spool to disk  even if stream caching is disabled., stream cach disabl not spool disk disk allow compon whatnot safe use CachedOutputStream cach output stream not caus spool disk even stream cach disabl disabl,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/impl/DefaultStreamCachingStrategy.java;,0
6709,Jonathan Anstey,null,0,camel-yammer - Endpoint yammer:current throwns JsonMappingException exception, camel yammer camel yammer endpoint yammer current yammer current thrown JsonMappingException json map except except,Getting org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance of java.util.ArrayList out of START_OBJECT tokenwhen trying to return the current user using yammer:current. Workaround is to just add ?useJson=true and do marshaling manually. Fixing on master shortly., get org codehau jackson map JsonMappingException org codehau jackson map json map except not deseri instanc java util ArrayList java util array list START_OBJECT START OBJECT tokenwhen tri return current user use yammer current yammer current workaround add useJson true use json true marshal manual manual fix master shortli shortli,0,0,0,0,0,components/camel-yammer/src/main/java/org/apache/camel/component/yammer/YammerUserPollingConsumer.java;components/camel-yammer/src/test/java/org/apache/camel/component/yammer/YammerMessageAndUserRouteTest.java;components/camel-yammer/src/test/java/org/apache/camel/component/yammer/YammerUserPollEnrichRouteTest.java;components/camel-yammer/src/test/java/org/apache/camel/component/yammer/YammerUserRouteTest.java;components/camel-yammer/src/test/resources/user.json;,0
6714,Christian Müller,null,0,Installation of camel-stomp feature fails, instal camel stomp camel stomp featur fail,Christians-MacBook-Pro:bin cmueller$ ./karaf clean __ __ ____ / //_/____ __________ _/ __/ /  &lt; / __ '/ ___/ __ '/ /_ / /| |/ /_/ / / / /_/ / __/ /_/ |_|/__ _/_/ /__ _/_/ Apache Karaf (2.3.2)Hit '&lt;tab&gt;' for a list of available commandsand '[cmd] --help' for help on a specific command.Hit '&lt;ctrl-d&gt;' or type 'osgi:shutdown' or 'logout' to shutdown Karaf.karaf@root&gt; features:chooseurl camel 2.12.0adding feature url mvn:org.apache.camel.karaf/apache-camel/2.12.0/xml/featureskaraf@root&gt; features:install camel-stompError executing command: Could not start bundle mvn:org.apache.geronimo.specs/geronimo-jms_1.1_spec/1.1.1 in feature(s) spring-jms-3.1.4.RELEASE  camel-spring-ws-2.12.0  spring-jms-3.2.3.RELEASE  spring-jms-3.0.7.RELEASE  camel-jms-2.12.0  camel-bam-2.12.0  camel-stomp-2.12.0  camel-sjms-2.12.0  camel-jpa-2.12.0: Unresolved constraint in bundle org.apache.geronimo.specs.geronimo-jms_1.1_spec [62]: Unable to resolve 62.0: missing requirement [62.0] osgi.wiring.package; (osgi.wiring.package=javax.transaction.xa), christian MacBook pro bin christian mac book pro bin cmueller cmueller karaf clean         lt lt                apach karaf hit hit lt tab gt lt tab gt list avail commandsand cmd cmd help help help specif command hit command hit lt ctrl gt lt ctrl gt type osgi shutdown osgi shutdown logout logout shutdown karaf karaf root gt karaf karaf root gt featur chooseurl featur chooseurl camel ad featur url mvn org apach camel karaf apach camel xml featureskaraf root gt mvn org apach camel karaf apach camel xml featureskaraf root gt featur instal featur instal camel stompError camel stomp error execut command command could not start bundl mvn org apach geronimo spec geronimo jm _spec mvn org apach geronimo spec geronimo jm _spec featur featur spring jm RELEASE spring jm RELEASE camel spring ws camel spring ws spring jm RELEASE spring jm RELEASE spring jm RELEASE spring jm RELEASE camel jm camel jm camel bam camel bam camel stomp camel stomp camel sjm camel sjm camel jpa camel jpa unresolv constraint bundl org apach geronimo spec geronimo jm _spec org apach geronimo spec geronimo jm _spec unabl resolv miss requir osgi wire packag osgi wire packag osgi wire packag javax transact xa osgi wire packag javax transact xa,0,0,0,1,0,platforms/karaf/features/src/main/resources/features.xml;,0
6722,Claus Ibsen,camel-core,0,binding component - Should start/stop its child services, bind compon start stop start stop child servic,We should ensure all the child services the binding component create is also started/stopped so they can do initialization logic., ensur child servic bind compon creat also start stop start stop initi logic logic,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/component/binding/BindingComponent.java;camel-core/src/main/java/org/apache/camel/component/binding/BindingConsumerProcessor.java;camel-core/src/main/java/org/apache/camel/component/binding/BindingEndpoint.java;camel-core/src/main/java/org/apache/camel/component/binding/BindingNameComponent.java;camel-core/src/main/java/org/apache/camel/component/binding/BindingProducer.java;camel-core/src/main/java/org/apache/camel/processor/binding/DataFormatBinding.java;,0
6725,Claus Ibsen,camel-core,0,Add cache option to beanRef and  in the DSL, add cach option beanRef bean ref DSL,Added cache option to beanRef and &lt;bean&gt; in the DSL. This avoids looking up the Bean from the Registry on each usage; this can safely be done for singleton beans., ad cach option beanRef bean ref lt bean gt lt bean gt DSL DSL avoid look bean registri usag usag safe done singleton bean bean,0,0,0,0,0,camel-core/src/main/java/org/apache/camel/model/BeanDefinition.java;camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java;camel-core/src/test/java/org/apache/camel/component/bean/BeanExplicitMethodAmbiguousTest.java;,0
6726,Tommaso Schiavinotto,null,0,Camel-Redis: Serializer passed through URI is used only on consumer, camel redi camel redi serial pass URI use consum,Please add camel-redis componentThe serializer passed through URI is used only on consumer and not on producer. Beside been unexpected and undocumented I think it can cause problems on interacting with the Redis DB if the same serializer is not used in both ways.You can find the example and discussion of this problem on this thread on the forum:http://camel.465427.n5.nabble.com/camel-redis-strings-serialization-td5738994.htmlI put as minor because from the discussion it looks like it is possible to have a workaround using a RedisTemplate., pleas add camel redi camel redi componentThe compon serial pass URI use consum not produc produc besid unexpect undocu think caus problem interact redi DB serial not use way way find exampl discuss problem thread forum http camel nabbl com camel redi string serial td htmlI forum http camel nabbl com camel redi string serial td html put minor discuss look like possibl workaround use RedisTemplate redi templat,0,0,0,1,0,components/camel-spring-redis/src/main/java/org/apache/camel/component/redis/RedisConfiguration.java;,0
6727,Franz Forsthofer,null,0,XML Signature Component: Stream not closed in XmlSignerHelper.getXslTransform(String path), XML signatur compon compon stream not close XmlSignerHelper getXslTransform string xml signer helper get xsl transform string path path,Component camel-xmlsecurity: InputStream is not closed after it is read in method XmlSignerHelper.getXslTransform(String path), compon camel xmlsecur camel xmlsecur InputStream input stream not close read method XmlSignerHelper getXslTransform string xml signer helper get xsl transform string path path,0,1,1,0,0,components/camel-xmlsecurity/src/main/java/org/apache/camel/component/xmlsecurity/api/XmlSignatureHelper.java;,0
6729,Fried Hoeben,null,0,camel-jt400 - no longer able to configure a pollStrategy on Jt400DataQueueEndpoint, camel jt camel jt no longer abl configur pollStrategy poll strategi Jt DataQueueEndpoint Jt data queue endpoint,With camel 2.11.0 we were able to configure a pollStrategy in the URL of an endpoint consuming information from a data queue.After upgrading to 2.12.0 we get an exception during camel startup stating 'Unknown consumer parameters=[{pollStrategy=#jt400PollStrategy}]'. The application no longer starts.Downgrading to 2.11.0 allows the application to be started normally.The problem seems to originate from the fact that Camel (in DefaultPollingEndpoint.createConsumer()) creates a new DefaultScheduledPollConsumer  which gets the poll strategy (no problem). Then afterwards in Jt400DataQueueEndpoint.createPollingConsumer() a Jt400DataQueueConsumer is created and inside configureConsumer() normal flow is stopped because there is no pollStrategy property in a Jt400DataQueueConsumer  and there is an entry for this property in the endpoint's consumerProperties map.I suspect that the consumerProperty pollStrategy should be removed from the endpoint's consumerProperties after it has been set on the DefaultScheduledPollConsumer..., camel abl configur pollStrategy poll strategi URL endpoint consum inform data queue queue upgrad get except camel startup state unknown unknown consum paramet pollStrategy jt PollStrategy paramet poll strategi jt poll strategi applic no longer start downgrad start downgrad allow applic start normal normal problem seem origin fact camel DefaultPollingEndpoint createConsumer default poll endpoint creat consum creat new DefaultScheduledPollConsumer default schedul poll consum get poll strategi no problem problem afterward Jt DataQueueEndpoint createPollingConsumer Jt data queue endpoint creat poll consum Jt DataQueueConsumer Jt data queue consum creat insid configureConsumer configur consum normal flow stop no pollStrategy poll strategi properti Jt DataQueueConsumer Jt data queue consum entri properti endpoint endpoint consumerProperties consum properti map map suspect consumerProperty consum properti pollStrategy poll strategi remov endpoint endpoint consumerProperties consum properti set DefaultScheduledPollConsumer default schedul poll consum,0,0,1,0,0,camel-core/src/main/java/org/apache/camel/impl/ScheduledPollEndpoint.java;components/camel-jt400/src/main/java/org/apache/camel/component/jt400/Jt400DataQueueEndpoint.java;components/camel-jt400/src/test/java/org/apache/camel/component/jt400/Jt400CustomPollStrategyTest.java;,0
6749,Claus Ibsen,null,0,mustache component - Should use app class loader to load templates, mustach compon use app class loader load templat,It uses the TCCL to load the templates. We should use the App CL which then would allow to better load templates from OSGi., use TCCL load templat templat use app CL would allow better load templat OSGi OS Gi,0,0,0,0,0,components/camel-amqp/src/test/java/org/apache/camel/component/amqp/AMQPRouteTest.java;components/camel-amqp/src/test/resources/config.json;components/camel-amqp/src/test/resources/config.xml;components/camel-amqp/src/test/resources/log4j.xml;components/camel-mustache/src/main/java/org/apache/camel/component/mustache/MustacheEndpoint.java;parent/pom.xml;,0
6752,Guy Burton,camel-core,0,Bean binding to covariant methods throws AmbiguousMethodCallException, bean bind covari method throw AmbiguousMethodCallException ambigu method call except,Attached is a patch and test case for an issue in the bean binding code which prevents binding to an overloaded method with a covariant return type from the base class. The fix is to check for method covariance at the last moment before throwing AmbiguousMethodCallException. If all methods remaining are covariant  any one of them can be called. Unfortunately this happens in 3 places in the code- if we pre-filtered the list of methods then we could lose annotations on either of the method signature which could be problematic depending on the resolution type., attach patch test case issu bean bind code prevent bind overload method covari return type base class class fix check method covari last moment throw AmbiguousMethodCallException ambigu method call except method remain covari one call call unfortun happen place code code pre filter pre filter list method could lose annot either method signatur could problemat depend resolut type type,0,1,0,0,0,camel-core/src/test/java/org/apache/camel/component/bean/BeanOverloadedCovariantMethodTest.java;camel-core/src/main/java/org/apache/camel/component/bean/BeanInfo.java;camel-core/src/main/java/org/apache/camel/component/bean/MethodInfo.java;,0
6754,Alessandro Rontani,camel-core,0,UnitUtilsTest cant manage a locale different from US, UnitUtilsTest unit util test cant manag local differ US,When locale is set to a language different from english (for example italian)  the unit test in org.apache.camel.util.UnitUtilsTest fail  because in the italian locale the decimal separator is the comma  not the dot.The test compare the results of printUnitFromBytes to static strings formatted with the dot  and in an italian locale fails because it espects '1.0' and get instead '1 0'.I have patched the test code to make it works in every locale (building the expected results with the current locale decimal separator)  and i have attached the patch to this issue., local set languag differ english exampl italian italian unit test org apach camel util UnitUtilsTest org apach camel util unit util test fail italian local decim separ comma not dot dot test compar result printUnitFromBytes print unit byte static string format dot italian local fail espect get instead patch test code make work everi local build expect result current local decim separ separ attach patch issu issu,0,1,0,0,0,camel-core/src/test/java/org/apache/camel/util/UnitUtilsTest.java;,0
6757,Guy Burton,camel-jsch,0,scp task does not respect StrictHostKeyChecking option, scp task not respect StrictHostKeyChecking strict host key check option,The SCP component does not currently do anything with the StrictHostKeyChecking option  as documented. The attached patch fixes this (no test case I'm afraid)., SCP compon not current anyth StrictHostKeyChecking strict host key check option document document attach patch fix no test case afraid afraid,0,1,0,0,0,components/camel-jsch/src/main/java/org/apache/camel/component/jsch/ScpConfiguration.java;components/camel-jsch/src/main/java/org/apache/camel/component/jsch/ScpOperations.java;,0
6758,Marios Trivizas,camel-sjms,0,Null Pointer exception when removing SjmsComponent, null pointer except remov SjmsComponent sjm compon,NullPointer exception in SjmsComponent when trying to remove it from camel context:2013-09-16 11:51:54 201 &#91;WARN&#93; org.apache.camel.impl.DefaultCamelContext.removeComponent(DefaultCamelContext.java:388):org.apache.camel.spring.SpringCamelContext: Error stopping component org.apache.camel.component.sjms.SjmsComponent@232560ec. This exception will be ignored.java.lang.NullPointerException at org.apache.camel.component.sjms.SjmsComponent.doStop(SjmsComponent.java:143) at org.apache.camel.support.ServiceSupport.stop(ServiceSupport.java:102) at org.apache.camel.util.ServiceHelper.stopService(ServiceHelper.java:116) at org.apache.camel.impl.DefaultCamelContext.stopServices(DefaultCamelContext.java:1902) at org.apache.camel.impl.DefaultCamelContext.removeComponent(DefaultCamelContext.java:386), NullPointer null pointer except SjmsComponent sjm compon tri remov camel context context WARN WARN org apach camel impl DefaultCamelContext removeComponent DefaultCamelContext java org apach camel spring SpringCamelContext org apach camel impl default camel context remov compon default camel context java org apach camel spring spring camel context error stop compon org apach camel compon sjm SjmsComponent ec org apach camel compon sjm sjm compon ec except ignor java lang NullPointerException ignor java lang null pointer except org apach camel compon sjm SjmsComponent doStop SjmsComponent java org apach camel compon sjm sjm compon stop sjm compon java org apach camel support ServiceSupport stop ServiceSupport java org apach camel support servic support stop servic support java org apach camel util ServiceHelper stopService ServiceHelper java org apach camel util servic helper stop servic servic helper java org apach camel impl DefaultCamelContext stopServices DefaultCamelContext java org apach camel impl default camel context stop servic default camel context java org apach camel impl DefaultCamelContext removeComponent DefaultCamelContext java org apach camel impl default camel context remov compon default camel context java,1,0,0,0,0,components/camel-sjms/src/main/java/org/apache/camel/component/sjms/SjmsComponent.java;,0
6762,Willem Jiang,camel-http,0,HttpConnectionManagerParams doesn't take effect when it is set to HttpComponent, HttpConnectionManagerParams http connect manag param take effect set HttpComponent http compon,Here is the user complain.It is caused by the patch of CAMEL-6296 which override the setting of HttpConnectionManagerParams., user complain complain caus patch CAMEL CAMEL overrid set HttpConnectionManagerParams http connect manag param,0,0,0,0,0,components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java;,0
6766,Claus Ibsen,camel-core,0,InterceptFrom - Add support for using property placeholders, InterceptFrom intercept add support use properti placehold,InterceptFrom does not support property placeholders. We should add support for that.Seehttp://camel.465427.n5.nabble.com/Usage-of-property-placeholders-in-the-interceptFrom-String-method-calls-tp5739273.html, InterceptFrom intercept not support properti placehold placehold add support seehttp camel nabbl com usag properti placehold interceptFrom string method call tp html seehttp camel nabbl com usag properti placehold intercept string method call tp html,0,0,0,1,0,camel-core/src/main/java/org/apache/camel/model/RouteDefinitionHelper.java;camel-core/src/main/java/org/apache/camel/util/EndpointHelper.java;camel-core/src/test/java/org/apache/camel/component/properties/PropertiesComponentInterceptFromTest.java;components/camel-spring/src/test/java/org/apache/camel/component/properties/SpringPropertiesComponentInterceptFromTest.java;components/camel-spring/src/test/resources/org/apache/camel/component/properties/SpringPropertiesComponentInterceptFromTest.xml;,0
6767,Dan Revel,camel-rabbitmq,0,rabbitmq component sends basic ack after channel closed when endpoint is set to autoAck, rabbitmq compon send basic ack channel close endpoint set autoAck auto ack,Consuming from a rabbitmq endpoint uri that is configured to autoAck generates errors and fails.Example URI: rabbitmq://localhost:5672/test?autoAck=true&amp;queue=test&amp;autoDelete=false&amp;username=guest&amp;password=guestHere's the relevant log output:12:19:03.746 - osis-ht TRACE o.a.c.c.rabbitmq.RabbitMQConsumer - Acknowleding receipt &#91;delivery_tag=10&#93;12:19:03.747 - osis-ht WARN o.a.c.c.rabbitmq.RabbitMQConsumer - Error processing exchange. Exchange&#91;Message: WTF-9-1379531943713&#93;. Caused by: &#91;com.rabbitmq.client.AlreadyClosedException - clean connection shutdown; reason: Attempt to use closed channel&#93;com.rabbitmq.client.AlreadyClosedException: clean connection shutdown; reason: Attempt to use closed channel at com.rabbitmq.client.impl.AMQChannel.ensureIsOpen(AMQChannel.java:190) ~&#91;amqp-client-3.1.3.jar:na&#93; at com.rabbitmq.client.impl.AMQChannel.transmit(AMQChannel.java:291) ~&#91;amqp-client-3.1.3.jar:na&#93; at com.rabbitmq.client.impl.AMQChannel.transmit(AMQChannel.java:285) ~&#91;amqp-client-3.1.3.jar:na&#93; at com.rabbitmq.client.impl.ChannelN.basicAck(ChannelN.java:907) ~&#91;amqp-client-3.1.3.jar:na&#93; at org.apache.camel.component.rabbitmq.RabbitMQConsumer$RabbitConsumer.handleDelivery(RabbitMQConsumer.java:126) ~&#91;camel-rabbitmq-2.12.0.jar:2.12.0&#93; at com.rabbitmq.client.impl.ConsumerDispatcher$4.run(ConsumerDispatcher.java:121) &#91;amqp-client-3.1.3.jar:na&#93; at com.rabbitmq.client.impl.ConsumerWorkService$WorkPoolRunnable.run(ConsumerWorkService.java:76) &#91;amqp-client-3.1.3.jar:na&#93; at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) &#91;na:1.7.0_21&#93; at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) &#91;na:1.7.0_21&#93; at java.lang.Thread.run(Thread.java:722) &#91;na:1.7.0_21&#93;, consum rabbitmq endpoint uri configur autoAck auto ack gener error fail exampl fail exampl URI URI rabbitmq localhost test autoAck true amp queue test amp autoDelete fals amp usernam guest amp password guestHere rabbitmq localhost test auto ack true amp queue test amp auto delet fals amp usernam guest amp password guest relev log output output osi ht osi ht TRACE rabbitmq RabbitMQConsumer rabbitmq rabbit MQ consum acknowled receipt delivery_tag delivery_tag osi ht osi ht WARN rabbitmq RabbitMQConsumer rabbitmq rabbit MQ consum error process exchang exchang exchang messag exchang messag WTF WTF caus com rabbitmq client AlreadyClosedException com rabbitmq client alreadi close except clean connect shutdown shutdown reason reason attempt use close channel com rabbitmq client AlreadyClosedException channel com rabbitmq client alreadi close except clean connect shutdown shutdown reason reason attempt use close channel com rabbitmq client impl AMQChannel ensureIsOpen AMQChannel java com rabbitmq client impl AMQ channel ensur open AMQ channel java amqp client jar na amqp client jar na com rabbitmq client impl AMQChannel transmit AMQChannel java com rabbitmq client impl AMQ channel transmit AMQ channel java amqp client jar na amqp client jar na com rabbitmq client impl AMQChannel transmit AMQChannel java com rabbitmq client impl AMQ channel transmit AMQ channel java amqp client jar na amqp client jar na com rabbitmq client impl ChannelN basicAck ChannelN java com rabbitmq client impl channel basic ack channel java amqp client jar na amqp client jar na org apach camel compon rabbitmq RabbitMQConsumer RabbitConsumer handleDelivery RabbitMQConsumer java org apach camel compon rabbitmq rabbit MQ consum rabbit consum handl deliveri rabbit MQ consum java camel rabbitmq jar camel rabbitmq jar com rabbitmq client impl ConsumerDispatcher run ConsumerDispatcher java com rabbitmq client impl consum dispatch run consum dispatch java amqp client jar na amqp client jar na com rabbitmq client impl ConsumerWorkService WorkPoolRunnable run ConsumerWorkService java com rabbitmq client impl consum work servic work pool runnabl run consum work servic java amqp client jar na amqp client jar na java util concurr ThreadPoolExecutor runWorker ThreadPoolExecutor java java util concurr thread pool executor run worker thread pool executor java na  na  java util concurr ThreadPoolExecutor worker run ThreadPoolExecutor java java util concurr thread pool executor worker run thread pool executor java na  na  java lang thread run thread java java lang thread run thread java na  na ,1,1,0,1,0,components/camel-rabbitmq/src/main/java/org/apache/camel/component/rabbitmq/RabbitMQConsumer.java;,0
